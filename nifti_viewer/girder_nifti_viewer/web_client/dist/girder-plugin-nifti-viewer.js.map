{"version":3,"file":"girder-plugin-nifti-viewer.js","sources":["../models/NiftiFileModel.js","../node_modules/gl-matrix/esm/common.js","../node_modules/gl-matrix/esm/mat3.js","../node_modules/gl-matrix/esm/mat4.js","../node_modules/gl-matrix/esm/vec3.js","../node_modules/gl-matrix/esm/vec4.js","../node_modules/gl-matrix/esm/vec2.js","../node_modules/@lukeed/uuid/dist/index.mjs","../node_modules/array-equal/index.js","../node_modules/@ungap/structured-clone/esm/types.js","../node_modules/@ungap/structured-clone/esm/deserialize.js","../node_modules/@ungap/structured-clone/esm/serialize.js","../node_modules/fflate/esm/browser.js","../node_modules/nifti-reader-js/dist/nifti-extension.js","../node_modules/nifti-reader-js/dist/utilities.js","../node_modules/nifti-reader-js/dist/nifti1.js","../node_modules/nifti-reader-js/dist/nifti2.js","../node_modules/nifti-reader-js/dist/nifti.js","../node_modules/@zarrita/storage/dist/src/util.js","../node_modules/@zarrita/storage/dist/src/fetch.js","../node_modules/zarrita/dist/src/typedarray.js","../node_modules/zarrita/dist/src/util.js","../node_modules/zarrita/dist/src/codecs/bitround.js","../node_modules/zarrita/dist/src/codecs/bytes.js","../node_modules/zarrita/dist/src/codecs/crc32c.js","../node_modules/zarrita/dist/src/codecs/gzip.js","../node_modules/zarrita/dist/src/codecs/json2.js","../node_modules/zarrita/dist/src/codecs/transpose.js","../node_modules/zarrita/dist/src/codecs/vlen-utf8.js","../node_modules/zarrita/dist/src/codecs/zlib.js","../node_modules/zarrita/dist/src/codecs.js","../node_modules/zarrita/dist/src/errors.js","../node_modules/zarrita/dist/src/codecs/sharding.js","../node_modules/zarrita/dist/src/hierarchy.js","../node_modules/zarrita/dist/src/indexing/util.js","../node_modules/zarrita/dist/src/indexing/indexer.js","../node_modules/zarrita/dist/src/indexing/get.js","../node_modules/zarrita/dist/src/indexing/ops.js","../node_modules/zarrita/dist/src/open.js","../node_modules/@niivue/niivue/build/niivue/index.js","../constants/NiftiConfig.js","../views/NiftiSliceImageWidget.js","../templates/niftiItem.pug","../templates/niftiSliceMetadata.pug","../views/NiftiView.js","../templates/parseNiftiItem.pug","../main.js"],"sourcesContent":["import Model from '@girder/core/models/Model';\n\n/**\n * Model for NIfTI file with ArrayBuffer caching.\n * Downloads the file once and caches the ArrayBuffer for reuse.\n * Multiple calls to getVolume() return the same Promise to avoid race conditions.\n */\nconst NiftiFileModel = Model.extend({\n    resourceName: 'file',\n\n    /**\n     * Get volume ArrayBuffer with caching.\n     * Returns a Promise that resolves to an ArrayBuffer.\n     * The promise is cached, so subsequent calls return the same promise.\n     * @returns {Promise<ArrayBuffer>}\n     */\n    getVolume: function () {\n        if (!this._volumePromise) {\n            this._volumePromise = this._loadVolume();\n        }\n        return this._volumePromise;\n    },\n\n    /**\n     * Get volume with progress tracking\n     * @param {Function} onProgress - Callback (loaded, total) => void\n     * @returns {Promise<ArrayBuffer>}\n     */\n    getVolumeWithProgress: function (onProgress) {\n        // If already cached, return immediately with full progress\n        if (this._volumePromise && this._volumeCompleted) {\n            return this._volumePromise.then((buffer) => {\n                if (onProgress) {\n                    onProgress(buffer.byteLength, buffer.byteLength);\n                }\n                return buffer;\n            });\n        }\n\n        // Create new promise with progress tracking\n        if (!this._volumePromise) {\n            this._volumePromise = this._loadVolumeWithProgress(onProgress);\n            this._volumePromise.then(() => {\n                this._volumeCompleted = true;\n            });\n        }\n\n        return this._volumePromise;\n    },\n\n    /**\n     * Internal method to download NIfTI file as ArrayBuffer.\n     * @returns {Promise<ArrayBuffer>}\n     * @private\n     */\n    _loadVolume: function () {\n        const fileId = this.get('_id') || this.id;\n\n        if (!fileId) {\n            return Promise.reject(new Error('File ID not provided'));\n        }\n\n        // Use fetch API for binary data download\n        return fetch(`/api/v1/file/${fileId}/download`, {\n            method: 'GET',\n            credentials: 'same-origin'\n        })\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            return response.arrayBuffer();\n        })\n        .catch((error) => {\n            // Clear cache on error so retry is possible\n            this._volumePromise = null;\n            throw error;\n        });\n    },\n\n    /**\n     * Load volume with progress tracking\n     * @private\n     * @param {Function} onProgress - Callback (loaded, total) => void\n     * @returns {Promise<ArrayBuffer>}\n     */\n    _loadVolumeWithProgress: function (onProgress) {\n        const fileId = this.get('_id') || this.id;\n\n        if (!fileId) {\n            return Promise.reject(new Error('File ID not provided'));\n        }\n\n        const url = `/api/v1/file/${fileId}/download`;\n\n        return fetch(url, {\n            method: 'GET',\n            credentials: 'same-origin'\n        })\n            .then((response) => {\n                if (!response.ok) {\n                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n                }\n\n                const contentLength = response.headers.get('Content-Length');\n                const total = contentLength ? parseInt(contentLength, 10) : 0;\n\n                if (!response.body || !onProgress || total === 0) {\n                    // No progress tracking available, use simple arrayBuffer\n                    return response.arrayBuffer();\n                }\n\n                // Stream with progress tracking\n                const reader = response.body.getReader();\n                const chunks = [];\n                let loaded = 0;\n\n                const read = () => {\n                    return reader.read().then(({ done, value }) => {\n                        if (done) {\n                            // Combine all chunks\n                            const allChunks = new Uint8Array(loaded);\n                            let position = 0;\n                            for (const chunk of chunks) {\n                                allChunks.set(chunk, position);\n                                position += chunk.length;\n                            }\n                            return allChunks.buffer;\n                        }\n\n                        chunks.push(value);\n                        loaded += value.length;\n                        onProgress(loaded, total);\n\n                        return read();\n                    });\n                };\n\n                return read();\n            })\n            .catch((error) => {\n                // Clear cache on error so retry is possible\n                this._volumePromise = null;\n                this._volumeCompleted = false;\n                throw error;\n            });\n    },\n\n    /**\n     * Clear cached volume data.\n     * Useful for memory management when the file is no longer needed.\n     */\n    clearCache: function () {\n        this._volumePromise = null;\n    }\n});\n\nexport default NiftiFileModel;\n","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","var IDX=256, HEX=[], BUFFER;\nwhile (IDX--) HEX[IDX] = (IDX + 256).toString(16).substring(1);\n\nexport function v4() {\n\tvar i=0, num, out='';\n\n\tif (!BUFFER || ((IDX + 16) > 256)) {\n\t\tBUFFER = Array(i=256);\n\t\twhile (i--) BUFFER[i] = 256 * Math.random() | 0;\n\t\ti = IDX = 0;\n\t}\n\n\tfor (; i < 16; i++) {\n\t\tnum = BUFFER[IDX + i];\n\t\tif (i==6) out += HEX[num & 15 | 64];\n\t\telse if (i==8) out += HEX[num & 63 | 128];\n\t\telse out += HEX[num];\n\n\t\tif (i & 1 && i > 1 && i < 11) out += '-';\n\t}\n\n\tIDX++;\n\treturn out;\n}\n","/**\n * Compare arrays\n *\n * @param  {Array} arr1\n * @param  {Array} arr2\n * @return {Boolean} - Arrays are equals\n */\nmodule.exports = function equal(arr1, arr2) {\n  var length = arr1.length\n  if (arr1 === arr2) return true\n  if (length !== arr2.length) return false\n  for (var i = 0; i < length; i++)\n    if (arr1[i] !== arr2[i])\n      return false\n  return true\n}\n","export const VOID       = -1;\nexport const PRIMITIVE  = 0;\nexport const ARRAY      = 1;\nexport const OBJECT     = 2;\nexport const DATE       = 3;\nexport const REGEXP     = 4;\nexport const MAP        = 5;\nexport const SET        = 6;\nexport const ERROR      = 7;\nexport const BIGINT     = 8;\n// export const SYMBOL = 9;\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst env = typeof self === 'object' ? self : globalThis;\n\nconst deserializer = ($, _) => {\n  const as = (out, index) => {\n    $.set(index, out);\n    return out;\n  };\n\n  const unpair = index => {\n    if ($.has(index))\n      return $.get(index);\n\n    const [type, value] = _[index];\n    switch (type) {\n      case PRIMITIVE:\n      case VOID:\n        return as(value, index);\n      case ARRAY: {\n        const arr = as([], index);\n        for (const index of value)\n          arr.push(unpair(index));\n        return arr;\n      }\n      case OBJECT: {\n        const object = as({}, index);\n        for (const [key, index] of value)\n          object[unpair(key)] = unpair(index);\n        return object;\n      }\n      case DATE:\n        return as(new Date(value), index);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as(new RegExp(source, flags), index);\n      }\n      case MAP: {\n        const map = as(new Map, index);\n        for (const [key, index] of value)\n          map.set(unpair(key), unpair(index));\n        return map;\n      }\n      case SET: {\n        const set = as(new Set, index);\n        for (const index of value)\n          set.add(unpair(index));\n        return set;\n      }\n      case ERROR: {\n        const {name, message} = value;\n        return as(new env[name](message), index);\n      }\n      case BIGINT:\n        return as(BigInt(value), index);\n      case 'BigInt':\n        return as(Object(BigInt(value)), index);\n      case 'ArrayBuffer':\n        return as(new Uint8Array(value).buffer, value);\n      case 'DataView': {\n        const { buffer } = new Uint8Array(value);\n        return as(new DataView(buffer), value);\n      }\n    }\n    return as(new env[type](value), index);\n  };\n\n  return unpair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns a deserialized value from a serialized array of Records.\n * @param {Record[]} serialized a previously serialized value.\n * @returns {any}\n */\nexport const deserialize = serialized => deserializer(new Map, serialized)(0);\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst EMPTY = '';\n\nconst {toString} = {};\nconst {keys} = Object;\n\nconst typeOf = value => {\n  const type = typeof value;\n  if (type !== 'object' || !value)\n    return [PRIMITIVE, type];\n\n  const asString = toString.call(value).slice(8, -1);\n  switch (asString) {\n    case 'Array':\n      return [ARRAY, EMPTY];\n    case 'Object':\n      return [OBJECT, EMPTY];\n    case 'Date':\n      return [DATE, EMPTY];\n    case 'RegExp':\n      return [REGEXP, EMPTY];\n    case 'Map':\n      return [MAP, EMPTY];\n    case 'Set':\n      return [SET, EMPTY];\n    case 'DataView':\n      return [ARRAY, asString];\n  }\n\n  if (asString.includes('Array'))\n    return [ARRAY, asString];\n\n  if (asString.includes('Error'))\n    return [ERROR, asString];\n\n  return [OBJECT, asString];\n};\n\nconst shouldSkip = ([TYPE, type]) => (\n  TYPE === PRIMITIVE &&\n  (type === 'function' || type === 'symbol')\n);\n\nconst serializer = (strict, json, $, _) => {\n\n  const as = (out, value) => {\n    const index = _.push(out) - 1;\n    $.set(value, index);\n    return index;\n  };\n\n  const pair = value => {\n    if ($.has(value))\n      return $.get(value);\n\n    let [TYPE, type] = typeOf(value);\n    switch (TYPE) {\n      case PRIMITIVE: {\n        let entry = value;\n        switch (type) {\n          case 'bigint':\n            TYPE = BIGINT;\n            entry = value.toString();\n            break;\n          case 'function':\n          case 'symbol':\n            if (strict)\n              throw new TypeError('unable to serialize ' + type);\n            entry = null;\n            break;\n          case 'undefined':\n            return as([VOID], value);\n        }\n        return as([TYPE, entry], value);\n      }\n      case ARRAY: {\n        if (type) {\n          let spread = value;\n          if (type === 'DataView') {\n            spread = new Uint8Array(value.buffer);\n          }\n          else if (type === 'ArrayBuffer') {\n            spread = new Uint8Array(value);\n          }\n          return as([type, [...spread]], value);\n        }\n\n        const arr = [];\n        const index = as([TYPE, arr], value);\n        for (const entry of value)\n          arr.push(pair(entry));\n        return index;\n      }\n      case OBJECT: {\n        if (type) {\n          switch (type) {\n            case 'BigInt':\n              return as([type, value.toString()], value);\n            case 'Boolean':\n            case 'Number':\n            case 'String':\n              return as([type, value.valueOf()], value);\n          }\n        }\n\n        if (json && ('toJSON' in value))\n          return pair(value.toJSON());\n\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const key of keys(value)) {\n          if (strict || !shouldSkip(typeOf(value[key])))\n            entries.push([pair(key), pair(value[key])]);\n        }\n        return index;\n      }\n      case DATE:\n        return as([TYPE, value.toISOString()], value);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as([TYPE, {source, flags}], value);\n      }\n      case MAP: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const [key, entry] of value) {\n          if (strict || !(shouldSkip(typeOf(key)) || shouldSkip(typeOf(entry))))\n            entries.push([pair(key), pair(entry)]);\n        }\n        return index;\n      }\n      case SET: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const entry of value) {\n          if (strict || !shouldSkip(typeOf(entry)))\n            entries.push(pair(entry));\n        }\n        return index;\n      }\n    }\n\n    const {message} = value;\n    return as([TYPE, {name: type, message}], value);\n  };\n\n  return pair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns an array of serialized Records.\n * @param {any} value a serializable value.\n * @param {{json?: boolean, lossy?: boolean}?} options an object with a `lossy` or `json` property that,\n *  if `true`, will not throw errors on incompatible types, and behave more\n *  like JSON stringify would behave. Symbol and Function will be discarded.\n * @returns {Record[]}\n */\n export const serialize = (value, {json, lossy} = {}) => {\n  const _ = [];\n  return serializer(!(json || lossy), !!json, new Map, _)(value), _;\n};\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([\n        c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'\n    ], { type: 'text/javascript' }))));\n    w.onmessage = function (e) {\n        var d = e.data, ed = d.$e$;\n        if (ed) {\n            var err = new Error(ed[0]);\n            err['code'] = ed[1];\n            err.stack = ed[2];\n            cb(err, null);\n        }\n        else\n            cb(null, d);\n    };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new i32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return { b: b, r: r };\n};\nvar _a = freb(fleb, 2), fl = _a.b, revfl = _a.r;\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b.b, revfd = _b.r;\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >> 8) | ((x & 0x00FF) << 8)) >> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i) {\n        if (cd[i])\n            ++l[cd[i] - 1];\n    }\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 1; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p + 7) / 8) | 0; };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    return new u8(v.subarray(s, e));\n};\n/**\n * Codes for errors generated within this library\n */\nexport var FlateErrorCode = {\n    UnexpectedEOF: 0,\n    InvalidBlockType: 1,\n    InvalidLengthLiteral: 2,\n    InvalidDistance: 3,\n    StreamFinished: 4,\n    NoStreamHandler: 5,\n    InvalidHeader: 6,\n    NoCallback: 7,\n    InvalidUTF8: 8,\n    ExtraFieldTooLong: 9,\n    InvalidDate: 10,\n    FilenameTooLong: 11,\n    StreamFinishing: 12,\n    InvalidZipData: 13,\n    UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = [\n    'unexpected EOF',\n    'invalid block type',\n    'invalid length/literal',\n    'invalid distance',\n    'stream finished',\n    'no stream handler',\n    ,\n    'no callback',\n    'invalid UTF-8 data',\n    'extra field too long',\n    'date not in range 1980-2099',\n    'filename too long',\n    'stream finishing',\n    'invalid zip data'\n    // determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n    var e = new Error(msg || ec[ind]);\n    e.code = ind;\n    if (Error.captureStackTrace)\n        Error.captureStackTrace(e, err);\n    if (!nt)\n        throw e;\n    return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, st, buf, dict) {\n    // source length       dict length\n    var sl = dat.length, dl = dict ? dict.length : 0;\n    if (!sl || st.f && !st.l)\n        return buf || new u8(0);\n    var noBuf = !buf;\n    // have to estimate size\n    var resize = noBuf || st.i != 2;\n    // no state\n    var noSt = st.i;\n    // Assumes roughly 33% compression ratio average\n    if (noBuf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                // ensure size\n                if (resize)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                err(1);\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17\n        if (resize)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n            if (!c)\n                err(2);\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >> 4;\n                if (!d)\n                    err(3);\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (resize)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                if (bt < dt) {\n                    var shift = dl - dt, dend = Math.min(dt, end);\n                    if (shift + bt < 0)\n                        err(3);\n                    for (; bt < dend; ++bt)\n                        buf[bt] = dict[shift + bt];\n                }\n                for (; bt < end; ++bt)\n                    buf[bt] = buf[bt - dt];\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    // don't reallocate for streams or user buffers\n    return bt != buf.length && noBuf ? slc(buf, 0, bt) : buf.subarray(0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n    d[o + 2] |= v >> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return { t: et, l: 0 };\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return { t: v, l: 1 };\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return { t: new u8(tr), l: mbt };\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return { c: cl.subarray(0, cli), n: s };\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a.t, mlb = _a.l;\n    var _b = hTree(df, 15), ddt = _b.t, mdb = _b.l;\n    var _c = lc(dlt), lclt = _c.c, nlc = _c.n;\n    var _d = lc(ddt), lcdt = _d.c, ndc = _d.n;\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        ++lcfreq[lclt[i] & 31];\n    for (var i = 0; i < lcdt.length; ++i)\n        ++lcfreq[lcdt[i] & 31];\n    var _e = hTree(lcfreq, 7), lct = _e.t, mlcb = _e.l;\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n    if (bs >= 0 && flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >> 5) & 127), p += clct[i] >> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        var sym = syms[i];\n        if (sym > 255) {\n            var len = (sym >> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (sym >> 23) & 31), p += fleb[len];\n            var dst = sym & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (sym >> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[sym]), p += ll[sym];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, st) {\n    var s = st.z || dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var lst = st.l;\n    var pos = (st.r || 0) & 7;\n    if (lvl) {\n        if (pos)\n            w[0] = st.r >> 3;\n        var opt = deo[lvl - 1];\n        var n = opt >> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = st.p || new u16(32768), head = st.h || new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new i32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n        var lc_1 = 0, eb = 0, i = st.i || 0, li = 0, wi = st.w || 0, bs = 0;\n        for (; i + 2 < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && (rem > 423 || !lst)) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = imod - pimod & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = i - dif + j & 32767;\n                                    var pti = prev[ti];\n                                    var cd = ti - pti & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += imod - pimod & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one int32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        for (i = Math.max(i, wi); i < s; ++i) {\n            syms[li++] = dat[i];\n            ++lf[dat[i]];\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        if (!lst) {\n            st.r = (pos & 7) | w[(pos / 8) | 0] << 3;\n            // shft(pos) now 1 less if pos & 7 != 0\n            pos -= 7;\n            st.h = head, st.p = prev, st.i = i, st.w = wi;\n        }\n    }\n    else {\n        for (var i = st.w || 0; i < s + lst; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e >= s) {\n                // write final block\n                w[(pos / 8) | 0] = lst;\n                e = s;\n            }\n            pos = wfblk(w, pos + 1, dat.subarray(i, e));\n        }\n        st.i = s;\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new Int32Array(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && -306674912) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Adler32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length | 0;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | (b >> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    if (!st) {\n        st = { l: 1 };\n        if (opt.dictionary) {\n            var dict = opt.dictionary.subarray(-32768);\n            var newDat = new u8(dict.length + dat.length);\n            newDat.set(dict);\n            newDat.set(dat, dict.length);\n            dat = newDat;\n            st.w = dict.length;\n        }\n    }\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? (st.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 20) : (12 + opt.mem), pre, post, st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return fnStr;\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k].buffer) {\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n        }\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            fnStr = wcln(fns[i], fnStr, td_1);\n        ch[id] = { c: wcln(fns[m], fnStr, td_1), e: td_1 };\n    }\n    var td = mrg({}, ch[id].e);\n    return wk(ch[id].c + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gopt]; };\nvar bDflt = function () { return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zls]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get opts\nvar gopt = function (o) { return o && {\n    out: o.size && new u8(o.size),\n    dictionary: o.dictionary\n}; };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) {\n        if (ev.data.length) {\n            strm.push(ev.data[0], ev.data[1]);\n            postMessage([ev.data[0].length]);\n        }\n        else\n            strm.flush();\n    };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id, flush, ext) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else if (!Array.isArray(dat))\n            ext(dat);\n        else if (dat.length == 1) {\n            strm.queuedSize -= dat[0];\n            if (strm.ondrain)\n                strm.ondrain(dat[0]);\n        }\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.queuedSize = 0;\n    strm.push = function (d, f) {\n        if (!strm.ondata)\n            err(5);\n        if (t)\n            strm.ondata(err(4, 0, 1), null, !!f);\n        strm.queuedSize += d.length;\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n    if (flush) {\n        strm.flush = function () { w.postMessage([]); };\n    }\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        err(6, 'invalid gzip data');\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += (d[10] | d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + (o.filename ? o.filename.length + 1 : 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (o.dictionary && 32);\n    c[1] |= 31 - ((c[0] << 8) | c[1]) % 31;\n    if (o.dictionary) {\n        var h = adler();\n        h.p(o.dictionary);\n        wbytes(c, 2, h.d());\n    }\n};\n// zlib start\nvar zls = function (d, dict) {\n    if ((d[0] & 15) != 8 || (d[0] >> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        err(6, 'invalid zlib data');\n    if ((d[1] >> 5 & 1) == +!dict)\n        err(6, 'invalid zlib data: ' + (d[1] & 32 ? 'need' : 'unexpected') + ' dictionary');\n    return (d[1] >> 3 & 4) + 2;\n};\nfunction StrmOpt(opts, cb) {\n    if (typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n        this.s = { l: 0, i: 32768, w: 32768, z: 32768 };\n        // Buffer length must always be 0 mod 32768 for index calculations to be correct when modifying head and prev\n        // 98304 = 32768 (lookback) + 65536 (common chunk size)\n        this.b = new u8(98304);\n        if (this.o.dictionary) {\n            var dict = this.o.dictionary.subarray(-32768);\n            this.b.set(dict, 32768 - dict.length);\n            this.s.i = 32768 - dict.length;\n        }\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, this.s), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        var endLen = chunk.length + this.s.z;\n        if (endLen > this.b.length) {\n            if (endLen > 2 * this.b.length - 32768) {\n                var newBuf = new u8(endLen & -32768);\n                newBuf.set(this.b.subarray(0, this.s.z));\n                this.b = newBuf;\n            }\n            var split = this.b.length - this.s.z;\n            this.b.set(chunk.subarray(0, split), this.s.z);\n            this.s.z = this.b.length;\n            this.p(this.b, false);\n            this.b.set(this.b.subarray(-32768));\n            this.b.set(chunk.subarray(split), 32768);\n            this.s.z = chunk.length - split + 32768;\n            this.s.i = 32766, this.s.w = 32768;\n        }\n        else {\n            this.b.set(chunk, this.s.z);\n            this.s.z += chunk.length;\n        }\n        this.s.l = final & 1;\n        if (this.s.z > this.s.w + 8191 || final) {\n            this.p(this.b, final || false);\n            this.s.w = this.s.i, this.s.i -= 2;\n        }\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * deflated output for small inputs.\n     */\n    Deflate.prototype.flush = function () {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        this.p(this.b, false);\n        this.s.w = this.s.i, this.s.i -= 2;\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6, 1);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    function Inflate(opts, cb) {\n        // no StrmOpt here to avoid adding to workerizer\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);\n        this.s = { i: 0, b: dict ? dict.length : 0 };\n        this.o = new u8(32768);\n        this.p = new u8(0);\n        if (dict)\n            this.o.set(dict);\n    }\n    Inflate.prototype.e = function (c) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        if (!this.p.length)\n            this.p = c;\n        else if (c.length) {\n            var n = new u8(this.p.length + c.length);\n            n.set(this.p), n.set(c, this.p.length), this.p = n;\n        }\n    };\n    Inflate.prototype.c = function (final) {\n        this.s.i = +(this.d = final || false);\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.s, this.o);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    function AsyncInflate(opts, cb) {\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Inflate(ev.data);\n            onmessage = astrm(strm);\n        }, 7, 0);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gopt(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, opts) {\n    return inflt(data, { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        this.l += chunk.length;\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, this.s);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * GZIPped output for small inputs.\n     */\n    Gzip.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8, 1);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming single or multi-member GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    function Gunzip(opts, cb) {\n        this.v = 1;\n        this.r = 0;\n        Inflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        this.r += chunk.length;\n        if (this.v) {\n            var p = this.p.subarray(this.v - 1);\n            var s = p.length > 3 ? gzs(p) : 4;\n            if (s > p.length) {\n                if (!final)\n                    return;\n            }\n            else if (this.v > 1 && this.onmember) {\n                this.onmember(this.r - p.length);\n            }\n            this.p = p.subarray(s), this.v = 0;\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n        // process concatenated GZIP\n        if (this.s.f && !this.s.l && !final) {\n            this.v = shft(this.s.p) + 9;\n            this.s = { i: 0 };\n            this.o = new u8(0);\n            this.push(new u8(0), final);\n        }\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming single or multi-member GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    function AsyncGunzip(opts, cb) {\n        var _this = this;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gunzip(ev.data);\n            strm.onmember = function (offset) { return postMessage(offset); };\n            onmessage = astrm(strm);\n        }, 9, 0, function (offset) { return _this.onmember && _this.onmember(offset); });\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0], ev.data[1])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, opts) {\n    var st = gzs(data);\n    if (st + 8 > data.length)\n        err(6, 'invalid gzip data');\n    return inflt(data.subarray(st, -8), { i: 2 }, opts && opts.out || new u8(gzl(data)), opts && opts.dictionary);\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && (this.o.dictionary ? 6 : 2), f && 4, this.s);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * zlibbed output for small inputs.\n     */\n    Zlib.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10, 1);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    function Unzlib(opts, cb) {\n        Inflate.call(this, opts, cb);\n        this.v = opts && opts.dictionary ? 2 : 1;\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 6 && !final)\n                return;\n            this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                err(6, 'invalid zlib data');\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    function AsyncUnzlib(opts, cb) {\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Unzlib(ev.data);\n            onmessage = astrm(strm);\n        }, 11, 0);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gopt(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, opts) {\n    return inflt(data.subarray(zls(data, opts && opts.dictionary), -4), { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    function Decompress(opts, cb) {\n        this.o = StrmOpt.call(this, opts, cb) || {};\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n    }\n    // init substream\n    // overriden by AsyncDecompress\n    Decompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (dat, final) {\n            _this.ondata(dat, final);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(this.o)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(this.o)\n                        : new this.Z(this.o);\n                this.i();\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    function AsyncDecompress(opts, cb) {\n        Decompress.call(this, opts, cb);\n        this.queuedSize = 0;\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n    }\n    AsyncDecompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        };\n        this.s.ondrain = function (size) {\n            _this.queuedSize -= size;\n            if (_this.ondrain)\n                _this.ondrain(size);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        this.queuedSize += chunk.length;\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, opts) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, opts)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, opts)\n            : unzlibSync(data, opts);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k, op = o;\n        if (Array.isArray(val))\n            op = mrg(o, val[1]), val = val[0];\n        if (val instanceof u8)\n            t[n] = [val, op];\n        else {\n            t[n += '/'] = [new u8(0), op];\n            fltn(val, n, t, o);\n        }\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return { s: r, r: slc(d, i - 1) };\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    err(8);\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            err(4);\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (final) {\n            if (r.length)\n                err(8);\n            this.p = null;\n        }\n        else\n            this.p = r;\n        this.ondata(s, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td) {\n        return td.decode(dat);\n    }\n    else {\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (r.length)\n            err(8);\n        return s;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                err(9);\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c < 0 && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        err(10);\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >> 1)), b += 4;\n    if (c != -1) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this = this;\n        if (!this.ondata)\n            err(5);\n        // finishing or finished\n        if (this.d & 2)\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);\n        else {\n            var f = strToU8(file.filename), fl_1 = f.length;\n            var com = file.comment, o = com && strToU8(com);\n            var u = fl_1 != file.filename.length || (o && (com.length != o.length));\n            var hl_1 = fl_1 + exfl(file.extra) + 30;\n            if (fl_1 > 65535)\n                this.ondata(err(11, 0, 1), null, false);\n            var header = new u8(hl_1);\n            wzh(header, 0, file, f, u, -1);\n            var chks_1 = [header];\n            var pAll_1 = function () {\n                for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n                    var chk = chks_2[_i];\n                    _this.ondata(null, chk, false);\n                }\n                chks_1 = [];\n            };\n            var tr_1 = this.d;\n            this.d = 0;\n            var ind_1 = this.u.length;\n            var uf_1 = mrg(file, {\n                f: f,\n                u: u,\n                o: o,\n                t: function () {\n                    if (file.terminate)\n                        file.terminate();\n                },\n                r: function () {\n                    pAll_1();\n                    if (tr_1) {\n                        var nxt = _this.u[ind_1 + 1];\n                        if (nxt)\n                            nxt.r();\n                        else\n                            _this.d = 1;\n                    }\n                    tr_1 = 1;\n                }\n            });\n            var cl_1 = 0;\n            file.ondata = function (err, dat, final) {\n                if (err) {\n                    _this.ondata(err, dat, final);\n                    _this.terminate();\n                }\n                else {\n                    cl_1 += dat.length;\n                    chks_1.push(dat);\n                    if (final) {\n                        var dd = new u8(16);\n                        wbytes(dd, 0, 0x8074B50);\n                        wbytes(dd, 4, file.crc);\n                        wbytes(dd, 8, cl_1);\n                        wbytes(dd, 12, file.size);\n                        chks_1.push(dd);\n                        uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n                        if (tr_1)\n                            uf_1.r();\n                        tr_1 = 1;\n                    }\n                    else if (tr_1)\n                        pAll_1();\n                }\n            };\n            this.u.push(uf_1);\n        }\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this = this;\n        if (this.d & 2) {\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n            return;\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this.d & 1))\n                        return;\n                    _this.u.splice(-1, 1);\n                    _this.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cbd(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cbd(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cbd(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl(err(11, 0, 1), null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            err(11);\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this = this;\n        this.i = new Inflate(function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this = this;\n        if (!this.onfile)\n            err(5);\n        if (!this.p)\n            err(4);\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_3 = [];\n                        this_1.k.unshift(chks_3);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    err(5);\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this.o[cmp_1];\n                                    if (!ctr)\n                                        file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                                        var dat = chks_4[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this.k[0] == chks_3 && _this.c)\n                                        _this.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                err(13);\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) { fn(); };\nexport function unzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cbd(err(13, 0, 1), null);\n            return tAll;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (lft) {\n        var c = lft;\n        var o = b4(data, e + 16);\n        var z = o == 4294967295 || c == 65535;\n        if (z) {\n            var ze = b4(data, e - 12);\n            z = b4(data, ze) == 0x6064B50;\n            if (z) {\n                c = lft = b4(data, ze + 32);\n                o = b4(data, ze + 48);\n            }\n        }\n        var fltr = opts && opts.filter;\n        var _loop_3 = function (i) {\n            var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n            o = no;\n            var cbl = function (e, d) {\n                if (e) {\n                    tAll();\n                    cbd(e, null);\n                }\n                else {\n                    if (d)\n                        files[fn] = d;\n                    if (!--lft)\n                        cbd(null, files);\n                }\n            };\n            if (!fltr || fltr({\n                name: fn,\n                size: sc,\n                originalSize: su,\n                compression: c_1\n            })) {\n                if (!c_1)\n                    cbl(null, slc(data, b, b + sc));\n                else if (c_1 == 8) {\n                    var infl = data.subarray(b, b + sc);\n                    // Synchronously decompress under 512KB, or barely-compressed data\n                    if (su < 524288 || sc > 0.8 * su) {\n                        try {\n                            cbl(null, inflateSync(infl, { out: new u8(su) }));\n                        }\n                        catch (e) {\n                            cbl(e, null);\n                        }\n                    }\n                    else\n                        term.push(inflate(infl, { size: su }, cbl));\n                }\n                else\n                    cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n            }\n            else\n                cbl(null, null);\n        };\n        for (var i = 0; i < c; ++i) {\n            _loop_3(i);\n        }\n    }\n    else\n        cbd(null, {});\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nexport function unzipSync(data, opts) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            err(13);\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n        var ze = b4(data, e - 12);\n        z = b4(data, ze) == 0x6064B50;\n        if (z) {\n            c = b4(data, ze + 32);\n            o = b4(data, ze + 48);\n        }\n    }\n    var fltr = opts && opts.filter;\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!fltr || fltr({\n            name: fn,\n            size: sc,\n            originalSize: su,\n            compression: c_2\n        })) {\n            if (!c_2)\n                files[fn] = slc(data, b, b + sc);\n            else if (c_2 == 8)\n                files[fn] = inflateSync(data.subarray(b, b + sc), { out: new u8(su) });\n            else\n                err(14, 'unknown compression type ' + c_2);\n        }\n    }\n    return files;\n}\n","/*** Constructor ***/\n/**\n * The NIFTIEXTENSION constructor.\n * @constructor\n * @property {number} esize - number of bytes that form the extended header data\n * @property {number} ecode - developer group id\n * @property {ArrayBuffer} data - extension data\n * @property {boolean} littleEndian - is little endian\n * @type {Function}\n */\nexport class NIFTIEXTENSION {\n    esize;\n    ecode;\n    edata;\n    littleEndian;\n    constructor(esize, ecode, edata, littleEndian) {\n        if (esize % 16 != 0) {\n            throw new Error('This does not appear to be a NIFTI extension');\n        }\n        this.esize = esize;\n        this.ecode = ecode;\n        this.edata = edata;\n        this.littleEndian = littleEndian;\n    }\n    /**\n     * Returns extension as ArrayBuffer.\n     * @returns {ArrayBuffer}\n     */\n    toArrayBuffer() {\n        let byteArray = new Uint8Array(this.esize);\n        let data = new Uint8Array(this.edata);\n        byteArray.set(data, 8);\n        let view = new DataView(byteArray.buffer);\n        // size of extension\n        view.setInt32(0, this.esize, this.littleEndian);\n        view.setInt32(4, this.ecode, this.littleEndian);\n        return byteArray.buffer;\n    }\n}\n//# sourceMappingURL=nifti-extension.js.map","import { NIFTIEXTENSION } from './nifti-extension.js';\nexport class Utils {\n    /*** Static Pseudo-constants ***/\n    static crcTable = null;\n    static GUNZIP_MAGIC_COOKIE1 = 31;\n    static GUNZIP_MAGIC_COOKIE2 = 139;\n    /*** Static methods ***/\n    static getStringAt(data, start, end) {\n        var str = '', ctr, ch;\n        for (ctr = start; ctr < end; ctr += 1) {\n            ch = data.getUint8(ctr);\n            if (ch !== 0) {\n                str += String.fromCharCode(ch);\n            }\n        }\n        return str;\n    }\n    static getByteAt = function (data, start) {\n        return data.getUint8(start);\n    };\n    static getShortAt = function (data, start, littleEndian) {\n        return data.getInt16(start, littleEndian);\n    };\n    static getIntAt(data, start, littleEndian) {\n        return data.getInt32(start, littleEndian);\n    }\n    static getFloatAt(data, start, littleEndian) {\n        return data.getFloat32(start, littleEndian);\n    }\n    static getDoubleAt(data, start, littleEndian) {\n        return data.getFloat64(start, littleEndian);\n    }\n    static getInt64At(dataView, index, littleEndian) {\n        const low = dataView.getUint32(index, littleEndian);\n        const high = dataView.getInt32(index + 4, littleEndian);\n        let result;\n        if (littleEndian) {\n            result = high * 2 ** 32 + low;\n        }\n        else {\n            result = low * 2 ** 32 + high;\n        }\n        // Proper sign extension if the high part is negative\n        if (high < 0) {\n            result += -1 * 2 ** 32 * 2 ** 32;\n        }\n        return result;\n    }\n    static getUint64At(dataView, index, littleEndian) {\n        const low = dataView.getUint32(index + (littleEndian ? 0 : 4), littleEndian);\n        const high = dataView.getUint32(index + (littleEndian ? 4 : 0), littleEndian);\n        // Combine high and low bits. For littleEndian, high bits go first in the multiplication\n        return littleEndian\n            ? high * 2 ** 32 + low\n            : low * 2 ** 32 + high;\n    }\n    static getExtensionsAt(data, start, littleEndian, voxOffset) {\n        let extensions = [];\n        let extensionByteIndex = start;\n        // Multiple extended header sections are allowed\n        while (extensionByteIndex < voxOffset) {\n            // assume same endianess as header until proven otherwise\n            let extensionLittleEndian = littleEndian;\n            let esize = Utils.getIntAt(data, extensionByteIndex, littleEndian);\n            if (!esize) {\n                break; // no more extensions\n            }\n            // check if this takes us past vox_offset\n            if (esize + extensionByteIndex > voxOffset) {\n                // check if reversing byte order gets a proper size\n                extensionLittleEndian = !extensionLittleEndian;\n                esize = Utils.getIntAt(data, extensionByteIndex, extensionLittleEndian);\n                if (esize + extensionByteIndex > voxOffset) {\n                    throw new Error('This does not appear to be a valid NIFTI extension');\n                }\n            }\n            // esize must be a positive integral multiple of 16\n            if (esize % 16 != 0) {\n                throw new Error('This does not appear to be a NIFTI extension');\n            }\n            let ecode = Utils.getIntAt(data, extensionByteIndex + 4, extensionLittleEndian);\n            let edata = data.buffer.slice(extensionByteIndex + 8, extensionByteIndex + esize);\n            let extension = new NIFTIEXTENSION(esize, ecode, edata, extensionLittleEndian);\n            extensions.push(extension);\n            extensionByteIndex += esize;\n        }\n        return extensions;\n    }\n    static toArrayBuffer(buffer) {\n        var ab, view, i;\n        ab = new ArrayBuffer(buffer.length);\n        view = new Uint8Array(ab);\n        for (i = 0; i < buffer.length; i += 1) {\n            view[i] = buffer[i];\n        }\n        return ab;\n    }\n    static isString(obj) {\n        return typeof obj === 'string' || obj instanceof String;\n    }\n    static formatNumber(num, shortFormat = undefined) {\n        let val;\n        if (Utils.isString(num)) {\n            val = Number(num);\n        }\n        else {\n            val = num;\n        }\n        if (shortFormat) {\n            val = val.toPrecision(5);\n        }\n        else {\n            val = val.toPrecision(7);\n        }\n        return parseFloat(val);\n    }\n    // http://stackoverflow.com/questions/18638900/javascript-crc32\n    static makeCRCTable() {\n        let c;\n        let crcTable = [];\n        for (var n = 0; n < 256; n++) {\n            c = n;\n            for (var k = 0; k < 8; k++) {\n                c = c & 1 ? 0xedb88320 ^ (c >>> 1) : c >>> 1;\n            }\n            crcTable[n] = c;\n        }\n        return crcTable;\n    }\n    static crc32(dataView) {\n        if (!Utils.crcTable) {\n            Utils.crcTable = Utils.makeCRCTable();\n        }\n        const crcTable = Utils.crcTable;\n        let crc = 0 ^ -1;\n        for (var i = 0; i < dataView.byteLength; i++) {\n            crc = (crc >>> 8) ^ crcTable[(crc ^ dataView.getUint8(i)) & 0xff];\n        }\n        return (crc ^ -1) >>> 0;\n    }\n}\n//# sourceMappingURL=utilities.js.map","import { Utils } from './utilities.js';\n/*** Constructor ***/\n/**\n * The NIFTI1 constructor.\n * @constructor\n * @property {boolean} littleEndian\n * @property {number} dim_info\n * @property {number[]} dims - image dimensions\n * @property {number} intent_p1\n * @property {number} intent_p2\n * @property {number} intent_p3\n * @property {number} intent_code\n * @property {number} datatypeCode\n * @property {number} numBitsPerVoxel\n * @property {number} slice_start\n * @property {number} slice_end\n * @property {number} slice_code\n * @property {number[]} pixDims - voxel dimensions\n * @property {number} vox_offset\n * @property {number} scl_slope\n * @property {number} scl_inter\n * @property {number} xyzt_units\n * @property {number} cal_max\n * @property {number} cal_min\n * @property {number} slice_duration\n * @property {number} toffset\n * @property {string} description\n * @property {string} aux_file\n * @property {string} intent_name\n * @property {number} qform_code\n * @property {number} sform_code\n * @property {number} quatern_b\n * @property {number} quatern_c\n * @property {number} quatern_d\n * @property {number} quatern_x\n * @property {number} quatern_y\n * @property {number} quatern_z\n * @property {Array.<Array.<number>>} affine\n * @property {string} magic\n * @property {boolean} isHDR - if hdr/img format\n * @property {number[]} extensionFlag\n * @property {number} extensionSize\n * @property {number} extensionCode\n * @property {nifti.NIFTIEXTENSION[]} extensions\n * @type {Function}\n */\nexport class NIFTI1 {\n    littleEndian = false;\n    dim_info = 0;\n    dims = [];\n    intent_p1 = 0.0;\n    intent_p2 = 0.0;\n    intent_p3 = 0.0;\n    intent_code = 0;\n    datatypeCode = 0;\n    numBitsPerVoxel = 0;\n    slice_start = 0;\n    slice_end = 0;\n    slice_code = 0;\n    pixDims = [];\n    vox_offset = 0;\n    scl_slope = 1.0;\n    scl_inter = 0.0;\n    xyzt_units = 0;\n    cal_max = 0.0;\n    cal_min = 0.0;\n    slice_duration = 0.0;\n    toffset = 0.0;\n    description = '';\n    aux_file = '';\n    intent_name = '';\n    qform_code = 0;\n    sform_code = 0;\n    quatern_a = 0.0;\n    quatern_b = 0.0;\n    quatern_c = 0.0;\n    quatern_d = 0.0;\n    qoffset_x = 0.0;\n    qoffset_y = 0.0;\n    qoffset_z = 0.0;\n    affine = [\n        [1, 0, 0, 0],\n        [0, 1, 0, 0],\n        [0, 0, 1, 0],\n        [0, 0, 0, 1]\n    ];\n    qfac = 1;\n    quatern_R;\n    magic = '0';\n    isHDR = false;\n    extensionFlag = [0, 0, 0, 0];\n    extensionSize = 0;\n    extensionCode = 0;\n    extensions = [];\n    /*** Static Pseudo-constants ***/\n    // datatype codes\n    static TYPE_NONE = 0;\n    static TYPE_BINARY = 1;\n    static TYPE_UINT8 = 2;\n    static TYPE_INT16 = 4;\n    static TYPE_INT32 = 8;\n    static TYPE_FLOAT32 = 16;\n    static TYPE_COMPLEX64 = 32;\n    static TYPE_FLOAT64 = 64;\n    static TYPE_RGB24 = 128;\n    static TYPE_INT8 = 256;\n    static TYPE_UINT16 = 512;\n    static TYPE_UINT32 = 768;\n    static TYPE_INT64 = 1024;\n    static TYPE_UINT64 = 1280;\n    static TYPE_FLOAT128 = 1536;\n    static TYPE_COMPLEX128 = 1792;\n    static TYPE_COMPLEX256 = 2048;\n    // transform codes\n    static XFORM_UNKNOWN = 0;\n    static XFORM_SCANNER_ANAT = 1;\n    static XFORM_ALIGNED_ANAT = 2;\n    static XFORM_TALAIRACH = 3;\n    static XFORM_MNI_152 = 4;\n    // unit codes\n    static SPATIAL_UNITS_MASK = 0x07;\n    static TEMPORAL_UNITS_MASK = 0x38;\n    static UNITS_UNKNOWN = 0;\n    static UNITS_METER = 1;\n    static UNITS_MM = 2;\n    static UNITS_MICRON = 3;\n    static UNITS_SEC = 8;\n    static UNITS_MSEC = 16;\n    static UNITS_USEC = 24;\n    static UNITS_HZ = 32;\n    static UNITS_PPM = 40;\n    static UNITS_RADS = 48;\n    // nifti1 codes\n    static MAGIC_COOKIE = 348;\n    static STANDARD_HEADER_SIZE = 348;\n    static MAGIC_NUMBER_LOCATION = 344;\n    static MAGIC_NUMBER = [0x6e, 0x2b, 0x31]; // n+1 (.nii)\n    static MAGIC_NUMBER2 = [0x6e, 0x69, 0x31]; // ni1 (.hdr/.img)\n    static EXTENSION_HEADER_SIZE = 8;\n    /*** Prototype Methods ***/\n    /**\n     * Reads the header data.\n     * @param {ArrayBuffer} data\n     */\n    readHeader(data) {\n        var rawData = new DataView(data), magicCookieVal = Utils.getIntAt(rawData, 0, this.littleEndian), ctr, ctrOut, ctrIn, index;\n        if (magicCookieVal !== NIFTI1.MAGIC_COOKIE) {\n            // try as little endian\n            this.littleEndian = true;\n            magicCookieVal = Utils.getIntAt(rawData, 0, this.littleEndian);\n        }\n        if (magicCookieVal !== NIFTI1.MAGIC_COOKIE) {\n            throw new Error('This does not appear to be a NIFTI file!');\n        }\n        this.dim_info = Utils.getByteAt(rawData, 39);\n        for (ctr = 0; ctr < 8; ctr += 1) {\n            index = 40 + ctr * 2;\n            this.dims[ctr] = Utils.getShortAt(rawData, index, this.littleEndian);\n        }\n        this.intent_p1 = Utils.getFloatAt(rawData, 56, this.littleEndian);\n        this.intent_p2 = Utils.getFloatAt(rawData, 60, this.littleEndian);\n        this.intent_p3 = Utils.getFloatAt(rawData, 64, this.littleEndian);\n        this.intent_code = Utils.getShortAt(rawData, 68, this.littleEndian);\n        this.datatypeCode = Utils.getShortAt(rawData, 70, this.littleEndian);\n        this.numBitsPerVoxel = Utils.getShortAt(rawData, 72, this.littleEndian);\n        this.slice_start = Utils.getShortAt(rawData, 74, this.littleEndian);\n        for (ctr = 0; ctr < 8; ctr += 1) {\n            index = 76 + ctr * 4;\n            this.pixDims[ctr] = Utils.getFloatAt(rawData, index, this.littleEndian);\n        }\n        this.vox_offset = Utils.getFloatAt(rawData, 108, this.littleEndian);\n        this.scl_slope = Utils.getFloatAt(rawData, 112, this.littleEndian);\n        this.scl_inter = Utils.getFloatAt(rawData, 116, this.littleEndian);\n        this.slice_end = Utils.getShortAt(rawData, 120, this.littleEndian);\n        this.slice_code = Utils.getByteAt(rawData, 122);\n        this.xyzt_units = Utils.getByteAt(rawData, 123);\n        this.cal_max = Utils.getFloatAt(rawData, 124, this.littleEndian);\n        this.cal_min = Utils.getFloatAt(rawData, 128, this.littleEndian);\n        this.slice_duration = Utils.getFloatAt(rawData, 132, this.littleEndian);\n        this.toffset = Utils.getFloatAt(rawData, 136, this.littleEndian);\n        this.description = Utils.getStringAt(rawData, 148, 228);\n        this.aux_file = Utils.getStringAt(rawData, 228, 252);\n        this.qform_code = Utils.getShortAt(rawData, 252, this.littleEndian);\n        this.sform_code = Utils.getShortAt(rawData, 254, this.littleEndian);\n        this.quatern_b = Utils.getFloatAt(rawData, 256, this.littleEndian);\n        this.quatern_c = Utils.getFloatAt(rawData, 260, this.littleEndian);\n        this.quatern_d = Utils.getFloatAt(rawData, 264, this.littleEndian);\n        // Added by znshje on 27/11/2021\n        //\n        // quatern_a is a parameter in quaternion [a, b, c, d], which is required in affine calculation (METHOD 2)\n        // mentioned in the nifti1.h file\n        // It can be calculated by a = sqrt(1.0-(b*b+c*c+d*d))\n        this.quatern_a = Math.sqrt(1.0 - (Math.pow(this.quatern_b, 2) + Math.pow(this.quatern_c, 2) + Math.pow(this.quatern_d, 2)));\n        this.qoffset_x = Utils.getFloatAt(rawData, 268, this.littleEndian);\n        this.qoffset_y = Utils.getFloatAt(rawData, 272, this.littleEndian);\n        this.qoffset_z = Utils.getFloatAt(rawData, 276, this.littleEndian);\n        // Added by znshje on 27/11/2021\n        //\n        /* See: https://nifti.nimh.nih.gov/pub/dist/src/niftilib/nifti1.h */\n        if (this.qform_code < 1 && this.sform_code < 1) {\n            // METHOD 0 (used when both SFORM and QFORM are unknown)\n            this.affine[0][0] = this.pixDims[1];\n            this.affine[1][1] = this.pixDims[2];\n            this.affine[2][2] = this.pixDims[3];\n        }\n        if (this.qform_code > 0 && this.sform_code < this.qform_code) {\n            //   METHOD 2 (used when qform_code > 0, which should be the \"normal\" case):\n            //    ---------------------------------------------------------------------\n            //    The (x,y,z) coordinates are given by the pixdim[] scales, a rotation\n            //    matrix, and a shift.  This method is intended to represent\n            //    \"scanner-anatomical\" coordinates, which are often embedded in the\n            //    image header (e.g., DICOM fields (0020,0032), (0020,0037), (0028,0030),\n            //    and (0018,0050)), and represent the nominal orientation and location of\n            //    the data.  This method can also be used to represent \"aligned\"\n            //    coordinates, which would typically result from some post-acquisition\n            //    alignment of the volume to a standard orientation (e.g., the same\n            //    subject on another day, or a rigid rotation to true anatomical\n            //    orientation from the tilted position of the subject in the scanner).\n            //    The formula for (x,y,z) in terms of header parameters and (i,j,k) is:\n            //\n            //      [ x ]   [ R11 R12 R13 ] [        pixdim[1] * i ]   [ qoffset_x ]\n            //      [ y ] = [ R21 R22 R23 ] [        pixdim[2] * j ] + [ qoffset_y ]\n            //      [ z ]   [ R31 R32 R33 ] [ qfac * pixdim[3] * k ]   [ qoffset_z ]\n            //\n            //    The qoffset_* shifts are in the NIFTI-1 header.  Note that the center\n            //    of the (i,j,k)=(0,0,0) voxel (first value in the dataset array) is\n            //    just (x,y,z)=(qoffset_x,qoffset_y,qoffset_z).\n            //\n            //    The rotation matrix R is calculated from the quatern_* parameters.\n            //    This calculation is described below.\n            //\n            //    The scaling factor qfac is either 1 or -1.  The rotation matrix R\n            //    defined by the quaternion parameters is \"proper\" (has determinant 1).\n            //    This may not fit the needs of the data; for example, if the image\n            //    grid is\n            //      i increases from Left-to-Right\n            //      j increases from Anterior-to-Posterior\n            //      k increases from Inferior-to-Superior\n            //    Then (i,j,k) is a left-handed triple.  In this example, if qfac=1,\n            //    the R matrix would have to be\n            //\n            //      [  1   0   0 ]\n            //      [  0  -1   0 ]  which is \"improper\" (determinant = -1).\n            //      [  0   0   1 ]\n            //\n            //    If we set qfac=-1, then the R matrix would be\n            //\n            //      [  1   0   0 ]\n            //      [  0  -1   0 ]  which is proper.\n            //      [  0   0  -1 ]\n            //\n            //    This R matrix is represented by quaternion [a,b,c,d] = [0,1,0,0]\n            //    (which encodes a 180 degree rotation about the x-axis).\n            // Define a, b, c, d for coding covenience\n            const a = this.quatern_a;\n            const b = this.quatern_b;\n            const c = this.quatern_c;\n            const d = this.quatern_d;\n            this.qfac = this.pixDims[0] === 0 ? 1 : this.pixDims[0];\n            this.quatern_R = [\n                [a * a + b * b - c * c - d * d, 2 * b * c - 2 * a * d, 2 * b * d + 2 * a * c],\n                [2 * b * c + 2 * a * d, a * a + c * c - b * b - d * d, 2 * c * d - 2 * a * b],\n                [2 * b * d - 2 * a * c, 2 * c * d + 2 * a * b, a * a + d * d - c * c - b * b]\n            ];\n            for (ctrOut = 0; ctrOut < 3; ctrOut += 1) {\n                for (ctrIn = 0; ctrIn < 3; ctrIn += 1) {\n                    this.affine[ctrOut][ctrIn] = this.quatern_R[ctrOut][ctrIn] * this.pixDims[ctrIn + 1];\n                    if (ctrIn === 2) {\n                        this.affine[ctrOut][ctrIn] *= this.qfac;\n                    }\n                }\n            }\n            // The last row of affine matrix is the offset vector\n            this.affine[0][3] = this.qoffset_x;\n            this.affine[1][3] = this.qoffset_y;\n            this.affine[2][3] = this.qoffset_z;\n        }\n        else if (this.sform_code > 0) {\n            //    METHOD 3 (used when sform_code > 0):\n            //    -----------------------------------\n            //    The (x,y,z) coordinates are given by a general affine transformation\n            //    of the (i,j,k) indexes:\n            //\n            //      x = srow_x[0] * i + srow_x[1] * j + srow_x[2] * k + srow_x[3]\n            //      y = srow_y[0] * i + srow_y[1] * j + srow_y[2] * k + srow_y[3]\n            //      z = srow_z[0] * i + srow_z[1] * j + srow_z[2] * k + srow_z[3]\n            //\n            //    The srow_* vectors are in the NIFTI_1 header.  Note that no use is\n            //    made of pixdim[] in this method.\n            for (ctrOut = 0; ctrOut < 3; ctrOut += 1) {\n                for (ctrIn = 0; ctrIn < 4; ctrIn += 1) {\n                    index = 280 + (ctrOut * 4 + ctrIn) * 4;\n                    this.affine[ctrOut][ctrIn] = Utils.getFloatAt(rawData, index, this.littleEndian);\n                }\n            }\n        }\n        this.affine[3][0] = 0;\n        this.affine[3][1] = 0;\n        this.affine[3][2] = 0;\n        this.affine[3][3] = 1;\n        this.intent_name = Utils.getStringAt(rawData, 328, 344);\n        this.magic = Utils.getStringAt(rawData, 344, 348);\n        this.isHDR = this.magic === String.fromCharCode.apply(null, NIFTI1.MAGIC_NUMBER2);\n        if (rawData.byteLength > NIFTI1.MAGIC_COOKIE) {\n            this.extensionFlag[0] = Utils.getByteAt(rawData, 348);\n            this.extensionFlag[1] = Utils.getByteAt(rawData, 348 + 1);\n            this.extensionFlag[2] = Utils.getByteAt(rawData, 348 + 2);\n            this.extensionFlag[3] = Utils.getByteAt(rawData, 348 + 3);\n            let isExtensionCapable = true;\n            if (!this.isHDR && this.vox_offset <= 352)\n                isExtensionCapable = false;\n            if (rawData.byteLength <= 352 + 16)\n                isExtensionCapable = false;\n            if (isExtensionCapable && this.extensionFlag[0]) {\n                // read our extensions\n                this.extensions = Utils.getExtensionsAt(rawData, this.getExtensionLocation(), this.littleEndian, this.vox_offset);\n                // set the extensionSize and extensionCode from the first extension found\n                this.extensionSize = this.extensions[0].esize;\n                this.extensionCode = this.extensions[0].ecode;\n            }\n        }\n    }\n    /**\n     * Returns a formatted string of header fields.\n     * @returns {string}\n     */\n    toFormattedString() {\n        var fmt = Utils.formatNumber, string = '';\n        string += 'Dim Info = ' + this.dim_info + '\\n';\n        string +=\n            'Image Dimensions (1-8): ' +\n                this.dims[0] +\n                ', ' +\n                this.dims[1] +\n                ', ' +\n                this.dims[2] +\n                ', ' +\n                this.dims[3] +\n                ', ' +\n                this.dims[4] +\n                ', ' +\n                this.dims[5] +\n                ', ' +\n                this.dims[6] +\n                ', ' +\n                this.dims[7] +\n                '\\n';\n        string += 'Intent Parameters (1-3): ' + this.intent_p1 + ', ' + this.intent_p2 + ', ' + this.intent_p3 + '\\n';\n        string += 'Intent Code = ' + this.intent_code + '\\n';\n        string += 'Datatype = ' + this.datatypeCode + ' (' + this.getDatatypeCodeString(this.datatypeCode) + ')\\n';\n        string += 'Bits Per Voxel = ' + this.numBitsPerVoxel + '\\n';\n        string += 'Slice Start = ' + this.slice_start + '\\n';\n        string +=\n            'Voxel Dimensions (1-8): ' +\n                fmt(this.pixDims[0]) +\n                ', ' +\n                fmt(this.pixDims[1]) +\n                ', ' +\n                fmt(this.pixDims[2]) +\n                ', ' +\n                fmt(this.pixDims[3]) +\n                ', ' +\n                fmt(this.pixDims[4]) +\n                ', ' +\n                fmt(this.pixDims[5]) +\n                ', ' +\n                fmt(this.pixDims[6]) +\n                ', ' +\n                fmt(this.pixDims[7]) +\n                '\\n';\n        string += 'Image Offset = ' + this.vox_offset + '\\n';\n        string += 'Data Scale:  Slope = ' + fmt(this.scl_slope) + '  Intercept = ' + fmt(this.scl_inter) + '\\n';\n        string += 'Slice End = ' + this.slice_end + '\\n';\n        string += 'Slice Code = ' + this.slice_code + '\\n';\n        string +=\n            'Units Code = ' +\n                this.xyzt_units +\n                ' (' +\n                this.getUnitsCodeString(NIFTI1.SPATIAL_UNITS_MASK & this.xyzt_units) +\n                ', ' +\n                this.getUnitsCodeString(NIFTI1.TEMPORAL_UNITS_MASK & this.xyzt_units) +\n                ')\\n';\n        string += 'Display Range:  Max = ' + fmt(this.cal_max) + '  Min = ' + fmt(this.cal_min) + '\\n';\n        string += 'Slice Duration = ' + this.slice_duration + '\\n';\n        string += 'Time Axis Shift = ' + this.toffset + '\\n';\n        string += 'Description: \"' + this.description + '\"\\n';\n        string += 'Auxiliary File: \"' + this.aux_file + '\"\\n';\n        string += 'Q-Form Code = ' + this.qform_code + ' (' + this.getTransformCodeString(this.qform_code) + ')\\n';\n        string += 'S-Form Code = ' + this.sform_code + ' (' + this.getTransformCodeString(this.sform_code) + ')\\n';\n        string +=\n            'Quaternion Parameters:  ' +\n                'b = ' +\n                fmt(this.quatern_b) +\n                '  ' +\n                'c = ' +\n                fmt(this.quatern_c) +\n                '  ' +\n                'd = ' +\n                fmt(this.quatern_d) +\n                '\\n';\n        string +=\n            'Quaternion Offsets:  ' +\n                'x = ' +\n                this.qoffset_x +\n                '  ' +\n                'y = ' +\n                this.qoffset_y +\n                '  ' +\n                'z = ' +\n                this.qoffset_z +\n                '\\n';\n        string +=\n            'S-Form Parameters X: ' +\n                fmt(this.affine[0][0]) +\n                ', ' +\n                fmt(this.affine[0][1]) +\n                ', ' +\n                fmt(this.affine[0][2]) +\n                ', ' +\n                fmt(this.affine[0][3]) +\n                '\\n';\n        string +=\n            'S-Form Parameters Y: ' +\n                fmt(this.affine[1][0]) +\n                ', ' +\n                fmt(this.affine[1][1]) +\n                ', ' +\n                fmt(this.affine[1][2]) +\n                ', ' +\n                fmt(this.affine[1][3]) +\n                '\\n';\n        string +=\n            'S-Form Parameters Z: ' +\n                fmt(this.affine[2][0]) +\n                ', ' +\n                fmt(this.affine[2][1]) +\n                ', ' +\n                fmt(this.affine[2][2]) +\n                ', ' +\n                fmt(this.affine[2][3]) +\n                '\\n';\n        string += 'Intent Name: \"' + this.intent_name + '\"\\n';\n        if (this.extensionFlag[0]) {\n            string += 'Extension: Size = ' + this.extensionSize + '  Code = ' + this.extensionCode + '\\n';\n        }\n        return string;\n    }\n    /**\n     * Returns a human-readable string of datatype.\n     * @param {number} code\n     * @returns {string}\n     */\n    getDatatypeCodeString = function (code) {\n        if (code === NIFTI1.TYPE_UINT8) {\n            return '1-Byte Unsigned Integer';\n        }\n        else if (code === NIFTI1.TYPE_INT16) {\n            return '2-Byte Signed Integer';\n        }\n        else if (code === NIFTI1.TYPE_INT32) {\n            return '4-Byte Signed Integer';\n        }\n        else if (code === NIFTI1.TYPE_FLOAT32) {\n            return '4-Byte Float';\n        }\n        else if (code === NIFTI1.TYPE_FLOAT64) {\n            return '8-Byte Float';\n        }\n        else if (code === NIFTI1.TYPE_RGB24) {\n            return 'RGB';\n        }\n        else if (code === NIFTI1.TYPE_INT8) {\n            return '1-Byte Signed Integer';\n        }\n        else if (code === NIFTI1.TYPE_UINT16) {\n            return '2-Byte Unsigned Integer';\n        }\n        else if (code === NIFTI1.TYPE_UINT32) {\n            return '4-Byte Unsigned Integer';\n        }\n        else if (code === NIFTI1.TYPE_INT64) {\n            return '8-Byte Signed Integer';\n        }\n        else if (code === NIFTI1.TYPE_UINT64) {\n            return '8-Byte Unsigned Integer';\n        }\n        else {\n            return 'Unknown';\n        }\n    };\n    /**\n     * Returns a human-readable string of transform type.\n     * @param {number} code\n     * @returns {string}\n     */\n    getTransformCodeString = function (code) {\n        if (code === NIFTI1.XFORM_SCANNER_ANAT) {\n            return 'Scanner';\n        }\n        else if (code === NIFTI1.XFORM_ALIGNED_ANAT) {\n            return 'Aligned';\n        }\n        else if (code === NIFTI1.XFORM_TALAIRACH) {\n            return 'Talairach';\n        }\n        else if (code === NIFTI1.XFORM_MNI_152) {\n            return 'MNI';\n        }\n        else {\n            return 'Unknown';\n        }\n    };\n    /**\n     * Returns a human-readable string of spatial and temporal units.\n     * @param {number} code\n     * @returns {string}\n     */\n    getUnitsCodeString = function (code) {\n        if (code === NIFTI1.UNITS_METER) {\n            return 'Meters';\n        }\n        else if (code === NIFTI1.UNITS_MM) {\n            return 'Millimeters';\n        }\n        else if (code === NIFTI1.UNITS_MICRON) {\n            return 'Microns';\n        }\n        else if (code === NIFTI1.UNITS_SEC) {\n            return 'Seconds';\n        }\n        else if (code === NIFTI1.UNITS_MSEC) {\n            return 'Milliseconds';\n        }\n        else if (code === NIFTI1.UNITS_USEC) {\n            return 'Microseconds';\n        }\n        else if (code === NIFTI1.UNITS_HZ) {\n            return 'Hz';\n        }\n        else if (code === NIFTI1.UNITS_PPM) {\n            return 'PPM';\n        }\n        else if (code === NIFTI1.UNITS_RADS) {\n            return 'Rads';\n        }\n        else {\n            return 'Unknown';\n        }\n    };\n    /**\n     * Returns the qform matrix.\n     * @returns {Array.<Array.<number>>}\n     */\n    getQformMat() {\n        return this.convertNiftiQFormToNiftiSForm(this.quatern_b, this.quatern_c, this.quatern_d, this.qoffset_x, this.qoffset_y, this.qoffset_z, this.pixDims[1], this.pixDims[2], this.pixDims[3], this.pixDims[0]);\n    }\n    /**\n     * Converts qform to an affine.  (See http://nifti.nimh.nih.gov/pub/dist/src/niftilib/nifti1_io.c)\n     * @param {number} qb\n     * @param {number} qc\n     * @param {number} qd\n     * @param {number} qx\n     * @param {number} qy\n     * @param {number} qz\n     * @param {number} dx\n     * @param {number} dy\n     * @param {number} dz\n     * @param {number} qfac\n     * @returns {Array.<Array.<number>>}\n     */\n    convertNiftiQFormToNiftiSForm(qb, qc, qd, qx, qy, qz, dx, dy, dz, qfac) {\n        var R = [\n            [0, 0, 0, 0],\n            [0, 0, 0, 0],\n            [0, 0, 0, 0],\n            [0, 0, 0, 0]\n        ], a, b = qb, c = qc, d = qd, xd, yd, zd;\n        // last row is always [ 0 0 0 1 ]\n        R[3][0] = R[3][1] = R[3][2] = 0.0;\n        R[3][3] = 1.0;\n        // compute a parameter from b,c,d\n        a = 1.0 - (b * b + c * c + d * d);\n        if (a < 0.0000001) {\n            /* special case */\n            a = 1.0 / Math.sqrt(b * b + c * c + d * d);\n            b *= a;\n            c *= a;\n            d *= a; /* normalize (b,c,d) vector */\n            a = 0.0; /* a = 0 ==> 180 degree rotation */\n        }\n        else {\n            a = Math.sqrt(a); /* angle = 2*arccos(a) */\n        }\n        // load rotation matrix, including scaling factors for voxel sizes\n        xd = dx > 0.0 ? dx : 1.0; /* make sure are positive */\n        yd = dy > 0.0 ? dy : 1.0;\n        zd = dz > 0.0 ? dz : 1.0;\n        if (qfac < 0.0) {\n            zd = -zd; /* left handedness? */\n        }\n        R[0][0] = (a * a + b * b - c * c - d * d) * xd;\n        R[0][1] = 2.0 * (b * c - a * d) * yd;\n        R[0][2] = 2.0 * (b * d + a * c) * zd;\n        R[1][0] = 2.0 * (b * c + a * d) * xd;\n        R[1][1] = (a * a + c * c - b * b - d * d) * yd;\n        R[1][2] = 2.0 * (c * d - a * b) * zd;\n        R[2][0] = 2.0 * (b * d - a * c) * xd;\n        R[2][1] = 2.0 * (c * d + a * b) * yd;\n        R[2][2] = (a * a + d * d - c * c - b * b) * zd;\n        // load offsets\n        R[0][3] = qx;\n        R[1][3] = qy;\n        R[2][3] = qz;\n        return R;\n    }\n    /**\n     * Converts sform to an orientation string (e.g., XYZ+--).  (See http://nifti.nimh.nih.gov/pub/dist/src/niftilib/nifti1_io.c)\n     * @param {Array.<Array.<number>>} R\n     * @returns {string}\n     */\n    convertNiftiSFormToNEMA(R) {\n        var xi, xj, xk, yi, yj, yk, zi, zj, zk, val, detQ, detP, i, j, k, p, q, r, ibest, jbest, kbest, pbest, qbest, rbest, M, vbest, Q, P, iChar, jChar, kChar, iSense, jSense, kSense;\n        k = 0;\n        Q = [\n            [0, 0, 0],\n            [0, 0, 0],\n            [0, 0, 0]\n        ];\n        P = [\n            [0, 0, 0],\n            [0, 0, 0],\n            [0, 0, 0]\n        ];\n        //if( icod == NULL || jcod == NULL || kcod == NULL ) return ; /* bad */\n        //*icod = *jcod = *kcod = 0 ; /* this.errorMessage returns, if sh*t happens */\n        /* load column vectors for each (i,j,k) direction from matrix */\n        /*-- i axis --*/ /*-- j axis --*/ /*-- k axis --*/\n        xi = R[0][0];\n        xj = R[0][1];\n        xk = R[0][2];\n        yi = R[1][0];\n        yj = R[1][1];\n        yk = R[1][2];\n        zi = R[2][0];\n        zj = R[2][1];\n        zk = R[2][2];\n        /* normalize column vectors to get unit vectors along each ijk-axis */\n        /* normalize i axis */\n        val = Math.sqrt(xi * xi + yi * yi + zi * zi);\n        if (val === 0.0) {\n            /* stupid input */\n            return null;\n        }\n        xi /= val;\n        yi /= val;\n        zi /= val;\n        /* normalize j axis */\n        val = Math.sqrt(xj * xj + yj * yj + zj * zj);\n        if (val === 0.0) {\n            /* stupid input */\n            return null;\n        }\n        xj /= val;\n        yj /= val;\n        zj /= val;\n        /* orthogonalize j axis to i axis, if needed */\n        val = xi * xj + yi * yj + zi * zj; /* dot product between i and j */\n        if (Math.abs(val) > 1e-4) {\n            xj -= val * xi;\n            yj -= val * yi;\n            zj -= val * zi;\n            val = Math.sqrt(xj * xj + yj * yj + zj * zj); /* must renormalize */\n            if (val === 0.0) {\n                /* j was parallel to i? */\n                return null;\n            }\n            xj /= val;\n            yj /= val;\n            zj /= val;\n        }\n        /* normalize k axis; if it is zero, make it the cross product i x j */\n        val = Math.sqrt(xk * xk + yk * yk + zk * zk);\n        if (val === 0.0) {\n            xk = yi * zj - zi * yj;\n            yk = zi * xj - zj * xi;\n            zk = xi * yj - yi * xj;\n        }\n        else {\n            xk /= val;\n            yk /= val;\n            zk /= val;\n        }\n        /* orthogonalize k to i */\n        val = xi * xk + yi * yk + zi * zk; /* dot product between i and k */\n        if (Math.abs(val) > 1e-4) {\n            xk -= val * xi;\n            yk -= val * yi;\n            zk -= val * zi;\n            val = Math.sqrt(xk * xk + yk * yk + zk * zk);\n            if (val === 0.0) {\n                /* bad */\n                return null;\n            }\n            xk /= val;\n            yk /= val;\n            zk /= val;\n        }\n        /* orthogonalize k to j */\n        val = xj * xk + yj * yk + zj * zk; /* dot product between j and k */\n        if (Math.abs(val) > 1e-4) {\n            xk -= val * xj;\n            yk -= val * yj;\n            zk -= val * zj;\n            val = Math.sqrt(xk * xk + yk * yk + zk * zk);\n            if (val === 0.0) {\n                /* bad */\n                return null;\n            }\n            xk /= val;\n            yk /= val;\n            zk /= val;\n        }\n        Q[0][0] = xi;\n        Q[0][1] = xj;\n        Q[0][2] = xk;\n        Q[1][0] = yi;\n        Q[1][1] = yj;\n        Q[1][2] = yk;\n        Q[2][0] = zi;\n        Q[2][1] = zj;\n        Q[2][2] = zk;\n        /* at this point, Q is the rotation matrix from the (i,j,k) to (x,y,z) axes */\n        detQ = this.nifti_mat33_determ(Q);\n        if (detQ === 0.0) {\n            /* shouldn't happen unless user is a DUFIS */\n            return null;\n        }\n        /* Build and test all possible +1/-1 coordinate permutation matrices P;\n         then find the P such that the rotation matrix M=PQ is closest to the\n         identity, in the sense of M having the smallest total rotation angle. */\n        /* Despite the formidable looking 6 nested loops, there are\n         only 3*3*3*2*2*2 = 216 passes, which will run very quickly. */\n        vbest = -666.0;\n        ibest = pbest = qbest = rbest = 1;\n        jbest = 2;\n        kbest = 3;\n        for (i = 1; i <= 3; i += 1) {\n            /* i = column number to use for row #1 */\n            for (j = 1; j <= 3; j += 1) {\n                /* j = column number to use for row #2 */\n                if (i !== j) {\n                    for (k = 1; k <= 3; k += 1) {\n                        /* k = column number to use for row #3 */\n                        if (!(i === k || j === k)) {\n                            P[0][0] = P[0][1] = P[0][2] = P[1][0] = P[1][1] = P[1][2] = P[2][0] = P[2][1] = P[2][2] = 0.0;\n                            for (p = -1; p <= 1; p += 2) {\n                                /* p,q,r are -1 or +1      */\n                                for (q = -1; q <= 1; q += 2) {\n                                    /* and go into rows #1,2,3 */\n                                    for (r = -1; r <= 1; r += 2) {\n                                        P[0][i - 1] = p;\n                                        P[1][j - 1] = q;\n                                        P[2][k - 1] = r;\n                                        detP = this.nifti_mat33_determ(P); /* sign of permutation */\n                                        if (detP * detQ > 0.0) {\n                                            M = this.nifti_mat33_mul(P, Q);\n                                            /* angle of M rotation = 2.0*acos(0.5*sqrt(1.0+trace(M)))       */\n                                            /* we want largest trace(M) == smallest angle == M nearest to I */\n                                            val = M[0][0] + M[1][1] + M[2][2]; /* trace */\n                                            if (val > vbest) {\n                                                vbest = val;\n                                                ibest = i;\n                                                jbest = j;\n                                                kbest = k;\n                                                pbest = p;\n                                                qbest = q;\n                                                rbest = r;\n                                            }\n                                        } /* doesn't match sign of Q */\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        /* At this point ibest is 1 or 2 or 3; pbest is -1 or +1; etc.\n    \n         The matrix P that corresponds is the best permutation approximation\n         to Q-inverse; that is, P (approximately) takes (x,y,z) coordinates\n         to the (i,j,k) axes.\n    \n         For example, the first row of P (which contains pbest in column ibest)\n         determines the way the i axis points relative to the anatomical\n         (x,y,z) axes.  If ibest is 2, then the i axis is along the y axis,\n         which is direction P2A (if pbest > 0) or A2P (if pbest < 0).\n    \n         So, using ibest and pbest, we can assign the output code for\n         the i axis.  Mutatis mutandis for the j and k axes, of course. */\n        iChar = jChar = kChar = iSense = jSense = kSense = '';\n        switch (ibest * pbest) {\n            case 1 /*i = NIFTI_L2R*/:\n                iChar = 'X';\n                iSense = '+';\n                break;\n            case -1 /*i = NIFTI_R2L*/:\n                iChar = 'X';\n                iSense = '-';\n                break;\n            case 2 /*i = NIFTI_P2A*/:\n                iChar = 'Y';\n                iSense = '+';\n                break;\n            case -2 /*i = NIFTI_A2P*/:\n                iChar = 'Y';\n                iSense = '-';\n                break;\n            case 3 /*i = NIFTI_I2S*/:\n                iChar = 'Z';\n                iSense = '+';\n                break;\n            case -3 /*i = NIFTI_S2I*/:\n                iChar = 'Z';\n                iSense = '-';\n                break;\n        }\n        switch (jbest * qbest) {\n            case 1 /*j = NIFTI_L2R*/:\n                jChar = 'X';\n                jSense = '+';\n                break;\n            case -1 /*j = NIFTI_R2L*/:\n                jChar = 'X';\n                jSense = '-';\n                break;\n            case 2 /*j = NIFTI_P2A*/:\n                jChar = 'Y';\n                jSense = '+';\n                break;\n            case -2 /*j = NIFTI_A2P*/:\n                jChar = 'Y';\n                jSense = '-';\n                break;\n            case 3 /*j = NIFTI_I2S*/:\n                jChar = 'Z';\n                jSense = '+';\n                break;\n            case -3 /*j = NIFTI_S2I*/:\n                jChar = 'Z';\n                jSense = '-';\n                break;\n        }\n        switch (kbest * rbest) {\n            case 1 /*k = NIFTI_L2R*/:\n                kChar = 'X';\n                kSense = '+';\n                break;\n            case -1 /*k = NIFTI_R2L*/:\n                kChar = 'X';\n                kSense = '-';\n                break;\n            case 2 /*k = NIFTI_P2A*/:\n                kChar = 'Y';\n                kSense = '+';\n                break;\n            case -2 /*k = NIFTI_A2P*/:\n                kChar = 'Y';\n                kSense = '-';\n                break;\n            case 3 /*k = NIFTI_I2S*/:\n                kChar = 'Z';\n                kSense = '+';\n                break;\n            case -3 /*k = NIFTI_S2I*/:\n                kChar = 'Z';\n                kSense = '-';\n                break;\n        }\n        return iChar + jChar + kChar + iSense + jSense + kSense;\n    }\n    nifti_mat33_mul = function (A, B) {\n        var C = [\n            [0, 0, 0],\n            [0, 0, 0],\n            [0, 0, 0]\n        ], i, j;\n        for (i = 0; i < 3; i += 1) {\n            for (j = 0; j < 3; j += 1) {\n                C[i][j] = A[i][0] * B[0][j] + A[i][1] * B[1][j] + A[i][2] * B[2][j];\n            }\n        }\n        return C;\n    };\n    nifti_mat33_determ = function (R) {\n        var r11, r12, r13, r21, r22, r23, r31, r32, r33;\n        /*  INPUT MATRIX:  */\n        r11 = R[0][0];\n        r12 = R[0][1];\n        r13 = R[0][2];\n        r21 = R[1][0];\n        r22 = R[1][1];\n        r23 = R[1][2];\n        r31 = R[2][0];\n        r32 = R[2][1];\n        r33 = R[2][2];\n        return r11 * r22 * r33 - r11 * r32 * r23 - r21 * r12 * r33 + r21 * r32 * r13 + r31 * r12 * r23 - r31 * r22 * r13;\n    };\n    /**\n     * Returns the byte index of the extension.\n     * @returns {number}\n     */\n    getExtensionLocation() {\n        return NIFTI1.MAGIC_COOKIE + 4;\n    }\n    /**\n     * Returns the extension size.\n     * @param {DataView} data\n     * @returns {number}\n     */\n    getExtensionSize(data) {\n        return Utils.getIntAt(data, this.getExtensionLocation(), this.littleEndian);\n    }\n    /**\n     * Returns the extension code.\n     * @param {DataView} data\n     * @returns {number}\n     */\n    getExtensionCode(data) {\n        return Utils.getIntAt(data, this.getExtensionLocation() + 4, this.littleEndian);\n    }\n    /**\n     * Adds an extension\n     * @param {NIFTIEXTENSION} extension\n     * @param {number} index\n     */\n    addExtension(extension, index = -1) {\n        if (index == -1) {\n            this.extensions.push(extension);\n        }\n        else {\n            this.extensions.splice(index, 0, extension);\n        }\n        this.vox_offset += extension.esize;\n    }\n    /**\n     * Removes an extension\n     * @param {number} index\n     */\n    removeExtension(index) {\n        let extension = this.extensions[index];\n        if (extension) {\n            this.vox_offset -= extension.esize;\n        }\n        this.extensions.splice(index, 1);\n    }\n    /**\n     * Returns header as ArrayBuffer.\n     * @param {boolean} includeExtensions - should extension bytes be included\n     * @returns {ArrayBuffer}\n     */\n    toArrayBuffer(includeExtensions = false) {\n        const SHORT_SIZE = 2;\n        const FLOAT32_SIZE = 4;\n        let byteSize = 348 + 4; // + 4 for the extension bytes\n        // calculate necessary size\n        if (includeExtensions) {\n            for (let extension of this.extensions) {\n                byteSize += extension.esize;\n            }\n        }\n        let byteArray = new Uint8Array(byteSize);\n        let view = new DataView(byteArray.buffer);\n        // sizeof_hdr\n        view.setInt32(0, 348, this.littleEndian);\n        // data_type, db_name, extents, session_error, regular are not used\n        // dim_info\n        view.setUint8(39, this.dim_info);\n        // dims\n        for (let i = 0; i < 8; i++) {\n            view.setUint16(40 + SHORT_SIZE * i, this.dims[i], this.littleEndian);\n        }\n        // intent_p1, intent_p2, intent_p3\n        view.setFloat32(56, this.intent_p1, this.littleEndian);\n        view.setFloat32(60, this.intent_p2, this.littleEndian);\n        view.setFloat32(64, this.intent_p3, this.littleEndian);\n        // intent_code, datatype, bitpix, slice_start\n        view.setInt16(68, this.intent_code, this.littleEndian);\n        view.setInt16(70, this.datatypeCode, this.littleEndian);\n        view.setInt16(72, this.numBitsPerVoxel, this.littleEndian);\n        view.setInt16(74, this.slice_start, this.littleEndian);\n        // pixdim[8], vox_offset, scl_slope, scl_inter\n        for (let i = 0; i < 8; i++) {\n            view.setFloat32(76 + FLOAT32_SIZE * i, this.pixDims[i], this.littleEndian);\n        }\n        view.setFloat32(108, this.vox_offset, this.littleEndian);\n        view.setFloat32(112, this.scl_slope, this.littleEndian);\n        view.setFloat32(116, this.scl_inter, this.littleEndian);\n        // slice_end\n        view.setInt16(120, this.slice_end, this.littleEndian);\n        // slice_code, xyzt_units\n        view.setUint8(122, this.slice_code);\n        view.setUint8(123, this.xyzt_units);\n        // cal_max, cal_min, slice_duration, toffset\n        view.setFloat32(124, this.cal_max, this.littleEndian);\n        view.setFloat32(128, this.cal_min, this.littleEndian);\n        view.setFloat32(132, this.slice_duration, this.littleEndian);\n        view.setFloat32(136, this.toffset, this.littleEndian);\n        // glmax, glmin are unused\n        // descrip and aux_file\n        byteArray.set(new TextEncoder().encode(this.description), 148);\n        byteArray.set(new TextEncoder().encode(this.aux_file), 228);\n        // qform_code, sform_code\n        view.setInt16(252, this.qform_code, this.littleEndian);\n        view.setInt16(254, this.sform_code, this.littleEndian);\n        // quatern_b, quatern_c, quatern_d, qoffset_x, qoffset_y, qoffset_z, srow_x[4], srow_y[4], and srow_z[4]\n        view.setFloat32(256, this.quatern_b, this.littleEndian);\n        view.setFloat32(260, this.quatern_c, this.littleEndian);\n        view.setFloat32(264, this.quatern_d, this.littleEndian);\n        view.setFloat32(268, this.qoffset_x, this.littleEndian);\n        view.setFloat32(272, this.qoffset_y, this.littleEndian);\n        view.setFloat32(276, this.qoffset_z, this.littleEndian);\n        const flattened = this.affine.flat();\n        // we only want the first three rows\n        for (let i = 0; i < 12; i++) {\n            view.setFloat32(280 + FLOAT32_SIZE * i, flattened[i], this.littleEndian);\n        }\n        // intent_name and magic\n        byteArray.set(new TextEncoder().encode(this.intent_name), 328);\n        byteArray.set(new TextEncoder().encode(this.magic), 344);\n        // add our extension data\n        if (includeExtensions) {\n            byteArray.set(Uint8Array.from([1, 0, 0, 0]), 348);\n            let extensionByteIndex = this.getExtensionLocation();\n            for (const extension of this.extensions) {\n                view.setInt32(extensionByteIndex, extension.esize, extension.littleEndian);\n                view.setInt32(extensionByteIndex + 4, extension.ecode, extension.littleEndian);\n                byteArray.set(new Uint8Array(extension.edata), extensionByteIndex + 8);\n                extensionByteIndex += extension.esize;\n            }\n        }\n        else {\n            // In a .nii file, these 4 bytes will always be present\n            byteArray.set(new Uint8Array(4).fill(0), 348);\n        }\n        return byteArray.buffer;\n    }\n}\n//# sourceMappingURL=nifti1.js.map","import { NIFTI1 } from './nifti1.js';\nimport { Utils } from './utilities.js';\n/**\n * The NIFTI2 constructor.\n * @constructor\n * @property {boolean} littleEndian\n * @property {number} dim_info\n * @property {number[]} dims - image dimensions\n * @property {number} intent_p1\n * @property {number} intent_p2\n * @property {number} intent_p3\n * @property {number} intent_code\n * @property {number} datatypeCode\n * @property {number} numBitsPerVoxel\n * @property {number} slice_start\n * @property {number} slice_end\n * @property {number} slice_code\n * @property {number[]} pixDims - voxel dimensions\n * @property {number} vox_offset\n * @property {number} scl_slope\n * @property {number} scl_inter\n * @property {number} xyzt_units\n * @property {number} cal_max\n * @property {number} cal_min\n * @property {number} slice_duration\n * @property {number} toffset\n * @property {string} description\n * @property {string} aux_file\n * @property {string} intent_name\n * @property {number} qform_code\n * @property {number} sform_code\n * @property {number} quatern_b\n * @property {number} quatern_c\n * @property {number} quatern_d\n * @property {number} quatern_x\n * @property {number} quatern_y\n * @property {number} quatern_z\n * @property {Array.<Array.<number>>} affine\n * @property {string} magic\n * @property {number[]} extensionFlag\n * @property {NIFTIEXTENSION[]} extensions\n * @type {Function}\n */\nexport class NIFTI2 {\n    littleEndian = false;\n    dim_info = 0;\n    dims = [];\n    intent_p1 = 0;\n    intent_p2 = 0;\n    intent_p3 = 0;\n    intent_code = 0;\n    datatypeCode = 0;\n    numBitsPerVoxel = 0;\n    slice_start = 0;\n    slice_end = 0;\n    slice_code = 0;\n    pixDims = [];\n    vox_offset = 0;\n    scl_slope = 1;\n    scl_inter = 0;\n    xyzt_units = 0;\n    cal_max = 0;\n    cal_min = 0;\n    slice_duration = 0;\n    toffset = 0;\n    description = '';\n    aux_file = '';\n    intent_name = '';\n    qform_code = 0;\n    sform_code = 0;\n    quatern_b = 0;\n    quatern_c = 0;\n    quatern_d = 0;\n    qoffset_x = 0;\n    qoffset_y = 0;\n    qoffset_z = 0;\n    affine = [\n        [1, 0, 0, 0],\n        [0, 1, 0, 0],\n        [0, 0, 1, 0],\n        [0, 0, 0, 1]\n    ];\n    magic = '0';\n    extensionFlag = [0, 0, 0, 0];\n    extensions = [];\n    extensionSize = 0;\n    extensionCode = 0;\n    /*** Static Pseudo-constants ***/\n    static MAGIC_COOKIE = 540;\n    static MAGIC_NUMBER_LOCATION = 4;\n    static MAGIC_NUMBER = [0x6e, 0x2b, 0x32, 0, 0x0d, 0x0a, 0x1a, 0x0a]; // n+2\\0\n    static MAGIC_NUMBER2 = [0x6e, 0x69, 0x32, 0, 0x0d, 0x0a, 0x1a, 0x0a]; // ni2\\0\n    /*** Prototype Methods ***/\n    /**\n     * Reads the header data.\n     * @param {ArrayBuffer} data\n     */\n    readHeader(data) {\n        var rawData = new DataView(data), magicCookieVal = Utils.getIntAt(rawData, 0, this.littleEndian), ctr, ctrOut, ctrIn, index, array;\n        if (magicCookieVal !== NIFTI2.MAGIC_COOKIE) {\n            // try as little endian\n            this.littleEndian = true;\n            magicCookieVal = Utils.getIntAt(rawData, 0, this.littleEndian);\n        }\n        if (magicCookieVal !== NIFTI2.MAGIC_COOKIE) {\n            throw new Error('This does not appear to be a NIFTI file!');\n        }\n        this.magic = Utils.getStringAt(rawData, 4, 12);\n        this.datatypeCode = Utils.getShortAt(rawData, 12, this.littleEndian);\n        this.numBitsPerVoxel = Utils.getShortAt(rawData, 14, this.littleEndian);\n        for (ctr = 0; ctr < 8; ctr += 1) {\n            index = 16 + ctr * 8;\n            this.dims[ctr] = Utils.getInt64At(rawData, index, this.littleEndian);\n        }\n        this.intent_p1 = Utils.getDoubleAt(rawData, 80, this.littleEndian);\n        this.intent_p2 = Utils.getDoubleAt(rawData, 88, this.littleEndian);\n        this.intent_p3 = Utils.getDoubleAt(rawData, 96, this.littleEndian);\n        for (ctr = 0; ctr < 8; ctr += 1) {\n            index = 104 + ctr * 8;\n            this.pixDims[ctr] = Utils.getDoubleAt(rawData, index, this.littleEndian);\n        }\n        this.vox_offset = Utils.getInt64At(rawData, 168, this.littleEndian);\n        this.scl_slope = Utils.getDoubleAt(rawData, 176, this.littleEndian);\n        this.scl_inter = Utils.getDoubleAt(rawData, 184, this.littleEndian);\n        this.cal_max = Utils.getDoubleAt(rawData, 192, this.littleEndian);\n        this.cal_min = Utils.getDoubleAt(rawData, 200, this.littleEndian);\n        this.slice_duration = Utils.getDoubleAt(rawData, 208, this.littleEndian);\n        this.toffset = Utils.getDoubleAt(rawData, 216, this.littleEndian);\n        this.slice_start = Utils.getInt64At(rawData, 224, this.littleEndian);\n        this.slice_end = Utils.getInt64At(rawData, 232, this.littleEndian);\n        this.description = Utils.getStringAt(rawData, 240, 240 + 80);\n        this.aux_file = Utils.getStringAt(rawData, 320, 320 + 24);\n        this.qform_code = Utils.getIntAt(rawData, 344, this.littleEndian);\n        this.sform_code = Utils.getIntAt(rawData, 348, this.littleEndian);\n        this.quatern_b = Utils.getDoubleAt(rawData, 352, this.littleEndian);\n        this.quatern_c = Utils.getDoubleAt(rawData, 360, this.littleEndian);\n        this.quatern_d = Utils.getDoubleAt(rawData, 368, this.littleEndian);\n        this.qoffset_x = Utils.getDoubleAt(rawData, 376, this.littleEndian);\n        this.qoffset_y = Utils.getDoubleAt(rawData, 384, this.littleEndian);\n        this.qoffset_z = Utils.getDoubleAt(rawData, 392, this.littleEndian);\n        for (ctrOut = 0; ctrOut < 3; ctrOut += 1) {\n            for (ctrIn = 0; ctrIn < 4; ctrIn += 1) {\n                index = 400 + (ctrOut * 4 + ctrIn) * 8;\n                this.affine[ctrOut][ctrIn] = Utils.getDoubleAt(rawData, index, this.littleEndian);\n            }\n        }\n        this.affine[3][0] = 0;\n        this.affine[3][1] = 0;\n        this.affine[3][2] = 0;\n        this.affine[3][3] = 1;\n        this.slice_code = Utils.getIntAt(rawData, 496, this.littleEndian);\n        this.xyzt_units = Utils.getIntAt(rawData, 500, this.littleEndian);\n        this.intent_code = Utils.getIntAt(rawData, 504, this.littleEndian);\n        this.intent_name = Utils.getStringAt(rawData, 508, 508 + 16);\n        this.dim_info = Utils.getByteAt(rawData, 524);\n        if (rawData.byteLength > NIFTI2.MAGIC_COOKIE) {\n            this.extensionFlag[0] = Utils.getByteAt(rawData, 540);\n            this.extensionFlag[1] = Utils.getByteAt(rawData, 540 + 1);\n            this.extensionFlag[2] = Utils.getByteAt(rawData, 540 + 2);\n            this.extensionFlag[3] = Utils.getByteAt(rawData, 540 + 3);\n            if (this.extensionFlag[0]) {\n                // read our extensions\n                this.extensions = Utils.getExtensionsAt(rawData, this.getExtensionLocation(), this.littleEndian, this.vox_offset);\n                // set the extensionSize and extensionCode from the first extension found\n                this.extensionSize = this.extensions[0].esize;\n                this.extensionCode = this.extensions[0].ecode;\n            }\n        }\n    }\n    /**\n     * Returns a formatted string of header fields.\n     * @returns {string}\n     */\n    toFormattedString() {\n        var fmt = Utils.formatNumber, string = '';\n        string += 'Datatype = ' + +this.datatypeCode + ' (' + this.getDatatypeCodeString(this.datatypeCode) + ')\\n';\n        string += 'Bits Per Voxel = ' + ' = ' + this.numBitsPerVoxel + '\\n';\n        string +=\n            'Image Dimensions' +\n                ' (1-8): ' +\n                this.dims[0] +\n                ', ' +\n                this.dims[1] +\n                ', ' +\n                this.dims[2] +\n                ', ' +\n                this.dims[3] +\n                ', ' +\n                this.dims[4] +\n                ', ' +\n                this.dims[5] +\n                ', ' +\n                this.dims[6] +\n                ', ' +\n                this.dims[7] +\n                '\\n';\n        string += 'Intent Parameters (1-3): ' + this.intent_p1 + ', ' + this.intent_p2 + ', ' + this.intent_p3 + '\\n';\n        string +=\n            'Voxel Dimensions (1-8): ' +\n                fmt(this.pixDims[0]) +\n                ', ' +\n                fmt(this.pixDims[1]) +\n                ', ' +\n                fmt(this.pixDims[2]) +\n                ', ' +\n                fmt(this.pixDims[3]) +\n                ', ' +\n                fmt(this.pixDims[4]) +\n                ', ' +\n                fmt(this.pixDims[5]) +\n                ', ' +\n                fmt(this.pixDims[6]) +\n                ', ' +\n                fmt(this.pixDims[7]) +\n                '\\n';\n        string += 'Image Offset = ' + this.vox_offset + '\\n';\n        string += 'Data Scale:  Slope = ' + fmt(this.scl_slope) + '  Intercept = ' + fmt(this.scl_inter) + '\\n';\n        string += 'Display Range:  Max = ' + fmt(this.cal_max) + '  Min = ' + fmt(this.cal_min) + '\\n';\n        string += 'Slice Duration = ' + this.slice_duration + '\\n';\n        string += 'Time Axis Shift = ' + this.toffset + '\\n';\n        string += 'Slice Start = ' + this.slice_start + '\\n';\n        string += 'Slice End = ' + this.slice_end + '\\n';\n        string += 'Description: \"' + this.description + '\"\\n';\n        string += 'Auxiliary File: \"' + this.aux_file + '\"\\n';\n        string += 'Q-Form Code = ' + this.qform_code + ' (' + this.getTransformCodeString(this.qform_code) + ')\\n';\n        string += 'S-Form Code = ' + this.sform_code + ' (' + this.getTransformCodeString(this.sform_code) + ')\\n';\n        string +=\n            'Quaternion Parameters:  ' +\n                'b = ' +\n                fmt(this.quatern_b) +\n                '  ' +\n                'c = ' +\n                fmt(this.quatern_c) +\n                '  ' +\n                'd = ' +\n                fmt(this.quatern_d) +\n                '\\n';\n        string +=\n            'Quaternion Offsets:  ' +\n                'x = ' +\n                this.qoffset_x +\n                '  ' +\n                'y = ' +\n                this.qoffset_y +\n                '  ' +\n                'z = ' +\n                this.qoffset_z +\n                '\\n';\n        string +=\n            'S-Form Parameters X: ' +\n                fmt(this.affine[0][0]) +\n                ', ' +\n                fmt(this.affine[0][1]) +\n                ', ' +\n                fmt(this.affine[0][2]) +\n                ', ' +\n                fmt(this.affine[0][3]) +\n                '\\n';\n        string +=\n            'S-Form Parameters Y: ' +\n                fmt(this.affine[1][0]) +\n                ', ' +\n                fmt(this.affine[1][1]) +\n                ', ' +\n                fmt(this.affine[1][2]) +\n                ', ' +\n                fmt(this.affine[1][3]) +\n                '\\n';\n        string +=\n            'S-Form Parameters Z: ' +\n                fmt(this.affine[2][0]) +\n                ', ' +\n                fmt(this.affine[2][1]) +\n                ', ' +\n                fmt(this.affine[2][2]) +\n                ', ' +\n                fmt(this.affine[2][3]) +\n                '\\n';\n        string += 'Slice Code = ' + this.slice_code + '\\n';\n        string +=\n            'Units Code = ' +\n                this.xyzt_units +\n                ' (' +\n                this.getUnitsCodeString(NIFTI1.SPATIAL_UNITS_MASK & this.xyzt_units) +\n                ', ' +\n                this.getUnitsCodeString(NIFTI1.TEMPORAL_UNITS_MASK & this.xyzt_units) +\n                ')\\n';\n        string += 'Intent Code = ' + this.intent_code + '\\n';\n        string += 'Intent Name: \"' + this.intent_name + '\"\\n';\n        string += 'Dim Info = ' + this.dim_info + '\\n';\n        return string;\n    }\n    /**\n     * Returns the byte index of the extension.\n     * @returns {number}\n     */\n    getExtensionLocation = function () {\n        return NIFTI2.MAGIC_COOKIE + 4;\n    };\n    /**\n     * Returns the extension size.\n     * @param {DataView} data\n     * @returns {number}\n     */\n    getExtensionSize = NIFTI1.prototype.getExtensionSize;\n    /**\n     * Returns the extension code.\n     * @param {DataView} data\n     * @returns {number}\n     */\n    getExtensionCode = NIFTI1.prototype.getExtensionCode;\n    /**\n     * Adds an extension\n     * @param {NIFTIEXTENSION} extension\n     * @param {number} index\n     */\n    addExtension = NIFTI1.prototype.addExtension;\n    /**\n     * Removes an extension\n     * @param {number} index\n     */\n    removeExtension = NIFTI1.prototype.removeExtension;\n    /**\n     * Returns a human-readable string of datatype.\n     * @param {number} code\n     * @returns {string}\n     */\n    getDatatypeCodeString = NIFTI1.prototype.getDatatypeCodeString;\n    /**\n     * Returns a human-readable string of transform type.\n     * @param {number} code\n     * @returns {string}\n     */\n    getTransformCodeString = NIFTI1.prototype.getTransformCodeString;\n    /**\n     * Returns a human-readable string of spatial and temporal units.\n     * @param {number} code\n     * @returns {string}\n     */\n    getUnitsCodeString = NIFTI1.prototype.getUnitsCodeString;\n    /**\n     * Returns the qform matrix.\n     * @returns {Array.<Array.<number>>}\n     */\n    getQformMat = NIFTI1.prototype.getQformMat;\n    /**\n     * Converts qform to an affine.  (See http://nifti.nimh.nih.gov/pub/dist/src/niftilib/nifti1_io.c)\n     * @param {number} qb\n     * @param {number} qc\n     * @param {number} qd\n     * @param {number} qx\n     * @param {number} qy\n     * @param {number} qz\n     * @param {number} dx\n     * @param {number} dy\n     * @param {number} dz\n     * @param {number} qfac\n     * @returns {Array.<Array.<number>>}\n     */\n    convertNiftiQFormToNiftiSForm = NIFTI1.prototype.convertNiftiQFormToNiftiSForm;\n    /**\n     * Converts sform to an orientation string (e.g., XYZ+--).  (See http://nimh.nih.gov/pub/dist/src/niftilib/nifti1_io.c)\n     * @param {Array.<Array.<number>>} R\n     * @returns {string}\n     */\n    convertNiftiSFormToNEMA = NIFTI1.prototype.convertNiftiSFormToNEMA;\n    nifti_mat33_mul = NIFTI1.prototype.nifti_mat33_mul;\n    nifti_mat33_determ = NIFTI1.prototype.nifti_mat33_determ;\n    /**\n     * Returns header as ArrayBuffer.\n     * @param {boolean} includeExtensions - should extension bytes be included\n     * @returns {ArrayBuffer}\n     */\n    toArrayBuffer(includeExtensions = false) {\n        const INT64_SIZE = 8;\n        const DOUBLE_SIZE = 8;\n        let byteSize = 540 + 4; // +4 for extension bytes\n        // calculate necessary size\n        if (includeExtensions) {\n            for (let extension of this.extensions) {\n                byteSize += extension.esize;\n            }\n        }\n        let byteArray = new Uint8Array(byteSize);\n        let view = new DataView(byteArray.buffer);\n        // sizeof_hdr\n        view.setInt32(0, 540, this.littleEndian);\n        // magic\n        byteArray.set(new TextEncoder().encode(this.magic), 4);\n        // datatype\n        view.setInt16(12, this.datatypeCode, this.littleEndian);\n        // bitpix\n        view.setInt16(14, this.numBitsPerVoxel, this.littleEndian);\n        // dim[8]\n        for (let i = 0; i < 8; i++) {\n            view.setBigInt64(16 + INT64_SIZE * i, BigInt(this.dims[i]), this.littleEndian);\n        }\n        // intent_p1\n        view.setFloat64(80, this.intent_p1, this.littleEndian);\n        // intent_p2\n        view.setFloat64(88, this.intent_p2, this.littleEndian);\n        // intent_p3\n        view.setFloat64(96, this.intent_p3, this.littleEndian);\n        // pixdim\n        for (let i = 0; i < 8; i++) {\n            view.setFloat64(104 + DOUBLE_SIZE * i, this.pixDims[i], this.littleEndian);\n        }\n        // vox_offset\n        view.setBigInt64(168, BigInt(this.vox_offset), this.littleEndian);\n        // scl_slope\n        view.setFloat64(176, this.scl_slope, this.littleEndian);\n        // scl_inter\n        view.setFloat64(184, this.scl_inter, this.littleEndian);\n        // cal_max\n        view.setFloat64(192, this.cal_max, this.littleEndian);\n        // cal_min\n        view.setFloat64(200, this.cal_min, this.littleEndian);\n        // slice_duration\n        view.setFloat64(208, this.slice_duration, this.littleEndian);\n        // toffset\n        view.setFloat64(216, this.toffset, this.littleEndian);\n        // slice_start\n        view.setBigInt64(224, BigInt(this.slice_start), this.littleEndian);\n        // slice end\n        view.setBigInt64(232, BigInt(this.slice_end), this.littleEndian);\n        // descrip\n        byteArray.set(new TextEncoder().encode(this.description), 240);\n        // aux_file\n        byteArray.set(new TextEncoder().encode(this.aux_file), 320);\n        // qform_code\n        view.setInt32(344, this.qform_code, this.littleEndian);\n        // sform_code\n        view.setInt32(348, this.sform_code, this.littleEndian);\n        // quatern_b\n        view.setFloat64(352, this.quatern_b, this.littleEndian);\n        // quatern_c\n        view.setFloat64(360, this.quatern_c, this.littleEndian);\n        // quatern_d\n        view.setFloat64(368, this.quatern_d, this.littleEndian);\n        // qoffset_x\n        view.setFloat64(376, this.qoffset_x, this.littleEndian);\n        // qoffset_y\n        view.setFloat64(384, this.qoffset_y, this.littleEndian);\n        // qoffset_z\n        view.setFloat64(392, this.qoffset_z, this.littleEndian);\n        // srow_x[4], srow_y[4], and srow_z[4]\n        const flattened = this.affine.flat();\n        // we only want the first three rows\n        for (let i = 0; i < 12; i++) {\n            view.setFloat64(400 + DOUBLE_SIZE * i, flattened[i], this.littleEndian);\n        }\n        // slice_code\n        view.setInt32(496, this.slice_code, this.littleEndian);\n        //  xyzt_units\n        view.setInt32(500, this.xyzt_units, this.littleEndian);\n        //  intent_code\n        view.setInt32(504, this.intent_code, this.littleEndian);\n        //  intent_name\n        byteArray.set(new TextEncoder().encode(this.intent_name), 508);\n        // dim_info\n        view.setUint8(524, this.dim_info);\n        // add our extension data\n        if (includeExtensions) {\n            byteArray.set(Uint8Array.from([1, 0, 0, 0]), 540);\n            let extensionByteIndex = this.getExtensionLocation();\n            for (const extension of this.extensions) {\n                view.setInt32(extensionByteIndex, extension.esize, extension.littleEndian);\n                view.setInt32(extensionByteIndex + 4, extension.ecode, extension.littleEndian);\n                byteArray.set(new Uint8Array(extension.edata), extensionByteIndex + 8);\n                extensionByteIndex += extension.esize;\n            }\n        }\n        else {\n            // In a .nii file, these 4 bytes will always be present\n            byteArray.set(new Uint8Array(4).fill(0), 540);\n        }\n        return byteArray.buffer;\n    }\n}\n//# sourceMappingURL=nifti2.js.map","import { decompressSync } from 'fflate';\nimport { NIFTI1 } from './nifti1.js';\nimport { NIFTI2 } from './nifti2.js';\nimport { Utils } from './utilities.js';\nexport { NIFTI1 } from './nifti1.js';\nexport { NIFTI2 } from './nifti2.js';\nexport { Utils } from './utilities.js';\nexport { NIFTIEXTENSION } from './nifti-extension.js';\n/*** Static Methods ***/\n/**\n * Returns true if this data represents a NIFTI-1 header.\n * @param {ArrayBuffer} data\n * @returns {boolean}\n */\nexport function isNIFTI1(data, isHdrImgPairOK = false) {\n    var buf, mag1, mag2, mag3;\n    if (data.byteLength < NIFTI1.STANDARD_HEADER_SIZE) {\n        return false;\n    }\n    buf = new DataView(data);\n    if (buf)\n        mag1 = buf.getUint8(NIFTI1.MAGIC_NUMBER_LOCATION);\n    mag2 = buf.getUint8(NIFTI1.MAGIC_NUMBER_LOCATION + 1);\n    mag3 = buf.getUint8(NIFTI1.MAGIC_NUMBER_LOCATION + 2);\n    if (isHdrImgPairOK &&\n        mag1 === NIFTI1.MAGIC_NUMBER2[0] &&\n        mag2 === NIFTI1.MAGIC_NUMBER2[1] &&\n        mag3 === NIFTI1.MAGIC_NUMBER2[2])\n        return true; // hdr/img pair\n    return !!(mag1 === NIFTI1.MAGIC_NUMBER[0] && mag2 === NIFTI1.MAGIC_NUMBER[1] && mag3 === NIFTI1.MAGIC_NUMBER[2]);\n}\n/**\n * Returns true if this data represents a NIFTI-2 header.\n * @param {ArrayBuffer} data\n * @returns {boolean}\n */\nexport function isNIFTI2(data, isHdrImgPairOK = false) {\n    var buf, mag1, mag2, mag3;\n    if (data.byteLength < NIFTI1.STANDARD_HEADER_SIZE) {\n        return false;\n    }\n    buf = new DataView(data);\n    mag1 = buf.getUint8(NIFTI2.MAGIC_NUMBER_LOCATION);\n    mag2 = buf.getUint8(NIFTI2.MAGIC_NUMBER_LOCATION + 1);\n    mag3 = buf.getUint8(NIFTI2.MAGIC_NUMBER_LOCATION + 2);\n    if (isHdrImgPairOK &&\n        mag1 === NIFTI2.MAGIC_NUMBER2[0] &&\n        mag2 === NIFTI2.MAGIC_NUMBER2[1] &&\n        mag3 === NIFTI2.MAGIC_NUMBER2[2])\n        return true; // hdr/img pair\n    return !!(mag1 === NIFTI2.MAGIC_NUMBER[0] && mag2 === NIFTI2.MAGIC_NUMBER[1] && mag3 === NIFTI2.MAGIC_NUMBER[2]);\n}\n/**\n * Returns true if this data represents a NIFTI header.\n * @param {ArrayBuffer} data\n * @returns {boolean}\n */\nexport function isNIFTI(data, isHdrImgPairOK = false) {\n    return isNIFTI1(data, isHdrImgPairOK) || isNIFTI2(data, isHdrImgPairOK);\n}\n/**\n * Returns true if this data is GZIP compressed.\n * @param {ArrayBuffer} data\n * @returns {boolean}\n */\nexport function isCompressed(data) {\n    var buf, magicCookie1, magicCookie2;\n    if (data) {\n        buf = new DataView(data);\n        magicCookie1 = buf.getUint8(0);\n        magicCookie2 = buf.getUint8(1);\n        if (magicCookie1 === Utils.GUNZIP_MAGIC_COOKIE1) {\n            return true;\n        }\n        if (magicCookie2 === Utils.GUNZIP_MAGIC_COOKIE2) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * Returns decompressed data.\n * @param {ArrayBuffer} data\n * @returns {ArrayBuffer}\n */\nexport function decompress(data) {\n    return decompressSync(new Uint8Array(data)).buffer;\n}\n/**\n * Returns promise of decompressed data.\n * @param {ArrayBuffer} data\n * @returns {Promise<ArrayBuffer>}\n */\nexport async function decompressAsync(data) {\n    const uint8Data = new Uint8Array(data);\n    const format = uint8Data[0] === 31 && uint8Data[1] === 139 && uint8Data[2] === 8\n        ? 'gzip'\n        : uint8Data[0] === 120 && (uint8Data[1] === 1 || uint8Data[1] === 94 || uint8Data[1] === 156 || uint8Data[1] === 218)\n            ? 'deflate'\n            : 'deflate-raw';\n    const stream = new DecompressionStream(format);\n    const writer = stream.writable.getWriter();\n    writer.write(uint8Data).catch(console.error); // Do not await this\n    // Close without awaiting directly, preventing the hang issue\n    const closePromise = writer.close().catch(console.error);\n    const response = new Response(stream.readable);\n    const result = await response.arrayBuffer(); // Return ArrayBuffer instead of Uint8Array\n    await closePromise; // Ensure close happens eventually\n    return result;\n}\n/**\n * Returns promise of decompressed initial portion of data, reads at least minOutputBytes or entire file.\n * @param {ArrayBuffer} data\n * @param {number } minOutputBytes\n * @returns {Promise<ArrayBuffer>}\n */\nexport async function decompressHeaderAsync(data, minOutputBytes = Infinity) {\n    // Utility function to detect compression format\n    const detectFormat = (data) => {\n        if (data[0] === 31 && data[1] === 139 && data[2] === 8)\n            return 'gzip';\n        if (data[0] === 120 && [1, 94, 156, 218].includes(data[1]))\n            return 'deflate';\n        return 'deflate-raw';\n    };\n    const uint8Data = new Uint8Array(data);\n    const format = detectFormat(uint8Data);\n    const stream = new DecompressionStream(format);\n    // Create a TransformStream to limit the output size\n    const limitStream = new TransformStream({\n        transform(chunk, controller) {\n            controller.enqueue(chunk);\n        },\n        flush(controller) {\n            controller.terminate();\n        }\n    });\n    // Set up the pipeline\n    const { readable, writable } = stream;\n    const writer = writable.getWriter();\n    const limitedReader = readable\n        .pipeThrough(limitStream)\n        .getReader();\n    // Start the write operation\n    writer.write(uint8Data).catch(err => {\n        if (!(err instanceof Error && err.name === 'AbortError')) {\n            console.error('Error during write:', err);\n        }\n    });\n    const chunks = [];\n    let totalBytes = 0;\n    try {\n        while (totalBytes < minOutputBytes) {\n            const { done, value } = await limitedReader.read();\n            if (done)\n                break;\n            const remainingSpace = minOutputBytes - totalBytes;\n            const chunk = value.subarray(0, Math.min(value.length, remainingSpace));\n            chunks.push(chunk);\n            totalBytes += chunk.length;\n            if (totalBytes >= minOutputBytes) {\n                // Clean abort of all streams\n                await Promise.all([\n                    limitedReader.cancel().catch(() => { }),\n                    writer.abort().catch(() => { })\n                ]);\n                break;\n            }\n        }\n    }\n    catch (err) {\n        if (!(err instanceof Error && err.name === 'AbortError')) {\n            console.error('Error during decompression:', err);\n        }\n    }\n    finally {\n        await Promise.allSettled([\n            limitedReader.cancel().catch(() => { }),\n            writer.close().catch(() => { })\n        ]);\n    }\n    // Combine chunks efficiently\n    return chunks.length === 1\n        ? chunks[0].buffer\n        : chunks.reduce((acc, chunk) => {\n            const combined = new Uint8Array(acc.byteLength + chunk.byteLength);\n            combined.set(new Uint8Array(acc), 0);\n            combined.set(chunk, acc.byteLength);\n            return combined.buffer;\n        }, new ArrayBuffer(0));\n}\n/**\n * Reads and returns the header object.\n * @param {ArrayBuffer} data\n * @returns {NIFTI1|NIFTI2}\n */\nexport function readHeader(data, isHdrImgPairOK = false) {\n    let header = null;\n    if (isCompressed(data)) {\n        data = decompress(data);\n    }\n    if (isNIFTI1(data, isHdrImgPairOK)) {\n        header = new NIFTI1();\n    }\n    else if (isNIFTI2(data, isHdrImgPairOK)) {\n        header = new NIFTI2();\n    }\n    if (header) {\n        header.readHeader(data);\n    }\n    else {\n        throw new Error('That file does not appear to be NIFTI!');\n    }\n    return header;\n}\nexport async function readHeaderAsync(data, isHdrImgPairOK = false) {\n    if (!isCompressed(data)) {\n        return readHeader(data, isHdrImgPairOK);\n    }\n    let header = null;\n    let dat = await decompressHeaderAsync(data, 540);\n    let isLitteEndian = true;\n    let isVers1 = true;\n    var rawData = new DataView(dat);\n    const sigLittle = rawData.getInt32(0, true);\n    const sigBig = rawData.getInt32(0, false);\n    if (sigLittle === 348) {\n        //little NIFTI1\n    }\n    else if (sigBig === 348) {\n        isLitteEndian = false;\n    }\n    else if (sigLittle === 540) {\n        isVers1 = false;\n    }\n    else if (sigBig === 540) {\n        isVers1 = false;\n        isLitteEndian = false;\n    }\n    else {\n        throw new Error('That file does not appear to be NIFTI!');\n    }\n    let vox_offset = Math.round(rawData.getFloat32(108, isLitteEndian));\n    if (NIFTI2) {\n        vox_offset = Utils.getUint64At(rawData, 168, isLitteEndian);\n    }\n    if (vox_offset > dat.byteLength) {\n        // it appears the header has extensions - make sure we have decompressed enough\n        dat = await decompressHeaderAsync(data, vox_offset);\n    }\n    if (isVers1) {\n        header = new NIFTI1();\n    }\n    else {\n        header = new NIFTI2();\n    }\n    header.readHeader(dat);\n    return header;\n}\n/**\n * Returns true if this header contains an extension.\n * @param {NIFTI1|NIFTI2} header\n * @returns {boolean}\n */\nexport function hasExtension(header) {\n    return header.extensionFlag[0] != 0;\n}\n/**\n * Returns the image data.\n * @param {NIFTI1|NIFTI2} header\n * @param {ArrayBuffer} data\n * @returns {ArrayBuffer}\n */\nexport function readImage(header, data) {\n    var imageOffset = header.vox_offset, timeDim = 1, statDim = 1;\n    if (header.dims[4]) {\n        timeDim = header.dims[4];\n    }\n    if (header.dims[5]) {\n        statDim = header.dims[5];\n    }\n    var imageSize = header.dims[1] * header.dims[2] * header.dims[3] * timeDim * statDim * (header.numBitsPerVoxel / 8);\n    return data.slice(imageOffset, imageOffset + imageSize);\n}\n/**\n * Returns the extension data (including extension header).\n * @param {NIFTI1|NIFTI2} header\n * @param {ArrayBuffer} data\n * @returns {ArrayBuffer}\n */\nexport function readExtension(header, data) {\n    var loc = header.getExtensionLocation(), size = header.extensionSize;\n    return data.slice(loc, loc + size);\n}\n/**\n * Returns the extension data.\n * @param {NIFTI1|NIFTI2} header\n * @param {ArrayBuffer} data\n * @returns {ArrayBuffer}\n */\nexport function readExtensionData(header, data) {\n    var loc = header.getExtensionLocation(), size = header.extensionSize;\n    return data.slice(loc + 8, loc + size); // +8 for loc and -8 for esize and ecode\n}\n//# sourceMappingURL=nifti.js.map","export function strip_prefix(path) {\n    // @ts-expect-error - TS can't infer this type correctly\n    return path.slice(1);\n}\nexport function uri2href(url) {\n    let [protocol, rest] = (typeof url === \"string\" ? url : url.href).split(\"://\");\n    if (protocol === \"https\" || protocol === \"http\") {\n        return url;\n    }\n    if (protocol === \"gc\") {\n        return `https://storage.googleapis.com/${rest}`;\n    }\n    if (protocol === \"s3\") {\n        return `https://s3.amazonaws.com/${rest}`;\n    }\n    throw Error(`Protocol not supported, got: ${JSON.stringify(protocol)}`);\n}\nexport function fetch_range(url, offset, length, opts = {}) {\n    if (offset !== undefined && length !== undefined) {\n        // merge request opts\n        opts = {\n            ...opts,\n            headers: {\n                ...opts.headers,\n                Range: `bytes=${offset}-${offset + length - 1}`,\n            },\n        };\n    }\n    return fetch(url, opts);\n}\nexport function merge_init(storeOverrides, requestOverrides) {\n    // Request overrides take precedence over storeOverrides.\n    return {\n        ...storeOverrides,\n        ...requestOverrides,\n        headers: {\n            ...storeOverrides.headers,\n            ...requestOverrides.headers,\n        },\n    };\n}\n/**\n * Make an assertion.\n *\n * Usage\n * @example\n * ```ts\n * const value: boolean = Math.random() <= 0.5;\n * assert(value, \"value is greater than than 0.5!\");\n * value // true\n * ```\n *\n * @param expression - The expression to test.\n * @param msg - The optional message to display if the assertion fails.\n * @throws an {@link Error} if `expression` is not truthy.\n */\nexport function assert(expression, msg = \"\") {\n    if (!expression)\n        throw new Error(msg);\n}\n//# sourceMappingURL=util.js.map","import { fetch_range, merge_init } from \"./util.js\";\nfunction resolve(root, path) {\n    const base = typeof root === \"string\" ? new URL(root) : root;\n    if (!base.pathname.endsWith(\"/\")) {\n        // ensure trailing slash so that base is resolved as _directory_\n        base.pathname += \"/\";\n    }\n    const resolved = new URL(path.slice(1), base);\n    // copy search params to new URL\n    resolved.search = base.search;\n    return resolved;\n}\nasync function handle_response(response) {\n    if (response.status === 404) {\n        return undefined;\n    }\n    if (response.status === 200 || response.status === 206) {\n        return new Uint8Array(await response.arrayBuffer());\n    }\n    throw new Error(`Unexpected response status ${response.status} ${response.statusText}`);\n}\nasync function fetch_suffix(url, suffix_length, init, use_suffix_request) {\n    if (use_suffix_request) {\n        return fetch(url, {\n            ...init,\n            headers: { ...init.headers, Range: `bytes=-${suffix_length}` },\n        });\n    }\n    let response = await fetch(url, { ...init, method: \"HEAD\" });\n    if (!response.ok) {\n        // will be picked up by handle_response\n        return response;\n    }\n    let content_length = response.headers.get(\"Content-Length\");\n    let length = Number(content_length);\n    return fetch_range(url, length - suffix_length, length, init);\n}\n/**\n * Readonly store based in the [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API).\n * Must polyfill `fetch` for use in Node.js.\n *\n * ```typescript\n * import * as zarr from \"zarrita\";\n * const store = new FetchStore(\"http://localhost:8080/data.zarr\");\n * const arr = await zarr.get(store, { kind: \"array\" });\n * ```\n */\nclass FetchStore {\n    url;\n    #overrides;\n    #use_suffix_request;\n    constructor(url, options = {}) {\n        this.url = url;\n        this.#overrides = options.overrides ?? {};\n        this.#use_suffix_request = options.useSuffixRequest ?? false;\n    }\n    #merge_init(overrides) {\n        return merge_init(this.#overrides, overrides);\n    }\n    async get(key, options = {}) {\n        let href = resolve(this.url, key).href;\n        let response = await fetch(href, this.#merge_init(options));\n        return handle_response(response);\n    }\n    async getRange(key, range, options = {}) {\n        let url = resolve(this.url, key);\n        let init = this.#merge_init(options);\n        let response;\n        if (\"suffixLength\" in range) {\n            response = await fetch_suffix(url, range.suffixLength, init, this.#use_suffix_request);\n        }\n        else {\n            response = await fetch_range(url, range.offset, range.length, init);\n        }\n        return handle_response(response);\n    }\n}\nexport default FetchStore;\n//# sourceMappingURL=fetch.js.map","/**\n * Custom array-like views (i.e., TypedArrays) for Zarr binary data buffers.\n *\n * @module\n */\n/**\n * An array-like view of a fixed-length boolean buffer.\n *\n * Encoded as 1 byte per value.\n */\nexport class BoolArray {\n    #bytes;\n    constructor(x, byteOffset, length) {\n        if (typeof x === \"number\") {\n            this.#bytes = new Uint8Array(x);\n        }\n        else if (x instanceof ArrayBuffer) {\n            this.#bytes = new Uint8Array(x, byteOffset, length);\n        }\n        else {\n            this.#bytes = new Uint8Array(Array.from(x, (v) => (v ? 1 : 0)));\n        }\n    }\n    get BYTES_PER_ELEMENT() {\n        return 1;\n    }\n    get byteOffset() {\n        return this.#bytes.byteOffset;\n    }\n    get byteLength() {\n        return this.#bytes.byteLength;\n    }\n    get buffer() {\n        return this.#bytes.buffer;\n    }\n    get length() {\n        return this.#bytes.length;\n    }\n    get(idx) {\n        let value = this.#bytes[idx];\n        return typeof value === \"number\" ? value !== 0 : value;\n    }\n    set(idx, value) {\n        this.#bytes[idx] = value ? 1 : 0;\n    }\n    fill(value) {\n        this.#bytes.fill(value ? 1 : 0);\n    }\n    *[Symbol.iterator]() {\n        for (let i = 0; i < this.length; i++) {\n            yield this.get(i);\n        }\n    }\n}\n/**\n * An array-like view of a fixed-length byte buffer.\n *\n * Encodes a raw byte sequences without enforced encoding.\n */\nexport class ByteStringArray {\n    _data;\n    chars;\n    #encoder;\n    constructor(chars, x, byteOffset, length) {\n        this.chars = chars;\n        this.#encoder = new TextEncoder();\n        if (typeof x === \"number\") {\n            this._data = new Uint8Array(x * chars);\n        }\n        else if (x instanceof ArrayBuffer) {\n            if (length)\n                length = length * chars;\n            this._data = new Uint8Array(x, byteOffset, length);\n        }\n        else {\n            let values = Array.from(x);\n            this._data = new Uint8Array(values.length * chars);\n            for (let i = 0; i < values.length; i++) {\n                this.set(i, values[i]);\n            }\n        }\n    }\n    get BYTES_PER_ELEMENT() {\n        return this.chars;\n    }\n    get byteOffset() {\n        return this._data.byteOffset;\n    }\n    get byteLength() {\n        return this._data.byteLength;\n    }\n    get buffer() {\n        return this._data.buffer;\n    }\n    get length() {\n        return this.byteLength / this.BYTES_PER_ELEMENT;\n    }\n    get(idx) {\n        const view = new Uint8Array(this.buffer, this.byteOffset + this.chars * idx, this.chars);\n        // biome-ignore lint/suspicious/noControlCharactersInRegex: necessary for null byte removal\n        return new TextDecoder().decode(view).replace(/\\x00/g, \"\");\n    }\n    set(idx, value) {\n        const view = new Uint8Array(this.buffer, this.byteOffset + this.chars * idx, this.chars);\n        view.fill(0); // clear current\n        view.set(this.#encoder.encode(value));\n    }\n    fill(value) {\n        const encoded = this.#encoder.encode(value);\n        for (let i = 0; i < this.length; i++) {\n            this._data.set(encoded, i * this.chars);\n        }\n    }\n    *[Symbol.iterator]() {\n        for (let i = 0; i < this.length; i++) {\n            yield this.get(i);\n        }\n    }\n}\n/**\n * An array-like view of a fixed-length Unicode string buffer.\n *\n * Encoded as UTF-32 code points.\n */\nexport class UnicodeStringArray {\n    #data;\n    chars;\n    constructor(chars, x, byteOffset, length) {\n        this.chars = chars;\n        if (typeof x === \"number\") {\n            this.#data = new Int32Array(x * chars);\n        }\n        else if (x instanceof ArrayBuffer) {\n            if (length)\n                length *= chars;\n            this.#data = new Int32Array(x, byteOffset, length);\n        }\n        else {\n            const values = x;\n            const d = new UnicodeStringArray(chars, 1);\n            this.#data = new Int32Array((function* () {\n                for (let str of values) {\n                    d.set(0, str);\n                    yield* d.#data;\n                }\n            })());\n        }\n    }\n    get BYTES_PER_ELEMENT() {\n        return this.#data.BYTES_PER_ELEMENT * this.chars;\n    }\n    get byteLength() {\n        return this.#data.byteLength;\n    }\n    get byteOffset() {\n        return this.#data.byteOffset;\n    }\n    get buffer() {\n        return this.#data.buffer;\n    }\n    get length() {\n        return this.#data.length / this.chars;\n    }\n    get(idx) {\n        const offset = this.chars * idx;\n        let result = \"\";\n        for (let i = 0; i < this.chars; i++) {\n            result += String.fromCodePoint(this.#data[offset + i]);\n        }\n        // biome-ignore lint/suspicious/noControlCharactersInRegex: necessary for null byte removal\n        return result.replace(/\\u0000/g, \"\");\n    }\n    set(idx, value) {\n        const offset = this.chars * idx;\n        const view = this.#data.subarray(offset, offset + this.chars);\n        view.fill(0); // clear current\n        for (let i = 0; i < this.chars; i++) {\n            view[i] = value.codePointAt(i) ?? 0;\n        }\n    }\n    fill(value) {\n        // encode once\n        this.set(0, value);\n        // copy the encoded values to all other elements\n        let encoded = this.#data.subarray(0, this.chars);\n        for (let i = 1; i < this.length; i++) {\n            this.#data.set(encoded, i * this.chars);\n        }\n    }\n    *[Symbol.iterator]() {\n        for (let i = 0; i < this.length; i++) {\n            yield this.get(i);\n        }\n    }\n}\n//# sourceMappingURL=typedarray.js.map","import { BoolArray, ByteStringArray, UnicodeStringArray, } from \"./typedarray.js\";\nexport function json_encode_object(o) {\n    const str = JSON.stringify(o, null, 2);\n    return new TextEncoder().encode(str);\n}\nexport function json_decode_object(bytes) {\n    const str = new TextDecoder().decode(bytes);\n    return JSON.parse(str);\n}\nexport function byteswap_inplace(view, bytes_per_element) {\n    const numFlips = bytes_per_element / 2;\n    const endByteIndex = bytes_per_element - 1;\n    let t = 0;\n    for (let i = 0; i < view.length; i += bytes_per_element) {\n        for (let j = 0; j < numFlips; j += 1) {\n            t = view[i + j];\n            view[i + j] = view[i + endByteIndex - j];\n            view[i + endByteIndex - j] = t;\n        }\n    }\n}\nexport function get_ctr(data_type) {\n    if (data_type === \"v2:object\") {\n        return globalThis.Array;\n    }\n    let match = data_type.match(/v2:([US])(\\d+)/);\n    if (match) {\n        let [, kind, chars] = match;\n        // @ts-expect-error\n        return (kind === \"U\" ? UnicodeStringArray : ByteStringArray).bind(null, Number(chars));\n    }\n    // @ts-expect-error - We've checked that the key exists\n    let ctr = {\n        int8: Int8Array,\n        int16: Int16Array,\n        int32: Int32Array,\n        int64: globalThis.BigInt64Array,\n        uint8: Uint8Array,\n        uint16: Uint16Array,\n        uint32: Uint32Array,\n        uint64: globalThis.BigUint64Array,\n        float16: globalThis.Float16Array,\n        float32: Float32Array,\n        float64: Float64Array,\n        bool: BoolArray,\n    }[data_type];\n    assert(ctr, `Unknown or unsupported data_type: ${data_type}`);\n    return ctr;\n}\n/** Compute strides for 'C' or 'F' ordered array from shape */\nexport function get_strides(shape, order) {\n    const rank = shape.length;\n    if (typeof order === \"string\") {\n        order =\n            order === \"C\"\n                ? Array.from({ length: rank }, (_, i) => i) // Row-major (identity order)\n                : Array.from({ length: rank }, (_, i) => rank - 1 - i); // Column-major (reverse order)\n    }\n    assert(rank === order.length, \"Order length must match the number of dimensions.\");\n    let step = 1;\n    let stride = new Array(rank);\n    for (let i = order.length - 1; i >= 0; i--) {\n        stride[order[i]] = step;\n        step *= shape[order[i]];\n    }\n    return stride;\n}\n// https://zarr-specs.readthedocs.io/en/latest/v3/core/v3.0.html#chunk-key-encoding\nexport function create_chunk_key_encoder({ name, configuration, }) {\n    if (name === \"default\") {\n        const separator = configuration?.separator ?? \"/\";\n        return (chunk_coords) => [\"c\", ...chunk_coords].join(separator);\n    }\n    if (name === \"v2\") {\n        const separator = configuration?.separator ?? \".\";\n        return (chunk_coords) => chunk_coords.join(separator) || \"0\";\n    }\n    throw new Error(`Unknown chunk key encoding: ${name}`);\n}\nfunction coerce_dtype(dtype) {\n    if (dtype === \"|O\") {\n        return { data_type: \"v2:object\" };\n    }\n    let match = dtype.match(/^([<|>])(.*)$/);\n    assert(match, `Invalid dtype: ${dtype}`);\n    let [, endian, rest] = match;\n    let data_type = {\n        b1: \"bool\",\n        i1: \"int8\",\n        u1: \"uint8\",\n        i2: \"int16\",\n        u2: \"uint16\",\n        i4: \"int32\",\n        u4: \"uint32\",\n        i8: \"int64\",\n        u8: \"uint64\",\n        f2: \"float16\",\n        f4: \"float32\",\n        f8: \"float64\",\n    }[rest] ??\n        (rest.startsWith(\"S\") || rest.startsWith(\"U\") ? `v2:${rest}` : undefined);\n    assert(data_type, `Unsupported or unknown dtype: ${dtype}`);\n    if (endian === \"|\") {\n        return { data_type };\n    }\n    return { data_type, endian: endian === \"<\" ? \"little\" : \"big\" };\n}\nexport function v2_to_v3_array_metadata(meta, attributes = {}) {\n    let codecs = [];\n    let dtype = coerce_dtype(meta.dtype);\n    if (meta.order === \"F\") {\n        codecs.push({ name: \"transpose\", configuration: { order: \"F\" } });\n    }\n    if (\"endian\" in dtype && dtype.endian === \"big\") {\n        codecs.push({ name: \"bytes\", configuration: { endian: \"big\" } });\n    }\n    for (let { id, ...configuration } of meta.filters ?? []) {\n        codecs.push({ name: id, configuration });\n    }\n    if (meta.compressor) {\n        let { id, ...configuration } = meta.compressor;\n        codecs.push({ name: id, configuration });\n    }\n    return {\n        zarr_format: 3,\n        node_type: \"array\",\n        shape: meta.shape,\n        data_type: dtype.data_type,\n        chunk_grid: {\n            name: \"regular\",\n            configuration: {\n                chunk_shape: meta.chunks,\n            },\n        },\n        chunk_key_encoding: {\n            name: \"v2\",\n            configuration: {\n                separator: meta.dimension_separator ?? \".\",\n            },\n        },\n        codecs,\n        fill_value: meta.fill_value,\n        attributes,\n    };\n}\nexport function v2_to_v3_group_metadata(_meta, attributes = {}) {\n    return {\n        zarr_format: 3,\n        node_type: \"group\",\n        attributes,\n    };\n}\nexport function is_dtype(dtype, query) {\n    if (query !== \"number\" &&\n        query !== \"bigint\" &&\n        query !== \"boolean\" &&\n        query !== \"object\" &&\n        query !== \"string\") {\n        return dtype === query;\n    }\n    let is_boolean = dtype === \"bool\";\n    if (query === \"boolean\")\n        return is_boolean;\n    let is_string = dtype.startsWith(\"v2:U\") || dtype.startsWith(\"v2:S\");\n    if (query === \"string\")\n        return is_string;\n    let is_bigint = dtype === \"int64\" || dtype === \"uint64\";\n    if (query === \"bigint\")\n        return is_bigint;\n    let is_object = dtype === \"v2:object\";\n    if (query === \"object\")\n        return is_object;\n    return !is_string && !is_bigint && !is_boolean && !is_object;\n}\nexport function is_sharding_codec(codec) {\n    return codec?.name === \"sharding_indexed\";\n}\nexport function ensure_correct_scalar(metadata) {\n    if ((metadata.data_type === \"uint64\" || metadata.data_type === \"int64\") &&\n        metadata.fill_value != null) {\n        // @ts-expect-error - We've narrowed the type of fill_value correctly\n        return BigInt(metadata.fill_value);\n    }\n    return metadata.fill_value;\n}\n/**\n * Ensures an error matches expected type(s), otherwise rethrows.\n *\n * Unmatched errors bubble up, like Python's `except`. Narrows error types for\n * type-safe property access.\n *\n * @see {@link https://gist.github.com/manzt/3702f19abb714e21c22ce48851c75abf}\n *\n * @example\n * ```ts\n * class DatabaseError extends Error { }\n * class NetworkError extends Error { }\n *\n * try {\n *   await db.query();\n * } catch (err) {\n *   rethrow_unless(err, DatabaseError, NetworkError);\n *   err // DatabaseError | NetworkError\n * }\n * ```\n *\n * @param error - The error to check\n * @param errors - Expected error type(s)\n * @throws The original error if it doesn't match expected type(s)\n */\nexport function rethrow_unless(error, ...errors) {\n    if (!errors.some((ErrorClass) => error instanceof ErrorClass)) {\n        throw error;\n    }\n}\n/**\n * Make an assertion.\n *\n * Usage\n * @example\n * ```ts\n * const value: boolean = Math.random() <= 0.5;\n * assert(value, \"value is greater than than 0.5!\");\n * value // true\n * ```\n *\n * @param expression - The expression to test.\n * @param msg - The optional message to display if the assertion fails.\n * @throws an {@link Error} if `expression` is not truthy.\n */\nexport function assert(expression, msg = \"\") {\n    if (!expression) {\n        throw new Error(msg);\n    }\n}\n/**\n * @param {ArrayBuffer |ArrayBufferView | Response} data\n * @param {Object} options\n * @param {CompressionFormat} options.format\n * @param {AbortSignal} [options.signal]\n *\n * @returns {Promise<ArrayBuffer>}\n */\nexport async function decompress(data, { format, signal }) {\n    const response = data instanceof Response ? data : new Response(data);\n    assert(response.body, \"Response does not contain body.\");\n    try {\n        const decompressedResponse = new Response(response.body.pipeThrough(new DecompressionStream(format), { signal }));\n        const buffer = await decompressedResponse.arrayBuffer();\n        return buffer;\n    }\n    catch {\n        signal?.throwIfAborted();\n        throw new Error(`Failed to decode ${format}`);\n    }\n}\n//# sourceMappingURL=util.js.map","import { assert } from \"../util.js\";\n/**\n * A codec for bit-rounding.\n *\n * Reduces floating-point precision by truncating mantissa bits during encoding.\n * Decoding is a no-op as the process is lossy and precision cannot be restored.\n *\n * Note: {@link BitroundCodec.encode} is not yet implemented since Zarrita is\n * primarily used in read-only contexts (web browser). If you need encoding support,\n * please open an issue at {@link https://github.com/manzt/zarrita.js/issues}.\n *\n * @see {@link https://github.com/zarr-developers/numcodecs/blob/main/numcodecs/bitround.py}\n * for the original Python implementation.\n *\n * @remarks\n * Data types are not validated, and `float16` arrays are not supported (reflecting browser support).\n */\nexport class BitroundCodec {\n    kind = \"array_to_array\";\n    constructor(configuration, _meta) {\n        assert(configuration.keepbits >= 0, \"keepbits must be zero or positive\");\n    }\n    static fromConfig(configuration, meta) {\n        return new BitroundCodec(configuration, meta);\n    }\n    /**\n     * Encode a chunk of data with bit-rounding.\n     * @param _arr - The chunk to encode\n     */\n    encode(_arr) {\n        throw new Error(\"`BitroundCodec.encode` is not implemented. Please open an issue at https://github.com/manzt/zarrita.js/issues.\");\n    }\n    /**\n     * Decode a chunk of data (no-op).\n     * @param arr - The chunk to decode\n     * @returns The decoded chunk\n     */\n    decode(arr) {\n        return arr; // No-op as bit-rounding is lossy\n    }\n}\n//# sourceMappingURL=bitround.js.map","import { byteswap_inplace, get_ctr, get_strides } from \"../util.js\";\nconst LITTLE_ENDIAN_OS = system_is_little_endian();\nfunction system_is_little_endian() {\n    const a = new Uint32Array([0x12345678]);\n    const b = new Uint8Array(a.buffer, a.byteOffset, a.byteLength);\n    return !(b[0] === 0x12);\n}\nfunction bytes_per_element(TypedArray) {\n    if (\"BYTES_PER_ELEMENT\" in TypedArray) {\n        return TypedArray.BYTES_PER_ELEMENT;\n    }\n    // Unicode string array is backed by a Int32Array.\n    return 4;\n}\nexport class BytesCodec {\n    kind = \"array_to_bytes\";\n    #stride;\n    #TypedArray;\n    #BYTES_PER_ELEMENT;\n    #shape;\n    #endian;\n    constructor(configuration, meta) {\n        this.#endian = configuration?.endian;\n        this.#TypedArray = get_ctr(meta.data_type);\n        this.#shape = meta.shape;\n        this.#stride = get_strides(meta.shape, \"C\");\n        // TODO: fix me.\n        // hack to get bytes per element since it's dynamic for string types.\n        const sample = new this.#TypedArray(0);\n        this.#BYTES_PER_ELEMENT = sample.BYTES_PER_ELEMENT;\n    }\n    static fromConfig(configuration, meta) {\n        return new BytesCodec(configuration, meta);\n    }\n    encode(arr) {\n        let bytes = new Uint8Array(arr.data.buffer);\n        if (LITTLE_ENDIAN_OS && this.#endian === \"big\") {\n            byteswap_inplace(bytes, bytes_per_element(this.#TypedArray));\n        }\n        return bytes;\n    }\n    decode(bytes) {\n        if (LITTLE_ENDIAN_OS && this.#endian === \"big\") {\n            byteswap_inplace(bytes, bytes_per_element(this.#TypedArray));\n        }\n        return {\n            data: new this.#TypedArray(bytes.buffer, bytes.byteOffset, bytes.byteLength / this.#BYTES_PER_ELEMENT),\n            shape: this.#shape,\n            stride: this.#stride,\n        };\n    }\n}\n//# sourceMappingURL=bytes.js.map","export class Crc32cCodec {\n    kind = \"bytes_to_bytes\";\n    static fromConfig() {\n        return new Crc32cCodec();\n    }\n    encode(_) {\n        throw new Error(\"Not implemented\");\n    }\n    decode(arr) {\n        return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength - 4);\n    }\n}\n//# sourceMappingURL=crc32c.js.map","import { decompress } from \"../util.js\";\nexport class GzipCodec {\n    kind = \"bytes_to_bytes\";\n    static fromConfig(_) {\n        return new GzipCodec();\n    }\n    encode(_bytes) {\n        throw new Error(\"Gzip encoding is not enabled by default. Please register a custom codec with `numcodecs/gzip`.\");\n    }\n    async decode(bytes) {\n        const buffer = await decompress(bytes, { format: \"gzip\" });\n        return new Uint8Array(buffer);\n    }\n}\n//# sourceMappingURL=gzip.js.map","import { assert, get_strides, json_decode_object } from \"../util.js\";\n// Reference: https://stackoverflow.com/a/21897413\nfunction throw_on_nan_replacer(_key, value) {\n    assert(!Number.isNaN(value), \"JsonCodec allow_nan is false but NaN was encountered during encoding.\");\n    assert(value !== Number.POSITIVE_INFINITY, \"JsonCodec allow_nan is false but Infinity was encountered during encoding.\");\n    assert(value !== Number.NEGATIVE_INFINITY, \"JsonCodec allow_nan is false but -Infinity was encountered during encoding.\");\n    return value;\n}\n// Reference: https://gist.github.com/davidfurlong/463a83a33b70a3b6618e97ec9679e490\nfunction sort_keys_replacer(_key, value) {\n    return value instanceof Object && !Array.isArray(value)\n        ? Object.keys(value)\n            .sort()\n            .reduce((sorted, key) => {\n            sorted[key] = value[key];\n            return sorted;\n        }, {})\n        : value;\n}\nexport class JsonCodec {\n    configuration;\n    kind = \"array_to_bytes\";\n    #encoder_config;\n    #decoder_config;\n    constructor(configuration = {}) {\n        this.configuration = configuration;\n        // Reference: https://github.com/zarr-developers/numcodecs/blob/0878717a3613d91a453fe3d3716aa9c67c023a8b/numcodecs/json.py#L36\n        const { encoding = \"utf-8\", skipkeys = false, ensure_ascii = true, check_circular = true, allow_nan = true, sort_keys = true, indent, strict = true, } = configuration;\n        let separators = configuration.separators;\n        if (!separators) {\n            // ensure separators are explicitly specified, and consistent behaviour across\n            // Python versions, and most compact representation if indent is None\n            if (!indent) {\n                separators = [\",\", \":\"];\n            }\n            else {\n                separators = [\", \", \": \"];\n            }\n        }\n        this.#encoder_config = {\n            encoding,\n            skipkeys,\n            ensure_ascii,\n            check_circular,\n            allow_nan,\n            indent,\n            separators,\n            sort_keys,\n        };\n        this.#decoder_config = { strict };\n    }\n    static fromConfig(configuration) {\n        return new JsonCodec(configuration);\n    }\n    encode(buf) {\n        const { indent, encoding, ensure_ascii, check_circular, allow_nan, sort_keys, } = this.#encoder_config;\n        assert(encoding === \"utf-8\", \"JsonCodec does not yet support non-utf-8 encoding.\");\n        const replacer_functions = [];\n        // By default, for JSON.stringify,\n        // a TypeError will be thrown if one attempts to encode an object with circular references\n        assert(check_circular, \"JsonCodec does not yet support skipping the check for circular references during encoding.\");\n        if (!allow_nan) {\n            // Throw if NaN/Infinity/-Infinity are encountered during encoding.\n            replacer_functions.push(throw_on_nan_replacer);\n        }\n        if (sort_keys) {\n            // We can ensure keys are sorted but not really the opposite since\n            // there is no guarantee of key ordering in JS.\n            replacer_functions.push(sort_keys_replacer);\n        }\n        const items = Array.from(buf.data);\n        items.push(\"|O\");\n        items.push(buf.shape);\n        let replacer;\n        if (replacer_functions.length) {\n            replacer = (key, value) => {\n                let new_value = value;\n                for (let sub_replacer of replacer_functions) {\n                    new_value = sub_replacer(key, new_value);\n                }\n                return new_value;\n            };\n        }\n        let json_str = JSON.stringify(items, replacer, indent);\n        if (ensure_ascii) {\n            // If ensure_ascii is true (the default), the output is guaranteed\n            // to have all incoming non-ASCII characters escaped.\n            // If ensure_ascii is false, these characters will be output as-is.\n            // Reference: https://stackoverflow.com/a/31652607\n            json_str = json_str.replace(/[\\u007F-\\uFFFF]/g, (chr) => {\n                const full_str = `0000${chr.charCodeAt(0).toString(16)}`;\n                const sub_str = full_str.substring(full_str.length - 4);\n                return `\\\\u${sub_str}`;\n            });\n        }\n        return new TextEncoder().encode(json_str);\n    }\n    decode(bytes) {\n        const { strict } = this.#decoder_config;\n        // (i.e., allowing control characters inside strings)\n        assert(strict, \"JsonCodec does not yet support non-strict decoding.\");\n        const items = json_decode_object(bytes);\n        const shape = items.pop();\n        items.pop(); // Pop off dtype (unused)\n        // O-d case\n        assert(shape, \"0D not implemented for JsonCodec.\");\n        const stride = get_strides(shape, \"C\");\n        const data = items;\n        return { data, shape, stride };\n    }\n}\n//# sourceMappingURL=json2.js.map","import { BoolArray, ByteStringArray, UnicodeStringArray, } from \"../typedarray.js\";\nimport { assert, get_strides } from \"../util.js\";\nfunction proxy(arr) {\n    if (arr instanceof BoolArray ||\n        arr instanceof ByteStringArray ||\n        arr instanceof UnicodeStringArray) {\n        // @ts-expect-error - TS cannot infer arr is a TypedArrayProxy<D>\n        const arrp = new Proxy(arr, {\n            get(target, prop) {\n                return target.get(Number(prop));\n            },\n            set(target, prop, value) {\n                // @ts-expect-error - value is OK\n                target.set(Number(prop), value);\n                return true;\n            },\n        });\n        return arrp;\n    }\n    // @ts-expect-error - TS cannot infer arr is a TypedArrayProxy<D>\n    return arr;\n}\nfunction empty_like(chunk, order) {\n    let data;\n    if (chunk.data instanceof ByteStringArray ||\n        chunk.data instanceof UnicodeStringArray) {\n        data = new chunk.constructor(\n        // @ts-expect-error\n        chunk.data.length, chunk.data.chars);\n    }\n    else {\n        data = new chunk.constructor(chunk.data.length);\n    }\n    return {\n        data,\n        shape: chunk.shape,\n        stride: get_strides(chunk.shape, order),\n    };\n}\nfunction convert_array_order(src, target) {\n    let out = empty_like(src, target);\n    let n_dims = src.shape.length;\n    let size = src.data.length;\n    let index = Array(n_dims).fill(0);\n    let src_data = proxy(src.data);\n    let out_data = proxy(out.data);\n    for (let src_idx = 0; src_idx < size; src_idx++) {\n        let out_idx = 0;\n        for (let dim = 0; dim < n_dims; dim++) {\n            out_idx += index[dim] * out.stride[dim];\n        }\n        out_data[out_idx] = src_data[src_idx];\n        index[0] += 1;\n        for (let dim = 0; dim < n_dims; dim++) {\n            if (index[dim] === src.shape[dim]) {\n                if (dim + 1 === n_dims) {\n                    break;\n                }\n                index[dim] = 0;\n                index[dim + 1] += 1;\n            }\n        }\n    }\n    return out;\n}\n/** Determine the memory order (axis permutation) for a chunk */\nfunction get_order(chunk) {\n    let rank = chunk.shape.length;\n    assert(rank === chunk.stride.length, \"Shape and stride must have the same length.\");\n    return chunk.stride\n        .map((s, i) => ({ stride: s, index: i }))\n        .sort((a, b) => b.stride - a.stride)\n        .map((entry) => entry.index);\n}\nfunction matches_order(chunk, target) {\n    let source = get_order(chunk);\n    assert(source.length === target.length, \"Orders must match\");\n    return source.every((dim, i) => dim === target[i]);\n}\nexport class TransposeCodec {\n    kind = \"array_to_array\";\n    #order;\n    #inverseOrder;\n    constructor(configuration, meta) {\n        let value = configuration.order ?? \"C\";\n        let rank = meta.shape.length;\n        let order = new Array(rank);\n        let inverseOrder = new Array(rank);\n        if (value === \"C\") {\n            for (let i = 0; i < rank; ++i) {\n                order[i] = i;\n                inverseOrder[i] = i;\n            }\n        }\n        else if (value === \"F\") {\n            for (let i = 0; i < rank; ++i) {\n                order[i] = rank - i - 1;\n                inverseOrder[i] = rank - i - 1;\n            }\n        }\n        else {\n            order = value;\n            order.forEach((x, i) => {\n                assert(inverseOrder[x] === undefined, `Invalid permutation: ${JSON.stringify(value)}`);\n                inverseOrder[x] = i;\n            });\n        }\n        this.#order = order;\n        this.#inverseOrder = inverseOrder;\n    }\n    static fromConfig(configuration, meta) {\n        return new TransposeCodec(configuration, meta);\n    }\n    encode(arr) {\n        if (matches_order(arr, this.#inverseOrder)) {\n            // can skip making a copy\n            return arr;\n        }\n        return convert_array_order(arr, this.#inverseOrder);\n    }\n    decode(arr) {\n        return {\n            data: arr.data,\n            shape: arr.shape,\n            stride: get_strides(arr.shape, this.#order),\n        };\n    }\n}\n//# sourceMappingURL=transpose.js.map","import { get_strides } from \"../util.js\";\nexport class VLenUTF8 {\n    kind = \"array_to_bytes\";\n    #shape;\n    #strides;\n    constructor(shape) {\n        this.#shape = shape;\n        this.#strides = get_strides(shape, \"C\");\n    }\n    static fromConfig(_, meta) {\n        return new VLenUTF8(meta.shape);\n    }\n    encode(_chunk) {\n        throw new Error(\"Method not implemented.\");\n    }\n    decode(bytes) {\n        let decoder = new TextDecoder();\n        let view = new DataView(bytes.buffer);\n        let data = Array(view.getUint32(0, true));\n        let pos = 4;\n        for (let i = 0; i < data.length; i++) {\n            let item_length = view.getUint32(pos, true);\n            pos += 4;\n            data[i] = decoder.decode(bytes.buffer.slice(pos, pos + item_length));\n            pos += item_length;\n        }\n        return { data, shape: this.#shape, stride: this.#strides };\n    }\n}\n//# sourceMappingURL=vlen-utf8.js.map","import { decompress } from \"../util.js\";\nexport class ZlibCodec {\n    kind = \"bytes_to_bytes\";\n    static fromConfig(_) {\n        return new ZlibCodec();\n    }\n    encode(_bytes) {\n        throw new Error(\"Zlib encoding is not enabled by default. Please register a codec with `numcodecs/zlib`.\");\n    }\n    async decode(bytes) {\n        const buffer = await decompress(bytes, { format: \"deflate\" });\n        return new Uint8Array(buffer);\n    }\n}\n//# sourceMappingURL=zlib.js.map","import { BitroundCodec } from \"./codecs/bitround.js\";\nimport { BytesCodec } from \"./codecs/bytes.js\";\nimport { Crc32cCodec } from \"./codecs/crc32c.js\";\nimport { GzipCodec } from \"./codecs/gzip.js\";\nimport { JsonCodec } from \"./codecs/json2.js\";\nimport { TransposeCodec } from \"./codecs/transpose.js\";\nimport { VLenUTF8 } from \"./codecs/vlen-utf8.js\";\nimport { ZlibCodec } from \"./codecs/zlib.js\";\nimport { assert } from \"./util.js\";\nfunction create_default_registry() {\n    return new Map()\n        .set(\"blosc\", () => import(\"numcodecs/blosc\").then((m) => m.default))\n        .set(\"lz4\", () => import(\"numcodecs/lz4\").then((m) => m.default))\n        .set(\"zstd\", () => import(\"numcodecs/zstd\").then((m) => m.default))\n        .set(\"gzip\", () => GzipCodec)\n        .set(\"zlib\", () => ZlibCodec)\n        .set(\"transpose\", () => TransposeCodec)\n        .set(\"bytes\", () => BytesCodec)\n        .set(\"crc32c\", () => Crc32cCodec)\n        .set(\"vlen-utf8\", () => VLenUTF8)\n        .set(\"json2\", () => JsonCodec)\n        .set(\"bitround\", () => BitroundCodec);\n}\nexport const registry = create_default_registry();\nexport function create_codec_pipeline(chunk_metadata) {\n    let codecs;\n    return {\n        async encode(chunk) {\n            if (!codecs)\n                codecs = await load_codecs(chunk_metadata);\n            for (const codec of codecs.array_to_array) {\n                chunk = await codec.encode(chunk);\n            }\n            let bytes = await codecs.array_to_bytes.encode(chunk);\n            for (const codec of codecs.bytes_to_bytes) {\n                bytes = await codec.encode(bytes);\n            }\n            return bytes;\n        },\n        async decode(bytes) {\n            if (!codecs)\n                codecs = await load_codecs(chunk_metadata);\n            for (let i = codecs.bytes_to_bytes.length - 1; i >= 0; i--) {\n                bytes = await codecs.bytes_to_bytes[i].decode(bytes);\n            }\n            let chunk = await codecs.array_to_bytes.decode(bytes);\n            for (let i = codecs.array_to_array.length - 1; i >= 0; i--) {\n                chunk = await codecs.array_to_array[i].decode(chunk);\n            }\n            return chunk;\n        },\n    };\n}\nasync function load_codecs(chunk_meta) {\n    let promises = chunk_meta.codecs.map(async (meta) => {\n        let Codec = await registry.get(meta.name)?.();\n        assert(Codec, `Unknown codec: ${meta.name}`);\n        return { Codec, meta };\n    });\n    let array_to_array = [];\n    let array_to_bytes;\n    let bytes_to_bytes = [];\n    for await (let { Codec, meta } of promises) {\n        let codec = Codec.fromConfig(meta.configuration, chunk_meta);\n        switch (codec.kind) {\n            case \"array_to_array\":\n                array_to_array.push(codec);\n                break;\n            case \"array_to_bytes\":\n                array_to_bytes = codec;\n                break;\n            default:\n                bytes_to_bytes.push(codec);\n        }\n    }\n    if (!array_to_bytes) {\n        assert(is_typed_array_like_meta(chunk_meta), `Cannot encode ${chunk_meta.data_type} to bytes without a codec`);\n        array_to_bytes = BytesCodec.fromConfig({ endian: \"little\" }, chunk_meta);\n    }\n    return { array_to_array, array_to_bytes, bytes_to_bytes };\n}\nfunction is_typed_array_like_meta(meta) {\n    return meta.data_type !== \"v2:object\";\n}\n//# sourceMappingURL=codecs.js.map","export class NodeNotFoundError extends Error {\n    constructor(context, options = {}) {\n        super(`Node not found: ${context}`, options);\n        this.name = \"NodeNotFoundError\";\n    }\n}\nexport class KeyError extends Error {\n    constructor(path) {\n        super(`Missing key: ${path}`);\n        this.name = \"KeyError\";\n    }\n}\n//# sourceMappingURL=errors.js.map","import { create_codec_pipeline } from \"../codecs.js\";\nimport { assert } from \"../util.js\";\nconst MAX_BIG_UINT = 18446744073709551615n;\nexport function create_sharded_chunk_getter(location, shard_shape, encode_shard_key, sharding_config) {\n    assert(location.store.getRange, \"Store does not support range requests\");\n    let get_range = location.store.getRange.bind(location.store);\n    let index_shape = shard_shape.map((d, i) => d / sharding_config.chunk_shape[i]);\n    let index_codec = create_codec_pipeline({\n        data_type: \"uint64\",\n        shape: [...index_shape, 2],\n        codecs: sharding_config.index_codecs,\n    });\n    let cache = {};\n    return async (chunk_coord) => {\n        let shard_coord = chunk_coord.map((d, i) => Math.floor(d / index_shape[i]));\n        let shard_path = location.resolve(encode_shard_key(shard_coord)).path;\n        let index;\n        if (shard_path in cache) {\n            index = cache[shard_path];\n        }\n        else {\n            let checksum_size = 4;\n            let index_size = 16 * index_shape.reduce((a, b) => a * b, 1);\n            let bytes = await get_range(shard_path, {\n                suffixLength: index_size + checksum_size,\n            });\n            index = cache[shard_path] = bytes\n                ? await index_codec.decode(bytes)\n                : null;\n        }\n        if (index === null) {\n            return undefined;\n        }\n        let { data, shape, stride } = index;\n        let linear_offset = chunk_coord\n            .map((d, i) => d % shape[i])\n            .reduce((acc, sel, idx) => acc + sel * stride[idx], 0);\n        let offset = data[linear_offset];\n        let length = data[linear_offset + 1];\n        // write null chunk when 2^64-1 indicates fill value\n        if (offset === MAX_BIG_UINT && length === MAX_BIG_UINT) {\n            return undefined;\n        }\n        return get_range(shard_path, {\n            offset: Number(offset),\n            length: Number(length),\n        });\n    };\n}\n//# sourceMappingURL=sharding.js.map","import { create_sharded_chunk_getter } from \"./codecs/sharding.js\";\nimport { create_codec_pipeline } from \"./codecs.js\";\nimport { create_chunk_key_encoder, ensure_correct_scalar, get_ctr, get_strides, is_dtype, is_sharding_codec, } from \"./util.js\";\nexport class Location {\n    store;\n    path;\n    constructor(store, path = \"/\") {\n        this.store = store;\n        this.path = path;\n    }\n    resolve(path) {\n        // reuse URL resolution logic built into the browser\n        // handles relative paths, absolute paths, etc.\n        let root = new URL(`file://${this.path.endsWith(\"/\") ? this.path : `${this.path}/`}`);\n        return new Location(this.store, decodeURIComponent(new URL(path, root).pathname));\n    }\n}\nexport function root(store) {\n    return new Location(store ?? new Map());\n}\nexport class Group extends Location {\n    kind = \"group\";\n    #metadata;\n    constructor(store, path, metadata) {\n        super(store, path);\n        this.#metadata = metadata;\n    }\n    get attrs() {\n        return this.#metadata.attributes;\n    }\n}\nfunction get_array_order(codecs) {\n    const maybe_transpose_codec = codecs.find((c) => c.name === \"transpose\");\n    // @ts-expect-error - TODO: Should validate?\n    return maybe_transpose_codec?.configuration?.order ?? \"C\";\n}\nconst CONTEXT_MARKER = Symbol(\"zarrita.context\");\nexport function get_context(obj) {\n    return obj[CONTEXT_MARKER];\n}\nfunction create_context(location, metadata) {\n    let { configuration } = metadata.codecs.find(is_sharding_codec) ?? {};\n    let shared_context = {\n        encode_chunk_key: create_chunk_key_encoder(metadata.chunk_key_encoding),\n        TypedArray: get_ctr(metadata.data_type),\n        fill_value: metadata.fill_value,\n    };\n    if (configuration) {\n        let native_order = get_array_order(configuration.codecs);\n        return {\n            ...shared_context,\n            kind: \"sharded\",\n            chunk_shape: configuration.chunk_shape,\n            codec: create_codec_pipeline({\n                data_type: metadata.data_type,\n                shape: configuration.chunk_shape,\n                codecs: configuration.codecs,\n            }),\n            get_strides(shape) {\n                return get_strides(shape, native_order);\n            },\n            get_chunk_bytes: create_sharded_chunk_getter(location, metadata.chunk_grid.configuration.chunk_shape, shared_context.encode_chunk_key, configuration),\n        };\n    }\n    let native_order = get_array_order(metadata.codecs);\n    return {\n        ...shared_context,\n        kind: \"regular\",\n        chunk_shape: metadata.chunk_grid.configuration.chunk_shape,\n        codec: create_codec_pipeline({\n            data_type: metadata.data_type,\n            shape: metadata.chunk_grid.configuration.chunk_shape,\n            codecs: metadata.codecs,\n        }),\n        get_strides(shape) {\n            return get_strides(shape, native_order);\n        },\n        async get_chunk_bytes(chunk_coords, options) {\n            let chunk_key = shared_context.encode_chunk_key(chunk_coords);\n            let chunk_path = location.resolve(chunk_key).path;\n            return location.store.get(chunk_path, options);\n        },\n    };\n}\nexport class Array extends Location {\n    kind = \"array\";\n    #metadata;\n    [CONTEXT_MARKER];\n    constructor(store, path, metadata) {\n        super(store, path);\n        this.#metadata = {\n            ...metadata,\n            fill_value: ensure_correct_scalar(metadata),\n        };\n        this[CONTEXT_MARKER] = create_context(this, metadata);\n    }\n    get attrs() {\n        return this.#metadata.attributes;\n    }\n    get shape() {\n        return this.#metadata.shape;\n    }\n    get chunks() {\n        return this[CONTEXT_MARKER].chunk_shape;\n    }\n    get dtype() {\n        return this.#metadata.data_type;\n    }\n    async getChunk(chunk_coords, options) {\n        let context = this[CONTEXT_MARKER];\n        let maybe_bytes = await context.get_chunk_bytes(chunk_coords, options);\n        if (!maybe_bytes) {\n            let size = context.chunk_shape.reduce((a, b) => a * b, 1);\n            let data = new context.TypedArray(size);\n            // @ts-expect-error: TS can't infer that `fill_value` is union (assumes never) but this is ok\n            data.fill(context.fill_value);\n            return {\n                data,\n                shape: context.chunk_shape,\n                stride: context.get_strides(context.chunk_shape),\n            };\n        }\n        return context.codec.decode(maybe_bytes);\n    }\n    /**\n     * A helper method to narrow `zarr.Array` Dtype.\n     *\n     * ```typescript\n     * let arr: zarr.Array<DataType, FetchStore> = zarr.open(store, { kind: \"array\" });\n     *\n     * // Option 1: narrow by scalar type (e.g. \"bool\", \"raw\", \"bigint\", \"number\")\n     * if (arr.is(\"bigint\")) {\n     *   // zarr.Array<\"int64\" | \"uint64\", FetchStore>\n     * }\n     *\n     * // Option 3: exact match\n     * if (arr.is(\"float32\")) {\n     *   // zarr.Array<\"float32\", FetchStore, \"/\">\n     * }\n     * ```\n     */\n    is(query) {\n        return is_dtype(this.dtype, query);\n    }\n}\n//# sourceMappingURL=hierarchy.js.map","/** Similar to python's `range` function. Supports positive ranges only. */\nexport function* range(start, stop, step = 1) {\n    if (stop === undefined) {\n        stop = start;\n        start = 0;\n    }\n    for (let i = start; i < stop; i += step) {\n        yield i;\n    }\n}\n/**\n * python-like itertools.product generator\n * https://gist.github.com/cybercase/db7dde901d7070c98c48\n */\nexport function* product(...iterables) {\n    if (iterables.length === 0) {\n        return;\n    }\n    // make a list of iterators from the iterables\n    const iterators = iterables.map((it) => it[Symbol.iterator]());\n    const results = iterators.map((it) => it.next());\n    if (results.some((r) => r.done)) {\n        throw new Error(\"Input contains an empty iterator.\");\n    }\n    for (let i = 0;;) {\n        if (results[i].done) {\n            // reset the current iterator\n            iterators[i] = iterables[i][Symbol.iterator]();\n            results[i] = iterators[i].next();\n            // advance, and exit if we've reached the end\n            if (++i >= iterators.length) {\n                return;\n            }\n        }\n        else {\n            // @ts-expect-error - TS can't infer this\n            yield results.map(({ value }) => value);\n            i = 0;\n        }\n        results[i] = iterators[i].next();\n    }\n}\n// https://github.com/python/cpython/blob/263c0dd16017613c5ea2fbfc270be4de2b41b5ad/Objects/sliceobject.c#L376-L519\nexport function slice_indices({ start, stop, step }, length) {\n    if (step === 0) {\n        throw new Error(\"slice step cannot be zero\");\n    }\n    step = step ?? 1;\n    const step_is_negative = step < 0;\n    /* Find lower and upper bounds for start and stop. */\n    const [lower, upper] = step_is_negative ? [-1, length - 1] : [0, length];\n    /* Compute start. */\n    if (start === null) {\n        start = step_is_negative ? upper : lower;\n    }\n    else {\n        if (start < 0) {\n            start += length;\n            if (start < lower) {\n                start = lower;\n            }\n        }\n        else if (start > upper) {\n            start = upper;\n        }\n    }\n    /* Compute stop. */\n    if (stop === null) {\n        stop = step_is_negative ? lower : upper;\n    }\n    else {\n        if (stop < 0) {\n            stop += length;\n            if (stop < lower) {\n                stop = lower;\n            }\n        }\n        else if (stop > upper) {\n            stop = upper;\n        }\n    }\n    return [start, stop, step];\n}\nexport function slice(start, stop, step = null) {\n    if (stop === undefined) {\n        stop = start;\n        start = null;\n    }\n    return {\n        start,\n        stop,\n        step,\n    };\n}\n/** Built-in \"queue\" for awaiting promises. */\nexport function create_queue() {\n    const promises = [];\n    return {\n        add: (fn) => promises.push(fn()),\n        onIdle: () => Promise.all(promises),\n    };\n}\n//# sourceMappingURL=util.js.map","import { product, range, slice, slice_indices } from \"./util.js\";\nexport class IndexError extends Error {\n    constructor(msg) {\n        super(msg);\n        this.name = \"IndexError\";\n    }\n}\nfunction err_too_many_indices(selection, shape) {\n    throw new IndexError(`too many indicies for array; expected ${shape.length}, got ${selection.length}`);\n}\nfunction err_boundscheck(dim_len) {\n    throw new IndexError(`index out of bounds for dimension with length ${dim_len}`);\n}\nfunction err_negative_step() {\n    throw new IndexError(\"only slices with step >= 1 are supported\");\n}\nfunction check_selection_length(selection, shape) {\n    if (selection.length > shape.length) {\n        err_too_many_indices(selection, shape);\n    }\n}\nexport function normalize_integer_selection(dim_sel, dim_len) {\n    // normalize type to int\n    dim_sel = Math.trunc(dim_sel);\n    // handle wraparound\n    if (dim_sel < 0) {\n        dim_sel = dim_len + dim_sel;\n    }\n    // handle out of bounds\n    if (dim_sel >= dim_len || dim_sel < 0) {\n        err_boundscheck(dim_len);\n    }\n    return dim_sel;\n}\nclass IntDimIndexer {\n    dim_sel;\n    dim_len;\n    dim_chunk_len;\n    nitems;\n    constructor({ dim_sel, dim_len, dim_chunk_len }) {\n        // normalize\n        dim_sel = normalize_integer_selection(dim_sel, dim_len);\n        // store properties\n        this.dim_sel = dim_sel;\n        this.dim_len = dim_len;\n        this.dim_chunk_len = dim_chunk_len;\n        this.nitems = 1;\n    }\n    *[Symbol.iterator]() {\n        const dim_chunk_ix = Math.floor(this.dim_sel / this.dim_chunk_len);\n        const dim_offset = dim_chunk_ix * this.dim_chunk_len;\n        const dim_chunk_sel = this.dim_sel - dim_offset;\n        yield { dim_chunk_ix, dim_chunk_sel };\n    }\n}\nclass SliceDimIndexer {\n    start;\n    stop;\n    step;\n    dim_len;\n    dim_chunk_len;\n    nitems;\n    nchunks;\n    constructor({ dim_sel, dim_len, dim_chunk_len }) {\n        // normalize\n        const [start, stop, step] = slice_indices(dim_sel, dim_len);\n        this.start = start;\n        this.stop = stop;\n        this.step = step;\n        if (this.step < 1)\n            err_negative_step();\n        // store properties\n        this.dim_len = dim_len;\n        this.dim_chunk_len = dim_chunk_len;\n        this.nitems = Math.max(0, Math.ceil((this.stop - this.start) / this.step));\n        this.nchunks = Math.ceil(this.dim_len / this.dim_chunk_len);\n    }\n    *[Symbol.iterator]() {\n        // figure out the range of chunks we need to visit\n        const dim_chunk_ix_from = Math.floor(this.start / this.dim_chunk_len);\n        const dim_chunk_ix_to = Math.ceil(this.stop / this.dim_chunk_len);\n        for (const dim_chunk_ix of range(dim_chunk_ix_from, dim_chunk_ix_to)) {\n            // compute offsets for chunk within overall array\n            const dim_offset = dim_chunk_ix * this.dim_chunk_len;\n            const dim_limit = Math.min(this.dim_len, (dim_chunk_ix + 1) * this.dim_chunk_len);\n            // determine chunk length, accounting for trailing chunk\n            const dim_chunk_len = dim_limit - dim_offset;\n            let dim_out_offset = 0;\n            let dim_chunk_sel_start = 0;\n            if (this.start < dim_offset) {\n                // selection start before current chunk\n                const remainder = (dim_offset - this.start) % this.step;\n                if (remainder)\n                    dim_chunk_sel_start += this.step - remainder;\n                // compute number of previous items, provides offset into output array\n                dim_out_offset = Math.ceil((dim_offset - this.start) / this.step);\n            }\n            else {\n                // selection starts within current chunk\n                dim_chunk_sel_start = this.start - dim_offset;\n            }\n            // selection starts within current chunk if true,\n            // otherwise selection ends after current chunk.\n            const dim_chunk_sel_stop = this.stop > dim_limit ? dim_chunk_len : this.stop - dim_offset;\n            const dim_chunk_sel = [\n                dim_chunk_sel_start,\n                dim_chunk_sel_stop,\n                this.step,\n            ];\n            const dim_chunk_nitems = Math.ceil((dim_chunk_sel_stop - dim_chunk_sel_start) / this.step);\n            const dim_out_sel = [\n                dim_out_offset,\n                dim_out_offset + dim_chunk_nitems,\n                1,\n            ];\n            yield { dim_chunk_ix, dim_chunk_sel, dim_out_sel };\n        }\n    }\n}\nexport function normalize_selection(selection, shape) {\n    let normalized = [];\n    if (selection === null) {\n        normalized = shape.map((_) => slice(null));\n    }\n    else if (Array.isArray(selection)) {\n        normalized = selection.map((s) => s ?? slice(null));\n    }\n    check_selection_length(normalized, shape);\n    return normalized;\n}\nexport class BasicIndexer {\n    dim_indexers;\n    shape;\n    constructor({ selection, shape, chunk_shape }) {\n        // setup per-dimension indexers\n        this.dim_indexers = normalize_selection(selection, shape).map((dim_sel, i) => {\n            return new (typeof dim_sel === \"number\" ? IntDimIndexer : SliceDimIndexer)({\n                // @ts-expect-error ts inference not strong enough to know correct chunk\n                dim_sel: dim_sel,\n                dim_len: shape[i],\n                dim_chunk_len: chunk_shape[i],\n            });\n        });\n        this.shape = this.dim_indexers\n            .filter((ixr) => ixr instanceof SliceDimIndexer)\n            .map((sixr) => sixr.nitems);\n    }\n    *[Symbol.iterator]() {\n        for (const dim_projections of product(...this.dim_indexers)) {\n            const chunk_coords = dim_projections.map((p) => p.dim_chunk_ix);\n            const mapping = dim_projections.map((p) => {\n                if (\"dim_out_sel\" in p) {\n                    return { from: p.dim_chunk_sel, to: p.dim_out_sel };\n                }\n                return { from: p.dim_chunk_sel, to: null };\n            });\n            yield { chunk_coords, mapping };\n        }\n    }\n}\n//# sourceMappingURL=indexer.js.map","import { get_context } from \"../hierarchy.js\";\nimport { BasicIndexer } from \"./indexer.js\";\nimport { create_queue } from \"./util.js\";\nfunction unwrap(arr, idx) {\n    return (\"get\" in arr ? arr.get(idx) : arr[idx]);\n}\nexport async function get(arr, selection, opts, setter) {\n    let context = get_context(arr);\n    let indexer = new BasicIndexer({\n        selection,\n        shape: arr.shape,\n        chunk_shape: arr.chunks,\n    });\n    let out = setter.prepare(new context.TypedArray(indexer.shape.reduce((a, b) => a * b, 1)), indexer.shape, context.get_strides(indexer.shape));\n    let queue = opts.create_queue?.() ?? create_queue();\n    for (const { chunk_coords, mapping } of indexer) {\n        queue.add(async () => {\n            let { data, shape, stride } = await arr.getChunk(chunk_coords, opts.opts);\n            let chunk = setter.prepare(data, shape, stride);\n            setter.set_from_chunk(out, chunk, mapping);\n        });\n    }\n    await queue.onIdle();\n    // If the final out shape is empty, we just return a scalar.\n    // @ts-expect-error - TS can't narrow this conditional type\n    return indexer.shape.length === 0 ? unwrap(out.data, 0) : out;\n}\n//# sourceMappingURL=get.js.map","import { get as get_with_setter } from \"./get.js\";\nimport { set as set_with_setter } from \"./set.js\";\n/** A 1D \"view\" of an array that can be used to set values in the array. */\nfunction object_array_view(arr, offset = 0, size) {\n    let length = size ?? arr.length - offset;\n    return {\n        length,\n        subarray(from, to = length) {\n            return object_array_view(arr, offset + from, to - from);\n        },\n        set(data, start = 0) {\n            for (let i = 0; i < data.length; i++) {\n                arr[offset + start + i] = data.get(i);\n            }\n        },\n        get(index) {\n            return arr[offset + index];\n        },\n    };\n}\n/**\n * Convert a chunk to a Uint8Array that can be used with the binary\n * set functions. This is necessary because the binary set functions\n * require a contiguous block of memory, and allows us to support more than\n * just the browser's TypedArray objects.\n *\n * WARNING: This function is not meant to be used directly and is NOT type-safe.\n * In the case of `Array` instances, it will return a `object_array_view` of\n * the underlying, which is supported by our binary set functions.\n */\nfunction compat_chunk(arr) {\n    if (globalThis.Array.isArray(arr.data)) {\n        return {\n            // @ts-expect-error\n            data: object_array_view(arr.data),\n            stride: arr.stride,\n            bytes_per_element: 1,\n        };\n    }\n    return {\n        data: new Uint8Array(arr.data.buffer, arr.data.byteOffset, arr.data.byteLength),\n        stride: arr.stride,\n        bytes_per_element: arr.data.BYTES_PER_ELEMENT,\n    };\n}\n/** Hack to get the constructor of a typed array constructor from an existing TypedArray. */\nfunction get_typed_array_constructor(arr) {\n    if (\"chars\" in arr) {\n        // our custom TypedArray needs to bind the number of characters per\n        // element to the constructor.\n        return arr.constructor.bind(null, arr.chars);\n    }\n    return arr.constructor;\n}\n/**\n * Convert a scalar to a Uint8Array that can be used with the binary\n * set functions. This is necessary because the binary set functions\n * require a contiguous block of memory, and allows us to support more\n * than just the browser's TypedArray objects.\n *\n * WARNING: This function is not meant to be used directly and is NOT type-safe.\n * In the case of `Array` instances, it will return a `object_array_view` of\n * the scalar, which is supported by our binary set functions.\n */\nfunction compat_scalar(arr, value) {\n    if (globalThis.Array.isArray(arr.data)) {\n        // @ts-expect-error\n        return object_array_view([value]);\n    }\n    let TypedArray = get_typed_array_constructor(arr.data);\n    // @ts-expect-error - value is a scalar and matches\n    let data = new TypedArray([value]);\n    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n}\nexport const setter = {\n    prepare(data, shape, stride) {\n        return { data, shape, stride };\n    },\n    set_scalar(dest, sel, value) {\n        let view = compat_chunk(dest);\n        set_scalar_binary(view, sel, compat_scalar(dest, value), view.bytes_per_element);\n    },\n    set_from_chunk(dest, src, projections) {\n        let view = compat_chunk(dest);\n        set_from_chunk_binary(view, compat_chunk(src), view.bytes_per_element, projections);\n    },\n};\n/** @category Utility */\nexport async function get(arr, selection = null, opts = {}) {\n    return get_with_setter(arr, selection, opts, setter);\n}\n/** @category Utility */\nexport async function set(arr, selection, value, opts = {}) {\n    return set_with_setter(arr, selection, value, opts, setter);\n}\nfunction indices_len(start, stop, step) {\n    if (step < 0 && stop < start) {\n        return Math.floor((start - stop - 1) / -step) + 1;\n    }\n    if (start < stop)\n        return Math.floor((stop - start - 1) / step) + 1;\n    return 0;\n}\nfunction set_scalar_binary(out, out_selection, value, bytes_per_element) {\n    if (out_selection.length === 0) {\n        out.data.set(value, 0);\n        return;\n    }\n    const [slice, ...slices] = out_selection;\n    const [curr_stride, ...stride] = out.stride;\n    if (typeof slice === \"number\") {\n        const data = out.data.subarray(curr_stride * slice * bytes_per_element);\n        set_scalar_binary({ data, stride }, slices, value, bytes_per_element);\n        return;\n    }\n    const [from, to, step] = slice;\n    const len = indices_len(from, to, step);\n    if (slices.length === 0) {\n        for (let i = 0; i < len; i++) {\n            out.data.set(value, curr_stride * (from + step * i) * bytes_per_element);\n        }\n        return;\n    }\n    for (let i = 0; i < len; i++) {\n        const data = out.data.subarray(curr_stride * (from + step * i) * bytes_per_element);\n        set_scalar_binary({ data, stride }, slices, value, bytes_per_element);\n    }\n}\nfunction set_from_chunk_binary(dest, src, bytes_per_element, projections) {\n    const [proj, ...projs] = projections;\n    const [dstride, ...dstrides] = dest.stride;\n    const [sstride, ...sstrides] = src.stride;\n    if (proj.from === null) {\n        if (projs.length === 0) {\n            dest.data.set(src.data.subarray(0, bytes_per_element), proj.to * bytes_per_element);\n            return;\n        }\n        set_from_chunk_binary({\n            data: dest.data.subarray(dstride * proj.to * bytes_per_element),\n            stride: dstrides,\n        }, src, bytes_per_element, projs);\n        return;\n    }\n    if (proj.to === null) {\n        if (projs.length === 0) {\n            let offset = proj.from * bytes_per_element;\n            dest.data.set(src.data.subarray(offset, offset + bytes_per_element), 0);\n            return;\n        }\n        set_from_chunk_binary(dest, {\n            data: src.data.subarray(sstride * proj.from * bytes_per_element),\n            stride: sstrides,\n        }, bytes_per_element, projs);\n        return;\n    }\n    const [from, to, step] = proj.to;\n    const [sfrom, _, sstep] = proj.from;\n    const len = indices_len(from, to, step);\n    if (projs.length === 0) {\n        // NB: we have a contiguous block of memory\n        // so we can just copy over all the data at once.\n        if (step === 1 && sstep === 1 && dstride === 1 && sstride === 1) {\n            let offset = sfrom * bytes_per_element;\n            let size = len * bytes_per_element;\n            dest.data.set(src.data.subarray(offset, offset + size), from * bytes_per_element);\n            return;\n        }\n        // Otherwise, we have to copy over each element individually.\n        for (let i = 0; i < len; i++) {\n            let offset = sstride * (sfrom + sstep * i) * bytes_per_element;\n            dest.data.set(src.data.subarray(offset, offset + bytes_per_element), dstride * (from + step * i) * bytes_per_element);\n        }\n        return;\n    }\n    for (let i = 0; i < len; i++) {\n        set_from_chunk_binary({\n            data: dest.data.subarray(dstride * (from + i * step) * bytes_per_element),\n            stride: dstrides,\n        }, {\n            data: src.data.subarray(sstride * (sfrom + i * sstep) * bytes_per_element),\n            stride: sstrides,\n        }, bytes_per_element, projs);\n    }\n}\n//# sourceMappingURL=ops.js.map","import { KeyError, NodeNotFoundError } from \"./errors.js\";\nimport { Array, Group, Location } from \"./hierarchy.js\";\nimport { ensure_correct_scalar, json_decode_object, rethrow_unless, v2_to_v3_array_metadata, v2_to_v3_group_metadata, } from \"./util.js\";\nlet VERSION_COUNTER = create_version_counter();\nfunction create_version_counter() {\n    let version_counts = new WeakMap();\n    function get_counts(store) {\n        let counts = version_counts.get(store) ?? { v2: 0, v3: 0 };\n        version_counts.set(store, counts);\n        return counts;\n    }\n    return {\n        increment(store, version) {\n            get_counts(store)[version] += 1;\n        },\n        version_max(store) {\n            let counts = get_counts(store);\n            return counts.v3 > counts.v2 ? \"v3\" : \"v2\";\n        },\n    };\n}\nasync function load_attrs(location) {\n    let meta_bytes = await location.store.get(location.resolve(\".zattrs\").path);\n    if (!meta_bytes)\n        return {};\n    return json_decode_object(meta_bytes);\n}\nasync function open_v2(location, options = {}) {\n    let loc = \"store\" in location ? location : new Location(location);\n    let attrs = {};\n    if (options.attrs ?? true)\n        attrs = await load_attrs(loc);\n    if (options.kind === \"array\")\n        return open_array_v2(loc, attrs);\n    if (options.kind === \"group\")\n        return open_group_v2(loc, attrs);\n    return open_array_v2(loc, attrs).catch((err) => {\n        rethrow_unless(err, NodeNotFoundError);\n        return open_group_v2(loc, attrs);\n    });\n}\nasync function open_array_v2(location, attrs) {\n    let { path } = location.resolve(\".zarray\");\n    let meta = await location.store.get(path);\n    if (!meta) {\n        throw new NodeNotFoundError(\"v2 array\", {\n            cause: new KeyError(path),\n        });\n    }\n    VERSION_COUNTER.increment(location.store, \"v2\");\n    return new Array(location.store, location.path, v2_to_v3_array_metadata(json_decode_object(meta), attrs));\n}\nasync function open_group_v2(location, attrs) {\n    let { path } = location.resolve(\".zgroup\");\n    let meta = await location.store.get(path);\n    if (!meta) {\n        throw new NodeNotFoundError(\"v2 group\", {\n            cause: new KeyError(path),\n        });\n    }\n    VERSION_COUNTER.increment(location.store, \"v2\");\n    return new Group(location.store, location.path, v2_to_v3_group_metadata(json_decode_object(meta), attrs));\n}\nasync function _open_v3(location) {\n    let { store, path } = location.resolve(\"zarr.json\");\n    let meta = await location.store.get(path);\n    if (!meta) {\n        throw new NodeNotFoundError(\"v3 array or group\", {\n            cause: new KeyError(path),\n        });\n    }\n    let meta_doc = json_decode_object(meta);\n    if (meta_doc.node_type === \"array\") {\n        meta_doc.fill_value = ensure_correct_scalar(meta_doc);\n    }\n    return meta_doc.node_type === \"array\"\n        ? new Array(store, location.path, meta_doc)\n        : new Group(store, location.path, meta_doc);\n}\nasync function open_v3(location, options = {}) {\n    let loc = \"store\" in location ? location : new Location(location);\n    let node = await _open_v3(loc);\n    VERSION_COUNTER.increment(loc.store, \"v3\");\n    if (options.kind === undefined)\n        return node;\n    if (options.kind === \"array\" && node instanceof Array)\n        return node;\n    if (options.kind === \"group\" && node instanceof Group)\n        return node;\n    let kind = node instanceof Array ? \"array\" : \"group\";\n    throw new Error(`Expected node of kind ${options.kind}, found ${kind}.`);\n}\nexport async function open(location, options = {}) {\n    let store = \"store\" in location ? location.store : location;\n    let version_max = VERSION_COUNTER.version_max(store);\n    // Use the open function for the version with the most successful opens.\n    // Note that here we use the dot syntax to access the open functions\n    // because this enables us to use vi.spyOn during testing.\n    let open_primary = version_max === \"v2\" ? open.v2 : open.v3;\n    let open_secondary = version_max === \"v2\" ? open.v3 : open.v2;\n    return open_primary(location, options).catch((err) => {\n        rethrow_unless(err, NodeNotFoundError);\n        return open_secondary(location, options);\n    });\n}\nopen.v2 = open_v2;\nopen.v3 = open_v3;\n//# sourceMappingURL=open.js.map","var __defProp = Object.defineProperty;\nvar __typeError = (msg) => {\n  throw TypeError(msg);\n};\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\n\n// src/niivue/index.ts\nimport { mat3 as mat33, mat4 as mat49, vec2, vec3 as vec313, vec4 as vec49 } from \"gl-matrix\";\n\n// package.json\nvar package_default = {\n  name: \"@niivue/niivue\",\n  version: \"0.65.0\",\n  description: \"minimal webgl2 nifti image viewer\",\n  types: \"./build/niivue/index.d.ts\",\n  main: \"./build/niivue/index.js\",\n  type: \"module\",\n  unpkg: \"./dist/index.min.js\",\n  module: \"./build/niivue/index.js\",\n  exports: {\n    \".\": {\n      import: \"./build/niivue/index.js\",\n      types: \"./build/niivue/index.d.ts\"\n    },\n    \"./drawing\": {\n      import: \"./build/drawing/index.js\",\n      types: \"./build/drawing/index.d.ts\"\n    },\n    \"./utils\": {\n      import: \"./build/utils/index.js\",\n      types: \"./build/utils/index.d.ts\"\n    },\n    \"./min\": {\n      import: \"./build/index.min.js\"\n    }\n  },\n  scripts: {\n    dev: \"vite\",\n    \"build:umd\": \"vite build --config vite.config.js --base=./ && vite build --config vite.config_inject.js --base=./\",\n    build: \"tsup --config tsup.config.ts && npm run build:forTests && npm run build:min && npm run build:umd\",\n    \"build:forTests\": \"tsup --config tsup.config.tests.ts && npm run build:mindemos\",\n    \"build:min\": \"node bundle.js\",\n    \"build:mindemos\": \"node bundleForDemos.js\",\n    demo: \"npm run build:forTests && rm -rf demos/dist && cp -r dist demos/dist && npx http-server demos/ --cors\",\n    \"demo-win\": \"npm run build && npx http-server demos/\",\n    test: \"npm run build:forTests && npm run test:unit && jest --maxWorkers=1\",\n    \"test-win\": \"npm run build-win && jest\",\n    \"test-playwright\": 'npx playwright test --grep-invert \"niivue demo file:\"',\n    \"test-demos\": \"npx playwright test playwright/e2e/test.demos.spec.ts\",\n    docs: \"typedoc && rm -rf ../docs/docs/api && cp -r devdocs ../docs/docs/api\",\n    \"test:unit\": \"vitest --run --coverage\",\n    \"serve-docs\": \"npx http-server devdocs\",\n    pub: \"npm run build && npm publish --access public\",\n    lint: \"eslint .\",\n    \"lint:ts\": \"tsc --noEmit\",\n    \"lint:fix\": \"eslint --fix .\",\n    \"lint:debug\": \"DEBUG=eslint:cli-engine eslint .\",\n    \"pretest-playwright\": \"npm run build:forTests && node preplaywrighttest.cjs && tsc --incremental -p playwright/e2e/tsconfig.json\",\n    \"pretest-demos\": \"npm run build:forTests && node preplaywrighttest.cjs && tsc --incremental -p playwright/e2e/tsconfig.json\"\n  },\n  files: [\n    \"src\",\n    \"build\",\n    \"dist\"\n  ],\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/niivue/niivue.git\"\n  },\n  keywords: [\n    \"niivue\",\n    \"webgl2\",\n    \"nifti\",\n    \"image\",\n    \"viewer\"\n  ],\n  author: \"niivue authors\",\n  license: \"BSD-2-Clause\",\n  bugs: {\n    url: \"https://github.com/niivue/niivue/issues\"\n  },\n  homepage: \"https://github.com/niivue/niivue#readme\",\n  dependencies: {\n    \"@lukeed/uuid\": \"^2.0.1\",\n    \"@ungap/structured-clone\": \"^1.2.0\",\n    \"array-equal\": \"^1.0.2\",\n    fflate: \"^0.8.2\",\n    \"gl-matrix\": \"^3.4.3\",\n    \"nifti-reader-js\": \"^0.8.0\",\n    zarrita: \"^0.5.0\"\n  },\n  devDependencies: {\n    \"@playwright/test\": \"^1.45.2\",\n    \"@rollup/plugin-commonjs\": \"^26.0.1\",\n    \"@types/array-equal\": \"^1.0.2\",\n    \"@types/node\": \"^20.14.11\",\n    \"@types/ungap__structured-clone\": \"^1.2.0\",\n    \"@typescript-eslint/eslint-plugin\": \"^7.16.1\",\n    \"@typescript-eslint/parser\": \"^7.16.1\",\n    \"@vitest/coverage-v8\": \"^3.1.3\",\n    eslint: \"^8.57.0\",\n    \"eslint-config-prettier\": \"^9.1.0\",\n    \"eslint-config-standard\": \"^17.1.0\",\n    \"eslint-plugin-prettier\": \"^5.2.1\",\n    \"eslint-plugin-tsdoc\": \"^0.3.0\",\n    express: \"^4.19.2\",\n    \"happy-dom\": \"^15.11.6\",\n    \"http-server\": \"^14.1.1\",\n    prettier: \"^3.3.3\",\n    \"regenerator-runtime\": \"^0.14.1\",\n    terser: \"^5.31.3\",\n    tsup: \"^8.1.2\",\n    typedoc: \"^0.28.5\",\n    \"typedoc-docusaurus-theme\": \"^1.4.0\",\n    \"typedoc-plugin-markdown\": \"^4.7.0\",\n    typescript: \"^5.5.3\",\n    vite: \"^5.3.4\",\n    vitest: \"^3.1.3\"\n  },\n  optionalDependencies: {\n    \"@rollup/rollup-linux-x64-gnu\": \"^4.18.1\"\n  }\n};\n\n// src/orientCube.ts\nvar orientCube = new Float32Array([\n  -1,\n  -1,\n  -1,\n  0.28,\n  0.28,\n  0.28,\n  -1,\n  -1,\n  -1,\n  0.28,\n  0.28,\n  0.28,\n  -1,\n  1,\n  -1,\n  0.28,\n  0.28,\n  0.28,\n  1,\n  -1,\n  -1,\n  0.28,\n  0.28,\n  0.28,\n  1,\n  1,\n  -1,\n  0.28,\n  0.28,\n  0.28,\n  1,\n  1,\n  -1,\n  0.28,\n  0.28,\n  0.28,\n  -1,\n  -1,\n  1,\n  0.8,\n  0.8,\n  0.8,\n  -1,\n  -1,\n  1,\n  0.8,\n  0.8,\n  0.8,\n  1,\n  -1,\n  1,\n  0.8,\n  0.8,\n  0.8,\n  -1,\n  1,\n  1,\n  0.8,\n  0.8,\n  0.8,\n  1,\n  1,\n  1,\n  0.8,\n  0.8,\n  0.8,\n  1,\n  1,\n  1,\n  0.8,\n  0.8,\n  0.8,\n  -1,\n  1,\n  -1,\n  0,\n  0,\n  0.74,\n  -1,\n  1,\n  -1,\n  0,\n  0,\n  0.74,\n  -1,\n  1,\n  1,\n  0,\n  0,\n  0.74,\n  1,\n  1,\n  -1,\n  0,\n  0,\n  0.74,\n  1,\n  1,\n  1,\n  0,\n  0,\n  0.74,\n  1,\n  1,\n  1,\n  0,\n  0,\n  0.74,\n  -1,\n  -1,\n  -1,\n  0.42,\n  0,\n  0.42,\n  -1,\n  -1,\n  -1,\n  0.42,\n  0,\n  0.42,\n  1,\n  -1,\n  -1,\n  0.42,\n  0,\n  0.42,\n  -1,\n  -1,\n  1,\n  0.42,\n  0,\n  0.42,\n  1,\n  -1,\n  1,\n  0.42,\n  0,\n  0.42,\n  1,\n  -1,\n  1,\n  0.42,\n  0,\n  0.42,\n  -1,\n  -1,\n  -1,\n  0.64,\n  0,\n  0,\n  -1,\n  -1,\n  -1,\n  0.64,\n  0,\n  0,\n  -1,\n  -1,\n  1,\n  0.64,\n  0,\n  0,\n  -1,\n  1,\n  -1,\n  0.64,\n  0,\n  0,\n  -1,\n  1,\n  1,\n  0.64,\n  0,\n  0,\n  -1,\n  1,\n  1,\n  0.64,\n  0,\n  0,\n  1,\n  -1,\n  -1,\n  0,\n  0.5,\n  0,\n  1,\n  -1,\n  -1,\n  0,\n  0.5,\n  0,\n  1,\n  1,\n  -1,\n  0,\n  0.5,\n  0,\n  1,\n  -1,\n  1,\n  0,\n  0.5,\n  0,\n  1,\n  1,\n  1,\n  0,\n  0.5,\n  0,\n  1,\n  1,\n  1,\n  0,\n  0.5,\n  0,\n  // P\n  -0.45,\n  1,\n  -0.8,\n  0,\n  0,\n  0,\n  -0.45,\n  1,\n  -0.8,\n  0,\n  0,\n  0,\n  -0.45,\n  1,\n  0.8,\n  0,\n  0,\n  0,\n  -0.25,\n  1,\n  -0.8,\n  0,\n  0,\n  0,\n  -0.25,\n  1,\n  0.8,\n  0,\n  0,\n  0,\n  -0.25,\n  1,\n  0.8,\n  0,\n  0,\n  0,\n  -0.25,\n  1,\n  0.6,\n  0,\n  0,\n  0,\n  -0.25,\n  1,\n  0.6,\n  0,\n  0,\n  0,\n  -0.25,\n  1,\n  0.8,\n  0,\n  0,\n  0,\n  0.45,\n  1,\n  0.6,\n  0,\n  0,\n  0,\n  0.25,\n  1,\n  0.8,\n  0,\n  0,\n  0,\n  0.25,\n  1,\n  0.8,\n  0,\n  0,\n  0,\n  0.25,\n  1,\n  0.1,\n  0,\n  0,\n  0,\n  0.25,\n  1,\n  0.1,\n  0,\n  0,\n  0,\n  0.25,\n  1,\n  0.6,\n  0,\n  0,\n  0,\n  0.45,\n  1,\n  0.1,\n  0,\n  0,\n  0,\n  0.45,\n  1,\n  0.6,\n  0,\n  0,\n  0,\n  0.45,\n  1,\n  0.6,\n  0,\n  0,\n  0,\n  -0.25,\n  1,\n  -0.1,\n  0,\n  0,\n  0,\n  -0.25,\n  1,\n  -0.1,\n  0,\n  0,\n  0,\n  -0.25,\n  1,\n  0.1,\n  0,\n  0,\n  0,\n  0.25,\n  1,\n  -0.1,\n  0,\n  0,\n  0,\n  0.45,\n  1,\n  0.1,\n  0,\n  0,\n  0,\n  0.45,\n  1,\n  0.1,\n  0,\n  0,\n  0,\n  // A\n  0.45,\n  -1,\n  -0.8,\n  0,\n  0,\n  0,\n  0.45,\n  -1,\n  -0.8,\n  0,\n  0,\n  0,\n  0.05,\n  -1,\n  0.8,\n  0,\n  0,\n  0,\n  0.25,\n  -1,\n  -0.8,\n  0,\n  0,\n  0,\n  -0.15,\n  -1,\n  0.8,\n  0,\n  0,\n  0,\n  -0.15,\n  -1,\n  0.8,\n  0,\n  0,\n  0,\n  -0.25,\n  -1,\n  -0.8,\n  0,\n  0,\n  0,\n  -0.25,\n  -1,\n  -0.8,\n  0,\n  0,\n  0,\n  0.05,\n  -1,\n  0.8,\n  0,\n  0,\n  0,\n  -0.45,\n  -1,\n  -0.8,\n  0,\n  0,\n  0,\n  -0.15,\n  -1,\n  0.8,\n  0,\n  0,\n  0,\n  -0.15,\n  -1,\n  0.8,\n  0,\n  0,\n  0,\n  0.13,\n  -1,\n  -0.3,\n  0,\n  0,\n  0,\n  0.13,\n  -1,\n  -0.3,\n  0,\n  0,\n  0,\n  0.07,\n  -1,\n  -0.1,\n  0,\n  0,\n  0,\n  -0.33,\n  -1,\n  -0.3,\n  0,\n  0,\n  0,\n  -0.27,\n  -1,\n  -0.1,\n  0,\n  0,\n  0,\n  -0.27,\n  -1,\n  -0.1,\n  0,\n  0,\n  0,\n  // S\n  -0.45,\n  0.6,\n  1,\n  0,\n  0,\n  0,\n  -0.45,\n  0.6,\n  1,\n  0,\n  0,\n  0,\n  -0.45,\n  0.4,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  0.8,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  0.4,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  0.4,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  0.8,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  0.8,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  0.6,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  0.8,\n  1,\n  0,\n  0,\n  0,\n  0.45,\n  0.6,\n  1,\n  0,\n  0,\n  0,\n  0.45,\n  0.6,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  0.8,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  0.8,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  -0.1,\n  1,\n  0,\n  0,\n  0,\n  0.45,\n  0.6,\n  1,\n  0,\n  0,\n  0,\n  0.45,\n  0.1,\n  1,\n  0,\n  0,\n  0,\n  0.45,\n  0.1,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  0.1,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  0.1,\n  1,\n  0,\n  0,\n  0,\n  -0.45,\n  -0.1,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  0.1,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  -0.1,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  -0.1,\n  1,\n  0,\n  0,\n  0,\n  -0.45,\n  -0.1,\n  1,\n  0,\n  0,\n  0,\n  -0.45,\n  -0.1,\n  1,\n  0,\n  0,\n  0,\n  -0.45,\n  -0.6,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  -0.1,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  -0.8,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  -0.8,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  -0.6,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  -0.6,\n  1,\n  0,\n  0,\n  0,\n  -0.25,\n  -0.8,\n  1,\n  0,\n  0,\n  0,\n  0.45,\n  -0.6,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  -0.8,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  -0.8,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  -0.4,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  -0.4,\n  1,\n  0,\n  0,\n  0,\n  0.25,\n  -0.6,\n  1,\n  0,\n  0,\n  0,\n  0.45,\n  -0.4,\n  1,\n  0,\n  0,\n  0,\n  0.45,\n  -0.6,\n  1,\n  0,\n  0,\n  0,\n  0.45,\n  -0.6,\n  1,\n  0,\n  0,\n  0,\n  // I\n  -0.1,\n  -0.8,\n  -1,\n  0,\n  0,\n  0,\n  -0.1,\n  -0.8,\n  -1,\n  0,\n  0,\n  0,\n  -0.1,\n  0.8,\n  -1,\n  0,\n  0,\n  0,\n  0.1,\n  -0.8,\n  -1,\n  0,\n  0,\n  0,\n  0.1,\n  0.8,\n  -1,\n  0,\n  0,\n  0,\n  0.1,\n  0.8,\n  -1,\n  0,\n  0,\n  0,\n  // L\n  -1,\n  -0.45,\n  -0.8,\n  0,\n  0,\n  0,\n  -1,\n  -0.45,\n  -0.8,\n  0,\n  0,\n  0,\n  -1,\n  -0.45,\n  0.8,\n  0,\n  0,\n  0,\n  -1,\n  -0.25,\n  -0.8,\n  0,\n  0,\n  0,\n  -1,\n  -0.25,\n  0.8,\n  0,\n  0,\n  0,\n  -1,\n  -0.25,\n  0.8,\n  0,\n  0,\n  0,\n  -1,\n  -0.25,\n  -0.8,\n  0,\n  0,\n  0,\n  -1,\n  -0.25,\n  -0.8,\n  0,\n  0,\n  0,\n  -1,\n  -0.25,\n  -0.6,\n  0,\n  0,\n  0,\n  -1,\n  0.45,\n  -0.8,\n  0,\n  0,\n  0,\n  -1,\n  0.45,\n  -0.6,\n  0,\n  0,\n  0,\n  -1,\n  0.45,\n  -0.6,\n  0,\n  0,\n  0,\n  // R\n  1,\n  0.45,\n  -0.8,\n  0,\n  0,\n  0,\n  1,\n  0.45,\n  -0.8,\n  0,\n  0,\n  0,\n  1,\n  0.45,\n  0.8,\n  0,\n  0,\n  0,\n  1,\n  0.25,\n  -0.8,\n  0,\n  0,\n  0,\n  1,\n  0.25,\n  0.8,\n  0,\n  0,\n  0,\n  1,\n  0.25,\n  0.8,\n  0,\n  0,\n  0,\n  1,\n  0.25,\n  0.6,\n  0,\n  0,\n  0,\n  1,\n  0.25,\n  0.6,\n  0,\n  0,\n  0,\n  1,\n  0.25,\n  0.8,\n  0,\n  0,\n  0,\n  1,\n  -0.45,\n  0.6,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  0.8,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  0.8,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  0.1,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  0.1,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  0.6,\n  0,\n  0,\n  0,\n  1,\n  -0.45,\n  0.1,\n  0,\n  0,\n  0,\n  1,\n  -0.45,\n  0.6,\n  0,\n  0,\n  0,\n  1,\n  -0.45,\n  0.6,\n  0,\n  0,\n  0,\n  1,\n  0.25,\n  -0.1,\n  0,\n  0,\n  0,\n  1,\n  0.25,\n  -0.1,\n  0,\n  0,\n  0,\n  1,\n  0.25,\n  0.1,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  -0.1,\n  0,\n  0,\n  0,\n  1,\n  -0.45,\n  0.1,\n  0,\n  0,\n  0,\n  1,\n  -0.45,\n  0.1,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  -0.8,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  -0.8,\n  0,\n  0,\n  0,\n  1,\n  -0.05,\n  -0.1,\n  0,\n  0,\n  0,\n  1,\n  -0.45,\n  -0.8,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  -0.1,\n  0,\n  0,\n  0,\n  1,\n  -0.25,\n  -0.1,\n  0,\n  0,\n  0\n]);\n\n// src/niivue-object3D.ts\nimport { mat4, vec3 } from \"gl-matrix\";\nvar _NiivueObject3D = class _NiivueObject3D {\n  constructor(id, vertexBuffer, mode, indexCount, indexBuffer = null, vao = null) {\n    __publicField(this, \"sphereIdx\", []);\n    __publicField(this, \"sphereVtx\", []);\n    __publicField(this, \"renderShaders\", []);\n    __publicField(this, \"isVisible\", true);\n    __publicField(this, \"isPickable\", true);\n    __publicField(this, \"vertexBuffer\");\n    __publicField(this, \"indexCount\");\n    __publicField(this, \"indexBuffer\");\n    __publicField(this, \"vao\");\n    __publicField(this, \"mode\");\n    __publicField(this, \"glFlags\", 0);\n    __publicField(this, \"id\");\n    __publicField(this, \"colorId\");\n    __publicField(this, \"modelMatrix\", mat4.create());\n    __publicField(this, \"scale\", [1, 1, 1]);\n    __publicField(this, \"position\", [0, 0, 0]);\n    __publicField(this, \"rotation\", [0, 0, 0]);\n    __publicField(this, \"rotationRadians\", 0);\n    __publicField(this, \"extentsMin\", []);\n    __publicField(this, \"extentsMax\", []);\n    // TODO needed through NVImage\n    __publicField(this, \"furthestVertexFromOrigin\");\n    __publicField(this, \"originNegate\");\n    __publicField(this, \"fieldOfViewDeObliqueMM\");\n    // TODO needed through crosshairs in NiiVue\n    __publicField(this, \"mm\");\n    this.vertexBuffer = vertexBuffer;\n    this.indexCount = indexCount;\n    this.indexBuffer = indexBuffer;\n    this.vao = vao;\n    this.mode = mode;\n    this.id = id;\n    this.colorId = [\n      (id >> 0 & 255) / 255,\n      (id >> 8 & 255) / 255,\n      (id >> 16 & 255) / 255,\n      (id >> 24 & 255) / 255\n    ];\n  }\n};\n__publicField(_NiivueObject3D, \"BLEND\", 1);\n__publicField(_NiivueObject3D, \"CULL_FACE\", 2);\n__publicField(_NiivueObject3D, \"CULL_FRONT\", 4);\n__publicField(_NiivueObject3D, \"CULL_BACK\", 8);\n__publicField(_NiivueObject3D, \"ENABLE_DEPTH_TEST\", 16);\n__publicField(_NiivueObject3D, \"generateCrosshairs\", function(gl, id, xyzMM, xyzMin, xyzMax, radius, sides = 20, gap = 0) {\n  const geometry = _NiivueObject3D.generateCrosshairsGeometry(gl, xyzMM, xyzMin, xyzMax, radius, sides, gap);\n  return new _NiivueObject3D(\n    id,\n    geometry.vertexBuffer,\n    gl.TRIANGLES,\n    geometry.indexCount,\n    geometry.indexBuffer,\n    geometry.vao\n  );\n});\n// not included in public docs\n__publicField(_NiivueObject3D, \"generateCrosshairsGeometry\", function(gl, xyzMM, xyzMin, xyzMax, radius, sides = 20, gap = 0) {\n  const vertices = [];\n  const indices = [];\n  const gapX = radius * gap;\n  if (gapX <= 0) {\n    let start = vec3.fromValues(xyzMin[0], xyzMM[1], xyzMM[2]);\n    let dest = vec3.fromValues(xyzMax[0], xyzMM[1], xyzMM[2]);\n    _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides);\n    start = vec3.fromValues(xyzMM[0], xyzMin[1], xyzMM[2]);\n    dest = vec3.fromValues(xyzMM[0], xyzMax[1], xyzMM[2]);\n    _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides);\n    start = vec3.fromValues(xyzMM[0], xyzMM[1], xyzMin[2]);\n    dest = vec3.fromValues(xyzMM[0], xyzMM[1], xyzMax[2]);\n    _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides);\n  } else {\n    let start = vec3.fromValues(xyzMin[0], xyzMM[1], xyzMM[2]);\n    let dest = vec3.fromValues(xyzMM[0] - gapX, xyzMM[1], xyzMM[2]);\n    _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides, false);\n    start = vec3.fromValues(xyzMM[0] + gapX, xyzMM[1], xyzMM[2]);\n    dest = vec3.fromValues(xyzMax[0], xyzMM[1], xyzMM[2]);\n    _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides, false);\n    start = vec3.fromValues(xyzMM[0], xyzMin[1], xyzMM[2]);\n    dest = vec3.fromValues(xyzMM[0], xyzMM[1] - gapX, xyzMM[2]);\n    _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides, false);\n    start = vec3.fromValues(xyzMM[0], xyzMM[1] + gapX, xyzMM[2]);\n    dest = vec3.fromValues(xyzMM[0], xyzMax[1], xyzMM[2]);\n    _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides, false);\n    start = vec3.fromValues(xyzMM[0], xyzMM[1], xyzMin[2]);\n    dest = vec3.fromValues(xyzMM[0], xyzMM[1], xyzMM[2] - gapX);\n    _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides, false);\n    start = vec3.fromValues(xyzMM[0], xyzMM[1], xyzMM[2] + gapX);\n    dest = vec3.fromValues(xyzMM[0], xyzMM[1], xyzMax[2]);\n    _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides, false);\n  }\n  const vertexBuffer = gl.createBuffer();\n  if (vertexBuffer === null) {\n    throw new Error(\"could not instantiate vertex buffer\");\n  }\n  gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n  const indexBuffer = gl.createBuffer();\n  if (indexBuffer === null) {\n    throw new Error(\"could not instantiate index buffer\");\n  }\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n  gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint32Array(indices), gl.STATIC_DRAW);\n  const vao = gl.createVertexArray();\n  gl.bindVertexArray(vao);\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n  gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n  gl.enableVertexAttribArray(0);\n  gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);\n  gl.bindVertexArray(null);\n  return {\n    vertexBuffer,\n    indexBuffer,\n    indexCount: indices.length,\n    vao\n  };\n});\n__publicField(_NiivueObject3D, \"getFirstPerpVector\", function(v1) {\n  const v2 = vec3.fromValues(0, 0, 0);\n  if (v1[0] === 0) {\n    v2[0] = 1;\n  } else if (v1[1] === 0) {\n    v2[1] = 1;\n  } else if (v1[2] === 0) {\n    v2[2] = 1;\n  } else {\n    v2[0] = v1[2];\n    v2[1] = v1[2];\n    v2[2] = -(v1[0] + v1[1]);\n    vec3.normalize(v2, v2);\n  }\n  return v2;\n});\n__publicField(_NiivueObject3D, \"subdivide\", function(verts, faces) {\n  let nv = verts.length / 3;\n  let nf = faces.length / 3;\n  const n = nf;\n  const vNew = vec3.create();\n  const nNew = vec3.create();\n  for (let faceIndex = 0; faceIndex < n; faceIndex++) {\n    const fx = faces[faceIndex * 3 + 0];\n    const fy = faces[faceIndex * 3 + 1];\n    const fz = faces[faceIndex * 3 + 2];\n    const vx = vec3.fromValues(verts[fx * 3 + 0], verts[fx * 3 + 1], verts[fx * 3 + 2]);\n    const vy = vec3.fromValues(verts[fy * 3 + 0], verts[fy * 3 + 1], verts[fy * 3 + 2]);\n    const vz = vec3.fromValues(verts[fz * 3 + 0], verts[fz * 3 + 1], verts[fz * 3 + 2]);\n    vec3.add(vNew, vx, vy);\n    vec3.normalize(nNew, vNew);\n    verts.push(...nNew);\n    vec3.add(vNew, vy, vz);\n    vec3.normalize(nNew, vNew);\n    verts.push(...nNew);\n    vec3.add(vNew, vx, vz);\n    vec3.normalize(nNew, vNew);\n    verts.push(...nNew);\n    let face = [nv, nv + 1, nv + 2];\n    faces.push(...face);\n    face = [fx, nv, nv + 2];\n    faces.push(...face);\n    face = [nv, fy, nv + 1];\n    faces.push(...face);\n    faces[faceIndex * 3 + 0] = nv + 2;\n    faces[faceIndex * 3 + 1] = nv + 1;\n    faces[faceIndex * 3 + 2] = fz;\n    nf = nf + 3;\n    nv = nv + 3;\n  }\n});\n__publicField(_NiivueObject3D, \"weldVertices\", function(verts, faces) {\n  const nv = verts.length / 3;\n  let nUnique = 0;\n  const remap = new Int32Array(nv);\n  for (let i = 0; i < nv - 1; i++) {\n    if (remap[i] !== 0) {\n      continue;\n    }\n    remap[i] = nUnique;\n    let v = i * 3;\n    const x = verts[v];\n    const y = verts[v + 1];\n    const z = verts[v + 2];\n    for (let j = i + 1; j < nv; j++) {\n      v += 3;\n      if (x === verts[v] && y === verts[v + 1] && z === verts[v + 2]) {\n        remap[j] = nUnique;\n      }\n    }\n    nUnique++;\n  }\n  if (nUnique === nv) {\n    return verts;\n  }\n  const nf = faces.length;\n  for (let f = 0; f < nf; f++) {\n    faces[f] = remap[faces[f]];\n  }\n  const vtx = verts.slice(0, nUnique * 3 - 1);\n  for (let i = 0; i < nv - 1; i++) {\n    const v = i * 3;\n    const r = remap[i] * 3;\n    vtx[r] = verts[v];\n    vtx[r + 1] = verts[v + 1];\n    vtx[r + 2] = verts[v + 2];\n  }\n  return vtx;\n});\n__publicField(_NiivueObject3D, \"makeSphere\", function(vertices, indices, radius, origin = [0, 0, 0]) {\n  let vtx = [\n    0,\n    0,\n    1,\n    0.894,\n    0,\n    0.447,\n    0.276,\n    0.851,\n    0.447,\n    -0.724,\n    0.526,\n    0.447,\n    -0.724,\n    -0.526,\n    0.447,\n    0.276,\n    -0.851,\n    0.447,\n    0.724,\n    0.526,\n    -0.447,\n    -0.276,\n    0.851,\n    -0.447,\n    -0.894,\n    0,\n    -0.447,\n    -0.276,\n    -0.851,\n    -0.447,\n    0.724,\n    -0.526,\n    -0.447,\n    0,\n    0,\n    -1\n  ];\n  const idx = [\n    0,\n    1,\n    2,\n    0,\n    2,\n    3,\n    0,\n    3,\n    4,\n    0,\n    4,\n    5,\n    0,\n    5,\n    1,\n    7,\n    6,\n    11,\n    8,\n    7,\n    11,\n    9,\n    8,\n    11,\n    10,\n    9,\n    11,\n    6,\n    10,\n    11,\n    6,\n    2,\n    1,\n    7,\n    3,\n    2,\n    8,\n    4,\n    3,\n    9,\n    5,\n    4,\n    10,\n    1,\n    5,\n    6,\n    7,\n    2,\n    7,\n    8,\n    3,\n    8,\n    9,\n    4,\n    9,\n    10,\n    5,\n    10,\n    6,\n    1\n  ];\n  _NiivueObject3D.subdivide(vtx, idx);\n  _NiivueObject3D.subdivide(vtx, idx);\n  vtx = _NiivueObject3D.weldVertices(vtx, idx);\n  for (let i = 0; i < vtx.length; i++) {\n    vtx[i] = vtx[i] * radius;\n  }\n  const nvtx = vtx.length / 3;\n  let j = 0;\n  for (let i = 0; i < nvtx; i++) {\n    vtx[j] = vtx[j] + origin[0];\n    j++;\n    vtx[j] = vtx[j] + origin[1];\n    j++;\n    vtx[j] = vtx[j] + origin[2];\n    j++;\n  }\n  const idx0 = Math.floor(vertices.length / 3);\n  for (let i = 0; i < idx.length; i++) {\n    idx[i] = idx[i] + idx0;\n  }\n  indices.push(...idx);\n  vertices.push(...vtx);\n});\n__publicField(_NiivueObject3D, \"makeCylinder\", function(vertices, indices, start, dest, radius, sides = 20, endcaps = true) {\n  if (sides < 3) {\n    sides = 3;\n  }\n  const v1 = vec3.create();\n  vec3.subtract(v1, dest, start);\n  vec3.normalize(v1, v1);\n  const v2 = _NiivueObject3D.getFirstPerpVector(v1);\n  const v3 = vec3.create();\n  vec3.cross(v3, v1, v2);\n  vec3.normalize(v3, v3);\n  let num_v = 2 * sides;\n  let num_f = 2 * sides;\n  if (endcaps) {\n    num_f += 2 * sides;\n    num_v += 2;\n  }\n  const idx0 = Math.floor(vertices.length / 3);\n  const idx = new Uint32Array(num_f * 3);\n  const vtx = new Float32Array(num_v * 3);\n  function setV(i, vec314) {\n    vtx[i * 3 + 0] = vec314[0];\n    vtx[i * 3 + 1] = vec314[1];\n    vtx[i * 3 + 2] = vec314[2];\n  }\n  function setI(i, a, b, c) {\n    idx[i * 3 + 0] = a + idx0;\n    idx[i * 3 + 1] = b + idx0;\n    idx[i * 3 + 2] = c + idx0;\n  }\n  const startPole = 2 * sides;\n  const destPole = startPole + 1;\n  if (endcaps) {\n    setV(startPole, start);\n    setV(destPole, dest);\n  }\n  const pt1 = vec3.create();\n  const pt2 = vec3.create();\n  for (let i = 0; i < sides; i++) {\n    const c = Math.cos(i / sides * 2 * Math.PI);\n    const s = Math.sin(i / sides * 2 * Math.PI);\n    pt1[0] = radius * (c * v2[0] + s * v3[0]);\n    pt1[1] = radius * (c * v2[1] + s * v3[1]);\n    pt1[2] = radius * (c * v2[2] + s * v3[2]);\n    vec3.add(pt2, start, pt1);\n    setV(i, pt2);\n    vec3.add(pt2, dest, pt1);\n    setV(i + sides, pt2);\n    let nxt = 0;\n    if (i < sides - 1) {\n      nxt = i + 1;\n    }\n    setI(i * 2, i, nxt, i + sides);\n    setI(i * 2 + 1, nxt, nxt + sides, i + sides);\n    if (endcaps) {\n      setI(sides * 2 + i, i, startPole, nxt);\n      setI(sides * 2 + i + sides, destPole, i + sides, nxt + sides);\n    }\n  }\n  indices.push(...idx);\n  vertices.push(...vtx);\n});\n__publicField(_NiivueObject3D, \"makeColoredCylinder\", function(vertices, indices, colors, start, dest, radius, rgba255 = [192, 0, 0, 255], sides = 20, endcaps = false) {\n  let nv = vertices.length / 3;\n  _NiivueObject3D.makeCylinder(vertices, indices, start, dest, radius, sides, endcaps);\n  nv = vertices.length / 3 - nv;\n  const clrs = [];\n  for (let i = 0; i < nv * 4 - 1; i += 4) {\n    clrs[i] = rgba255[0];\n    clrs[i + 1] = rgba255[1];\n    clrs[i + 2] = rgba255[2];\n    clrs[i + 3] = rgba255[3];\n  }\n  colors.push(...clrs);\n});\n__publicField(_NiivueObject3D, \"makeColoredSphere\", function(vertices, indices, colors, radius, origin = [0, 0, 0], rgba255 = [0, 0, 192, 255]) {\n  let nv = vertices.length / 3;\n  _NiivueObject3D.makeSphere(vertices, indices, radius, origin);\n  nv = vertices.length / 3 - nv;\n  const clrs = [];\n  for (let i = 0; i < nv * 4 - 1; i += 4) {\n    clrs[i] = rgba255[0];\n    clrs[i + 1] = rgba255[1];\n    clrs[i + 2] = rgba255[2];\n    clrs[i + 3] = rgba255[3];\n  }\n  colors.push(...clrs);\n});\nvar NiivueObject3D = _NiivueObject3D;\n\n// src/nvmesh.ts\nimport { vec3 as vec39, vec4 as vec47 } from \"gl-matrix\";\nimport { v4 as uuidv42 } from \"@lukeed/uuid\";\n\n// src/logger.ts\nvar _Log = class _Log {\n  constructor({ name = \"niivue\", level = \"info\" } = {}) {\n    __publicField(this, \"level\");\n    __publicField(this, \"name\");\n    this.name = `${name}`;\n    this.level = level;\n  }\n  debug(...args) {\n    if (_Log.levels[this.level] > _Log.levels.debug) {\n      return;\n    }\n    console.debug(`${this.name}-debug`, ...args);\n  }\n  info(...args) {\n    if (_Log.levels[this.level] > _Log.levels.info) {\n      return;\n    }\n    console.info(`${this.name}-info`, ...args);\n  }\n  warn(...args) {\n    if (_Log.levels[this.level] > _Log.levels.warn) {\n      return;\n    }\n    console.warn(`${this.name}-warn`, ...args);\n  }\n  error(...args) {\n    if (_Log.levels[this.level] > _Log.levels.error) {\n      return;\n    }\n    console.error(`${this.name}-error`, ...args);\n  }\n  fatal(...args) {\n    if (_Log.levels[this.level] > _Log.levels.fatal) {\n      return;\n    }\n    console.error(`${this.name}-fatal`, ...args);\n  }\n  setLogLevel(level) {\n    this.level = level;\n  }\n  setName(name) {\n    this.name = name;\n  }\n};\n// map 'debug' 'info' 'warn' 'error' 'fatal' 'silent' to numbers\n// for comparison\n__publicField(_Log, \"levels\", {\n  debug: 0,\n  info: 1,\n  warn: 2,\n  error: 3,\n  fatal: 4,\n  silent: Infinity\n});\nvar Log = _Log;\nvar log = new Log({ name: \"niivue\", level: \"info\" });\n\n// src/cmaps/index.ts\nvar cmaps_exports = {};\n__export(cmaps_exports, {\n  $itksnap: () => itksnap_default,\n  $slicer3d: () => slicer3d_default,\n  actc: () => actc_default,\n  afni_blues_inv: () => afni_blues_inv_default,\n  afni_reds_inv: () => afni_reds_inv_default,\n  batlow: () => batlow_default,\n  bcgwhw: () => bcgwhw_default,\n  bcgwhw_dark: () => bcgwhw_dark_default,\n  blue: () => blue_default,\n  blue2cyan: () => blue2cyan_default,\n  blue2magenta: () => blue2magenta_default,\n  blue2red: () => blue2red_default,\n  bluegrn: () => bluegrn_default,\n  bone: () => bone_default,\n  bronze: () => bronze_default,\n  cet_l17: () => cet_l17_default,\n  cividis: () => cividis_default,\n  cool: () => cool_default,\n  copper: () => copper_default,\n  copper2: () => copper2_default,\n  ct_airways: () => ct_airways_default,\n  ct_artery: () => ct_artery_default,\n  ct_bones: () => ct_bones_default,\n  ct_brain: () => ct_brain_default,\n  ct_brain_gray: () => ct_brain_gray_default,\n  ct_cardiac: () => ct_cardiac_default,\n  ct_head: () => ct_head_default,\n  ct_kidneys: () => ct_kidneys_default,\n  ct_liver: () => ct_liver_default,\n  ct_muscles: () => ct_muscles_default,\n  ct_scalp: () => ct_scalp_default,\n  ct_skull: () => ct_skull_default,\n  ct_soft: () => ct_soft_default,\n  ct_soft_tissue: () => ct_soft_tissue_default,\n  ct_surface: () => ct_surface_default,\n  ct_vessels: () => ct_vessels_default,\n  ct_w_contrast: () => ct_w_contrast_default,\n  cubehelix: () => cubehelix_default,\n  electric_blue: () => electric_blue_default,\n  freesurfer: () => freesurfer_default,\n  ge_color: () => ge_color_default,\n  gold: () => gold_default,\n  gray: () => gray_default,\n  green: () => green_default,\n  green2cyan: () => green2cyan_default,\n  green2orange: () => green2orange_default,\n  hot: () => hot_default,\n  hotiron: () => hotiron_default,\n  hsv: () => hsv_default,\n  inferno: () => inferno_default,\n  jet: () => jet_default,\n  kry: () => kry_default,\n  linspecer: () => linspecer_default,\n  lipari: () => lipari_default,\n  magma: () => magma_default,\n  mako: () => mako_default,\n  navia: () => navia_default,\n  nih: () => nih_default,\n  plasma: () => plasma_default,\n  random: () => random_default,\n  red: () => red_default,\n  redyell: () => redyell_default,\n  rocket: () => rocket_default,\n  roi_i256: () => roi_i256_default,\n  surface: () => surface_default,\n  thermal: () => thermal_default,\n  turbo: () => turbo_default,\n  violet: () => violet_default,\n  viridis: () => viridis_default,\n  warm: () => warm_default,\n  winter: () => winter_default,\n  x_rain: () => x_rain_default\n});\n\n// src/cmaps/_itksnap.json\nvar itksnap_default = {\n  R: [\n    0,\n    255,\n    0,\n    0,\n    255,\n    0,\n    255,\n    255,\n    0,\n    205,\n    210,\n    102,\n    0,\n    0,\n    46,\n    255,\n    106,\n    221,\n    233,\n    165,\n    255,\n    147,\n    218,\n    75,\n    255,\n    60,\n    255,\n    255,\n    218,\n    0,\n    188,\n    255,\n    255,\n    222,\n    127,\n    139,\n    124,\n    255,\n    70,\n    0,\n    238,\n    238,\n    240,\n    245,\n    184,\n    32,\n    255,\n    25,\n    112,\n    34,\n    248,\n    245,\n    255,\n    144,\n    173,\n    65,\n    255,\n    250,\n    128,\n    50,\n    244,\n    255,\n    123,\n    255,\n    173,\n    255,\n    127,\n    255,\n    143,\n    220,\n    253,\n    255,\n    0,\n    0,\n    128,\n    255,\n    250,\n    148,\n    178,\n    255,\n    135,\n    100,\n    240,\n    250,\n    255,\n    107,\n    135,\n    0,\n    139,\n    245,\n    186,\n    255,\n    255,\n    0,\n    210,\n    255,\n    47,\n    72,\n    175,\n    128,\n    176,\n    255,\n    139,\n    240,\n    255,\n    216,\n    119,\n    219,\n    72,\n    255,\n    199,\n    154,\n    189,\n    240,\n    230,\n    0,\n    85,\n    64,\n    153,\n    205,\n    250,\n    95,\n    0,\n    255,\n    224,\n    176,\n    138,\n    30,\n    240,\n    152,\n    160\n  ],\n  G: [\n    0,\n    0,\n    255,\n    0,\n    255,\n    255,\n    0,\n    239,\n    0,\n    133,\n    180,\n    205,\n    0,\n    139,\n    139,\n    228,\n    90,\n    160,\n    150,\n    42,\n    250,\n    112,\n    112,\n    0,\n    182,\n    179,\n    235,\n    228,\n    165,\n    128,\n    143,\n    105,\n    218,\n    184,\n    255,\n    69,\n    252,\n    255,\n    130,\n    100,\n    130,\n    232,\n    255,\n    222,\n    134,\n    178,\n    20,\n    25,\n    128,\n    139,\n    248,\n    255,\n    160,\n    238,\n    255,\n    105,\n    99,\n    240,\n    0,\n    205,\n    164,\n    255,\n    104,\n    165,\n    216,\n    192,\n    255,\n    140,\n    188,\n    20,\n    245,\n    250,\n    206,\n    255,\n    0,\n    250,\n    128,\n    0,\n    34,\n    127,\n    206,\n    149,\n    230,\n    235,\n    245,\n    142,\n    206,\n    0,\n    0,\n    245,\n    85,\n    228,\n    222,\n    191,\n    105,\n    248,\n    79,\n    61,\n    238,\n    128,\n    224,\n    240,\n    0,\n    255,\n    215,\n    191,\n    136,\n    112,\n    209,\n    0,\n    21,\n    205,\n    183,\n    248,\n    230,\n    250,\n    107,\n    224,\n    50,\n    92,\n    250,\n    158,\n    128,\n    69,\n    255,\n    196,\n    43,\n    144,\n    128,\n    251,\n    82\n  ],\n  B: [\n    0,\n    0,\n    0,\n    255,\n    0,\n    255,\n    255,\n    213,\n    205,\n    63,\n    140,\n    170,\n    128,\n    139,\n    87,\n    225,\n    205,\n    221,\n    122,\n    42,\n    250,\n    219,\n    214,\n    130,\n    193,\n    113,\n    205,\n    196,\n    32,\n    128,\n    143,\n    180,\n    185,\n    135,\n    0,\n    19,\n    0,\n    224,\n    180,\n    0,\n    238,\n    170,\n    240,\n    179,\n    11,\n    170,\n    147,\n    112,\n    144,\n    34,\n    255,\n    250,\n    122,\n    144,\n    47,\n    225,\n    71,\n    230,\n    0,\n    50,\n    96,\n    240,\n    238,\n    0,\n    230,\n    203,\n    212,\n    0,\n    143,\n    60,\n    230,\n    240,\n    209,\n    127,\n    128,\n    205,\n    114,\n    211,\n    34,\n    80,\n    235,\n    237,\n    140,\n    215,\n    238,\n    35,\n    250,\n    139,\n    139,\n    220,\n    211,\n    181,\n    173,\n    255,\n    30,\n    220,\n    79,\n    139,\n    238,\n    0,\n    230,\n    245,\n    0,\n    255,\n    0,\n    216,\n    153,\n    147,\n    204,\n    255,\n    133,\n    50,\n    107,\n    255,\n    250,\n    154,\n    47,\n    208,\n    204,\n    92,\n    210,\n    160,\n    0,\n    0,\n    255,\n    222,\n    226,\n    255,\n    128,\n    152,\n    45\n  ],\n  A: [\n    0,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255\n  ],\n  I: [\n    0,\n    1,\n    2,\n    3,\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    11,\n    12,\n    13,\n    14,\n    15,\n    16,\n    17,\n    18,\n    19,\n    20,\n    21,\n    22,\n    23,\n    24,\n    25,\n    26,\n    27,\n    28,\n    29,\n    30,\n    31,\n    32,\n    33,\n    34,\n    35,\n    36,\n    37,\n    38,\n    39,\n    40,\n    41,\n    42,\n    43,\n    44,\n    45,\n    46,\n    47,\n    48,\n    49,\n    50,\n    51,\n    52,\n    53,\n    54,\n    55,\n    56,\n    57,\n    58,\n    59,\n    60,\n    61,\n    62,\n    63,\n    64,\n    65,\n    66,\n    67,\n    68,\n    69,\n    70,\n    71,\n    72,\n    73,\n    74,\n    75,\n    76,\n    77,\n    78,\n    79,\n    80,\n    81,\n    82,\n    83,\n    84,\n    85,\n    86,\n    87,\n    88,\n    89,\n    90,\n    91,\n    92,\n    93,\n    94,\n    95,\n    96,\n    97,\n    98,\n    99,\n    100,\n    101,\n    102,\n    103,\n    104,\n    105,\n    106,\n    107,\n    108,\n    109,\n    110,\n    111,\n    112,\n    113,\n    114,\n    115,\n    116,\n    117,\n    118,\n    119,\n    120,\n    121,\n    122,\n    123,\n    124,\n    125,\n    126,\n    127,\n    128,\n    129,\n    130\n  ]\n};\n\n// src/cmaps/_slicer3d.json\nvar slicer3d_default = {\n  labels: [\n    \"background\",\n    \"tissue\",\n    \"bone\",\n    \"skin\",\n    \"connective tissue\",\n    \"blood\",\n    \"organ\",\n    \"mass\",\n    \"muscle\",\n    \"foreign object\",\n    \"waste\",\n    \"teeth\",\n    \"fat\",\n    \"gray matter\",\n    \"white matter\",\n    \"nerve\",\n    \"vein\",\n    \"artery\",\n    \"capillary\",\n    \"ligament\",\n    \"tendon\",\n    \"cartilage\",\n    \"meniscus\",\n    \"lymph node\",\n    \"lymphatic vessel\",\n    \"cerebro-spinal fluid\",\n    \"bile\",\n    \"urine\",\n    \"feces\",\n    \"gas\",\n    \"fluid\",\n    \"edema\",\n    \"bleeding\",\n    \"necrosis\",\n    \"clot\",\n    \"embolism\",\n    \"head\",\n    \"central nervous system\",\n    \"brain\",\n    \"gray matter of brain\",\n    \"telencephalon\",\n    \"cerebral cortex\",\n    \"right frontal lobe\",\n    \"left frontal lobe\",\n    \"right temporal lobe\",\n    \"left temporal lobe\",\n    \"right parietal lobe\",\n    \"left parietal lobe\",\n    \"right occipital lobe\",\n    \"left occipital lobe\",\n    \"right insular lobe\",\n    \"left insular lobe\",\n    \"right limbic lobe\",\n    \"left limbic lobe\",\n    \"right striatum\",\n    \"left striatum\",\n    \"right caudate nucleus\",\n    \"left caudate nucleus\",\n    \"right putamen\",\n    \"left putamen\",\n    \"right pallidum\",\n    \"left pallidum\",\n    \"right amygdaloid complex\",\n    \"left amygdaloid complex\",\n    \"diencephalon\",\n    \"thalamus\",\n    \"right thalamus\",\n    \"left thalamus\",\n    \"pineal gland\",\n    \"midbrain\",\n    \"substantia nigra\",\n    \"right substantia nigra\",\n    \"left substantia nigra\",\n    \"cerebral white matter\",\n    \"right superior longitudinal fasciculus\",\n    \"left superior longitudinal fasciculus\",\n    \"right inferior longitudinal fasciculus\",\n    \"left inferior longitudinal fasciculus\",\n    \"right arcuate fasciculus\",\n    \"left arcuate fasciculus\",\n    \"right uncinate fasciculus\",\n    \"left uncinate fasciculus\",\n    \"right cingulum bundle\",\n    \"left cingulum bundle\",\n    \"projection fibers\",\n    \"right corticospinal tract\",\n    \"left corticospinal tract\",\n    \"right optic radiation\",\n    \"left optic radiation\",\n    \"right medial lemniscus\",\n    \"left medial lemniscus\",\n    \"right superior cerebellar peduncle\",\n    \"left superior cerebellar peduncle\",\n    \"right middle cerebellar peduncle\",\n    \"left middle cerebellar peduncle\",\n    \"right inferior cerebellar peduncle\",\n    \"left inferior cerebellar peduncle\",\n    \"optic chiasm\",\n    \"right optic tract\",\n    \"left optic tract\",\n    \"right fornix\",\n    \"left fornix\",\n    \"commissural fibers\",\n    \"corpus callosum\",\n    \"posterior commissure\",\n    \"cerebellar white matter\",\n    \"CSF space\",\n    \"ventricles of brain\",\n    \"right lateral ventricle\",\n    \"left lateral ventricle\",\n    \"right third ventricle\",\n    \"left third ventricle\",\n    \"cerebral aqueduct\",\n    \"fourth ventricle\",\n    \"subarachnoid space\",\n    \"spinal cord\",\n    \"gray matter of spinal cord\",\n    \"white matter of spinal cord\",\n    \"endocrine system of brain\",\n    \"pituitary gland\",\n    \"adenohypophysis\",\n    \"neurohypophysis\",\n    \"meninges\",\n    \"dura mater\",\n    \"arachnoid\",\n    \"pia mater\",\n    \"muscles of head\",\n    \"salivary glands\",\n    \"lips\",\n    \"nose\",\n    \"tongue\",\n    \"soft palate\",\n    \"right inner ear\",\n    \"left inner ear\",\n    \"right external ear\",\n    \"left external ear\",\n    \"right middle ear\",\n    \"left middle ear\",\n    \"right eyeball\",\n    \"left eyeball\",\n    \"skull\",\n    \"right frontal bone\",\n    \"left frontal bone\",\n    \"right parietal bone\",\n    \"left parietal bone\",\n    \"right temporal bone\",\n    \"left temporal bone\",\n    \"right sphenoid bone\",\n    \"left sphenoid bone\",\n    \"right ethmoid bone\",\n    \"left ethmoid bone\",\n    \"occipital bone\",\n    \"maxilla\",\n    \"right zygomatic bone\",\n    \"right lacrimal bone\",\n    \"vomer bone\",\n    \"right palatine bone\",\n    \"left palatine bone\",\n    \"mandible\",\n    \"neck\",\n    \"muscles of neck\",\n    \"pharynx\",\n    \"larynx\",\n    \"thyroid gland\",\n    \"right parathyroid glands\",\n    \"left parathyroid glands\",\n    \"skeleton of neck\",\n    \"hyoid bone\",\n    \"cervical vertebral column\",\n    \"thorax\",\n    \"trachea\",\n    \"bronchi\",\n    \"right lung\",\n    \"left lung\",\n    \"superior lobe of right lung\",\n    \"superior lobe of left lung\",\n    \"middle lobe of right lung\",\n    \"inferior lobe of right lung\",\n    \"inferior lobe of left lung\",\n    \"pleura\",\n    \"heart\",\n    \"right atrium\",\n    \"left atrium\",\n    \"atrial septum\",\n    \"ventricular septum\",\n    \"right ventricle of heart\",\n    \"left ventricle of heart\",\n    \"mitral valve\",\n    \"tricuspid valve\",\n    \"aortic valve\",\n    \"pulmonary valve\",\n    \"aorta\",\n    \"pericardium\",\n    \"pericardial cavity\",\n    \"esophagus\",\n    \"thymus\",\n    \"mediastinum\",\n    \"skin of thoracic wall\",\n    \"muscles of thoracic wall\",\n    \"skeleton of thorax\",\n    \"thoracic vertebral column\",\n    \"ribs\",\n    \"sternum\",\n    \"right clavicle\",\n    \"left clavicle\",\n    \"abdominal cavity\",\n    \"abdomen\",\n    \"peritoneum\",\n    \"omentum\",\n    \"peritoneal cavity\",\n    \"retroperitoneal space\",\n    \"stomach\",\n    \"duodenum\",\n    \"small bowel\",\n    \"colon\",\n    \"anus\",\n    \"liver\",\n    \"biliary tree\",\n    \"gallbladder\",\n    \"pancreas\",\n    \"spleen\",\n    \"urinary system\",\n    \"right kidney\",\n    \"left kidney\",\n    \"right ureter\",\n    \"left ureter\",\n    \"urinary bladder\",\n    \"urethra\",\n    \"right adrenal gland\",\n    \"left adrenal gland\",\n    \"female internal genitalia\",\n    \"uterus\",\n    \"right fallopian tube\",\n    \"left fallopian tube\",\n    \"right ovary\",\n    \"left ovary\",\n    \"vagina\",\n    \"male internal genitalia\",\n    \"prostate\",\n    \"right seminal vesicle\",\n    \"left seminal vesicle\",\n    \"right deferent duct\",\n    \"left deferent duct\",\n    \"skin of abdominal wall\",\n    \"muscles of abdominal wall\",\n    \"skeleton of abdomen\",\n    \"lumbar vertebral column\",\n    \"female external genitalia\",\n    \"male external genitalia\",\n    \"skeleton of upper limb\",\n    \"muscles of upper limb\",\n    \"right upper limb\",\n    \"left upper limb\",\n    \"right shoulder\",\n    \"left shoulder\",\n    \"right arm\"\n  ],\n  R: [\n    0,\n    128,\n    241,\n    177,\n    111,\n    216,\n    221,\n    144,\n    192,\n    220,\n    78,\n    255,\n    230,\n    200,\n    250,\n    244,\n    0,\n    216,\n    183,\n    183,\n    152,\n    111,\n    178,\n    68,\n    111,\n    85,\n    0,\n    214,\n    78,\n    218,\n    170,\n    140,\n    188,\n    216,\n    145,\n    150,\n    177,\n    244,\n    250,\n    200,\n    68,\n    128,\n    83,\n    83,\n    162,\n    162,\n    141,\n    141,\n    182,\n    182,\n    188,\n    188,\n    154,\n    154,\n    177,\n    177,\n    30,\n    30,\n    210,\n    210,\n    48,\n    48,\n    98,\n    98,\n    69,\n    166,\n    122,\n    122,\n    253,\n    145,\n    46,\n    0,\n    0,\n    250,\n    127,\n    127,\n    159,\n    159,\n    125,\n    125,\n    106,\n    106,\n    154,\n    154,\n    126,\n    201,\n    201,\n    78,\n    78,\n    174,\n    174,\n    139,\n    139,\n    148,\n    148,\n    186,\n    186,\n    99,\n    156,\n    156,\n    64,\n    64,\n    138,\n    97,\n    126,\n    194,\n    85,\n    88,\n    88,\n    88,\n    88,\n    88,\n    88,\n    88,\n    88,\n    244,\n    200,\n    250,\n    82,\n    57,\n    60,\n    92,\n    255,\n    255,\n    255,\n    255,\n    201,\n    70,\n    188,\n    177,\n    166,\n    182,\n    229,\n    229,\n    174,\n    174,\n    201,\n    201,\n    194,\n    194,\n    241,\n    203,\n    203,\n    229,\n    229,\n    255,\n    255,\n    209,\n    209,\n    248,\n    248,\n    255,\n    196,\n    255,\n    255,\n    255,\n    242,\n    242,\n    222,\n    177,\n    213,\n    184,\n    150,\n    62,\n    62,\n    62,\n    242,\n    250,\n    255,\n    177,\n    182,\n    175,\n    197,\n    197,\n    172,\n    172,\n    202,\n    224,\n    224,\n    255,\n    206,\n    210,\n    203,\n    233,\n    195,\n    181,\n    152,\n    159,\n    166,\n    218,\n    225,\n    224,\n    255,\n    184,\n    211,\n    47,\n    255,\n    173,\n    188,\n    255,\n    226,\n    253,\n    244,\n    205,\n    205,\n    186,\n    177,\n    255,\n    234,\n    204,\n    180,\n    216,\n    255,\n    205,\n    204,\n    255,\n    221,\n    0,\n    139,\n    249,\n    157,\n    203,\n    185,\n    185,\n    247,\n    247,\n    222,\n    124,\n    249,\n    249,\n    244,\n    255,\n    255,\n    227,\n    213,\n    213,\n    193,\n    216,\n    230,\n    245,\n    245,\n    241,\n    241,\n    177,\n    171,\n    217,\n    212,\n    185,\n    185,\n    198,\n    194,\n    177,\n    177,\n    177,\n    177,\n    177\n  ],\n  G: [\n    0,\n    174,\n    214,\n    122,\n    184,\n    101,\n    130,\n    238,\n    104,\n    245,\n    63,\n    250,\n    220,\n    200,\n    250,\n    214,\n    151,\n    101,\n    156,\n    214,\n    189,\n    184,\n    212,\n    172,\n    197,\n    188,\n    145,\n    230,\n    63,\n    255,\n    250,\n    224,\n    65,\n    191,\n    60,\n    98,\n    122,\n    214,\n    250,\n    200,\n    131,\n    174,\n    146,\n    146,\n    115,\n    115,\n    93,\n    93,\n    166,\n    166,\n    135,\n    135,\n    150,\n    150,\n    140,\n    140,\n    111,\n    111,\n    157,\n    157,\n    129,\n    129,\n    153,\n    153,\n    110,\n    113,\n    101,\n    101,\n    135,\n    92,\n    101,\n    108,\n    108,\n    250,\n    150,\n    150,\n    116,\n    116,\n    102,\n    102,\n    174,\n    174,\n    146,\n    146,\n    126,\n    160,\n    160,\n    152,\n    152,\n    140,\n    140,\n    126,\n    126,\n    120,\n    120,\n    135,\n    135,\n    106,\n    171,\n    171,\n    123,\n    123,\n    95,\n    113,\n    161,\n    195,\n    188,\n    106,\n    106,\n    106,\n    106,\n    106,\n    106,\n    106,\n    106,\n    214,\n    200,\n    250,\n    174,\n    157,\n    143,\n    162,\n    244,\n    244,\n    244,\n    244,\n    121,\n    163,\n    91,\n    122,\n    84,\n    105,\n    147,\n    147,\n    122,\n    122,\n    112,\n    112,\n    142,\n    142,\n    213,\n    179,\n    179,\n    204,\n    204,\n    243,\n    243,\n    185,\n    185,\n    223,\n    223,\n    230,\n    172,\n    255,\n    250,\n    237,\n    217,\n    217,\n    198,\n    122,\n    124,\n    105,\n    208,\n    162,\n    162,\n    162,\n    206,\n    210,\n    255,\n    122,\n    228,\n    216,\n    165,\n    165,\n    138,\n    138,\n    164,\n    186,\n    186,\n    245,\n    110,\n    115,\n    108,\n    138,\n    100,\n    85,\n    55,\n    63,\n    70,\n    123,\n    130,\n    97,\n    244,\n    122,\n    171,\n    150,\n    244,\n    121,\n    95,\n    239,\n    202,\n    232,\n    217,\n    179,\n    179,\n    124,\n    122,\n    255,\n    234,\n    142,\n    119,\n    132,\n    253,\n    167,\n    168,\n    224,\n    130,\n    145,\n    150,\n    180,\n    108,\n    136,\n    102,\n    102,\n    182,\n    182,\n    154,\n    186,\n    186,\n    186,\n    170,\n    181,\n    190,\n    153,\n    141,\n    141,\n    123,\n    146,\n    158,\n    172,\n    172,\n    172,\n    172,\n    124,\n    85,\n    198,\n    188,\n    135,\n    135,\n    175,\n    98,\n    122,\n    122,\n    122,\n    122,\n    122\n  ],\n  B: [\n    0,\n    128,\n    145,\n    101,\n    210,\n    79,\n    101,\n    144,\n    88,\n    20,\n    0,\n    220,\n    70,\n    235,\n    210,\n    49,\n    206,\n    79,\n    220,\n    211,\n    207,\n    210,\n    242,\n    100,\n    131,\n    255,\n    30,\n    130,\n    0,\n    255,\n    250,\n    228,\n    28,\n    216,\n    66,\n    83,\n    101,\n    49,\n    225,\n    215,\n    98,\n    128,\n    164,\n    164,\n    105,\n    105,\n    137,\n    137,\n    110,\n    110,\n    166,\n    166,\n    201,\n    201,\n    190,\n    190,\n    85,\n    85,\n    166,\n    166,\n    126,\n    126,\n    112,\n    112,\n    53,\n    137,\n    38,\n    38,\n    192,\n    109,\n    131,\n    112,\n    112,\n    225,\n    88,\n    88,\n    163,\n    163,\n    154,\n    154,\n    155,\n    155,\n    83,\n    83,\n    55,\n    133,\n    133,\n    141,\n    141,\n    103,\n    103,\n    177,\n    177,\n    72,\n    72,\n    135,\n    135,\n    24,\n    108,\n    108,\n    147,\n    147,\n    74,\n    158,\n    197,\n    164,\n    255,\n    215,\n    215,\n    215,\n    215,\n    215,\n    215,\n    215,\n    215,\n    49,\n    215,\n    225,\n    128,\n    110,\n    83,\n    109,\n    209,\n    209,\n    209,\n    209,\n    77,\n    117,\n    95,\n    101,\n    94,\n    107,\n    118,\n    118,\n    90,\n    90,\n    73,\n    73,\n    0,\n    0,\n    144,\n    77,\n    77,\n    109,\n    109,\n    152,\n    152,\n    85,\n    85,\n    131,\n    131,\n    138,\n    68,\n    167,\n    160,\n    145,\n    123,\n    123,\n    101,\n    101,\n    109,\n    108,\n    243,\n    114,\n    114,\n    114,\n    142,\n    139,\n    207,\n    101,\n    255,\n    244,\n    145,\n    145,\n    115,\n    115,\n    140,\n    162,\n    162,\n    217,\n    84,\n    89,\n    81,\n    112,\n    73,\n    57,\n    13,\n    27,\n    38,\n    97,\n    104,\n    76,\n    209,\n    154,\n    143,\n    103,\n    209,\n    88,\n    76,\n    172,\n    134,\n    158,\n    154,\n    108,\n    108,\n    161,\n    101,\n    220,\n    194,\n    178,\n    153,\n    105,\n    229,\n    142,\n    143,\n    199,\n    101,\n    30,\n    98,\n    111,\n    162,\n    116,\n    83,\n    83,\n    164,\n    164,\n    132,\n    223,\n    150,\n    150,\n    147,\n    158,\n    165,\n    130,\n    113,\n    113,\n    103,\n    127,\n    140,\n    147,\n    147,\n    151,\n    151,\n    92,\n    68,\n    131,\n    102,\n    134,\n    134,\n    125,\n    79,\n    101,\n    101,\n    101,\n    101,\n    101\n  ],\n  A: [\n    0,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255,\n    255\n  ],\n  I: [\n    0,\n    1,\n    2,\n    3,\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    11,\n    12,\n    13,\n    14,\n    15,\n    16,\n    17,\n    18,\n    19,\n    20,\n    21,\n    22,\n    23,\n    24,\n    25,\n    26,\n    27,\n    28,\n    29,\n    30,\n    31,\n    32,\n    33,\n    34,\n    35,\n    36,\n    37,\n    38,\n    39,\n    40,\n    41,\n    42,\n    43,\n    44,\n    45,\n    46,\n    47,\n    48,\n    49,\n    50,\n    51,\n    52,\n    53,\n    54,\n    55,\n    56,\n    57,\n    58,\n    59,\n    60,\n    61,\n    62,\n    63,\n    64,\n    65,\n    66,\n    67,\n    68,\n    69,\n    70,\n    71,\n    72,\n    73,\n    74,\n    75,\n    76,\n    77,\n    78,\n    79,\n    80,\n    81,\n    82,\n    83,\n    84,\n    85,\n    86,\n    87,\n    88,\n    89,\n    90,\n    91,\n    92,\n    93,\n    94,\n    95,\n    96,\n    97,\n    98,\n    99,\n    100,\n    101,\n    102,\n    103,\n    104,\n    105,\n    106,\n    107,\n    108,\n    109,\n    110,\n    111,\n    112,\n    113,\n    114,\n    115,\n    116,\n    117,\n    118,\n    119,\n    120,\n    121,\n    122,\n    123,\n    124,\n    125,\n    126,\n    127,\n    128,\n    129,\n    130,\n    131,\n    132,\n    133,\n    134,\n    135,\n    136,\n    137,\n    138,\n    139,\n    140,\n    141,\n    142,\n    143,\n    144,\n    145,\n    146,\n    147,\n    148,\n    149,\n    150,\n    151,\n    152,\n    153,\n    154,\n    155,\n    156,\n    157,\n    158,\n    159,\n    160,\n    161,\n    162,\n    163,\n    164,\n    165,\n    166,\n    167,\n    168,\n    169,\n    170,\n    171,\n    172,\n    173,\n    174,\n    175,\n    176,\n    177,\n    178,\n    179,\n    180,\n    181,\n    182,\n    183,\n    184,\n    185,\n    186,\n    187,\n    188,\n    189,\n    190,\n    191,\n    192,\n    193,\n    194,\n    195,\n    196,\n    197,\n    198,\n    199,\n    200,\n    201,\n    202,\n    203,\n    204,\n    205,\n    206,\n    207,\n    208,\n    209,\n    210,\n    211,\n    212,\n    213,\n    214,\n    215,\n    216,\n    217,\n    218,\n    219,\n    220,\n    221,\n    222,\n    223,\n    224,\n    225,\n    226,\n    227,\n    228,\n    229,\n    230,\n    231,\n    232,\n    233,\n    234,\n    235,\n    236,\n    237,\n    238,\n    239,\n    240,\n    241,\n    242,\n    243,\n    244,\n    245,\n    246,\n    247,\n    248,\n    249,\n    250,\n    251,\n    252,\n    253,\n    254,\n    255\n  ]\n};\n\n// src/cmaps/actc.json\nvar actc_default = {\n  R: [0, 0, 24, 248, 255],\n  G: [0, 0, 177, 254, 0],\n  B: [0, 136, 0, 0, 0],\n  A: [0, 32, 64, 78, 128],\n  I: [0, 64, 128, 156, 255]\n};\n\n// src/cmaps/batlow.json\nvar batlow_default = {\n  R: [1, 10, 15, 17, 21, 27, 36, 49, 65, 82, 99, 118, 140, 161, 183, 203, 222, 238, 248, 253, 253, 253, 252, 250],\n  G: [25, 42, 56, 68, 79, 88, 97, 105, 111, 116, 122, 127, 133, 138, 142, 146, 150, 155, 162, 170, 178, 186, 195, 204],\n  B: [89, 92, 95, 96, 98, 98, 96, 91, 83, 74, 64, 55, 46, 43, 49, 62, 79, 100, 126, 151, 175, 199, 223, 250],\n  A: [0, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64],\n  I: [0, 11, 22, 33, 44, 55, 66, 77, 88, 99, 110, 121, 133, 144, 155, 166, 177, 188, 199, 210, 221, 232, 243, 255]\n};\n\n// src/cmaps/bcgwhw_dark.json\nvar bcgwhw_dark_default = {\n  R: [\n    0,\n    248,\n    242,\n    235,\n    229,\n    222,\n    212,\n    202,\n    193,\n    183,\n    173,\n    145,\n    117,\n    78,\n    39,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    64,\n    128,\n    191,\n    255,\n    255,\n    255,\n    255,\n    255,\n    238,\n    221,\n    204,\n    214,\n    224,\n    235,\n    245,\n    255,\n    249,\n    242,\n    236,\n    229,\n    223,\n    217,\n    210,\n    204,\n    197,\n    191,\n    184,\n    176,\n    169,\n    161,\n    154,\n    146,\n    139,\n    132,\n    124,\n    117,\n    109,\n    102,\n    0\n  ],\n  G: [\n    0,\n    251,\n    247,\n    243,\n    239,\n    235,\n    235,\n    235,\n    235,\n    235,\n    235,\n    216,\n    197,\n    174,\n    150,\n    127,\n    153,\n    178,\n    204,\n    229,\n    255,\n    255,\n    255,\n    255,\n    255,\n    220,\n    185,\n    150,\n    115,\n    77,\n    38,\n    0,\n    31,\n    61,\n    92,\n    122,\n    153,\n    138,\n    122,\n    107,\n    92,\n    77,\n    61,\n    46,\n    31,\n    15,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0\n  ],\n  B: [\n    0,\n    254,\n    253,\n    252,\n    251,\n    250,\n    251,\n    252,\n    253,\n    254,\n    255,\n    226,\n    198,\n    132,\n    66,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    40,\n    80,\n    120,\n    160,\n    200,\n    199,\n    198,\n    197,\n    196,\n    196,\n    195,\n    194,\n    193,\n    192,\n    191,\n    184,\n    176,\n    169,\n    161,\n    154,\n    146,\n    139,\n    132,\n    124,\n    117,\n    109,\n    102,\n    0\n  ],\n  A: [\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256\n  ],\n  I: [\n    0,\n    4,\n    8,\n    12,\n    16,\n    20,\n    24,\n    28,\n    32,\n    36,\n    40,\n    44,\n    48,\n    52,\n    56,\n    60,\n    64,\n    68,\n    72,\n    76,\n    80,\n    84,\n    88,\n    92,\n    96,\n    100,\n    104,\n    108,\n    112,\n    116,\n    120,\n    124,\n    128,\n    132,\n    136,\n    140,\n    144,\n    148,\n    152,\n    156,\n    160,\n    164,\n    168,\n    172,\n    176,\n    180,\n    184,\n    188,\n    192,\n    196,\n    200,\n    204,\n    208,\n    212,\n    216,\n    220,\n    224,\n    228,\n    232,\n    236,\n    240,\n    244,\n    248,\n    255\n  ]\n};\n\n// src/cmaps/bcgwhw.json\nvar bcgwhw_default = {\n  R: [\n    255,\n    248,\n    242,\n    235,\n    229,\n    222,\n    212,\n    202,\n    193,\n    183,\n    173,\n    145,\n    117,\n    78,\n    39,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    64,\n    128,\n    191,\n    255,\n    255,\n    255,\n    255,\n    255,\n    238,\n    221,\n    204,\n    214,\n    224,\n    235,\n    245,\n    255,\n    249,\n    242,\n    236,\n    229,\n    223,\n    217,\n    210,\n    204,\n    197,\n    191,\n    184,\n    176,\n    169,\n    161,\n    154,\n    146,\n    139,\n    132,\n    124,\n    117,\n    109,\n    102,\n    0\n  ],\n  G: [\n    255,\n    251,\n    247,\n    243,\n    239,\n    235,\n    235,\n    235,\n    235,\n    235,\n    235,\n    216,\n    197,\n    174,\n    150,\n    127,\n    153,\n    178,\n    204,\n    229,\n    255,\n    255,\n    255,\n    255,\n    255,\n    220,\n    185,\n    150,\n    115,\n    77,\n    38,\n    0,\n    31,\n    61,\n    92,\n    122,\n    153,\n    138,\n    122,\n    107,\n    92,\n    77,\n    61,\n    46,\n    31,\n    15,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0\n  ],\n  B: [\n    255,\n    254,\n    253,\n    252,\n    251,\n    250,\n    251,\n    252,\n    253,\n    254,\n    255,\n    226,\n    198,\n    132,\n    66,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    40,\n    80,\n    120,\n    160,\n    200,\n    199,\n    198,\n    197,\n    196,\n    196,\n    195,\n    194,\n    193,\n    192,\n    191,\n    184,\n    176,\n    169,\n    161,\n    154,\n    146,\n    139,\n    132,\n    124,\n    117,\n    109,\n    102,\n    0\n  ],\n  A: [\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256,\n    256\n  ],\n  I: [\n    0,\n    4,\n    8,\n    12,\n    16,\n    20,\n    24,\n    28,\n    32,\n    36,\n    40,\n    44,\n    48,\n    52,\n    56,\n    60,\n    64,\n    68,\n    72,\n    76,\n    80,\n    84,\n    88,\n    92,\n    96,\n    100,\n    104,\n    108,\n    112,\n    116,\n    120,\n    124,\n    128,\n    132,\n    136,\n    140,\n    144,\n    148,\n    152,\n    156,\n    160,\n    164,\n    168,\n    172,\n    176,\n    180,\n    184,\n    188,\n    192,\n    196,\n    200,\n    204,\n    208,\n    212,\n    216,\n    220,\n    224,\n    228,\n    232,\n    236,\n    240,\n    244,\n    248,\n    255\n  ]\n};\n\n// src/cmaps/blue2red.json\nvar blue2red_default = {\n  R: [0, 0, 0, 0, 196, 255],\n  G: [0, 32, 128, 128, 128, 32],\n  B: [0, 255, 196, 0, 0, 0],\n  A: [0, 128, 64, 64, 64, 128],\n  I: [0, 1, 64, 128, 192, 255]\n};\n\n// src/cmaps/blue2magenta.json\nvar blue2magenta_default = {\n  R: [0, 255],\n  G: [0, 0],\n  B: [255, 255],\n  A: [0, 128],\n  I: [0, 255]\n};\n\n// src/cmaps/blue2cyan.json\nvar blue2cyan_default = {\n  R: [0, 0],\n  G: [0, 255],\n  B: [255, 255],\n  A: [0, 128],\n  I: [0, 255]\n};\n\n// src/cmaps/bluegrn.json\nvar bluegrn_default = {\n  R: [0, 0, 0, 0],\n  G: [0, 1, 128, 255],\n  B: [0, 222, 127, 32],\n  A: [0, 0, 64, 128],\n  I: [0, 1, 128, 255]\n};\n\n// src/cmaps/blue.json\nvar blue_default = {\n  R: [0, 0, 0],\n  G: [0, 0, 0],\n  B: [0, 128, 255],\n  A: [0, 64, 128],\n  I: [0, 128, 255]\n};\n\n// src/cmaps/bone.json\nvar bone_default = {\n  R: [0, 103, 255],\n  G: [0, 126, 255],\n  B: [0, 165, 255],\n  A: [0, 76, 128],\n  I: [0, 153, 255]\n};\n\n// src/cmaps/bronze.json\nvar bronze_default = {\n  R: [0, 43, 103, 199, 216, 255],\n  G: [0, 0, 37, 155, 213, 255],\n  B: [0, 0, 20, 97, 201, 255],\n  A: [0, 44, 48, 54, 56, 56],\n  I: [0, 64, 128, 196, 240, 255]\n};\n\n// src/cmaps/cet_l17.json\nvar cet_l17_default = {\n  R: [\n    0,\n    9,\n    24,\n    33,\n    40,\n    46,\n    52,\n    57,\n    62,\n    66,\n    70,\n    74,\n    78,\n    81,\n    85,\n    88,\n    91,\n    94,\n    98,\n    101,\n    103,\n    106,\n    109,\n    112,\n    114,\n    117,\n    119,\n    121,\n    124,\n    126,\n    128,\n    130,\n    133,\n    135,\n    137,\n    139,\n    141,\n    143,\n    145,\n    147,\n    149,\n    151,\n    153,\n    155,\n    157,\n    159,\n    161,\n    163,\n    164,\n    166,\n    168,\n    169,\n    171,\n    172,\n    174,\n    175,\n    177,\n    178,\n    180,\n    181,\n    183,\n    184,\n    186,\n    187,\n    189,\n    190,\n    191,\n    193,\n    194,\n    196,\n    197,\n    198,\n    199,\n    200,\n    201,\n    202,\n    203,\n    204,\n    205,\n    206,\n    207,\n    208,\n    209,\n    210,\n    211,\n    212,\n    213,\n    214,\n    215,\n    216,\n    217,\n    218,\n    219,\n    220,\n    221,\n    222,\n    222,\n    223,\n    224,\n    224,\n    225,\n    226,\n    226,\n    227,\n    228,\n    228,\n    229,\n    229,\n    230,\n    231,\n    231,\n    232,\n    233,\n    233,\n    234,\n    234,\n    235,\n    235,\n    236,\n    236,\n    236,\n    237,\n    237,\n    237,\n    238,\n    238,\n    238,\n    239,\n    239,\n    239,\n    240,\n    240,\n    240,\n    241,\n    241,\n    241,\n    242,\n    242,\n    242,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    245,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    244,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    243,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    241,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    242,\n    243,\n    243,\n    244,\n    244,\n    245,\n    246,\n    246,\n    247,\n    247,\n    248,\n    249,\n    249,\n    250,\n    250,\n    251,\n    251,\n    252,\n    252,\n    253,\n    253,\n    254,\n    254,\n    254\n  ],\n  G: [\n    42,\n    41,\n    41,\n    41,\n    40,\n    40,\n    40,\n    39,\n    39,\n    39,\n    38,\n    38,\n    37,\n    37,\n    36,\n    36,\n    35,\n    35,\n    34,\n    34,\n    33,\n    32,\n    32,\n    31,\n    30,\n    30,\n    30,\n    30,\n    29,\n    29,\n    29,\n    29,\n    28,\n    28,\n    28,\n    27,\n    27,\n    27,\n    26,\n    26,\n    26,\n    25,\n    25,\n    25,\n    24,\n    24,\n    24,\n    24,\n    24,\n    25,\n    25,\n    26,\n    27,\n    27,\n    28,\n    28,\n    29,\n    30,\n    30,\n    31,\n    31,\n    32,\n    33,\n    33,\n    34,\n    34,\n    35,\n    36,\n    36,\n    37,\n    38,\n    39,\n    40,\n    42,\n    43,\n    44,\n    45,\n    47,\n    48,\n    49,\n    50,\n    51,\n    53,\n    54,\n    55,\n    56,\n    57,\n    58,\n    59,\n    60,\n    62,\n    63,\n    64,\n    65,\n    66,\n    68,\n    69,\n    71,\n    72,\n    73,\n    75,\n    76,\n    77,\n    79,\n    80,\n    81,\n    83,\n    84,\n    85,\n    87,\n    88,\n    89,\n    90,\n    92,\n    93,\n    94,\n    95,\n    97,\n    98,\n    100,\n    101,\n    102,\n    104,\n    105,\n    107,\n    108,\n    109,\n    111,\n    112,\n    113,\n    115,\n    116,\n    117,\n    119,\n    120,\n    121,\n    122,\n    124,\n    125,\n    126,\n    128,\n    129,\n    130,\n    132,\n    133,\n    134,\n    136,\n    137,\n    138,\n    140,\n    141,\n    142,\n    144,\n    145,\n    146,\n    147,\n    149,\n    150,\n    151,\n    153,\n    154,\n    155,\n    156,\n    158,\n    159,\n    160,\n    161,\n    163,\n    164,\n    165,\n    167,\n    168,\n    169,\n    170,\n    172,\n    173,\n    174,\n    175,\n    176,\n    178,\n    179,\n    180,\n    181,\n    183,\n    184,\n    185,\n    186,\n    187,\n    189,\n    190,\n    191,\n    192,\n    193,\n    194,\n    196,\n    197,\n    198,\n    199,\n    200,\n    201,\n    203,\n    204,\n    205,\n    206,\n    207,\n    208,\n    209,\n    211,\n    212,\n    213,\n    214,\n    215,\n    216,\n    217,\n    218,\n    219,\n    220,\n    221,\n    222,\n    223,\n    224,\n    225,\n    226,\n    228,\n    229,\n    230,\n    231,\n    232,\n    233,\n    234,\n    235,\n    236,\n    237,\n    238,\n    238,\n    239,\n    240,\n    241,\n    241,\n    242,\n    243,\n    244,\n    244,\n    245,\n    246,\n    247,\n    248,\n    248,\n    249,\n    250,\n    251,\n    251,\n    252,\n    253,\n    254,\n    255\n  ],\n  B: [\n    167,\n    167,\n    166,\n    166,\n    166,\n    165,\n    165,\n    165,\n    164,\n    164,\n    164,\n    163,\n    163,\n    162,\n    162,\n    162,\n    161,\n    161,\n    161,\n    160,\n    160,\n    160,\n    159,\n    159,\n    158,\n    158,\n    157,\n    157,\n    156,\n    155,\n    155,\n    154,\n    154,\n    153,\n    153,\n    152,\n    151,\n    151,\n    150,\n    150,\n    149,\n    149,\n    148,\n    147,\n    147,\n    146,\n    146,\n    145,\n    144,\n    144,\n    143,\n    143,\n    142,\n    141,\n    141,\n    140,\n    139,\n    139,\n    138,\n    137,\n    137,\n    136,\n    135,\n    135,\n    134,\n    133,\n    133,\n    132,\n    131,\n    131,\n    130,\n    130,\n    129,\n    128,\n    128,\n    127,\n    127,\n    126,\n    125,\n    125,\n    124,\n    124,\n    123,\n    123,\n    122,\n    121,\n    121,\n    120,\n    119,\n    119,\n    118,\n    118,\n    117,\n    116,\n    116,\n    116,\n    115,\n    115,\n    114,\n    114,\n    113,\n    113,\n    113,\n    112,\n    112,\n    111,\n    111,\n    110,\n    110,\n    109,\n    109,\n    109,\n    108,\n    108,\n    107,\n    107,\n    106,\n    106,\n    106,\n    106,\n    106,\n    105,\n    105,\n    105,\n    105,\n    105,\n    105,\n    105,\n    104,\n    104,\n    104,\n    104,\n    104,\n    103,\n    103,\n    103,\n    103,\n    103,\n    102,\n    102,\n    102,\n    103,\n    103,\n    103,\n    103,\n    104,\n    104,\n    104,\n    104,\n    104,\n    105,\n    105,\n    105,\n    105,\n    106,\n    106,\n    106,\n    106,\n    106,\n    107,\n    107,\n    107,\n    107,\n    108,\n    108,\n    109,\n    110,\n    111,\n    111,\n    112,\n    113,\n    113,\n    114,\n    115,\n    115,\n    116,\n    117,\n    117,\n    118,\n    119,\n    120,\n    120,\n    121,\n    122,\n    122,\n    123,\n    124,\n    125,\n    126,\n    128,\n    129,\n    130,\n    131,\n    132,\n    134,\n    135,\n    136,\n    137,\n    138,\n    140,\n    141,\n    142,\n    143,\n    144,\n    146,\n    147,\n    148,\n    149,\n    150,\n    152,\n    153,\n    155,\n    157,\n    158,\n    160,\n    162,\n    163,\n    165,\n    167,\n    168,\n    170,\n    172,\n    173,\n    175,\n    177,\n    178,\n    180,\n    182,\n    183,\n    185,\n    187,\n    188,\n    190,\n    193,\n    196,\n    199,\n    201,\n    204,\n    207,\n    210,\n    212,\n    215,\n    218,\n    221,\n    224,\n    226,\n    229,\n    232,\n    235,\n    238,\n    240,\n    243,\n    246,\n    249,\n    252,\n    255\n  ],\n  A: [\n    0,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64\n  ],\n  I: [\n    0,\n    1,\n    2,\n    3,\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    11,\n    12,\n    13,\n    14,\n    15,\n    16,\n    17,\n    18,\n    19,\n    20,\n    21,\n    22,\n    23,\n    24,\n    25,\n    26,\n    27,\n    28,\n    29,\n    30,\n    31,\n    32,\n    33,\n    34,\n    35,\n    36,\n    37,\n    38,\n    39,\n    40,\n    41,\n    42,\n    43,\n    44,\n    45,\n    46,\n    47,\n    48,\n    49,\n    50,\n    51,\n    52,\n    53,\n    54,\n    55,\n    56,\n    57,\n    58,\n    59,\n    60,\n    61,\n    62,\n    63,\n    64,\n    65,\n    66,\n    67,\n    68,\n    69,\n    70,\n    71,\n    72,\n    73,\n    74,\n    75,\n    76,\n    77,\n    78,\n    79,\n    80,\n    81,\n    82,\n    83,\n    84,\n    85,\n    86,\n    87,\n    88,\n    89,\n    90,\n    91,\n    92,\n    93,\n    94,\n    95,\n    96,\n    97,\n    98,\n    99,\n    100,\n    101,\n    102,\n    103,\n    104,\n    105,\n    106,\n    107,\n    108,\n    109,\n    110,\n    111,\n    112,\n    113,\n    114,\n    115,\n    116,\n    117,\n    118,\n    119,\n    120,\n    121,\n    122,\n    123,\n    124,\n    125,\n    126,\n    127,\n    128,\n    129,\n    130,\n    131,\n    132,\n    133,\n    134,\n    135,\n    136,\n    137,\n    138,\n    139,\n    140,\n    141,\n    142,\n    143,\n    144,\n    145,\n    146,\n    147,\n    148,\n    149,\n    150,\n    151,\n    152,\n    153,\n    154,\n    155,\n    156,\n    157,\n    158,\n    159,\n    160,\n    161,\n    162,\n    163,\n    164,\n    165,\n    166,\n    167,\n    168,\n    169,\n    170,\n    171,\n    172,\n    173,\n    174,\n    175,\n    176,\n    177,\n    178,\n    179,\n    180,\n    181,\n    182,\n    183,\n    184,\n    185,\n    186,\n    187,\n    188,\n    189,\n    190,\n    191,\n    192,\n    193,\n    194,\n    195,\n    196,\n    197,\n    198,\n    199,\n    200,\n    201,\n    202,\n    203,\n    204,\n    205,\n    206,\n    207,\n    208,\n    209,\n    210,\n    211,\n    212,\n    213,\n    214,\n    215,\n    216,\n    217,\n    218,\n    219,\n    220,\n    221,\n    222,\n    223,\n    224,\n    225,\n    226,\n    227,\n    228,\n    229,\n    230,\n    231,\n    232,\n    233,\n    234,\n    235,\n    236,\n    237,\n    238,\n    239,\n    240,\n    241,\n    242,\n    243,\n    244,\n    245,\n    246,\n    247,\n    248,\n    249,\n    250,\n    251,\n    252,\n    253,\n    254,\n    255\n  ]\n};\n\n// src/cmaps/cividis.json\nvar cividis_default = {\n  R: [0, 86, 166, 255],\n  G: [32, 92, 156, 233],\n  B: [76, 108, 117, 69],\n  A: [0, 56, 80, 88],\n  I: [0, 64, 192, 255]\n};\n\n// src/cmaps/cool.json\nvar cool_default = {\n  R: [0, 0, 0],\n  G: [127, 196, 254],\n  B: [255, 255, 255],\n  A: [0, 64, 128],\n  I: [0, 128, 255]\n};\n\n// src/cmaps/copper2.json\nvar copper2_default = {\n  R: [0, 61, 122, 183, 244, 255],\n  G: [0, 41, 81, 122, 163, 255],\n  B: [0, 25, 51, 76, 102, 255],\n  A: [0, 25, 51, 71, 102, 128],\n  I: [0, 51, 102, 153, 204, 255]\n};\n\n// src/cmaps/copper.json\nvar copper_default = {\n  R: [0, 61, 122, 183, 244, 255],\n  G: [0, 41, 81, 122, 163, 203],\n  B: [0, 25, 51, 76, 102, 127],\n  A: [0, 25, 51, 71, 102, 128],\n  I: [0, 51, 102, 153, 204, 255]\n};\n\n// src/cmaps/ct_airways.json\nvar ct_airways_default = {\n  min: -643,\n  max: -235,\n  R: [0, 0, 0],\n  G: [154, 154, 154],\n  B: [179, 179, 101],\n  A: [0, 32, 0],\n  I: [0, 163, 255]\n};\n\n// src/cmaps/ct_artery.json\nvar ct_artery_default = {\n  min: 114,\n  max: 800,\n  R: [0, 255, 255, 255],\n  G: [0, 0, 129, 255],\n  B: [0, 0, 0, 255],\n  A: [0, 64, 88, 228],\n  I: [0, 80, 160, 255]\n};\n\n// src/cmaps/ct_bones.json\nvar ct_bones_default = {\n  min: 180,\n  max: 600,\n  R: [0, 0, 113, 255],\n  G: [0, 0, 109, 250],\n  B: [0, 0, 101, 245],\n  A: [0, 0, 100, 160],\n  I: [0, 1, 128, 255]\n};\n\n// src/cmaps/ct_brain_gray.json\nvar ct_brain_gray_default = {\n  min: -10,\n  max: 110,\n  R: [0, 127, 255],\n  G: [0, 127, 255],\n  B: [0, 127, 255],\n  A: [0, 48, 128],\n  I: [0, 124, 255]\n};\n\n// src/cmaps/ct_brain.json\nvar ct_brain_default = {\n  min: -10,\n  max: 110,\n  R: [0, 199, 255],\n  G: [0, 127, 255],\n  B: [0, 127, 255],\n  A: [0, 48, 128],\n  I: [0, 124, 255]\n};\n\n// src/cmaps/ct_cardiac.json\nvar ct_cardiac_default = {\n  min: -80,\n  max: 1e3,\n  R: [0, 189, 150, 150, 150, 150, 255],\n  G: [0, 169, 54, 54, 54, 54, 240],\n  B: [0, 153, 52, 52, 52, 52, 242],\n  A: [0, 32, 64, 0, 0, 64, 64],\n  I: [0, 1, 82, 92, 234, 242, 255]\n};\n\n// src/cmaps/ct_head.json\nvar ct_head_default = {\n  min: -590,\n  max: 600,\n  R: [0, 241, 241, 248, 248, 178, 178, 232, 255, 255, 255],\n  G: [0, 156, 156, 222, 222, 36, 36, 51, 255, 255, 255],\n  B: [0, 130, 130, 169, 169, 24, 24, 37, 255, 255, 255],\n  A: [0, 8, 0, 0, 0, 64, 64, 0, 0, 222, 222],\n  I: [0, 2, 3, 64, 122, 142, 172, 182, 252, 253, 255]\n};\n\n// src/cmaps/ct_kidneys.json\nvar ct_kidneys_default = {\n  min: 114,\n  max: 302,\n  R: [0, 255, 255],\n  G: [0, 129, 255],\n  B: [0, 0, 255],\n  A: [0, 88, 228],\n  I: [0, 103, 255]\n};\n\n// src/cmaps/ct_liver.json\nvar ct_liver_default = {\n  min: -23,\n  max: 246,\n  R: [0, 44, 255, 255, 255],\n  G: [0, 128, 90, 255, 255],\n  B: [0, 0, 70, 0, 255],\n  A: [0, 0, 82, 184, 228],\n  I: [0, 64, 131, 196, 255]\n};\n\n// src/cmaps/ct_muscles.json\nvar ct_muscles_default = {\n  min: -100,\n  max: 246,\n  R: [0, 128, 159, 255, 255, 255, 255],\n  G: [0, 0, 56, 90, 0, 255, 255],\n  B: [0, 0, 41, 70, 0, 0, 255],\n  A: [0, 63, 105, 135, 167, 184, 228],\n  I: [0, 100, 128, 155, 180, 209, 255]\n};\n\n// src/cmaps/ct_scalp.json\nvar ct_scalp_default = {\n  min: -590,\n  max: 600,\n  R: [0, 241, 241, 248, 248, 178, 232, 255, 255],\n  G: [0, 156, 156, 222, 222, 36, 51, 255, 255],\n  B: [0, 130, 130, 169, 169, 24, 37, 255, 255],\n  A: [0, 63, 105, 135, 167, 184, 228, 228, 228],\n  I: [0, 1, 52, 127, 137, 162, 172, 252, 255]\n};\n\n// src/cmaps/ct_skull.json\nvar ct_skull_default = {\n  min: 140,\n  max: 1024,\n  R: [0, 2, 113, 255],\n  G: [0, 1, 109, 250],\n  B: [0, 1, 101, 245],\n  A: [0, 1, 96, 168],\n  I: [0, 1, 128, 255]\n};\n\n// src/cmaps/ct_soft.json\nvar ct_soft_default = {\n  min: -923,\n  max: 679,\n  R: [0, 0, 0, 0, 0, 255, 255, 255],\n  G: [154, 154, 154, 154, 0, 0, 254, 255],\n  B: [179, 179, 179, 179, 0, 0, 0, 255],\n  A: [0, 3, 8, 0, 0, 10, 15, 20],\n  I: [0, 30, 62, 88, 170, 200, 232, 255]\n};\n\n// src/cmaps/ct_soft_tissue.json\nvar ct_soft_tissue_default = {\n  min: -10,\n  max: 110,\n  R: [0, 199, 255],\n  G: [0, 127, 255],\n  B: [0, 127, 255],\n  A: [0, 48, 128],\n  I: [0, 124, 255]\n};\n\n// src/cmaps/ct_surface.json\nvar ct_surface_default = {\n  min: -600,\n  max: 100,\n  R: [0, 134, 255],\n  G: [0, 109, 250],\n  B: [0, 101, 245],\n  A: [0, 60, 148],\n  I: [0, 128, 255]\n};\n\n// src/cmaps/ct_vessels.json\nvar ct_vessels_default = {\n  min: 114,\n  max: 246,\n  R: [0, 255, 255],\n  G: [0, 128, 255],\n  B: [0, 128, 255],\n  A: [0, 64, 96],\n  I: [0, 87, 255]\n};\n\n// src/cmaps/ct_w_contrast.json\nvar ct_w_contrast_default = {\n  min: 50,\n  max: 1e3,\n  R: [98, 210, 169, 128, 255],\n  G: [94, 26, 77, 128, 255],\n  B: [45, 21, 74, 128, 255],\n  A: [0, 25, 0, 4, 168],\n  I: [0, 41, 87, 154, 255]\n};\n\n// src/cmaps/cubehelix.json\nvar cubehelix_default = {\n  R: [\n    0,\n    13,\n    21,\n    26,\n    27,\n    25,\n    22,\n    21,\n    22,\n    28,\n    39,\n    54,\n    75,\n    98,\n    124,\n    148,\n    171,\n    189,\n    202,\n    210,\n    213,\n    211,\n    206,\n    200,\n    195,\n    193,\n    195,\n    201,\n    211,\n    225,\n    240,\n    255\n  ],\n  G: [\n    0,\n    5,\n    11,\n    20,\n    31,\n    44,\n    58,\n    72,\n    86,\n    99,\n    109,\n    116,\n    120,\n    122,\n    122,\n    122,\n    121,\n    121,\n    124,\n    129,\n    137,\n    147,\n    161,\n    175,\n    190,\n    205,\n    218,\n    229,\n    238,\n    245,\n    251,\n    255\n  ],\n  B: [\n    0,\n    14,\n    30,\n    46,\n    61,\n    71,\n    77,\n    78,\n    75,\n    68,\n    60,\n    52,\n    48,\n    47,\n    53,\n    65,\n    83,\n    105,\n    131,\n    157,\n    183,\n    205,\n    222,\n    235,\n    241,\n    243,\n    242,\n    240,\n    239,\n    240,\n    245,\n    255\n  ],\n  A: [\n    0,\n    4,\n    8,\n    12,\n    17,\n    21,\n    25,\n    29,\n    33,\n    37,\n    41,\n    45,\n    50,\n    54,\n    58,\n    62,\n    66,\n    70,\n    74,\n    78,\n    83,\n    87,\n    91,\n    95,\n    99,\n    103,\n    107,\n    111,\n    116,\n    120,\n    124,\n    128\n  ],\n  I: [\n    0,\n    8,\n    16,\n    25,\n    33,\n    41,\n    49,\n    58,\n    66,\n    74,\n    82,\n    90,\n    99,\n    107,\n    115,\n    123,\n    132,\n    140,\n    148,\n    156,\n    165,\n    173,\n    181,\n    189,\n    197,\n    206,\n    214,\n    222,\n    230,\n    239,\n    247,\n    255\n  ]\n};\n\n// src/cmaps/electric_blue.json\nvar electric_blue_default = {\n  R: [0, 10, 136, 255],\n  G: [0, 39, 220, 255],\n  B: [0, 223, 253, 255],\n  A: [0, 48, 64, 70],\n  I: [0, 92, 192, 255]\n};\n\n// src/cmaps/freesurfer.json\nvar freesurfer_default = {\n  R: [\n    0,\n    245,\n    205,\n    120,\n    196,\n    220,\n    230,\n    0,\n    122,\n    236,\n    12,\n    204,\n    42,\n    119,\n    220,\n    103,\n    60,\n    255,\n    165,\n    160,\n    0,\n    245,\n    205,\n    120,\n    196,\n    220,\n    230,\n    0,\n    122,\n    236,\n    13,\n    220,\n    103,\n    255,\n    165,\n    160,\n    0,\n    120,\n    200,\n    255,\n    255,\n    164,\n    164,\n    164,\n    234,\n    0,\n    0,\n    0,\n    0,\n    0\n  ],\n  G: [\n    0,\n    245,\n    62,\n    18,\n    58,\n    248,\n    148,\n    118,\n    186,\n    13,\n    48,\n    182,\n    204,\n    159,\n    216,\n    255,\n    60,\n    165,\n    42,\n    32,\n    200,\n    245,\n    62,\n    18,\n    58,\n    248,\n    148,\n    118,\n    186,\n    13,\n    48,\n    216,\n    255,\n    165,\n    42,\n    32,\n    200,\n    190,\n    70,\n    148,\n    148,\n    108,\n    108,\n    108,\n    169,\n    0,\n    0,\n    0,\n    0,\n    0\n  ],\n  B: [\n    0,\n    245,\n    78,\n    134,\n    250,\n    164,\n    34,\n    14,\n    220,\n    176,\n    255,\n    142,\n    164,\n    176,\n    20,\n    255,\n    60,\n    0,\n    42,\n    240,\n    200,\n    245,\n    78,\n    134,\n    250,\n    164,\n    34,\n    14,\n    220,\n    176,\n    255,\n    20,\n    255,\n    0,\n    42,\n    240,\n    221,\n    150,\n    255,\n    10,\n    10,\n    226,\n    226,\n    226,\n    30,\n    64,\n    112,\n    160,\n    208,\n    255\n  ],\n  A: [\n    0,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64\n  ],\n  I: [\n    0,\n    2,\n    3,\n    4,\n    5,\n    7,\n    8,\n    10,\n    11,\n    12,\n    13,\n    14,\n    15,\n    16,\n    17,\n    18,\n    24,\n    26,\n    28,\n    30,\n    31,\n    41,\n    42,\n    43,\n    44,\n    46,\n    47,\n    49,\n    50,\n    51,\n    52,\n    53,\n    54,\n    58,\n    60,\n    62,\n    63,\n    72,\n    77,\n    78,\n    79,\n    80,\n    81,\n    82,\n    85,\n    251,\n    252,\n    253,\n    254,\n    255\n  ]\n};\n\n// src/cmaps/ge_color.json\nvar ge_color_default = {\n  R: [0, 0, 128, 255, 255],\n  G: [0, 128, 0, 128, 255],\n  B: [0, 125, 255, 0, 255],\n  A: [0, 32, 64, 96, 128],\n  I: [0, 63, 128, 192, 255]\n};\n\n// src/cmaps/gold.json\nvar gold_default = {\n  R: [0, 142, 227, 255],\n  G: [0, 85, 170, 255],\n  B: [0, 14, 76, 255],\n  A: [0, 42, 84, 128],\n  I: [0, 85, 170, 255]\n};\n\n// src/cmaps/gray.json\nvar gray_default = {\n  R: [0, 255],\n  G: [0, 255],\n  B: [0, 255],\n  A: [0, 128],\n  I: [0, 255]\n};\n\n// src/cmaps/green.json\nvar green_default = {\n  R: [0, 0, 0],\n  G: [0, 128, 255],\n  B: [0, 0, 0],\n  A: [0, 64, 128],\n  I: [0, 128, 255]\n};\n\n// src/cmaps/green2cyan.json\nvar green2cyan_default = {\n  R: [0, 0, 0],\n  G: [72, 72, 255],\n  B: [0, 255, 255],\n  A: [0, 64, 128],\n  I: [0, 88, 255]\n};\n\n// src/cmaps/green2orange.json\nvar green2orange_default = {\n  R: [0, 255, 255],\n  G: [72, 88, 255],\n  B: [0, 0, 0],\n  A: [0, 64, 128],\n  I: [0, 88, 255]\n};\n\n// src/cmaps/hotiron.json\nvar hotiron_default = {\n  R: [0, 255, 255, 255],\n  G: [0, 0, 126, 255],\n  B: [0, 0, 0, 255],\n  A: [0, 64, 96, 128],\n  I: [0, 128, 191, 255]\n};\n\n// src/cmaps/hot.json\nvar hot_default = {\n  R: [3, 255, 255, 255],\n  G: [0, 0, 255, 255],\n  B: [0, 0, 0, 255],\n  A: [0, 48, 96, 128],\n  I: [0, 95, 191, 255]\n};\n\n// src/cmaps/hsv.json\nvar hsv_default = {\n  R: [255, 255, 0, 0, 0, 255, 255],\n  G: [0, 255, 255, 255, 0, 0, 0],\n  B: [0, 0, 0, 255, 255, 255, 0],\n  A: [0, 14, 28, 43, 57, 71, 85],\n  I: [0, 43, 85, 128, 170, 213, 255]\n};\n\n// src/cmaps/inferno.json\nvar inferno_default = {\n  R: [0, 120, 237, 240],\n  G: [0, 28, 105, 249],\n  B: [4, 109, 37, 33],\n  A: [0, 56, 80, 88],\n  I: [0, 64, 192, 255]\n};\n\n// src/cmaps/jet.json\nvar jet_default = {\n  R: [0, 0, 127, 255, 127],\n  G: [0, 127, 255, 127, 0],\n  B: [127, 255, 127, 0, 0],\n  A: [0, 32, 64, 96, 128],\n  I: [0, 63, 128, 192, 255]\n};\n\n// src/cmaps/kry.json\nvar kry_default = {\n  R: [0, 255, 255],\n  G: [0, 0, 255],\n  B: [0, 0, 0],\n  A: [0, 64, 64],\n  I: [0, 86, 255]\n};\n\n// src/cmaps/linspecer.json\nvar linspecer_default = {\n  R: [94, 50, 90, 152, 215, 238, 249, 254, 252, 241, 209, 158],\n  G: [79, 131, 186, 214, 240, 244, 237, 210, 157, 100, 57, 1],\n  B: [162, 189, 167, 164, 155, 169, 168, 123, 86, 68, 79, 66],\n  A: [0, 12, 23, 35, 47, 58, 70, 81, 93, 105, 116, 128],\n  I: [0, 23, 46, 70, 93, 116, 139, 162, 185, 209, 232, 255]\n};\n\n// src/cmaps/lipari.json\nvar lipari_default = {\n  R: [3, 7, 13, 25, 45, 67, 84, 98, 110, 124, 138, 154, 173, 191, 210, 225, 233, 233, 231, 229, 230, 235, 243, 253],\n  G: [19, 33, 48, 63, 77, 87, 92, 94, 95, 96, 96, 97, 99, 101, 106, 118, 133, 149, 163, 177, 192, 208, 225, 245],\n  B: [38, 58, 79, 99, 114, 122, 122, 120, 117, 113, 110, 105, 101, 97, 94, 96, 103, 112, 122, 134, 149, 169, 192, 218],\n  A: [0, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64],\n  I: [0, 11, 22, 33, 44, 55, 66, 77, 88, 99, 110, 121, 133, 144, 155, 166, 177, 188, 199, 210, 221, 232, 243, 255]\n};\n\n// src/cmaps/magma.json\nvar magma_default = {\n  R: [0, 148, 183, 223, 247, 252],\n  G: [0, 44, 55, 74, 112, 253],\n  B: [4, 128, 121, 104, 92, 191],\n  A: [0, 44, 53, 64, 75, 107],\n  I: [0, 107, 128, 154, 179, 255]\n};\n\n// src/cmaps/mako.json\nvar mako_default = {\n  R: [11, 59, 55, 222],\n  G: [4, 45, 165, 245],\n  B: [5, 91, 172, 229],\n  A: [0, 23, 70, 107],\n  I: [0, 56, 167, 255]\n};\n\n// src/cmaps/navia.json\nvar navia_default = {\n  R: [3, 5, 6, 8, 12, 19, 28, 36, 42, 48, 54, 61, 68, 76, 86, 96, 110, 129, 154, 181, 205, 224, 239, 252],\n  G: [19, 32, 44, 58, 72, 86, 98, 108, 116, 122, 128, 134, 141, 149, 157, 167, 178, 191, 204, 216, 225, 232, 239, 244],\n  B: [39, 60, 82, 104, 123, 137, 144, 145, 142, 138, 134, 130, 126, 121, 116, 110, 105, 104, 112, 131, 155, 178, 198, 217],\n  A: [0, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64],\n  I: [0, 11, 22, 33, 44, 55, 66, 77, 88, 99, 110, 121, 133, 144, 155, 166, 177, 188, 199, 210, 221, 232, 243, 255]\n};\n\n// src/cmaps/nih.json\nvar nih_default = {\n  R: [0, 85, 0, 0, 0, 0, 0, 0, 85, 255, 255, 255, 172],\n  G: [0, 0, 0, 0, 85, 170, 255, 255, 255, 255, 85, 0, 0],\n  B: [0, 170, 85, 255, 255, 170, 170, 0, 85, 0, 0, 0, 0],\n  A: [0, 5, 10, 21, 26, 32, 37, 42, 48, 53, 64, 72, 85],\n  I: [0, 15, 31, 63, 79, 95, 111, 127, 143, 159, 191, 217, 255]\n};\n\n// src/cmaps/plasma.json\nvar plasma_default = {\n  R: [13, 156, 237, 240],\n  G: [8, 23, 121, 249],\n  B: [135, 158, 83, 33],\n  A: [0, 56, 80, 88],\n  I: [0, 64, 192, 255]\n};\n\n// src/cmaps/random.json\nvar random_default = {\n  R: [\n    208,\n    71,\n    33,\n    192,\n    32,\n    195,\n    208,\n    173,\n    233,\n    202,\n    25,\n    210,\n    145,\n    89,\n    87,\n    245,\n    246,\n    38,\n    3,\n    25,\n    57,\n    167,\n    245,\n    86,\n    227,\n    208,\n    81,\n    64,\n    90,\n    199,\n    140,\n    48,\n    212,\n    180,\n    70,\n    120,\n    9,\n    192,\n    245,\n    177,\n    65,\n    157,\n    9,\n    193,\n    100,\n    181,\n    125,\n    145,\n    62,\n    8,\n    108,\n    36,\n    140,\n    237,\n    242,\n    248,\n    161,\n    189,\n    41,\n    114,\n    65,\n    121,\n    97,\n    50,\n    238,\n    149,\n    44,\n    214,\n    124,\n    167,\n    40,\n    167,\n    127,\n    178,\n    231,\n    30,\n    173,\n    244,\n    193,\n    203,\n    204,\n    238,\n    139,\n    135,\n    71,\n    234,\n    234,\n    217,\n    66,\n    14,\n    129,\n    19,\n    97,\n    165,\n    112,\n    244,\n    35,\n    73,\n    192,\n    12,\n    149,\n    71,\n    33,\n    192,\n    32,\n    195,\n    208,\n    173,\n    233,\n    202,\n    25,\n    210,\n    145,\n    89,\n    87,\n    245,\n    246,\n    38,\n    3,\n    25,\n    57,\n    167,\n    245,\n    86,\n    227,\n    208,\n    81,\n    64,\n    90,\n    199,\n    140,\n    48,\n    212,\n    180,\n    70,\n    120,\n    9,\n    192,\n    245,\n    177,\n    65,\n    157,\n    9,\n    193,\n    100,\n    181,\n    125,\n    145,\n    62,\n    8,\n    108,\n    36,\n    140,\n    237,\n    242,\n    248,\n    161,\n    189,\n    41,\n    114,\n    65,\n    121,\n    97,\n    50,\n    238,\n    149,\n    44,\n    214,\n    124,\n    167,\n    40,\n    167,\n    127,\n    178,\n    231,\n    30,\n    173,\n    244,\n    193,\n    203,\n    204,\n    238,\n    139,\n    135,\n    71,\n    234,\n    234,\n    217,\n    66,\n    14,\n    129,\n    19,\n    97,\n    165,\n    112,\n    244,\n    35,\n    73,\n    192,\n    12,\n    149,\n    71,\n    33,\n    192,\n    32,\n    195,\n    208,\n    173,\n    233,\n    202,\n    25,\n    210,\n    145,\n    89,\n    87,\n    245,\n    246,\n    38,\n    3,\n    25,\n    57,\n    167,\n    245,\n    86,\n    227,\n    208,\n    81,\n    64,\n    90,\n    199,\n    140,\n    48,\n    212,\n    180,\n    70,\n    120,\n    9,\n    192,\n    245,\n    177,\n    65,\n    157,\n    9,\n    193,\n    100,\n    181,\n    125,\n    145,\n    62,\n    8,\n    108,\n    36,\n    140,\n    237,\n    242,\n    248\n  ],\n  G: [\n    182,\n    46,\n    78,\n    199,\n    79,\n    89,\n    41,\n    208,\n    135,\n    20,\n    154,\n    35,\n    21,\n    43,\n    230,\n    113,\n    191,\n    147,\n    208,\n    37,\n    28,\n    27,\n    86,\n    203,\n    25,\n    209,\n    148,\n    187,\n    139,\n    111,\n    48,\n    102,\n    76,\n    110,\n    106,\n    130,\n    37,\n    160,\n    34,\n    222,\n    90,\n    165,\n    245,\n    222,\n    102,\n    47,\n    19,\n    130,\n    4,\n    232,\n    137,\n    211,\n    240,\n    11,\n    140,\n    21,\n    42,\n    22,\n    241,\n    61,\n    99,\n    115,\n    199,\n    166,\n    114,\n    190,\n    204,\n    60,\n    233,\n    66,\n    115,\n    230,\n    125,\n    103,\n    203,\n    125,\n    13,\n    176,\n    94,\n    131,\n    39,\n    198,\n    167,\n    124,\n    67,\n    175,\n    254,\n    1,\n    15,\n    198,\n    62,\n    237,\n    159,\n    31,\n    218,\n    58,\n    244,\n    47,\n    61,\n    67,\n    94,\n    46,\n    78,\n    199,\n    79,\n    89,\n    41,\n    208,\n    135,\n    20,\n    154,\n    35,\n    21,\n    43,\n    230,\n    113,\n    191,\n    147,\n    208,\n    37,\n    28,\n    27,\n    86,\n    203,\n    25,\n    209,\n    148,\n    187,\n    139,\n    111,\n    48,\n    102,\n    76,\n    110,\n    106,\n    130,\n    37,\n    160,\n    34,\n    222,\n    90,\n    165,\n    245,\n    222,\n    102,\n    47,\n    19,\n    130,\n    4,\n    232,\n    137,\n    211,\n    240,\n    11,\n    140,\n    21,\n    42,\n    22,\n    241,\n    61,\n    99,\n    115,\n    199,\n    166,\n    114,\n    190,\n    204,\n    60,\n    233,\n    66,\n    115,\n    230,\n    125,\n    103,\n    203,\n    125,\n    13,\n    176,\n    94,\n    131,\n    39,\n    198,\n    167,\n    124,\n    67,\n    175,\n    254,\n    1,\n    15,\n    198,\n    62,\n    237,\n    159,\n    31,\n    218,\n    58,\n    244,\n    47,\n    61,\n    67,\n    94,\n    46,\n    78,\n    199,\n    79,\n    89,\n    41,\n    208,\n    135,\n    20,\n    154,\n    35,\n    21,\n    43,\n    230,\n    113,\n    191,\n    147,\n    208,\n    37,\n    28,\n    27,\n    86,\n    203,\n    25,\n    209,\n    148,\n    187,\n    139,\n    111,\n    48,\n    102,\n    76,\n    110,\n    106,\n    130,\n    37,\n    160,\n    34,\n    222,\n    90,\n    165,\n    245,\n    222,\n    102,\n    47,\n    19,\n    130,\n    4,\n    232,\n    137,\n    211,\n    240,\n    11,\n    140,\n    21\n  ],\n  B: [\n    191,\n    154,\n    43,\n    10,\n    207,\n    204,\n    164,\n    231,\n    136,\n    58,\n    239,\n    30,\n    147,\n    230,\n    101,\n    111,\n    150,\n    35,\n    128,\n    57,\n    252,\n    79,\n    173,\n    120,\n    25,\n    126,\n    81,\n    85,\n    8,\n    7,\n    122,\n    237,\n    190,\n    152,\n    246,\n    182,\n    130,\n    219,\n    67,\n    76,\n    167,\n    178,\n    235,\n    250,\n    28,\n    61,\n    186,\n    250,\n    199,\n    67,\n    58,\n    50,\n    86,\n    182,\n    108,\n    77,\n    89,\n    112,\n    59,\n    125,\n    226,\n    50,\n    205,\n    227,\n    125,\n    128,\n    104,\n    27,\n    59,\n    66,\n    53,\n    133,\n    159,\n    203,\n    97,\n    125,\n    139,\n    159,\n    158,\n    7,\n    215,\n    47,\n    140,\n    226,\n    223,\n    231,\n    44,\n    110,\n    184,\n    61,\n    233,\n    47,\n    67,\n    148,\n    22,\n    120,\n    173,\n    156,\n    117,\n    181,\n    94,\n    154,\n    43,\n    10,\n    207,\n    204,\n    164,\n    231,\n    136,\n    58,\n    239,\n    30,\n    147,\n    230,\n    101,\n    111,\n    150,\n    35,\n    128,\n    57,\n    252,\n    79,\n    173,\n    120,\n    25,\n    126,\n    81,\n    85,\n    8,\n    7,\n    122,\n    237,\n    190,\n    152,\n    246,\n    182,\n    130,\n    219,\n    67,\n    76,\n    167,\n    178,\n    235,\n    250,\n    28,\n    61,\n    186,\n    250,\n    199,\n    67,\n    58,\n    50,\n    86,\n    182,\n    108,\n    77,\n    89,\n    112,\n    59,\n    125,\n    226,\n    50,\n    205,\n    227,\n    125,\n    128,\n    104,\n    27,\n    59,\n    66,\n    53,\n    133,\n    159,\n    203,\n    97,\n    125,\n    139,\n    159,\n    158,\n    7,\n    215,\n    47,\n    140,\n    226,\n    223,\n    231,\n    44,\n    110,\n    184,\n    61,\n    233,\n    47,\n    67,\n    148,\n    22,\n    120,\n    173,\n    156,\n    117,\n    181,\n    94,\n    154,\n    43,\n    10,\n    207,\n    204,\n    164,\n    231,\n    136,\n    58,\n    239,\n    30,\n    147,\n    230,\n    101,\n    111,\n    150,\n    35,\n    128,\n    57,\n    252,\n    79,\n    173,\n    120,\n    25,\n    126,\n    81,\n    85,\n    8,\n    7,\n    122,\n    237,\n    190,\n    152,\n    246,\n    182,\n    130,\n    219,\n    67,\n    76,\n    167,\n    178,\n    235,\n    250,\n    28,\n    61,\n    186,\n    250,\n    199,\n    67,\n    58,\n    50,\n    86,\n    182,\n    108,\n    77\n  ],\n  A: [\n    0,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64\n  ],\n  I: [\n    0,\n    1,\n    2,\n    3,\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    11,\n    12,\n    13,\n    14,\n    15,\n    16,\n    17,\n    18,\n    19,\n    20,\n    21,\n    22,\n    23,\n    24,\n    25,\n    26,\n    27,\n    28,\n    29,\n    30,\n    31,\n    32,\n    33,\n    34,\n    35,\n    36,\n    37,\n    38,\n    39,\n    40,\n    41,\n    42,\n    43,\n    44,\n    45,\n    46,\n    47,\n    48,\n    49,\n    50,\n    51,\n    52,\n    53,\n    54,\n    55,\n    56,\n    57,\n    58,\n    59,\n    60,\n    61,\n    62,\n    63,\n    64,\n    65,\n    66,\n    67,\n    68,\n    69,\n    70,\n    71,\n    72,\n    73,\n    74,\n    75,\n    76,\n    77,\n    78,\n    79,\n    80,\n    81,\n    82,\n    83,\n    84,\n    85,\n    86,\n    87,\n    88,\n    89,\n    90,\n    91,\n    92,\n    93,\n    94,\n    95,\n    96,\n    97,\n    98,\n    99,\n    100,\n    101,\n    102,\n    103,\n    104,\n    105,\n    106,\n    107,\n    108,\n    109,\n    110,\n    111,\n    112,\n    113,\n    114,\n    115,\n    116,\n    117,\n    118,\n    119,\n    120,\n    121,\n    122,\n    123,\n    124,\n    125,\n    126,\n    127,\n    128,\n    129,\n    130,\n    131,\n    132,\n    133,\n    134,\n    135,\n    136,\n    137,\n    138,\n    139,\n    140,\n    141,\n    142,\n    143,\n    144,\n    145,\n    146,\n    147,\n    148,\n    149,\n    150,\n    151,\n    152,\n    153,\n    154,\n    155,\n    156,\n    157,\n    158,\n    159,\n    160,\n    161,\n    162,\n    163,\n    164,\n    165,\n    166,\n    167,\n    168,\n    169,\n    170,\n    171,\n    172,\n    173,\n    174,\n    175,\n    176,\n    177,\n    178,\n    179,\n    180,\n    181,\n    182,\n    183,\n    184,\n    185,\n    186,\n    187,\n    188,\n    189,\n    190,\n    191,\n    192,\n    193,\n    194,\n    195,\n    196,\n    197,\n    198,\n    199,\n    200,\n    201,\n    202,\n    203,\n    204,\n    205,\n    206,\n    207,\n    208,\n    209,\n    210,\n    211,\n    212,\n    213,\n    214,\n    215,\n    216,\n    217,\n    218,\n    219,\n    220,\n    221,\n    222,\n    223,\n    224,\n    225,\n    226,\n    227,\n    228,\n    229,\n    230,\n    231,\n    232,\n    233,\n    234,\n    235,\n    236,\n    237,\n    238,\n    239,\n    240,\n    241,\n    242,\n    243,\n    244,\n    245,\n    246,\n    247,\n    248,\n    249,\n    250,\n    251,\n    252,\n    253,\n    254,\n    255\n  ]\n};\n\n// src/cmaps/red.json\nvar red_default = {\n  R: [0, 128, 255],\n  G: [0, 0, 0],\n  B: [0, 0, 0],\n  A: [0, 64, 128],\n  I: [0, 128, 255]\n};\n\n// src/cmaps/redyell.json\nvar redyell_default = {\n  R: [192, 224, 255],\n  G: [1, 128, 255],\n  B: [0, 0, 0],\n  A: [0, 64, 128],\n  I: [0, 128, 255]\n};\n\n// src/cmaps/rocket.json\nvar rocket_default = {\n  R: [3, 112, 144, 188, 236, 246, 255],\n  G: [5, 31, 29, 22, 76, 158, 250],\n  B: [26, 87, 91, 86, 62, 117, 235],\n  A: [0, 30, 38, 49, 67, 85, 107],\n  I: [0, 73, 92, 118, 160, 205, 255]\n};\n\n// src/cmaps/surface.json\nvar surface_default = {\n  R: [1, 240, 255],\n  G: [1, 128, 255],\n  B: [1, 128, 255],\n  A: [0, 76, 128],\n  I: [0, 153, 255]\n};\n\n// src/cmaps/thermal.json\nvar thermal_default = {\n  R: [0, 5, 18, 34, 53, 72, 90, 107, 126, 144, 161, 178, 194, 209, 222, 233, 242, 248, 251, 251, 249, 244, 241, 252],\n  G: [0, 4, 10, 11, 9, 11, 17, 23, 30, 36, 43, 50, 59, 70, 83, 98, 117, 136, 157, 177, 199, 220, 240, 254],\n  B: [3, 24, 50, 76, 96, 106, 109, 110, 108, 104, 97, 89, 79, 67, 55, 42, 26, 12, 6, 22, 47, 79, 121, 164],\n  A: [0, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64],\n  I: [0, 11, 22, 33, 44, 55, 66, 77, 88, 99, 110, 121, 133, 144, 155, 166, 177, 188, 199, 210, 221, 232, 243, 255]\n};\n\n// src/cmaps/turbo.json\nvar turbo_default = {\n  R: [48, 48, 64, 70, 65, 25, 132, 195, 244, 254, 218, 122],\n  G: [18, 18, 64, 107, 150, 226, 255, 241, 199, 158, 57, 4],\n  B: [59, 59, 162, 227, 255, 187, 81, 52, 58, 47, 7, 3],\n  A: [0, 22, 26, 30, 34, 43, 52, 57, 63, 67, 77, 86],\n  I: [0, 1, 16, 32, 49, 83, 118, 140, 164, 181, 219, 255]\n};\n\n// src/cmaps/violet.json\nvar violet_default = {\n  R: [0, 128, 255],\n  G: [0, 0, 0],\n  B: [0, 128, 255],\n  A: [0, 64, 128],\n  I: [0, 128, 255]\n};\n\n// src/cmaps/viridis.json\nvar viridis_default = {\n  R: [68, 49, 53, 253],\n  G: [1, 104, 183, 231],\n  B: [84, 142, 121, 37],\n  A: [0, 56, 80, 88],\n  I: [0, 64, 192, 255]\n};\n\n// src/cmaps/warm.json\nvar warm_default = {\n  R: [255, 255, 255],\n  G: [127, 196, 254],\n  B: [0, 0, 0],\n  A: [0, 64, 128],\n  I: [0, 128, 255]\n};\n\n// src/cmaps/winter.json\nvar winter_default = {\n  R: [0, 0, 0],\n  G: [0, 128, 255],\n  B: [255, 196, 128],\n  A: [0, 64, 128],\n  I: [0, 128, 255]\n};\n\n// src/cmaps/x_rain.json\nvar x_rain_default = {\n  R: [3, 64, 0, 0, 255, 255, 255],\n  G: [0, 0, 0, 255, 255, 192, 3],\n  B: [0, 32, 48, 56, 64, 96, 128],\n  A: [0, 8, 16, 24, 32, 52, 80],\n  I: [0, 32, 64, 96, 160, 192, 255]\n};\n\n// src/cmaps/afni_blues_inv.json\nvar afni_blues_inv_default = {\n  min: 0,\n  max: 0,\n  R: [0, 37],\n  G: [242, 0],\n  B: [255, 255],\n  A: [0, 64],\n  I: [0, 255]\n};\n\n// src/cmaps/afni_reds_inv.json\nvar afni_reds_inv_default = {\n  R: [255, 255],\n  G: [255, 11],\n  B: [0, 0],\n  A: [0, 64],\n  I: [0, 255]\n};\n\n// src/cmaps/roi_i256.json\nvar roi_i256_default = {\n  min: 0,\n  max: 0,\n  R: [\n    65,\n    10,\n    223,\n    120,\n    216,\n    207,\n    251,\n    93,\n    252,\n    217,\n    21,\n    253,\n    131,\n    165,\n    173,\n    143,\n    144,\n    217,\n    86,\n    89,\n    63,\n    254,\n    172,\n    1,\n    142,\n    107,\n    42,\n    78,\n    221,\n    8,\n    222,\n    71,\n    127,\n    126,\n    167,\n    33,\n    104,\n    2,\n    208,\n    216,\n    0,\n    251,\n    7,\n    105,\n    2,\n    101,\n    248,\n    190,\n    253,\n    62,\n    255,\n    224,\n    166,\n    37,\n    110,\n    138,\n    45,\n    34,\n    6,\n    37,\n    69,\n    201,\n    43,\n    122,\n    199,\n    37,\n    173,\n    194,\n    103,\n    211,\n    75,\n    159,\n    96,\n    4,\n    239,\n    98,\n    110,\n    193,\n    253,\n    166,\n    40,\n    255,\n    48,\n    130,\n    140,\n    243,\n    101,\n    9,\n    177,\n    220,\n    133,\n    32,\n    4,\n    81,\n    48,\n    48,\n    210,\n    109,\n    60,\n    132,\n    1,\n    119,\n    1,\n    159,\n    247,\n    33,\n    212,\n    187,\n    253,\n    144,\n    196,\n    254,\n    168,\n    79,\n    64,\n    196,\n    39,\n    97,\n    73,\n    173,\n    104,\n    216,\n    217,\n    43,\n    101,\n    119,\n    254,\n    5,\n    237,\n    103,\n    203,\n    122,\n    57,\n    87,\n    251,\n    164,\n    19,\n    75,\n    200,\n    2,\n    252,\n    150,\n    66,\n    0,\n    255,\n    157,\n    23,\n    254,\n    55,\n    16,\n    240,\n    161,\n    69,\n    253,\n    207,\n    195,\n    5,\n    60,\n    255,\n    251,\n    200,\n    217,\n    134,\n    123,\n    253,\n    180,\n    27,\n    246,\n    130,\n    136,\n    250,\n    232,\n    4,\n    125,\n    140,\n    22,\n    253,\n    255,\n    13,\n    180,\n    123,\n    61,\n    254,\n    111,\n    10,\n    185,\n    76,\n    192,\n    255,\n    223,\n    186,\n    61,\n    198,\n    5,\n    172,\n    13,\n    83,\n    172,\n    171,\n    6,\n    23,\n    73,\n    134,\n    133,\n    109,\n    61,\n    213,\n    55,\n    57,\n    132,\n    36,\n    209,\n    2,\n    144,\n    1,\n    253,\n    68,\n    155,\n    3,\n    160,\n    2,\n    77,\n    121,\n    70,\n    67,\n    176,\n    223,\n    131,\n    4,\n    162,\n    232,\n    255,\n    150,\n    94,\n    235,\n    191,\n    207,\n    10,\n    246,\n    0,\n    225,\n    4,\n    209,\n    116,\n    57,\n    112,\n    172,\n    253,\n    1,\n    6,\n    92,\n    227,\n    73,\n    62,\n    135,\n    223\n  ],\n  G: [\n    162,\n    50,\n    112,\n    245,\n    4,\n    124,\n    176,\n    243,\n    56,\n    125,\n    183,\n    139,\n    182,\n    68,\n    189,\n    4,\n    225,\n    10,\n    20,\n    223,\n    7,\n    46,\n    31,\n    193,\n    225,\n    250,\n    219,\n    41,\n    2,\n    100,\n    83,\n    181,\n    34,\n    150,\n    72,\n    223,\n    168,\n    248,\n    80,\n    253,\n    7,\n    117,\n    214,\n    2,\n    248,\n    10,\n    3,\n    59,\n    179,\n    160,\n    90,\n    244,\n    146,\n    4,\n    207,\n    4,\n    125,\n    255,\n    96,\n    100,\n    1,\n    208,\n    130,\n    51,\n    116,\n    181,\n    236,\n    53,\n    244,\n    5,\n    165,\n    28,\n    181,\n    86,\n    96,\n    42,\n    254,\n    1,\n    134,\n    194,\n    214,\n    92,\n    41,\n    204,\n    137,\n    86,\n    207,\n    3,\n    143,\n    3,\n    100,\n    239,\n    164,\n    94,\n    65,\n    251,\n    131,\n    244,\n    173,\n    57,\n    143,\n    107,\n    217,\n    53,\n    210,\n    0,\n    148,\n    250,\n    45,\n    198,\n    81,\n    40,\n    61,\n    218,\n    252,\n    88,\n    171,\n    0,\n    248,\n    24,\n    248,\n    4,\n    41,\n    100,\n    187,\n    46,\n    208,\n    145,\n    43,\n    168,\n    121,\n    46,\n    175,\n    250,\n    125,\n    107,\n    233,\n    112,\n    207,\n    231,\n    174,\n    215,\n    53,\n    9,\n    43,\n    153,\n    52,\n    124,\n    128,\n    65,\n    210,\n    147,\n    255,\n    147,\n    63,\n    200,\n    148,\n    254,\n    0,\n    179,\n    241,\n    42,\n    239,\n    2,\n    230,\n    8,\n    82,\n    135,\n    87,\n    16,\n    3,\n    87,\n    86,\n    151,\n    254,\n    8,\n    255,\n    86,\n    53,\n    19,\n    7,\n    192,\n    171,\n    201,\n    253,\n    247,\n    197,\n    103,\n    251,\n    126,\n    0,\n    149,\n    54,\n    183,\n    61,\n    126,\n    79,\n    113,\n    10,\n    103,\n    184,\n    75,\n    11,\n    195,\n    222,\n    136,\n    149,\n    131,\n    8,\n    99,\n    240,\n    177,\n    252,\n    255,\n    198,\n    16,\n    7,\n    68,\n    178,\n    66,\n    191,\n    150,\n    73,\n    26,\n    211,\n    109,\n    78,\n    209,\n    240,\n    254,\n    1,\n    166,\n    247,\n    131,\n    2,\n    0,\n    167,\n    127,\n    133,\n    10,\n    43,\n    99,\n    235,\n    3,\n    214,\n    142,\n    176,\n    82,\n    132,\n    38,\n    10,\n    249,\n    255,\n    215,\n    44,\n    81\n  ],\n  B: [\n    176,\n    182,\n    248,\n    37,\n    117,\n    35,\n    96,\n    69,\n    32,\n    152,\n    108,\n    20,\n    237,\n    250,\n    2,\n    89,\n    141,\n    216,\n    111,\n    251,\n    211,\n    149,\n    10,\n    44,\n    214,\n    103,\n    31,\n    251,\n    3,\n    32,\n    252,\n    246,\n    97,\n    1,\n    219,\n    167,\n    197,\n    4,\n    36,\n    116,\n    206,\n    118,\n    106,\n    43,\n    205,\n    204,\n    114,\n    69,\n    127,\n    205,\n    87,\n    80,\n    41,\n    251,\n    145,\n    204,\n    253,\n    161,\n    247,\n    1,\n    149,\n    9,\n    43,\n    253,\n    97,\n    72,\n    136,\n    161,\n    171,\n    181,\n    26,\n    255,\n    108,\n    80,\n    218,\n    214,\n    231,\n    255,\n    84,\n    31,\n    109,\n    4,\n    218,\n    3,\n    217,\n    36,\n    68,\n    85,\n    241,\n    39,\n    221,\n    2,\n    240,\n    2,\n    173,\n    42,\n    206,\n    5,\n    110,\n    46,\n    103,\n    27,\n    212,\n    184,\n    2,\n    207,\n    246,\n    45,\n    116,\n    72,\n    110,\n    253,\n    38,\n    105,\n    248,\n    159,\n    243,\n    81,\n    192,\n    93,\n    141,\n    145,\n    24,\n    157,\n    234,\n    131,\n    57,\n    178,\n    62,\n    75,\n    65,\n    176,\n    148,\n    40,\n    253,\n    66,\n    76,\n    240,\n    51,\n    154,\n    17,\n    251,\n    139,\n    253,\n    207,\n    9,\n    114,\n    49,\n    200,\n    254,\n    96,\n    73,\n    138,\n    118,\n    204,\n    102,\n    137,\n    89,\n    145,\n    161,\n    4,\n    112,\n    66,\n    234,\n    147,\n    178,\n    212,\n    205,\n    185,\n    11,\n    203,\n    131,\n    2,\n    250,\n    118,\n    169,\n    1,\n    185,\n    154,\n    53,\n    171,\n    197,\n    61,\n    175,\n    249,\n    96,\n    15,\n    254,\n    95,\n    5,\n    222,\n    75,\n    246,\n    194,\n    2,\n    61,\n    180,\n    25,\n    133,\n    165,\n    15,\n    233,\n    59,\n    35,\n    221,\n    140,\n    109,\n    7,\n    114,\n    255,\n    198,\n    0,\n    115,\n    168,\n    252,\n    23,\n    242,\n    80,\n    75,\n    142,\n    137,\n    255,\n    12,\n    182,\n    68,\n    201,\n    4,\n    111,\n    37,\n    228,\n    83,\n    248,\n    24,\n    192,\n    249,\n    5,\n    54,\n    223,\n    160,\n    122,\n    160,\n    114,\n    145,\n    119,\n    252,\n    31,\n    253,\n    250,\n    10,\n    214,\n    8,\n    47,\n    0,\n    142,\n    222,\n    70\n  ],\n  A: [\n    0,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64,\n    64\n  ],\n  I: [\n    0,\n    1,\n    2,\n    3,\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    11,\n    12,\n    13,\n    14,\n    15,\n    16,\n    17,\n    18,\n    19,\n    20,\n    21,\n    22,\n    23,\n    24,\n    25,\n    26,\n    27,\n    28,\n    29,\n    30,\n    31,\n    32,\n    33,\n    34,\n    35,\n    36,\n    37,\n    38,\n    39,\n    40,\n    41,\n    42,\n    43,\n    44,\n    45,\n    46,\n    47,\n    48,\n    49,\n    50,\n    51,\n    52,\n    53,\n    54,\n    55,\n    56,\n    57,\n    58,\n    59,\n    60,\n    61,\n    62,\n    63,\n    64,\n    65,\n    66,\n    67,\n    68,\n    69,\n    70,\n    71,\n    72,\n    73,\n    74,\n    75,\n    76,\n    77,\n    78,\n    79,\n    80,\n    81,\n    82,\n    83,\n    84,\n    85,\n    86,\n    87,\n    88,\n    89,\n    90,\n    91,\n    92,\n    93,\n    94,\n    95,\n    96,\n    97,\n    98,\n    99,\n    100,\n    101,\n    102,\n    103,\n    104,\n    105,\n    106,\n    107,\n    108,\n    109,\n    110,\n    111,\n    112,\n    113,\n    114,\n    115,\n    116,\n    117,\n    118,\n    119,\n    120,\n    121,\n    122,\n    123,\n    124,\n    125,\n    126,\n    127,\n    128,\n    129,\n    130,\n    131,\n    132,\n    133,\n    134,\n    135,\n    136,\n    137,\n    138,\n    139,\n    140,\n    141,\n    142,\n    143,\n    144,\n    145,\n    146,\n    147,\n    148,\n    149,\n    150,\n    151,\n    152,\n    153,\n    154,\n    155,\n    156,\n    157,\n    158,\n    159,\n    160,\n    161,\n    162,\n    163,\n    164,\n    165,\n    166,\n    167,\n    168,\n    169,\n    170,\n    171,\n    172,\n    173,\n    174,\n    175,\n    176,\n    177,\n    178,\n    179,\n    180,\n    181,\n    182,\n    183,\n    184,\n    185,\n    186,\n    187,\n    188,\n    189,\n    190,\n    191,\n    192,\n    193,\n    194,\n    195,\n    196,\n    197,\n    198,\n    199,\n    200,\n    201,\n    202,\n    203,\n    204,\n    205,\n    206,\n    207,\n    208,\n    209,\n    210,\n    211,\n    212,\n    213,\n    214,\n    215,\n    216,\n    217,\n    218,\n    219,\n    220,\n    221,\n    222,\n    223,\n    224,\n    225,\n    226,\n    227,\n    228,\n    229,\n    230,\n    231,\n    232,\n    233,\n    234,\n    235,\n    236,\n    237,\n    238,\n    239,\n    240,\n    241,\n    242,\n    243,\n    244,\n    245,\n    246,\n    247,\n    248,\n    249,\n    250,\n    251,\n    252,\n    253,\n    254,\n    255\n  ]\n};\n\n// src/colortables.ts\nvar ColorTables = class {\n  /**\n   * Sets cluts to alphabetically sorted cmaps\n   */\n  constructor() {\n    __publicField(this, \"gamma\", 1);\n    __publicField(this, \"version\", 0.1);\n    __publicField(this, \"cluts\", {});\n    const cmapKeys = Object.keys(cmaps_exports);\n    const cmapsSorted = cmapKeys.filter((k) => !k.startsWith(\"$\")).sort(new Intl.Collator(\"en\").compare);\n    for (const key of cmapsSorted) {\n      this.cluts[key] = cmaps_exports[key];\n    }\n  }\n  addColormap(key, cmap) {\n    this.cluts[key] = cmap;\n  }\n  colormaps() {\n    return Object.keys(this.cluts);\n  }\n  // for backward compatibility: prior to v0.34 \"colormaps\" used to be \"colorMaps\"\n  colorMaps() {\n    return this.colormaps();\n  }\n  // returns key name if it exists, otherwise returns default \"gray\"\n  colormapFromKey(name) {\n    let cmap = this.cluts[name];\n    if (cmap !== void 0) {\n      return cmap;\n    }\n    cmap = this.cluts[name.toLowerCase()];\n    if (cmap !== void 0) {\n      return cmap;\n    }\n    if (name.length > 0) {\n      log.warn(\"No color map named \" + name);\n    }\n    return {\n      min: 0,\n      max: 0,\n      R: [0, 255],\n      G: [0, 255],\n      B: [0, 255],\n      A: [0, 255],\n      I: [0, 255]\n    };\n  }\n  // not included in public docs\n  colormap(key = \"\", isInvert = false) {\n    const cmap = this.colormapFromKey(key);\n    return this.makeLut(cmap.R, cmap.G, cmap.B, cmap.A, cmap.I, isInvert);\n  }\n  makeLabelLut(cm, alphaFill = 255, maxIdx = Infinity) {\n    if (cm.R === void 0 || cm.G === void 0 || cm.B === void 0) {\n      throw new Error(`Invalid colormap table: ${cm}`);\n    }\n    const nLabels = cm.R.length;\n    const idxs = cm.I ?? [...Array(nLabels).keys()];\n    let hasInvalid = false;\n    for (let i = 0; i < idxs.length; i++) {\n      if (idxs[i] > maxIdx) {\n        hasInvalid = true;\n        idxs[i] = maxIdx;\n      }\n    }\n    if (hasInvalid) {\n      log.warn(`Some colormap indices clamped to match label range.`);\n    }\n    if (nLabels !== cm.G.length || nLabels !== cm.B.length || nLabels !== idxs.length) {\n      throw new Error(\n        `colormap does not make sense: ${cm} Rs ${cm.R.length} Gs ${cm.G.length} Bs ${cm.B.length} Is ${idxs.length}`\n      );\n    }\n    let As = new Uint8ClampedArray(nLabels).fill(alphaFill);\n    As[0] = 0;\n    if (cm.A !== void 0) {\n      As = Uint8ClampedArray.from(cm.A);\n    }\n    const mnIdx = Math.min(...idxs);\n    const mxIdx = Math.max(...idxs);\n    const nLabelsDense = mxIdx - mnIdx + 1;\n    const lut = new Uint8ClampedArray(nLabelsDense * 4).fill(0);\n    for (let i = 0; i < nLabels; i++) {\n      let k = (idxs[i] - mnIdx) * 4;\n      lut[k++] = cm.R[i];\n      lut[k++] = cm.G[i];\n      lut[k++] = cm.B[i];\n      lut[k++] = As[i];\n    }\n    const cmap = {\n      lut,\n      min: mnIdx,\n      max: mxIdx\n    };\n    if (cm.labels) {\n      const nL = cm.labels.length;\n      if (nL === nLabelsDense) {\n        cmap.labels = cm.labels;\n      } else if (nL === nLabels) {\n        cmap.labels = Array(nLabelsDense).fill(\"?\");\n        for (let i = 0; i < nLabels; i++) {\n          const idx = idxs[i];\n          cmap.labels[idx] = cm.labels[i];\n        }\n      }\n    }\n    return cmap;\n  }\n  async makeLabelLutFromUrl(name, alphaFill = 255, maxIdx = Infinity) {\n    const response = await fetch(name);\n    const cm = await response.json();\n    return this.makeLabelLut(cm, alphaFill, maxIdx);\n  }\n  // not included in public docs\n  // The drawing colormap is a variant of the label colormap with precisely 256 colors\n  makeDrawLut(name) {\n    let cmap = typeof name === \"object\" ? name : cmaps_exports[name];\n    if (cmap === void 0) {\n      log.warn(\"colormap undefined \", name);\n      cmap = this.colormapFromKey(\"\");\n    }\n    const cm = this.makeLabelLut(cmap, 255);\n    if (cm.labels === void 0) {\n      cm.labels = [];\n    }\n    if (cm.labels.length < 256) {\n      const j = cm.labels.length;\n      for (let i = j; i < 256; i++) {\n        cm.labels.push(i.toString());\n      }\n    }\n    const lut = new Uint8ClampedArray(256 * 4);\n    let k = 0;\n    for (let i = 0; i < 256; i++) {\n      lut[k++] = 255;\n      lut[k++] = 0;\n      lut[k++] = 0;\n      lut[k++] = 255;\n    }\n    lut[3] = 0;\n    const explicitLUTbytes = Math.min(cm.lut.length, 256 * 4);\n    if (explicitLUTbytes > 0) {\n      for (let i = 0; i < explicitLUTbytes; i++) {\n        lut[i] = cm.lut[i];\n      }\n    }\n    return {\n      lut,\n      labels: cm.labels\n    };\n  }\n  // not included in public docs\n  makeLut(Rsi, Gsi, Bsi, Asi, Isi, isInvert) {\n    const nIdx = Rsi.length;\n    const Rs = [...Rsi];\n    const Gs = [...Gsi];\n    const Bs = [...Bsi];\n    if (!Isi) {\n      Isi = new Array(nIdx);\n      for (let i = 0; i < nIdx; i++) {\n        Isi[i] = i / (nIdx - 1) * 255;\n      }\n    }\n    if (!Asi) {\n      Asi = new Array(nIdx).fill(64);\n      Asi[0] = 0;\n    }\n    let As = Uint8ClampedArray.from(Asi);\n    let Is = Uint8ClampedArray.from(Isi);\n    if (isInvert) {\n      for (let i = 0; i < nIdx; i++) {\n        Rs[i] = Rsi[nIdx - 1 - i];\n        Gs[i] = Gsi[nIdx - 1 - i];\n        Bs[i] = Bsi[nIdx - 1 - i];\n        As[i] = 255 - Asi[nIdx - 1 - i];\n        Is[i] = 255 - Isi[nIdx - 1 - i];\n      }\n    }\n    const lut = new Uint8ClampedArray(256 * 4);\n    if (typeof Is === \"undefined\") {\n      Is = new Uint8ClampedArray(nIdx).fill(0);\n      for (let i = 0; i < nIdx; i++) {\n        Is[i] = Math.round(i * 255 / (nIdx - 1));\n      }\n    }\n    if (typeof As === \"undefined\") {\n      As = new Uint8ClampedArray(nIdx).fill(64);\n      As[0] = 0;\n    }\n    for (let i = 0; i < nIdx - 1; i++) {\n      const idxLo = Is[i];\n      let idxHi = Is[i + 1];\n      if (i === 0 && idxLo !== 0) {\n        log.warn(\"colormap issue: indices expected to start with 0 not \", idxLo);\n      }\n      if (i === Is.length - 2 && idxHi !== 255) {\n        log.warn(\"padding colormap: indices expected end with 255 not \", idxHi);\n        idxHi = 255;\n      }\n      const idxRng = idxHi - idxLo;\n      let k = idxLo * 4;\n      for (let j = idxLo; j <= idxHi; j++) {\n        const f = (j - idxLo) / idxRng;\n        lut[k++] = Rs[i] + f * (Rs[i + 1] - Rs[i]);\n        lut[k++] = Gs[i] + f * (Gs[i + 1] - Gs[i]);\n        lut[k++] = Bs[i] + f * (Bs[i + 1] - Bs[i]);\n        lut[k++] = As[i] + f * (As[i + 1] - As[i]);\n      }\n    }\n    if (this.gamma === 1) {\n      return lut;\n    }\n    for (let i = 0; i < 255 * 4; i++) {\n      if (i % 4 === 3) {\n        continue;\n      }\n      lut[i] = Math.pow(lut[i] / 255, 1 / this.gamma) * 255;\n    }\n    return lut;\n  }\n};\nvar cmapper = new ColorTables();\n\n// src/nvmesh-utilities.ts\nimport { vec3 as vec32 } from \"gl-matrix\";\nvar NVMeshUtilities = class {\n  static getClusterBoundaryU8(u8, faces) {\n    const border = new Array(u8.length).fill(false);\n    const binary = new Array(u8.length).fill(false);\n    for (let i = 0; i < u8.length; i++) {\n      if (u8[i] > 0) {\n        binary[i] = true;\n      }\n    }\n    const nTri = faces.length / 3;\n    let j = 0;\n    for (let i = 0; i < nTri; i++) {\n      const v0 = faces[j];\n      const v1 = faces[j + 1];\n      const v2 = faces[j + 2];\n      j += 3;\n      if (binary[v0] === binary[v1] && binary[v0] === binary[v2] && binary[v1] === binary[v2]) {\n        continue;\n      }\n      border[v0] = true;\n      border[v1] = true;\n      border[v2] = true;\n    }\n    return border;\n  }\n  static async gzip(data) {\n    const stream = new CompressionStream(\"gzip\");\n    const writer = stream.writable.getWriter();\n    writer.write(data).catch(console.error);\n    const closePromise = writer.close().catch(console.error);\n    const response = new Response(stream.readable);\n    const result = new Uint8Array(await response.arrayBuffer());\n    await closePromise;\n    return result;\n  }\n  static createMZ3(vertices, indices, compress = false, colors = null) {\n    const magic = 23117;\n    const isRGBA = colors instanceof Uint8Array && colors.length === vertices.length / 3 * 4;\n    const attr = isRGBA ? 7 : 3;\n    const nface = indices.length / 3;\n    const nvert = vertices.length / 3;\n    const nskip = 0;\n    const headerSize = 16;\n    const indexSize = nface * 3 * 4;\n    const vertexSize = nvert * 3 * 4;\n    const colorSize = isRGBA ? colors.length : 0;\n    const totalSize = headerSize + indexSize + vertexSize + colorSize;\n    const buffer = new ArrayBuffer(totalSize);\n    const writer = new DataView(buffer);\n    writer.setUint16(0, magic, true);\n    writer.setUint16(2, attr, true);\n    writer.setUint32(4, nface, true);\n    writer.setUint32(8, nvert, true);\n    writer.setUint32(12, nskip, true);\n    let offset = headerSize;\n    new Uint32Array(buffer, offset, indices.length).set(indices);\n    offset += indexSize;\n    new Float32Array(buffer, offset, vertices.length).set(vertices);\n    if (isRGBA) {\n      offset += vertexSize;\n      new Uint8Array(buffer, offset, colors.length).set(colors);\n    }\n    if (compress) {\n      throw new Error(\"Call async createMZ3Async() for compression\");\n    }\n    return buffer;\n  }\n  static async createMZ3Async(vertices, indices, compress = false, colors = null) {\n    const buffer = this.createMZ3(vertices, indices, compress, colors);\n    if (compress) {\n      return await this.gzip(new Uint8Array(buffer));\n    }\n    return buffer;\n  }\n  static createOBJ(vertices, indices) {\n    let objContent = \"\";\n    for (let i = 0; i < vertices.length; i += 3) {\n      objContent += `v ${vertices[i]} ${vertices[i + 1]} ${vertices[i + 2]}\n`;\n    }\n    for (let i = 0; i < indices.length; i += 3) {\n      objContent += `f ${indices[i] + 1} ${indices[i + 1] + 1} ${indices[i + 2] + 1}\n`;\n    }\n    const encoder = new TextEncoder();\n    const arrayBuffer = encoder.encode(objContent).buffer;\n    return arrayBuffer;\n  }\n  static createSTL(vertices, indices) {\n    const numTriangles = indices.length / 3;\n    const bufferLength = 84 + numTriangles * 50;\n    const arrayBuffer = new ArrayBuffer(bufferLength);\n    const dataView = new DataView(arrayBuffer);\n    for (let i = 0; i < 80; i++) {\n      dataView.setUint8(i, 0);\n    }\n    dataView.setUint32(80, numTriangles, true);\n    let offset = 84;\n    for (let i = 0; i < indices.length; i += 3) {\n      const i0 = indices[i] * 3;\n      const i1 = indices[i + 1] * 3;\n      const i2 = indices[i + 2] * 3;\n      dataView.setFloat32(offset, 0, true);\n      dataView.setFloat32(offset + 4, 0, true);\n      dataView.setFloat32(offset + 8, 0, true);\n      offset += 12;\n      dataView.setFloat32(offset, vertices[i0], true);\n      dataView.setFloat32(offset + 4, vertices[i0 + 1], true);\n      dataView.setFloat32(offset + 8, vertices[i0 + 2], true);\n      offset += 12;\n      dataView.setFloat32(offset, vertices[i1], true);\n      dataView.setFloat32(offset + 4, vertices[i1 + 1], true);\n      dataView.setFloat32(offset + 8, vertices[i1 + 2], true);\n      offset += 12;\n      dataView.setFloat32(offset, vertices[i2], true);\n      dataView.setFloat32(offset + 4, vertices[i2 + 1], true);\n      dataView.setFloat32(offset + 8, vertices[i2 + 2], true);\n      offset += 12;\n      dataView.setUint16(offset, 0, true);\n      offset += 2;\n    }\n    return arrayBuffer;\n  }\n  static downloadArrayBuffer(buffer, filename) {\n    const blob = new Blob([buffer], { type: \"application/octet-stream\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.style.display = \"none\";\n    a.click();\n    setTimeout(() => {\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    }, 0);\n  }\n  static async saveMesh(vertices, indices, filename = \".mz3\", compress = false) {\n    let buff = new ArrayBuffer(0);\n    if (/\\.obj$/i.test(filename)) {\n      buff = this.createOBJ(vertices, indices);\n    } else if (/\\.stl$/i.test(filename)) {\n      buff = this.createSTL(vertices, indices);\n    } else {\n      if (!/\\.mz3$/i.test(filename)) {\n        filename += \".mz3\";\n      }\n      buff = await this.createMZ3Async(vertices, indices, compress);\n    }\n    if (filename.length > 4) {\n      this.downloadArrayBuffer(buff, filename);\n    }\n    return buff;\n  }\n  static getClusterBoundary(rgba8, faces) {\n    const rgba32 = new Uint32Array(rgba8.buffer);\n    const border = new Array(rgba32.length).fill(false);\n    const nTri = faces.length / 3;\n    let j = 0;\n    for (let i = 0; i < nTri; i++) {\n      const v0 = faces[j];\n      const v1 = faces[j + 1];\n      const v2 = faces[j + 2];\n      j += 3;\n      if (rgba32[v0] === rgba32[v1] && rgba32[v0] === rgba32[v2] && rgba32[v1] === rgba32[v2]) {\n        continue;\n      }\n      border[v0] = true;\n      border[v1] = true;\n      border[v2] = true;\n    }\n    return border;\n  }\n  // return spatial extremes for vertices\n  static getExtents(pts) {\n    if (!ArrayBuffer.isView(pts) && !Array.isArray(pts) || pts.length < 3) {\n      return { mxDx: 0, extentsMin: 0, extentsMax: 0 };\n    }\n    let mxDx = 0;\n    const mn = vec32.fromValues(pts[0], pts[1], pts[2]);\n    const mx = vec32.fromValues(pts[0], pts[1], pts[2]);\n    for (let i = 0; i < pts.length; i += 3) {\n      const v = vec32.fromValues(pts[i], pts[i + 1], pts[i + 2]);\n      mxDx = Math.max(mxDx, vec32.len(v));\n      vec32.min(mn, mn, v);\n      vec32.max(mx, mx, v);\n    }\n    const extentsMin = [mn[0], mn[1], mn[2]];\n    const extentsMax = [mx[0], mx[1], mx[2]];\n    return { mxDx, extentsMin, extentsMax };\n  }\n  // determine vector orthogonal to plane defined by triangle\n  // triangle winding determines front/back face\n  static generateNormals(pts, tris) {\n    const normal = [];\n    let ctr;\n    const normalsDataLength = pts.length;\n    let qx;\n    let qy;\n    let qz;\n    let px;\n    let py;\n    let pz;\n    let index1;\n    let index2;\n    let index3;\n    const norms = new Float32Array(normalsDataLength);\n    const numIndices = tris.length;\n    for (ctr = 0; ctr < numIndices; ctr += 3) {\n      index1 = tris[ctr] * 3;\n      index2 = tris[ctr + 1] * 3;\n      index3 = tris[ctr + 2] * 3;\n      const p1 = [pts[index1], pts[index1 + 1], pts[index1 + 2]];\n      const p2 = [pts[index2], pts[index2 + 1], pts[index2 + 2]];\n      const p3 = [pts[index3], pts[index3 + 1], pts[index3 + 2]];\n      qx = p2[0] - p1[0];\n      qy = p2[1] - p1[1];\n      qz = p2[2] - p1[2];\n      px = p3[0] - p1[0];\n      py = p3[1] - p1[1];\n      pz = p3[2] - p1[2];\n      normal[0] = py * qz - pz * qy;\n      normal[1] = pz * qx - px * qz;\n      normal[2] = px * qy - py * qx;\n      norms[index1] += normal[0];\n      norms[index1 + 1] += normal[1];\n      norms[index1 + 2] += normal[2];\n      norms[index2] += normal[0];\n      norms[index2 + 1] += normal[1];\n      norms[index2 + 2] += normal[2];\n      norms[index3] += normal[0];\n      norms[index3 + 1] += normal[1];\n      norms[index3 + 2] += normal[2];\n    }\n    for (ctr = 0; ctr < normalsDataLength; ctr += 3) {\n      normal[0] = -1 * norms[ctr];\n      normal[1] = -1 * norms[ctr + 1];\n      normal[2] = -1 * norms[ctr + 2];\n      let len = normal[0] * normal[0] + normal[1] * normal[1] + normal[2] * normal[2];\n      if (len > 0) {\n        len = 1 / Math.sqrt(len);\n        normal[0] *= len;\n        normal[1] *= len;\n        normal[2] *= len;\n      }\n      norms[ctr] = normal[0];\n      norms[ctr + 1] = normal[1];\n      norms[ctr + 2] = normal[2];\n    }\n    return norms;\n  }\n};\n\n// src/nvmesh-loaders.ts\nimport { mat4 as mat43, vec4 as vec43, vec3 as vec34 } from \"gl-matrix\";\n\n// src/nvutilities.ts\nimport arrayEqual from \"array-equal\";\nimport { mat4 as mat42, vec3 as vec33, vec4 as vec42 } from \"gl-matrix\";\nvar _dataView, _index, _localFiles, _centralDirectories, _endOfCentralDirectory;\nvar Zip = class {\n  constructor(arrayBuffer) {\n    __privateAdd(this, _dataView);\n    __privateAdd(this, _index, 0);\n    __privateAdd(this, _localFiles, []);\n    __privateAdd(this, _centralDirectories, []);\n    __privateAdd(this, _endOfCentralDirectory);\n    __privateSet(this, _dataView, new DataView(arrayBuffer));\n    this.read();\n  }\n  async extract(entry) {\n    const buffer = new Uint8Array(__privateGet(this, _dataView).buffer.slice(entry.startsAt, entry.startsAt + entry.compressedSize));\n    if (entry.compressionMethod === 0) {\n      return buffer;\n    } else if (entry.compressionMethod === 8) {\n      const stream = new DecompressionStream(\"deflate-raw\");\n      const writer = stream.writable.getWriter();\n      writer.write(buffer).catch(console.error);\n      const closePromise = writer.close().catch(console.error);\n      const response = new Response(stream.readable);\n      const result = new Uint8Array(await response.arrayBuffer());\n      await closePromise;\n      return result;\n    }\n    throw new Error(`Unsupported compression method: ${entry.compressionMethod}`);\n  }\n  read() {\n    while (!__privateGet(this, _endOfCentralDirectory) && __privateGet(this, _index) < __privateGet(this, _dataView).byteLength) {\n      const signature = __privateGet(this, _dataView).getUint32(__privateGet(this, _index), true);\n      if (signature === 67324752) {\n        const entry = this.readLocalFile(__privateGet(this, _index));\n        entry.extract = this.extract.bind(this, entry);\n        __privateGet(this, _localFiles).push(entry);\n        const hasDataDescriptor = (entry.generalPurpose & 8) !== 0;\n        entry.startsAt = __privateGet(this, _index) + 30 + entry.fileNameLength + entry.extraLength;\n        if (entry.compressedSize === 0 && hasDataDescriptor) {\n          let scanIndex = entry.startsAt;\n          while (scanIndex + 20 <= __privateGet(this, _dataView).byteLength) {\n            const possibleSignature = __privateGet(this, _dataView).getUint32(scanIndex, true);\n            if (possibleSignature === 134695760) {\n              const nextPK = __privateGet(this, _dataView).getUint16(scanIndex + 16, true) === 19280;\n              if (nextPK) {\n                scanIndex += 4;\n                break;\n              }\n            }\n            scanIndex++;\n          }\n          entry.crc = __privateGet(this, _dataView).getUint32(scanIndex, true);\n          entry.compressedSize = __privateGet(this, _dataView).getUint32(scanIndex + 4, true);\n          entry.uncompressedSize = __privateGet(this, _dataView).getUint32(scanIndex + 8, true);\n          __privateSet(this, _index, scanIndex + 12);\n        } else {\n          __privateSet(this, _index, entry.startsAt + entry.compressedSize);\n        }\n      } else if (signature === 33639248) {\n        const entry = this.readCentralDirectory(__privateGet(this, _index));\n        __privateGet(this, _centralDirectories).push(entry);\n        __privateSet(this, _index, __privateGet(this, _index) + (46 + entry.fileNameLength + entry.extraLength + entry.fileCommentLength));\n      } else if (signature === 101010256) {\n        __privateSet(this, _endOfCentralDirectory, this.readEndCentralDirectory(__privateGet(this, _index)));\n        break;\n      } else if (signature === 101075792) {\n        __privateSet(this, _endOfCentralDirectory, this.readEndCentralDirectory64(__privateGet(this, _index)));\n        break;\n      } else {\n        console.error(`Unexpected ZIP signature 0x${signature.toString(16).padStart(8, \"0\")} at index ${__privateGet(this, _index)}`);\n        break;\n      }\n    }\n  }\n  readLocalFile(offset) {\n    let compressedSize = __privateGet(this, _dataView).getUint32(offset + 18, true);\n    let uncompressedSize = __privateGet(this, _dataView).getUint32(offset + 22, true);\n    const fileNameLength = __privateGet(this, _dataView).getUint16(offset + 26, true);\n    const extraLength = __privateGet(this, _dataView).getUint16(offset + 28, true);\n    const extraOffset = offset + 30 + fileNameLength;\n    const extra = this.readString(extraOffset, extraLength);\n    if (compressedSize === 4294967295 && uncompressedSize === 4294967295) {\n      let zip64Offset = extraOffset;\n      let foundZip64 = false;\n      while (zip64Offset < extraOffset + extraLength - 4) {\n        const fieldSignature = __privateGet(this, _dataView).getUint16(zip64Offset, true);\n        const fieldLength = __privateGet(this, _dataView).getUint16(zip64Offset + 2, true);\n        zip64Offset += 4;\n        if (fieldSignature === 1) {\n          if (fieldLength >= 16) {\n            uncompressedSize = Number(__privateGet(this, _dataView).getBigUint64(zip64Offset, true));\n            zip64Offset += 8;\n            compressedSize = Number(__privateGet(this, _dataView).getBigUint64(zip64Offset, true));\n            foundZip64 = true;\n            break;\n          } else {\n            throw new Error(\n              `ZIP64 extra field found but is too small (expected at least 16 bytes, got ${fieldLength}).`\n            );\n          }\n        }\n        zip64Offset += fieldLength;\n      }\n      if (!foundZip64) {\n        throw new Error(\"ZIP64 format missing extra field with signature 0x0001.\");\n      }\n    }\n    return {\n      signature: this.readString(offset, 4),\n      version: __privateGet(this, _dataView).getUint16(offset + 4, true),\n      generalPurpose: __privateGet(this, _dataView).getUint16(offset + 6, true),\n      compressionMethod: __privateGet(this, _dataView).getUint16(offset + 8, true),\n      lastModifiedTime: __privateGet(this, _dataView).getUint16(offset + 10, true),\n      lastModifiedDate: __privateGet(this, _dataView).getUint16(offset + 12, true),\n      crc: __privateGet(this, _dataView).getUint32(offset + 14, true),\n      compressedSize,\n      uncompressedSize,\n      fileNameLength,\n      extraLength,\n      fileName: this.readString(offset + 30, fileNameLength),\n      extra: this.readString(offset + 30 + fileNameLength, extraLength)\n    };\n  }\n  readCentralDirectory(offset) {\n    return {\n      versionCreated: __privateGet(this, _dataView).getUint16(offset + 4, true),\n      versionNeeded: __privateGet(this, _dataView).getUint16(offset + 6, true),\n      fileNameLength: __privateGet(this, _dataView).getUint16(offset + 28, true),\n      extraLength: __privateGet(this, _dataView).getUint16(offset + 30, true),\n      fileCommentLength: __privateGet(this, _dataView).getUint16(offset + 32, true),\n      diskNumber: __privateGet(this, _dataView).getUint16(offset + 34, true),\n      internalAttributes: __privateGet(this, _dataView).getUint16(offset + 36, true),\n      externalAttributes: __privateGet(this, _dataView).getUint32(offset + 38, true),\n      offset: __privateGet(this, _dataView).getUint32(offset + 42, true),\n      comments: this.readString(offset + 46, __privateGet(this, _dataView).getUint16(offset + 32, true))\n    };\n  }\n  readEndCentralDirectory(offset) {\n    const commentLength = __privateGet(this, _dataView).getUint16(offset + 20, true);\n    return {\n      numberOfDisks: __privateGet(this, _dataView).getUint16(offset + 4, true),\n      centralDirectoryStartDisk: __privateGet(this, _dataView).getUint16(offset + 6, true),\n      numberCentralDirectoryRecordsOnThisDisk: __privateGet(this, _dataView).getUint16(offset + 8, true),\n      numberCentralDirectoryRecords: __privateGet(this, _dataView).getUint16(offset + 10, true),\n      centralDirectorySize: __privateGet(this, _dataView).getUint32(offset + 12, true),\n      centralDirectoryOffset: __privateGet(this, _dataView).getUint32(offset + 16, true),\n      commentLength,\n      comment: this.readString(offset + 22, commentLength)\n    };\n  }\n  readEndCentralDirectory64(offset) {\n    const commentLength = Number(__privateGet(this, _dataView).getBigUint64(offset + 0, true));\n    return {\n      numberOfDisks: __privateGet(this, _dataView).getUint32(offset + 16, true),\n      centralDirectoryStartDisk: __privateGet(this, _dataView).getUint32(offset + 20, true),\n      numberCentralDirectoryRecordsOnThisDisk: Number(__privateGet(this, _dataView).getBigUint64(offset + 24, true)),\n      numberCentralDirectoryRecords: Number(__privateGet(this, _dataView).getBigUint64(offset + 32, true)),\n      centralDirectorySize: Number(__privateGet(this, _dataView).getBigUint64(offset + 40, true)),\n      centralDirectoryOffset: Number(__privateGet(this, _dataView).getBigUint64(offset + 48, true)),\n      commentLength,\n      comment: \"\"\n    };\n  }\n  readString(offset, length) {\n    return Array.from({ length }, (_, i) => String.fromCharCode(__privateGet(this, _dataView).getUint8(offset + i))).join(\"\");\n  }\n  get entries() {\n    return __privateGet(this, _localFiles);\n  }\n};\n_dataView = new WeakMap();\n_index = new WeakMap();\n_localFiles = new WeakMap();\n_centralDirectories = new WeakMap();\n_endOfCentralDirectory = new WeakMap();\nvar NVUtilities = class _NVUtilities {\n  static arrayBufferToBase64(arrayBuffer) {\n    const bytes = new Uint8Array(arrayBuffer);\n    return _NVUtilities.uint8tob64(bytes);\n  }\n  static async decompress(data) {\n    const format = data[0] === 31 && data[1] === 139 && data[2] === 8 ? \"gzip\" : data[0] === 120 && (data[1] === 1 || data[1] === 94 || data[1] === 156 || data[1] === 218) ? \"deflate\" : \"deflate-raw\";\n    const stream = new DecompressionStream(format);\n    const writer = stream.writable.getWriter();\n    writer.write(data).catch(console.error);\n    const closePromise = writer.close().catch(console.error);\n    const response = new Response(stream.readable);\n    const result = new Uint8Array(await response.arrayBuffer());\n    await closePromise;\n    return result;\n  }\n  static async decompressToBuffer(data) {\n    const decompressed = await _NVUtilities.decompress(data);\n    return decompressed.buffer.slice(decompressed.byteOffset, decompressed.byteOffset + decompressed.byteLength);\n  }\n  static async readMatV4(buffer, isReplaceDots = false) {\n    let len = buffer.byteLength;\n    if (len < 40) {\n      throw new Error(\"File too small to be MAT v4: bytes = \" + buffer.byteLength);\n    }\n    let reader = new DataView(buffer);\n    let magic = reader.getUint16(0, true);\n    let _buffer = buffer;\n    if (magic === 35615 || magic === 8075) {\n      const raw = await this.decompress(new Uint8Array(buffer));\n      reader = new DataView(raw.buffer);\n      magic = reader.getUint16(0, true);\n      _buffer = raw.buffer;\n      len = _buffer.byteLength;\n    }\n    const textDecoder = new TextDecoder(\"utf-8\");\n    const bytes = new Uint8Array(_buffer);\n    let pos = 0;\n    const mat = {};\n    function getTensDigit(v) {\n      return Math.floor(v / 10) % 10;\n    }\n    function readArray(tagDataType, tagBytesStart, tagBytesEnd) {\n      const byteArray = new Uint8Array(bytes.subarray(tagBytesStart, tagBytesEnd));\n      if (tagDataType === 1) {\n        return new Float32Array(byteArray.buffer);\n      }\n      if (tagDataType === 2) {\n        return new Int32Array(byteArray.buffer);\n      }\n      if (tagDataType === 3) {\n        return new Int16Array(byteArray.buffer);\n      }\n      if (tagDataType === 4) {\n        return new Uint16Array(byteArray.buffer);\n      }\n      if (tagDataType === 5) {\n        return new Uint8Array(byteArray.buffer);\n      }\n      return new Float64Array(byteArray.buffer);\n    }\n    function readTag2() {\n      const mtype = reader.getUint32(pos, true);\n      const mrows = reader.getUint32(pos + 4, true);\n      const ncols = reader.getUint32(pos + 8, true);\n      const imagf = reader.getUint32(pos + 12, true);\n      const namlen = reader.getUint32(pos + 16, true);\n      pos += 20;\n      if (imagf !== 0) {\n        throw new Error(\"Matlab V4 reader does not support imaginary numbers\");\n      }\n      const tagArrayItems = mrows * ncols;\n      if (tagArrayItems < 1) {\n        throw new Error(\"mrows * ncols must be greater than one\");\n      }\n      const byteArray = new Uint8Array(bytes.subarray(pos, pos + namlen));\n      let tagName = textDecoder.decode(byteArray).trim().replaceAll(\"\\0\", \"\");\n      if (isReplaceDots) {\n        tagName = tagName.replaceAll(\".\", \"_\");\n      }\n      const tagDataType = getTensDigit(mtype);\n      let tagBytesPerItem = 8;\n      if (tagDataType >= 1 && tagDataType <= 2) {\n        tagBytesPerItem = 4;\n      } else if (tagDataType >= 3 && tagDataType <= 4) {\n        tagBytesPerItem = 2;\n      } else if (tagDataType === 5) {\n        tagBytesPerItem = 1;\n      } else if (tagDataType !== 0) {\n        throw new Error(\"impossible Matlab v4 datatype\");\n      }\n      pos += namlen;\n      if (mtype > 50) {\n        throw new Error(\"Does not appear to be little-endian V4 Matlab file\");\n      }\n      const posEnd = pos + tagArrayItems * tagBytesPerItem;\n      mat[tagName] = readArray(tagDataType, pos, posEnd);\n      pos = posEnd;\n    }\n    while (pos + 20 < len) {\n      readTag2();\n    }\n    return mat;\n  }\n  // readMatV4()\n  static b64toUint8(base64) {\n    const binaryString = atob(base64);\n    const length = binaryString.length;\n    const bytes = new Uint8Array(length);\n    for (let i = 0; i < length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes;\n  }\n  /*\n  https://gist.github.com/jonleighton/958841\n  MIT LICENSE\n  Copyright 2011 Jon Leighton\n  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n  */\n  static uint8tob64(bytes) {\n    let base64 = \"\";\n    const encodings = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    const byteLength = bytes.byteLength;\n    const byteRemainder = byteLength % 3;\n    const mainLength = byteLength - byteRemainder;\n    let a, b, c, d;\n    let chunk;\n    for (let i = 0; i < mainLength; i = i + 3) {\n      chunk = bytes[i] << 16 | bytes[i + 1] << 8 | bytes[i + 2];\n      a = (chunk & 16515072) >> 18;\n      b = (chunk & 258048) >> 12;\n      c = (chunk & 4032) >> 6;\n      d = chunk & 63;\n      base64 += encodings[a] + encodings[b] + encodings[c] + encodings[d];\n    }\n    if (byteRemainder === 1) {\n      chunk = bytes[mainLength];\n      a = (chunk & 252) >> 2;\n      b = (chunk & 3) << 4;\n      base64 += encodings[a] + encodings[b] + \"==\";\n    } else if (byteRemainder === 2) {\n      chunk = bytes[mainLength] << 8 | bytes[mainLength + 1];\n      a = (chunk & 64512) >> 10;\n      b = (chunk & 1008) >> 4;\n      c = (chunk & 15) << 2;\n      base64 += encodings[a] + encodings[b] + encodings[c] + \"=\";\n    }\n    return base64;\n  }\n  // https://stackoverflow.com/questions/34156282/how-do-i-save-json-to-local-text-file\n  static download(content, fileName, contentType) {\n    const a = document.createElement(\"a\");\n    const contentArray = Array.isArray(content) ? content : [content];\n    const file = new Blob(contentArray, { type: contentType });\n    a.href = URL.createObjectURL(file);\n    a.download = fileName;\n    a.click();\n  }\n  static readFileAsync(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = reject;\n      reader.readAsArrayBuffer(file);\n    });\n  }\n  static blobToBase64(blob) {\n    return new Promise((resolve) => {\n      const reader = new FileReader();\n      reader.onloadend = () => resolve(reader.result);\n      reader.readAsDataURL(blob);\n    });\n  }\n  static async decompressBase64String(base64) {\n    const compressed = atob(base64);\n    const compressedBuffer = new ArrayBuffer(compressed.length);\n    const compressedView = new Uint8Array(compressedBuffer);\n    for (let i = 0; i < compressed.length; i++) {\n      compressedView[i] = compressed.charCodeAt(i);\n    }\n    return _NVUtilities.decompressArrayBuffer(compressedView);\n  }\n  static async compressToBase64String(string) {\n    const buf = await _NVUtilities.compressStringToArrayBuffer(string);\n    return _NVUtilities.uint8tob64(new Uint8Array(buf));\n  }\n  /**\n   * Converts a string into a Uint8Array for use with compression/decompression methods (101arrowz/fflate: MIT License)\n   * @param str The string to encode\n   * @param latin1 Whether or not to interpret the data as Latin-1. This should\n   *               not need to be true unless decoding a binary string.\n   * @returns The string encoded in UTF-8/Latin-1 binary\n   */\n  static strToU8(str, latin1) {\n    if (latin1) {\n      const ar2 = new Uint8Array(str.length);\n      for (let i = 0; i < str.length; ++i) {\n        ar2[i] = str.charCodeAt(i);\n      }\n      return ar2;\n    }\n    const l = str.length;\n    const slc = (v, s, e) => {\n      if (s == null || s < 0) {\n        s = 0;\n      }\n      if (e == null || e > v.length) {\n        e = v.length;\n      }\n      return new Uint8Array(v.subarray(s, e));\n    };\n    let ar = new Uint8Array(str.length + (str.length >> 1));\n    let ai = 0;\n    const w = (v) => {\n      ar[ai++] = v;\n    };\n    for (let i = 0; i < l; ++i) {\n      if (ai + 5 > ar.length) {\n        const n = new Uint8Array(ai + 8 + (l - i << 1));\n        n.set(ar);\n        ar = n;\n      }\n      let c = str.charCodeAt(i);\n      if (c < 128 || latin1) {\n        w(c);\n      } else if (c < 2048) {\n        w(192 | c >> 6);\n        w(128 | c & 63);\n      } else if (c > 55295 && c < 57344) {\n        c = 65536 + (c & 1023 << 10) | str.charCodeAt(++i) & 1023;\n        w(240 | c >> 18);\n        w(128 | c >> 12 & 63);\n        w(128 | c >> 6 & 63);\n        w(128 | c & 63);\n      } else {\n        c = 65536 + (c & 1023 << 10) | str.charCodeAt(++i) & 1023;\n        w(240 | c >> 18);\n        w(128 | c >> 12 & 63);\n        w(128 | c >> 6 & 63);\n        w(128 | c & 63);\n      }\n    }\n    return slc(ar, 0, ai);\n  }\n  static async compress(data, format = \"gzip\") {\n    const stream = new CompressionStream(format);\n    const writer = stream.writable.getWriter();\n    writer.write(data).catch(console.error);\n    const closePromise = writer.close().catch(console.error);\n    const response = new Response(stream.readable);\n    const result = await response.arrayBuffer();\n    await closePromise;\n    return result;\n  }\n  static async compressStringToArrayBuffer(input) {\n    const uint8Array = this.strToU8(input);\n    return await this.compress(uint8Array);\n  }\n  static isArrayBufferCompressed(buffer) {\n    if (buffer && buffer.byteLength) {\n      const arr = new Uint8Array(buffer);\n      const magicNumber = arr[0] << 8 | arr[1];\n      return magicNumber === 8075;\n    } else {\n      return false;\n    }\n  }\n  /**\n   * Converts a Uint8Array to a string (101arrowz/fflate: MIT License)\n   * @param dat The data to decode to string\n   * @param latin1 Whether or not to interpret the data as Latin-1. This should\n   *               not need to be true unless encoding to binary string.\n   * @returns The original UTF-8/Latin-1 string\n   */\n  static strFromU8(dat, latin1) {\n    if (latin1) {\n      let r = \"\";\n      for (let i = 0; i < dat.length; i += 16384) {\n        r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n      }\n      return r;\n    } else {\n      const slc = (v, s2, e) => {\n        if (s2 == null || s2 < 0) {\n          s2 = 0;\n        }\n        if (e == null || e > v.length) {\n          e = v.length;\n        }\n        return new Uint8Array(v.subarray(s2, e));\n      };\n      const dutf8 = (d) => {\n        for (let r2 = \"\", i = 0; ; ) {\n          let c = d[i++];\n          const eb = (c > 127) + (c > 223) + (c > 239);\n          if (i + eb > d.length) {\n            return { s: r2, r: slc(d, i - 1) };\n          }\n          if (!eb) {\n            r2 += String.fromCharCode(c);\n          } else if (eb === 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | d[i++] & 63) - 65536;\n            r2 += String.fromCharCode(55296 | c >> 10, 56320 | c & 1023);\n          } else if (eb & 1) {\n            r2 += String.fromCharCode((c & 31) << 6 | d[i++] & 63);\n          } else {\n            r2 += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | d[i++] & 63);\n          }\n        }\n      };\n      const { s, r } = dutf8(dat);\n      if (r.length) {\n        throw new Error(\"Unexpected trailing bytes in UTF-8 decoding\");\n      }\n      return s;\n    }\n  }\n  static async decompressArrayBuffer(buffer) {\n    const decompressed = await this.decompress(new Uint8Array(buffer));\n    return this.strFromU8(decompressed);\n  }\n  static arraysAreEqual(a, b) {\n    return arrayEqual(a, b);\n  }\n  /**\n   * Generate a pre-filled number array.\n   *\n   * @param start - start value\n   * @param stop - stop value\n   * @param step - step value\n   * @returns filled number array\n   */\n  static range(start, stop, step) {\n    return Array.from({ length: (stop - start) / step + 1 }, (_, i) => start + i * step);\n  }\n  /**\n   * convert spherical AZIMUTH, ELEVATION to Cartesian\n   * @param azimuth - azimuth number\n   * @param elevation - elevation number\n   * @returns the converted [x, y, z] coordinates\n   * @example\n   * xyz = NVUtilities.sph2cartDeg(42, 42)\n   */\n  static sph2cartDeg(azimuth, elevation) {\n    const Phi = -elevation * (Math.PI / 180);\n    const Theta = (azimuth - 90) % 360 * (Math.PI / 180);\n    const ret = [Math.cos(Phi) * Math.cos(Theta), Math.cos(Phi) * Math.sin(Theta), Math.sin(Phi)];\n    const len = Math.sqrt(ret[0] * ret[0] + ret[1] * ret[1] + ret[2] * ret[2]);\n    if (len <= 0) {\n      return ret;\n    }\n    ret[0] /= len;\n    ret[1] /= len;\n    ret[2] /= len;\n    return ret;\n  }\n  static vox2mm(XYZ, mtx) {\n    const sform = mat42.clone(mtx);\n    mat42.transpose(sform, sform);\n    const pos = vec42.fromValues(XYZ[0], XYZ[1], XYZ[2], 1);\n    vec42.transformMat4(pos, pos, sform);\n    const pos3 = vec33.fromValues(pos[0], pos[1], pos[2]);\n    return pos3;\n  }\n};\n\n// src/nvmesh-loaders.ts\nvar utiltiesLogger = log;\nvar NVMeshLoaders = class _NVMeshLoaders {\n  // read undocumented AFNI tract.niml format streamlines\n  static readTRACT(buffer) {\n    const len = buffer.byteLength;\n    if (len < 20) {\n      throw new Error(\"File too small to be niml.tract: bytes = \" + len);\n    }\n    const reader = new DataView(buffer);\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    function readStr() {\n      while (pos < len && bytes[pos] !== 60) {\n        pos++;\n      }\n      const startPos = pos;\n      while (pos < len && bytes[pos] !== 62) {\n        pos++;\n      }\n      pos++;\n      if (pos - startPos < 1) {\n        return \"\";\n      }\n      return new TextDecoder().decode(buffer.slice(startPos, pos - 1)).trim();\n    }\n    let line = readStr();\n    function readNumericTag(TagName) {\n      const pos2 = line.indexOf(TagName);\n      if (pos2 < 0) {\n        return 0;\n      }\n      const spos = line.indexOf('\"', pos2) + 1;\n      const epos = line.indexOf('\"', spos);\n      const str = line.slice(spos, epos);\n      return parseInt(str);\n    }\n    const n_tracts = readNumericTag(\"N_tracts=\");\n    if (!line.startsWith(\"<network\") || n_tracts < 1) {\n      log.warn(\"This is not a valid niml.tract file \" + line);\n    }\n    let npt = 0;\n    const offsetPt0 = [];\n    offsetPt0.push(npt);\n    const pts = [];\n    const bundleTags = [];\n    for (let t = 0; t < n_tracts; t++) {\n      line = readStr();\n      const new_tracts = readNumericTag(\"ni_dimen=\");\n      const bundleTag = readNumericTag(\"Bundle_Tag=\");\n      const isLittleEndian = line.includes(\"binary.lsbfirst\");\n      for (let i = 0; i < new_tracts; i++) {\n        pos += 4;\n        const new_pts = reader.getUint32(pos, isLittleEndian) / 3;\n        pos += 4;\n        for (let j = 0; j < new_pts; j++) {\n          pts.push(reader.getFloat32(pos, isLittleEndian));\n          pos += 4;\n          pts.push(-reader.getFloat32(pos, isLittleEndian));\n          pos += 4;\n          pts.push(reader.getFloat32(pos, isLittleEndian));\n          pos += 4;\n        }\n        npt += new_pts;\n        offsetPt0.push(npt);\n        bundleTags.push(bundleTag);\n      }\n      line = readStr();\n    }\n    const dps = [];\n    dps.push({\n      id: \"tract\",\n      vals: Float32Array.from(bundleTags)\n    });\n    return {\n      pts: new Float32Array(pts),\n      offsetPt0: new Uint32Array(offsetPt0),\n      dps\n    };\n  }\n  // readTRACT()\n  // https://dsi-studio.labsolver.org/doc/cli_data.html\n  // https://brain.labsolver.org/hcp_trk_atlas.html\n  static async readTT(buffer) {\n    let offsetPt0 = new Uint32Array(0);\n    let pts = new Float32Array(0);\n    const mat = await NVUtilities.readMatV4(buffer);\n    if (!(\"trans_to_mni\" in mat)) {\n      throw new Error(\"TT format file must have 'trans_to_mni'\");\n    }\n    if (!(\"voxel_size\" in mat)) {\n      throw new Error(\"TT format file must have 'voxel_size'\");\n    }\n    if (!(\"track\" in mat)) {\n      throw new Error(\"TT format file must have 'track'\");\n    }\n    let trans_to_mni = mat43.create();\n    const m = mat.trans_to_mni;\n    trans_to_mni = mat43.fromValues(\n      m[0],\n      m[1],\n      m[2],\n      m[3],\n      m[4],\n      m[5],\n      m[6],\n      m[7],\n      m[8],\n      m[9],\n      m[10],\n      m[11],\n      m[12],\n      m[13],\n      m[14],\n      m[15]\n    );\n    mat43.transpose(trans_to_mni, trans_to_mni);\n    function parse_tt(track) {\n      const dv = new DataView(track.buffer);\n      const pos = [];\n      let nvert3 = 0;\n      let i = 0;\n      while (i < track.length) {\n        pos.push(i);\n        const newpts = dv.getUint32(i, true);\n        i = i + newpts + 13;\n        nvert3 += newpts;\n      }\n      offsetPt0 = new Uint32Array(pos.length + 1);\n      pts = new Float32Array(nvert3);\n      let npt = 0;\n      for (let i2 = 0; i2 < pos.length; i2++) {\n        offsetPt0[i2] = npt / 3;\n        let p = pos[i2];\n        const sz = dv.getUint32(p, true) / 3;\n        let x = dv.getInt32(p + 4, true);\n        let y = dv.getInt32(p + 8, true);\n        let z = dv.getInt32(p + 12, true);\n        p += 16;\n        pts[npt++] = x;\n        pts[npt++] = y;\n        pts[npt++] = z;\n        for (let j = 2; j <= sz; j++) {\n          x = x + dv.getInt8(p++);\n          y = y + dv.getInt8(p++);\n          z = z + dv.getInt8(p++);\n          pts[npt++] = x;\n          pts[npt++] = y;\n          pts[npt++] = z;\n        }\n      }\n      for (let i2 = 0; i2 < npt; i2++) {\n        pts[i2] = pts[i2] / 32;\n      }\n      let v = 0;\n      for (let i2 = 0; i2 < npt / 3; i2++) {\n        const pos2 = vec43.fromValues(pts[v], pts[v + 1], pts[v + 2], 1);\n        vec43.transformMat4(pos2, pos2, trans_to_mni);\n        pts[v++] = pos2[0];\n        pts[v++] = pos2[1];\n        pts[v++] = pos2[2];\n      }\n      offsetPt0[pos.length] = npt / 3;\n    }\n    parse_tt(mat.track);\n    return {\n      pts,\n      offsetPt0\n    };\n  }\n  // readTT\n  /**\n   * Assemble dpg from a map-of-groups into a ValuesArray ordered by groups[].\n   *\n   * @param dpgMap - map from groupId -> ValuesArray (entries for that group)\n   * @param groups - ValuesArray describing groups; groups[i].id defines the ordering\n   * @returns ValuesArray - one entry per tag where vals is the concatenation of each group's vals in groups[] order\n   *\n   * @throws Error when:\n   *  - groups is empty or missing\n   *  - any group in groups is missing from dpgMap\n   *  - any group contains duplicate entries for a tag\n   *  - tag coverage differs between groups (missing tag in any group)\n   *  - any entry has invalid/unconvertible vals\n   */\n  static assembleDpgFromMap(dpgMap, groups) {\n    if (!Array.isArray(groups) || groups.length === 0) {\n      throw new Error('assembleDpgFromMap: \"groups\" is empty or missing; cannot assemble dpg.');\n    }\n    for (let gi = 0; gi < groups.length; gi++) {\n      const gid = String(groups[gi].id);\n      if (!dpgMap[gid]) {\n        throw new Error(`assembleDpgFromMap: missing dpgMap entry for group \"${gid}\".`);\n      }\n      if (!Array.isArray(dpgMap[gid])) {\n        throw new Error(`assembleDpgFromMap: dpgMap[\"${gid}\"] is not an array.`);\n      }\n    }\n    const firstGroupId = String(groups[0].id);\n    const firstEntries = dpgMap[firstGroupId];\n    const tagOrder = [];\n    const tagSet = /* @__PURE__ */ new Set();\n    for (const e of firstEntries) {\n      if (!e || typeof e.id !== \"string\") {\n        throw new Error(`assembleDpgFromMap: invalid entry in group \"${firstGroupId}\".`);\n      }\n      if (tagSet.has(e.id)) {\n        throw new Error(`assembleDpgFromMap: duplicate tag \"${e.id}\" in group \"${firstGroupId}\".`);\n      }\n      tagSet.add(e.id);\n      tagOrder.push(e.id);\n    }\n    if (tagSet.size === 0) {\n      throw new Error(`assembleDpgFromMap: no tags found in group \"${firstGroupId}\".`);\n    }\n    for (let gi = 1; gi < groups.length; gi++) {\n      const gid = String(groups[gi].id);\n      const entries = dpgMap[gid];\n      const idsSeen = /* @__PURE__ */ new Map();\n      for (const e of entries) {\n        if (!e || typeof e.id !== \"string\") {\n          throw new Error(`assembleDpgFromMap: invalid entry in group \"${gid}\".`);\n        }\n        idsSeen.set(e.id, (idsSeen.get(e.id) || 0) + 1);\n      }\n      for (const [id, count] of idsSeen.entries()) {\n        if (count > 1) {\n          throw new Error(`assembleDpgFromMap: multiple entries for tag \"${id}\" in group \"${gid}\".`);\n        }\n      }\n      if (idsSeen.size !== tagSet.size) {\n        throw new Error(\n          `assembleDpgFromMap: tag coverage mismatch for group \"${gid}\". Expected ${tagSet.size} tags but found ${idsSeen.size}.`\n        );\n      }\n      for (const t of tagSet) {\n        if (!idsSeen.has(t)) {\n          throw new Error(`assembleDpgFromMap: group \"${gid}\" missing tag \"${t}\".`);\n        }\n      }\n    }\n    const result = [];\n    for (const tag of tagOrder) {\n      const perGroupArrays = [];\n      let totalLen = 0;\n      for (let gi = 0; gi < groups.length; gi++) {\n        const gid = String(groups[gi].id);\n        const entries = dpgMap[gid];\n        const matches = entries.filter((e) => e.id === tag);\n        if (matches.length === 0) {\n          throw new Error(`assembleDpgFromMap: missing tag \"${tag}\" for group \"${gid}\".`);\n        }\n        if (matches.length > 1) {\n          throw new Error(`assembleDpgFromMap: multiple entries for tag \"${tag}\" in group \"${gid}\".`);\n        }\n        const entry = matches[0];\n        if (entry.vals instanceof Float32Array) {\n          perGroupArrays.push(entry.vals);\n          totalLen += entry.vals.length;\n        } else {\n          try {\n            const conv = Float32Array.from(entry.vals);\n            perGroupArrays.push(conv);\n            totalLen += conv.length;\n          } catch (err) {\n            throw new Error(`assembleDpgFromMap: invalid vals for tag \"${tag}\" in group \"${gid}\".`);\n          }\n        }\n      }\n      const merged = new Float32Array(totalLen);\n      let off = 0;\n      for (const arr of perGroupArrays) {\n        merged.set(arr, off);\n        off += arr.length;\n      }\n      result.push({\n        id: tag,\n        vals: merged\n        // Note: global_min/global_max/cal_min/cal_max are not computed here.\n        // If you want to propagate or compute them, add logic to compute per-tag aggregated values.\n      });\n    }\n    return result;\n  }\n  // read TRX format tractogram\n  // https://github.com/tee-ar-ex/trx-spec/blob/master/specifications.md\n  static async readTRX(buffer) {\n    function decodeFloat16(binary) {\n      \"use strict\";\n      const exponent = (binary & 31744) >> 10;\n      const fraction = binary & 1023;\n      return (binary >> 15 ? -1 : 1) * (exponent ? exponent === 31 ? fraction ? NaN : Infinity : Math.pow(2, exponent - 15) * (1 + fraction / 1024) : 6103515625e-14 * (fraction / 1024));\n    }\n    let noff = 0;\n    let npt = 0;\n    let pts = new Float32Array([]);\n    const offsetPt0 = [];\n    const dpgMap = {};\n    const groups = [];\n    const dps = [];\n    const dpv = [];\n    let header = [];\n    let isOverflowUint64 = false;\n    const zip = new Zip(buffer);\n    for (let i = 0; i < zip.entries.length; i++) {\n      const entry = zip.entries[i];\n      if (entry.uncompressedSize === 0) {\n        continue;\n      }\n      const parts = entry.fileName.split(\"/\");\n      const fname = parts.slice(-1)[0];\n      if (fname.startsWith(\".\")) {\n        continue;\n      }\n      const dname = parts.slice(-3)[0];\n      const pname = parts.slice(-2)[0];\n      const tag = fname.split(\".\")[0];\n      const data = await entry.extract();\n      if (fname.includes(\"header.json\")) {\n        const jsonString = new TextDecoder().decode(data);\n        header = JSON.parse(jsonString);\n        continue;\n      }\n      let nval = 0;\n      let vals = [];\n      if (fname.endsWith(\".uint64\") || fname.endsWith(\".int64\")) {\n        nval = data.length / 8;\n        vals = new Uint32Array(nval);\n        const u32 = new Uint32Array(data.buffer);\n        let j = 0;\n        for (let i2 = 0; i2 < nval; i2++) {\n          vals[i2] = u32[j];\n          if (u32[j + 1] !== 0) {\n            isOverflowUint64 = true;\n          }\n          j += 2;\n        }\n      } else if (fname.endsWith(\".uint32\")) {\n        vals = new Uint32Array(data.buffer);\n      } else if (fname.endsWith(\".uint16\")) {\n        vals = new Uint16Array(data.buffer);\n      } else if (fname.endsWith(\".uint8\")) {\n        vals = new Uint8Array(data.buffer);\n      } else if (fname.endsWith(\".int32\")) {\n        vals = new Int32Array(data.buffer);\n      } else if (fname.endsWith(\".int16\")) {\n        vals = new Int16Array(data.buffer);\n      } else if (fname.endsWith(\".int8\")) {\n        vals = new Int8Array(data.buffer);\n      } else if (fname.endsWith(\".float64\")) {\n        vals = new Float64Array(data.buffer);\n      } else if (fname.endsWith(\".float32\")) {\n        vals = new Float32Array(data.buffer);\n      } else if (fname.endsWith(\".float16\")) {\n        nval = data.length / 2;\n        vals = new Float32Array(nval);\n        const u16 = new Uint16Array(data.buffer);\n        const lut = new Float32Array(65536);\n        for (let i2 = 0; i2 < 65536; i2++) {\n          lut[i2] = decodeFloat16(i2);\n        }\n        for (let i2 = 0; i2 < nval; i2++) {\n          vals[i2] = lut[u16[i2]];\n        }\n      } else {\n        continue;\n      }\n      nval = vals.length;\n      if (pname.includes(\"groups\")) {\n        groups.push({\n          id: tag,\n          vals: Float32Array.from(vals.slice())\n        });\n        continue;\n      }\n      if (dname.includes(\"dpg\")) {\n        const key = String(pname);\n        if (!dpgMap[key]) {\n          dpgMap[key] = [];\n        }\n        dpgMap[key].push({\n          id: tag,\n          vals: Float32Array.from(vals.slice())\n        });\n        continue;\n      }\n      if (pname.includes(\"dpv\")) {\n        dpv.push({\n          id: tag,\n          vals: Float32Array.from(vals.slice())\n        });\n        continue;\n      }\n      if (pname.includes(\"dps\")) {\n        dps.push({\n          id: tag,\n          vals: Float32Array.from(vals.slice())\n        });\n        continue;\n      }\n      if (fname.startsWith(\"offsets.\")) {\n        noff = nval;\n        for (let i2 = 0; i2 < nval; i2++) {\n          offsetPt0[i2] = vals[i2];\n        }\n      }\n      if (fname.startsWith(\"positions.3.\")) {\n        npt = nval;\n        pts = new Float32Array(vals);\n      }\n    }\n    if (noff === 0 || npt === 0) {\n      throw new Error(\"Failure reading TRX format (no offsets or points).\");\n    }\n    if (isOverflowUint64) {\n      throw new Error(\"Too many vertices: JavaScript does not support 64 bit integers\");\n    }\n    let dpg = [];\n    if (groups.length > 0 && dpgMap && Object.keys(dpgMap).length > 0) {\n      dpg = this.assembleDpgFromMap(dpgMap, groups);\n    }\n    offsetPt0[noff] = npt / 3;\n    return {\n      pts,\n      offsetPt0: new Uint32Array(offsetPt0),\n      dpg,\n      dps,\n      dpv,\n      groups,\n      header\n    };\n  }\n  // readTRX()\n  // issue1426 MRtrix data per streamline as ASCII text\n  static readTXT(buffer, n_count = 0) {\n    const text = new TextDecoder(\"utf-8\").decode(buffer);\n    const lines = text.split(/\\r?\\n|\\r/).filter((l) => l.trim().length > 0);\n    if (n_count <= 0) {\n      n_count = lines.length;\n    }\n    const vals = new Float32Array(n_count);\n    for (let i = 0; i < n_count && i < lines.length; i++) {\n      const v = parseFloat(lines[i].trim());\n      vals[i] = Number.isFinite(v) ? v : 0;\n    }\n    return vals;\n  }\n  // read mrtrix tsf format Track Scalar Files - these are are DPV\n  // https://mrtrix.readthedocs.io/en/dev/getting_started/image_data.html#track-scalar-file-format-tsf\n  static readTSF(buffer, n_vert = 0) {\n    const vals = new Float32Array(n_vert);\n    const len = buffer.byteLength;\n    if (len < 20) {\n      throw new Error(\"File too small to be TSF: bytes = \" + len);\n    }\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    function readStr() {\n      while (pos < len && bytes[pos] === 10) {\n        pos++;\n      }\n      const startPos = pos;\n      while (pos < len && bytes[pos] !== 10) {\n        pos++;\n      }\n      pos++;\n      if (pos - startPos < 1) {\n        return \"\";\n      }\n      return new TextDecoder().decode(buffer.slice(startPos, pos - 1));\n    }\n    let line = readStr();\n    if (!line.includes(\"mrtrix track scalars\")) {\n      throw new Error(\"Not a valid TSF file\");\n    }\n    let offset = -1;\n    while (pos < len && !line.includes(\"END\")) {\n      line = readStr();\n      if (line.toLowerCase().startsWith(\"file:\")) {\n        offset = parseInt(line.split(\" \").pop());\n      }\n      if (line.toLowerCase().startsWith(\"datatype:\") && !line.endsWith(\"Float32LE\")) {\n        throw new Error(\"Only supports TSF files with Float32LE\");\n      }\n    }\n    if (offset < 20) {\n      throw new Error(\"Not a valid TSF file (missing file offset)\");\n    }\n    pos = offset;\n    const reader = new DataView(buffer);\n    let npt = 0;\n    while (pos + 4 <= len && npt < n_vert) {\n      const ptx = reader.getFloat32(pos, true);\n      pos += 4;\n      if (!isFinite(ptx)) {\n        if (!isNaN(ptx)) {\n          break;\n        }\n      } else {\n        vals[npt++] = ptx;\n      }\n    }\n    return vals;\n  }\n  // readTSF\n  // read mrtrix tck format streamlines\n  // https://mrtrix.readthedocs.io/en/latest/getting_started/image_data.html#tracks-file-format-tck\n  static readTCK(buffer) {\n    const len = buffer.byteLength;\n    if (len < 20) {\n      throw new Error(\"File too small to be TCK: bytes = \" + len);\n    }\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    function readStr() {\n      while (pos < len && bytes[pos] === 10) {\n        pos++;\n      }\n      const startPos = pos;\n      while (pos < len && bytes[pos] !== 10) {\n        pos++;\n      }\n      pos++;\n      if (pos - startPos < 1) {\n        return \"\";\n      }\n      return new TextDecoder().decode(buffer.slice(startPos, pos - 1));\n    }\n    let line = readStr();\n    if (!line.includes(\"mrtrix tracks\")) {\n      throw new Error(\"Not a valid TCK file\");\n    }\n    let offset = -1;\n    while (pos < len && !line.includes(\"END\")) {\n      line = readStr();\n      if (line.toLowerCase().startsWith(\"file:\")) {\n        offset = parseInt(line.split(\" \").pop());\n      }\n    }\n    if (offset < 20) {\n      throw new Error(\"Not a valid TCK file (missing file offset)\");\n    }\n    pos = offset;\n    const reader = new DataView(buffer);\n    let npt = 0;\n    let offsetPt0 = new Uint32Array(len / (4 * 4));\n    let noffset = 0;\n    let npt3 = 0;\n    let pts = new Float32Array(len / 4);\n    offsetPt0[0] = 0;\n    while (pos + 12 < len) {\n      const ptx = reader.getFloat32(pos, true);\n      pos += 4;\n      const pty = reader.getFloat32(pos, true);\n      pos += 4;\n      const ptz = reader.getFloat32(pos, true);\n      pos += 4;\n      if (!isFinite(ptx)) {\n        offsetPt0[noffset++] = npt;\n        if (!isNaN(ptx)) {\n          break;\n        }\n      } else {\n        pts[npt3++] = ptx;\n        pts[npt3++] = pty;\n        pts[npt3++] = ptz;\n        npt++;\n      }\n    }\n    pts = pts.slice(0, npt3);\n    offsetPt0 = offsetPt0.slice(0, noffset);\n    return {\n      pts,\n      offsetPt0\n    };\n  }\n  // readTCK()\n  // not included in public docs\n  // read trackvis trk format streamlines\n  // http://trackvis.org/docs/?subsect=fileformat\n  static async readTRK(buffer) {\n    let reader = new DataView(buffer);\n    let magic = reader.getUint32(0, true);\n    if (magic !== 1128354388) {\n      let raw;\n      if (magic === 4247762216) {\n        throw new Error(\"zstd TRK decompression is not supported\");\n      } else {\n        raw = await NVUtilities.decompress(new Uint8Array(buffer));\n      }\n      buffer = raw.buffer;\n      reader = new DataView(buffer);\n      magic = reader.getUint32(0, true);\n    }\n    const vers = reader.getUint32(992, true);\n    const hdr_sz = reader.getUint32(996, true);\n    if (vers > 2 || hdr_sz !== 1e3 || magic !== 1128354388) {\n      throw new Error(\"Not a valid TRK file\");\n    }\n    const n_scalars = reader.getInt16(36, true);\n    const dpv = [];\n    for (let i2 = 0; i2 < n_scalars; i2++) {\n      const arr = new Uint8Array(buffer.slice(38 + i2 * 20, 58 + i2 * 20));\n      const str = new TextDecoder().decode(arr).split(\"\\0\").shift();\n      dpv.push({\n        id: str.trim(),\n        // TODO can we guarantee this?\n        vals: []\n      });\n    }\n    const voxel_sizeX = reader.getFloat32(12, true);\n    const voxel_sizeY = reader.getFloat32(16, true);\n    const voxel_sizeZ = reader.getFloat32(20, true);\n    const zoomMat = mat43.fromValues(\n      1 / voxel_sizeX,\n      0,\n      0,\n      -0.5,\n      0,\n      1 / voxel_sizeY,\n      0,\n      -0.5,\n      0,\n      0,\n      1 / voxel_sizeZ,\n      -0.5,\n      0,\n      0,\n      0,\n      1\n    );\n    const n_properties = reader.getInt16(238, true);\n    const dps = [];\n    for (let i2 = 0; i2 < n_properties; i2++) {\n      const arr = new Uint8Array(buffer.slice(240 + i2 * 20, 260 + i2 * 20));\n      const str = new TextDecoder().decode(arr).split(\"\\0\").shift();\n      dps.push({\n        id: str.trim(),\n        // TODO can we guarantee this?\n        vals: []\n      });\n    }\n    const mat = mat43.create();\n    for (let i2 = 0; i2 < 16; i2++) {\n      mat[i2] = reader.getFloat32(440 + i2 * 4, true);\n    }\n    if (mat[15] === 0) {\n      log.warn(\"TRK vox_to_ras not set\");\n      mat43.identity(mat);\n    }\n    const vox2mmMat = mat43.create();\n    mat43.mul(vox2mmMat, zoomMat, mat);\n    let i32 = null;\n    let f32 = null;\n    i32 = new Int32Array(buffer.slice(hdr_sz));\n    f32 = new Float32Array(i32.buffer);\n    const ntracks = i32.length;\n    if (ntracks < 1) {\n      throw new Error(\"Empty TRK file.\");\n    }\n    let i = 0;\n    let npt = 0;\n    let offsetPt0 = new Uint32Array(i32.length / 4);\n    let noffset = 0;\n    let pts = new Float32Array(i32.length);\n    let npt3 = 0;\n    while (i < ntracks) {\n      const n_pts = i32[i];\n      i = i + 1;\n      offsetPt0[noffset++] = npt;\n      for (let j = 0; j < n_pts; j++) {\n        const ptx = f32[i + 0];\n        const pty = f32[i + 1];\n        const ptz = f32[i + 2];\n        i += 3;\n        pts[npt3++] = ptx * vox2mmMat[0] + pty * vox2mmMat[1] + ptz * vox2mmMat[2] + vox2mmMat[3];\n        pts[npt3++] = ptx * vox2mmMat[4] + pty * vox2mmMat[5] + ptz * vox2mmMat[6] + vox2mmMat[7];\n        pts[npt3++] = ptx * vox2mmMat[8] + pty * vox2mmMat[9] + ptz * vox2mmMat[10] + vox2mmMat[11];\n        if (n_scalars > 0) {\n          for (let s = 0; s < n_scalars; s++) {\n            dpv[s].vals.push(f32[i]);\n            i++;\n          }\n        }\n        npt++;\n      }\n      if (n_properties > 0) {\n        for (let j = 0; j < n_properties; j++) {\n          dps[j].vals.push(f32[i]);\n          i++;\n        }\n      }\n    }\n    const dps32 = [];\n    for (let i2 = 0; i2 < dps.length; i2++) {\n      dps32.push({\n        id: dps[i2].id,\n        vals: Float32Array.from(dps[i2].vals)\n      });\n    }\n    const dpv32 = [];\n    for (let i2 = 0; i2 < dpv.length; i2++) {\n      dpv32.push({\n        id: dpv[i2].id,\n        vals: Float32Array.from(dpv[i2].vals)\n      });\n    }\n    offsetPt0[noffset++] = npt;\n    pts = pts.slice(0, npt3);\n    offsetPt0 = offsetPt0.slice(0, noffset);\n    return {\n      pts,\n      offsetPt0,\n      dps: dps32,\n      dpv: dpv32\n    };\n  }\n  // readTRK()\n  // read legacy VTK text format file\n  static readTxtVTK(buffer) {\n    const enc = new TextDecoder(\"utf-8\");\n    const txt = enc.decode(buffer);\n    const lines = txt.split(\"\\n\");\n    const n = lines.length;\n    if (n < 7 || !lines[0].startsWith(\"# vtk DataFile\")) {\n      throw new Error(\"Invalid VTK image\");\n    }\n    if (!lines[2].startsWith(\"ASCII\")) {\n      throw new Error(\"Not ASCII VTK mesh\");\n    }\n    let pos = 3;\n    while (lines[pos].length < 1) {\n      pos++;\n    }\n    if (!lines[pos].includes(\"POLYDATA\")) {\n      throw new Error(\"Not ASCII VTK polydata\");\n    }\n    pos++;\n    while (lines[pos].length < 1) {\n      pos++;\n    }\n    if (!lines[pos].startsWith(\"POINTS\")) {\n      throw new Error(\"Not VTK POINTS\");\n    }\n    let items = lines[pos].trim().split(/\\s+/);\n    const nvert = parseInt(items[1]);\n    const nvert3 = nvert * 3;\n    const positions = new Float32Array(nvert * 3);\n    let v = 0;\n    while (v < nvert * 3) {\n      pos++;\n      const str = lines[pos].trim();\n      const pts = str.trim().split(/\\s+/);\n      for (let i = 0; i < pts.length; i++) {\n        if (v >= nvert3) {\n          break;\n        }\n        positions[v] = parseFloat(pts[i]);\n        v++;\n      }\n    }\n    const tris = [];\n    pos++;\n    while (lines[pos].length < 1) {\n      pos++;\n    }\n    if (lines[pos].startsWith(\"METADATA\")) {\n      while (lines[pos].length > 1) {\n        pos++;\n      }\n      pos++;\n    }\n    items = lines[pos].trim().split(/\\s+/);\n    pos++;\n    if (items[0].includes(\"LINES\")) {\n      const n_count = parseInt(items[1]);\n      if (n_count < 1) {\n        throw new Error(\"Corrupted VTK ASCII\");\n      }\n      let str = lines[pos].trim();\n      const offsetPt0 = [];\n      let pts = [];\n      if (str.startsWith(\"OFFSETS\")) {\n        pos++;\n        let c = 0;\n        while (c < n_count) {\n          str = lines[pos].trim();\n          pos++;\n          const items2 = str.trim().split(/\\s+/);\n          for (let i = 0; i < items2.length; i++) {\n            offsetPt0[c] = parseInt(items2[i]);\n            c++;\n            if (c >= n_count) {\n              break;\n            }\n          }\n        }\n        pts = Array.from(positions);\n      } else {\n        let lineToInts = function() {\n          str = lines[pos].trim();\n          const items2 = str.trim().split(/\\s+/);\n          asciiInts = [];\n          for (let i = 0; i < items2.length; i++) {\n            asciiInts.push(parseInt(items2[i]));\n          }\n          asciiIntsPos = 0;\n          pos++;\n        };\n        let npt = 0;\n        offsetPt0[0] = 0;\n        let asciiInts = [];\n        let asciiIntsPos = 0;\n        lineToInts();\n        for (let c = 0; c < n_count; c++) {\n          if (asciiIntsPos >= asciiInts.length) {\n            lineToInts();\n          }\n          const numPoints = asciiInts[asciiIntsPos++];\n          npt += numPoints;\n          offsetPt0[c + 1] = npt;\n          for (let i = 0; i < numPoints; i++) {\n            if (asciiIntsPos >= asciiInts.length) {\n              lineToInts();\n            }\n            const idx = asciiInts[asciiIntsPos++] * 3;\n            pts.push(positions[idx + 0]);\n            pts.push(positions[idx + 1]);\n            pts.push(positions[idx + 2]);\n          }\n        }\n      }\n      return {\n        pts: Float32Array.from(pts),\n        offsetPt0: Uint32Array.from(offsetPt0)\n      };\n    } else if (items[0].includes(\"TRIANGLE_STRIPS\")) {\n      const nstrip = parseInt(items[1]);\n      for (let i = 0; i < nstrip; i++) {\n        const str = lines[pos].trim();\n        pos++;\n        const vs = str.trim().split(/\\s+/);\n        const ntri = parseInt(vs[0]) - 2;\n        let k = 1;\n        for (let t = 0; t < ntri; t++) {\n          if (t % 2) {\n            tris.push(parseInt(vs[k + 2]));\n            tris.push(parseInt(vs[k + 1]));\n            tris.push(parseInt(vs[k]));\n          } else {\n            tris.push(parseInt(vs[k]));\n            tris.push(parseInt(vs[k + 1]));\n            tris.push(parseInt(vs[k + 2]));\n          }\n          k += 1;\n        }\n      }\n    } else if (items[0].includes(\"POLYGONS\")) {\n      const npoly = parseInt(items[1]);\n      for (let i = 0; i < npoly; i++) {\n        const str = lines[pos].trim();\n        pos++;\n        const vs = str.trim().split(/\\s+/);\n        const ntri = parseInt(vs[0]) - 2;\n        const fx = parseInt(vs[1]);\n        let fy = parseInt(vs[2]);\n        for (let t = 0; t < ntri; t++) {\n          const fz = parseInt(vs[3 + t]);\n          tris.push(fx);\n          tris.push(fy);\n          tris.push(fz);\n          fy = fz;\n        }\n      }\n    } else {\n      throw new Error(\"Unsupported ASCII VTK datatype \" + items[0]);\n    }\n    const indices = new Uint32Array(tris);\n    return {\n      positions,\n      indices\n    };\n  }\n  // readTxtVTK()\n  // read mesh overlay to influence vertex colors\n  static async readLayer(name = \"\", buffer, nvmesh, opacity = 0.5, colormap = \"warm\", colormapNegative = \"winter\", useNegativeCmap = false, cal_min = null, cal_max = null, outlineBorder = 0) {\n    const layer = {\n      ...NVMeshLayerDefaults,\n      colormapInvert: false,\n      colormapType: 0,\n      // COLORMAP_TYPE.MIN_TO_MAX\n      isTransparentBelowCalMin: true,\n      isAdditiveBlend: false,\n      colorbarVisible: true,\n      colormapLabel: null\n    };\n    const isReadColortables = true;\n    const re = /(?:\\.([^.]+))?$/;\n    let ext = re.exec(name)[1];\n    ext = ext.toUpperCase();\n    if (ext === \"GZ\") {\n      ext = re.exec(name.slice(0, -3))[1];\n      ext = ext.toUpperCase();\n    }\n    const n_vert = nvmesh.vertexCount / 3;\n    if (nvmesh.offsetPt0) {\n      const splitResult = name.split(\"/\");\n      let tag = \"Unknown\";\n      if (splitResult.length > 1) {\n        const tag1 = splitResult.pop();\n        if (tag1) {\n          tag = tag.split(\".\").slice(0, -1).join(\".\");\n        }\n      }\n      if (ext === \"TXT\") {\n        const n_count = nvmesh.offsetPt0.length - 1;\n        const vals2 = _NVMeshLoaders.readTXT(buffer, n_count);\n        if (vals2.length !== n_count) {\n          throw new Error(`TXT file has ${vals2.length} items, expected one per streamline (${n_count}).`);\n        }\n        if (!nvmesh.dps) {\n          nvmesh.dps = [];\n        }\n        const mn3 = vals2.reduce((acc, current) => Math.min(acc, current));\n        const mx3 = vals2.reduce((acc, current) => Math.max(acc, current));\n        nvmesh.dps.push({\n          id: tag,\n          vals: Float32Array.from(vals2.slice()),\n          global_min: mn3,\n          global_max: mx3,\n          cal_min: mn3,\n          cal_max: mx3\n        });\n        return layer;\n      }\n      if (ext !== \"TSF\") {\n        throw new Error(\"readLayer for streamlines only supports TSF and TXT files.\");\n      }\n      const npt = nvmesh.pts.length / 3;\n      const vals = _NVMeshLoaders.readTSF(buffer, npt);\n      if (!nvmesh.dpv) {\n        nvmesh.dpv = [];\n      }\n      const mn2 = vals.reduce((acc, current) => Math.min(acc, current));\n      const mx2 = vals.reduce((acc, current) => Math.max(acc, current));\n      nvmesh.dpv.push({\n        id: tag,\n        vals: Float32Array.from(vals.slice()),\n        global_min: mn2,\n        global_max: mx2,\n        cal_min: mn2,\n        cal_max: mx2\n      });\n      return layer;\n    }\n    if (n_vert < 3) {\n      log.error(\"n_vert < 3 in layer\");\n      return;\n    }\n    if (ext === \"MZ3\") {\n      const obj = await _NVMeshLoaders.readMZ3(buffer, n_vert);\n      layer.values = obj.scalars;\n      if (\"colormapLabel\" in obj) {\n        layer.colormapLabel = obj.colormapLabel;\n      }\n    } else if (ext === \"ANNOT\") {\n      if (!isReadColortables) {\n        layer.values = _NVMeshLoaders.readANNOT(buffer, n_vert);\n      } else {\n        const obj = _NVMeshLoaders.readANNOT(buffer, n_vert, true);\n        if (!(obj instanceof Uint32Array)) {\n          layer.values = obj.scalars;\n          layer.colormapLabel = obj.colormapLabel;\n        } else {\n          layer.values = obj;\n        }\n      }\n    } else if (ext === \"CRV\" || ext === \"CURV\" || ext === \"THICKNESS\" || ext === \"AREA\") {\n      layer.values = _NVMeshLoaders.readCURV(buffer, n_vert);\n      layer.isTransparentBelowCalMin = false;\n    } else if (ext === \"GII\") {\n      const obj = await _NVMeshLoaders.readGII(buffer, n_vert);\n      layer.values = obj.scalars;\n      layer.colormapLabel = obj.colormapLabel;\n    } else if (ext === \"MGH\" || ext === \"MGZ\") {\n      if (!isReadColortables) {\n        layer.values = await _NVMeshLoaders.readMGH(buffer, n_vert);\n      } else {\n        const obj = await _NVMeshLoaders.readMGH(buffer, n_vert, true);\n        if (\"scalars\" in obj) {\n          layer.values = obj.scalars;\n          layer.colormapLabel = obj.colormapLabel;\n        } else {\n          layer.values = obj;\n        }\n      }\n    } else if (ext === \"NII\") {\n      layer.values = await _NVMeshLoaders.readNII(\n        buffer,\n        nvmesh.pts,\n        nvmesh.anatomicalStructurePrimary\n      );\n    } else if (ext === \"SMP\") {\n      layer.values = await _NVMeshLoaders.readSMP(buffer, n_vert);\n    } else if (ext === \"STC\") {\n      layer.values = _NVMeshLoaders.readSTC(buffer, n_vert);\n    } else if (_NVMeshLoaders.isCurv(buffer)) {\n      layer.values = _NVMeshLoaders.readCURV(buffer, n_vert);\n      layer.isTransparentBelowCalMin = false;\n    } else {\n      log.warn(\"Unknown layer overlay format \" + name);\n      return layer;\n    }\n    if (!layer.values) {\n      log.error(\"no values in layer\");\n      return;\n    }\n    layer.nFrame4D = layer.values.length / n_vert;\n    layer.frame4D = 0;\n    layer.outlineBorder = outlineBorder;\n    let mn = layer.values[0];\n    let mx = layer.values[0];\n    for (let i = 0; i < layer.values.length; i++) {\n      mn = Math.min(mn, layer.values[i]);\n      mx = Math.max(mx, layer.values[i]);\n    }\n    layer.global_min = mn;\n    layer.global_max = mx;\n    layer.cal_min = cal_min || 0;\n    if (!cal_min) {\n      layer.cal_min = mn;\n    }\n    layer.cal_max = cal_max || 0;\n    if (!cal_max) {\n      layer.cal_max = mx;\n    }\n    layer.cal_minNeg = NaN;\n    layer.cal_maxNeg = NaN;\n    layer.opacity = opacity;\n    layer.colormap = colormap;\n    layer.colormapNegative = colormapNegative;\n    layer.useNegativeCmap = useNegativeCmap;\n    return layer;\n  }\n  // readLayer()\n  // read brainvoyager smp format file\n  // https://support.brainvoyager.com/brainvoyager/automation-development/84-file-formats/40-the-format-of-smp-files\n  static async readSMP(buffer, n_vert) {\n    const len = buffer.byteLength;\n    let reader = new DataView(buffer);\n    let vers = reader.getUint16(0, true);\n    if (vers > 5) {\n      const raw = await NVUtilities.decompress(new Uint8Array(buffer));\n      reader = new DataView(raw.buffer);\n      vers = reader.getUint16(0, true);\n      buffer = raw.buffer;\n    }\n    if (vers > 5) {\n      log.error(\"Unsupported or invalid BrainVoyager SMP version \" + vers);\n    }\n    const nvert = reader.getUint32(2, true);\n    if (nvert !== n_vert) {\n      log.error(\"SMP file has \" + nvert + \" vertices, background mesh has \" + n_vert);\n    }\n    const nMaps = reader.getUint16(6, true);\n    const scalars = new Float32Array(nvert * nMaps);\n    const maps = [];\n    let pos = 9;\n    function readStr() {\n      const startPos = pos;\n      while (pos < len && reader.getUint8(pos) !== 0) {\n        pos++;\n      }\n      pos++;\n      return new TextDecoder().decode(buffer.slice(startPos, pos - 1));\n    }\n    const _filenameSRF = readStr();\n    for (let i = 0; i < nMaps; i++) {\n      const m = {};\n      m.mapType = reader.getUint32(pos, true);\n      pos += 4;\n      if (vers >= 3 && m.mapType === 3) {\n        m.nLags = reader.getUint32(pos, true);\n        pos += 4;\n        m.mnLag = reader.getUint32(pos, true);\n        pos += 4;\n        m.mxLag = reader.getUint32(pos, true);\n        pos += 4;\n        m.ccOverlay = reader.getUint32(pos, true);\n        pos += 4;\n      }\n      m.clusterSize = reader.getUint32(pos, true);\n      pos += 4;\n      m.clusterCheck = reader.getUint8(pos);\n      pos += 1;\n      m.critThresh = reader.getFloat32(pos, true);\n      pos += 4;\n      m.maxThresh = reader.getFloat32(pos, true);\n      pos += 4;\n      if (vers >= 4) {\n        m.includeValuesGreaterThreshMax = reader.getUint32(pos, true);\n        pos += 4;\n      }\n      m.df1 = reader.getUint32(pos, true);\n      pos += 4;\n      m.df2 = reader.getUint32(pos, true);\n      pos += 4;\n      if (vers >= 5) {\n        m.posNegFlag = reader.getUint32(pos, true);\n        pos += 4;\n      } else {\n        m.posNegFlag = 3;\n      }\n      m.cortexBonferroni = reader.getUint32(pos, true);\n      pos += 4;\n      m.posMinRGB = [0, 0, 0];\n      m.posMaxRGB = [0, 0, 0];\n      m.negMinRGB = [0, 0, 0];\n      m.negMaxRGB = [0, 0, 0];\n      if (vers >= 2) {\n        m.posMinRGB[0] = reader.getUint8(pos);\n        pos++;\n        m.posMinRGB[1] = reader.getUint8(pos);\n        pos++;\n        m.posMinRGB[2] = reader.getUint8(pos);\n        pos++;\n        m.posMaxRGB[0] = reader.getUint8(pos);\n        pos++;\n        m.posMaxRGB[1] = reader.getUint8(pos);\n        pos++;\n        m.posMaxRGB[2] = reader.getUint8(pos);\n        pos++;\n        if (vers >= 4) {\n          m.negMinRGB[0] = reader.getUint8(pos);\n          pos++;\n          m.negMinRGB[1] = reader.getUint8(pos);\n          pos++;\n          m.negMinRGB[2] = reader.getUint8(pos);\n          pos++;\n          m.negMaxRGB[0] = reader.getUint8(pos);\n          pos++;\n          m.negMaxRGB[1] = reader.getUint8(pos);\n          pos++;\n          m.negMaxRGB[2] = reader.getUint8(pos);\n          pos++;\n        }\n        m.enableSMPColor = reader.getUint8(pos);\n        pos++;\n        if (vers >= 4) {\n          m.lut = readStr();\n        }\n        m.colorAlpha = reader.getFloat32(pos, true);\n        pos += 4;\n      }\n      m.name = readStr();\n      const scalarsNew = new Float32Array(buffer, pos, nvert);\n      scalars.set(scalarsNew, i * nvert);\n      pos += nvert * 4;\n      maps.push(m);\n    }\n    return scalars;\n  }\n  // readSMP()\n  // read mne stc format file, not to be confused with brainvoyager stc format\n  // https://github.com/mne-tools/mne-python/blob/main/mne/source_estimate.py#L211-L365\n  static readSTC(buffer, n_vert) {\n    const reader = new DataView(buffer);\n    const n_vertex = reader.getInt32(8, false);\n    if (n_vertex !== n_vert) {\n      throw new Error(\"Overlay has \" + n_vertex + \" vertices, expected \" + n_vert);\n    }\n    let pos = 12 + n_vertex * 4;\n    const n_time = reader.getUint32(pos, false);\n    pos += 4;\n    const f32 = new Float32Array(n_time * n_vertex);\n    for (let i = 0; i < n_time * n_vertex; i++) {\n      f32[i] = reader.getFloat32(pos, false);\n      pos += 4;\n    }\n    return f32;\n  }\n  // readSTC()\n  static isCurv(buffer) {\n    const view = new DataView(buffer);\n    const sig0 = view.getUint8(0);\n    const sig1 = view.getUint8(1);\n    const sig2 = view.getUint8(2);\n    if (sig0 !== 255 || sig1 !== 255 || sig2 !== 255) {\n      utiltiesLogger.debug(\"Unable to recognize file type: does not appear to be FreeSurfer format.\");\n      return false;\n    }\n    return true;\n  }\n  // read freesurfer curv big-endian format\n  // https://github.com/bonilhamusclab/MRIcroS/blob/master/%2BfileUtils/%2Bpial/readPial.m\n  // http://www.grahamwideman.com/gw/brain/fs/surfacefileformats.htm\n  static readCURV(buffer, n_vert) {\n    const view = new DataView(buffer);\n    const sig0 = view.getUint8(0);\n    const sig1 = view.getUint8(1);\n    const sig2 = view.getUint8(2);\n    const n_vertex = view.getUint32(3, false);\n    const n_time = view.getUint32(11, false);\n    if (sig0 !== 255 || sig1 !== 255 || sig2 !== 255) {\n      utiltiesLogger.debug(\"Unable to recognize file type: does not appear to be FreeSurfer format.\");\n    }\n    if (n_vert !== n_vertex) {\n      throw new Error(\"CURV file has different number of vertices ( \" + n_vertex + \")than mesh (\" + n_vert + \")\");\n    }\n    if (buffer.byteLength < 15 + 4 * n_vertex * n_time) {\n      throw new Error(\"CURV file smaller than specified\");\n    }\n    const f32 = new Float32Array(n_time * n_vertex);\n    let pos = 15;\n    for (let i = 0; i < n_time * n_vertex; i++) {\n      f32[i] = view.getFloat32(pos, false);\n      pos += 4;\n    }\n    let mn = f32[0];\n    let mx = f32[0];\n    for (let i = 0; i < f32.length; i++) {\n      mn = Math.min(mn, f32[i]);\n      mx = Math.max(mx, f32[i]);\n    }\n    const scale = 1 / (mx - mn);\n    for (let i = 0; i < f32.length; i++) {\n      f32[i] = 1 - (f32[i] - mn) * scale;\n    }\n    return f32;\n  }\n  // readCURV()\n  // read freesurfer Annotation file provides vertex colors\n  // https://surfer.nmr.mgh.harvard.edu/fswiki/LabelsClutsAnnotationFiles\n  static readANNOT(buffer, n_vert, isReadColortables = false) {\n    const view = new DataView(buffer);\n    const n_vertex = view.getUint32(0, false);\n    const n_vertexDecimated = this.decimateLayerVertices(n_vertex, n_vert);\n    if (n_vert !== n_vertexDecimated) {\n      throw new Error(\"ANNOT file has different number of vertices than mesh\");\n    }\n    if (buffer.byteLength < 4 + 8 * n_vertex) {\n      throw new Error(\"ANNOT file smaller than specified\");\n    }\n    let pos = 0;\n    const rgba32 = new Uint32Array(n_vertex);\n    for (let i = 0; i < n_vertex; i++) {\n      const idx = view.getUint32(pos += 4, false);\n      rgba32[idx] = view.getUint32(pos += 4, false);\n    }\n    if (!isReadColortables) {\n      return rgba32;\n    }\n    let tag = 0;\n    try {\n      tag = view.getInt32(pos += 4, false);\n    } catch (error) {\n      return rgba32;\n    }\n    const TAG_OLD_COLORTABLE = 1;\n    if (tag !== TAG_OLD_COLORTABLE) {\n      return rgba32;\n    }\n    const ctabversion = view.getInt32(pos += 4, false);\n    if (ctabversion > 0) {\n      return rgba32;\n    }\n    const maxstruc = view.getInt32(pos += 4, false);\n    const len = view.getInt32(pos += 4, false);\n    pos += len;\n    const num_entries = view.getInt32(pos += 4, false);\n    if (num_entries < 1) {\n      return rgba32;\n    }\n    const LUT4 = {\n      R: Array(maxstruc).fill(0),\n      G: Array(maxstruc).fill(0),\n      B: Array(maxstruc).fill(0),\n      A: Array(maxstruc).fill(0),\n      I: Array(maxstruc).fill(0),\n      labels: Array(maxstruc).fill(\"\")\n    };\n    for (let i = 0; i < num_entries; i++) {\n      const struc = view.getInt32(pos += 4, false);\n      const labelLen = view.getInt32(pos += 4, false);\n      pos += 4;\n      let txt = \"\";\n      for (let c = 0; c < labelLen; c++) {\n        const val = view.getUint8(pos++);\n        if (val === 0) {\n          break;\n        }\n        txt += String.fromCharCode(val);\n      }\n      pos -= 4;\n      const R = view.getInt32(pos += 4, false);\n      const G = view.getInt32(pos += 4, false);\n      const B = view.getInt32(pos += 4, false);\n      const A = view.getInt32(pos += 4, false);\n      if (struc < 0 || struc >= maxstruc) {\n        log.warn(\"annot entry out of range\");\n        continue;\n      }\n      LUT4.R[struc] = R;\n      LUT4.G[struc] = G;\n      LUT4.B[struc] = B;\n      LUT4.A[struc] = A;\n      LUT4.I[struc] = (A << 24) + (B << 16) + (G << 8) + R;\n      LUT4.labels[struc] = txt;\n    }\n    const scalars = new Float32Array(n_vertex);\n    scalars.fill(-1);\n    let nError = 0;\n    for (let i = 0; i < n_vert; i++) {\n      const RGB = rgba32[i];\n      for (let c = 0; c < maxstruc; c++) {\n        if (LUT4.I[c] === RGB) {\n          scalars[i] = c;\n          break;\n        }\n      }\n      if (scalars[i] < 0) {\n        nError++;\n        scalars[i] = 0;\n      }\n    }\n    if (nError > 0) {\n      log.error(`annot vertex colors do not match ${nError} of ${n_vertex} vertices.`);\n    }\n    for (let i = 0; i < maxstruc; i++) {\n      LUT4.I[i] = i;\n    }\n    const colormapLabel = cmapper.makeLabelLut(LUT4);\n    return {\n      scalars,\n      colormapLabel\n    };\n  }\n  // readANNOT()\n  // read BrainNet viewer format\n  // https://www.nitrc.org/projects/bnv/\n  static readNV(buffer) {\n    const len = buffer.byteLength;\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    function readStr() {\n      while (pos < len && bytes[pos] === 10) {\n        pos++;\n      }\n      const startPos = pos;\n      while (pos < len && bytes[pos] !== 10) {\n        pos++;\n      }\n      pos++;\n      if (pos - startPos < 1) {\n        return \"\";\n      }\n      return new TextDecoder().decode(buffer.slice(startPos, pos - 1));\n    }\n    let nvert = 0;\n    let ntri = 0;\n    let v = 0;\n    let t = 0;\n    let positions;\n    let indices;\n    while (pos < len) {\n      const line = readStr();\n      if (line.startsWith(\"#\")) {\n        continue;\n      }\n      const items = line.trim().split(/\\s+/);\n      if (nvert < 1) {\n        nvert = parseInt(items[0]);\n        positions = new Float32Array(nvert * 3);\n        continue;\n      }\n      if (v < nvert * 3) {\n        positions[v] = parseFloat(items[0]);\n        positions[v + 1] = parseFloat(items[1]);\n        positions[v + 2] = parseFloat(items[2]);\n        v += 3;\n        continue;\n      }\n      if (ntri < 1) {\n        ntri = parseInt(items[0]);\n        indices = new Uint32Array(ntri * 3);\n        continue;\n      }\n      if (t >= ntri * 3) {\n        break;\n      }\n      indices[t + 2] = parseInt(items[0]) - 1;\n      indices[t + 1] = parseInt(items[1]) - 1;\n      indices[t + 0] = parseInt(items[2]) - 1;\n      t += 3;\n    }\n    return {\n      positions,\n      indices\n    };\n  }\n  // readNV()\n  // read ASCII Patch File format\n  // https://afni.nimh.nih.gov/pub/dist/doc/htmldoc/demos/Bootcamp/CD.html#cd\n  // http://www.grahamwideman.com/gw/brain/fs/surfacefileformats.htm\n  static readASC(buffer) {\n    const len = buffer.byteLength;\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    function readStr() {\n      while (pos < len && bytes[pos] === 10) {\n        pos++;\n      }\n      const startPos = pos;\n      while (pos < len && bytes[pos] !== 10) {\n        pos++;\n      }\n      pos++;\n      if (pos - startPos < 1) {\n        return \"\";\n      }\n      return new TextDecoder().decode(buffer.slice(startPos, pos - 1));\n    }\n    let line = readStr();\n    if (!line.startsWith(\"#!ascii\")) {\n      log.warn(\"Invalid ASC mesh\");\n    }\n    line = readStr();\n    let items = line.trim().split(/\\s+/);\n    const nvert = parseInt(items[0]);\n    const ntri = parseInt(items[1]);\n    const positions = new Float32Array(nvert * 3);\n    let j = 0;\n    for (let i = 0; i < nvert; i++) {\n      line = readStr();\n      items = line.trim().split(/\\s+/);\n      positions[j] = parseFloat(items[0]);\n      positions[j + 1] = parseFloat(items[1]);\n      positions[j + 2] = parseFloat(items[2]);\n      j += 3;\n    }\n    const indices = new Uint32Array(ntri * 3);\n    j = 0;\n    for (let i = 0; i < ntri; i++) {\n      line = readStr();\n      items = line.trim().split(/\\s+/);\n      indices[j] = parseInt(items[0]);\n      indices[j + 1] = parseInt(items[1]);\n      indices[j + 2] = parseInt(items[2]);\n      j += 3;\n    }\n    return {\n      positions,\n      indices\n    };\n  }\n  // readASC()\n  // read legacy VTK format\n  static readVTK(buffer) {\n    const len = buffer.byteLength;\n    if (len < 20) {\n      throw new Error(\"File too small to be VTK: bytes = \" + buffer.byteLength);\n    }\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    function readStr(isSkipBlank = true) {\n      if (isSkipBlank) {\n        while (pos < len && bytes[pos] === 10) {\n          pos++;\n        }\n      }\n      const startPos = pos;\n      while (pos < len && bytes[pos] !== 10) {\n        pos++;\n      }\n      pos++;\n      if (pos - startPos < 1) {\n        return \"\";\n      }\n      return new TextDecoder().decode(buffer.slice(startPos, pos - 1));\n    }\n    let line = readStr();\n    if (!line.startsWith(\"# vtk DataFile\")) {\n      throw new Error(\"Invalid VTK mesh\");\n    }\n    line = readStr(false);\n    line = readStr();\n    if (line.startsWith(\"ASCII\")) {\n      return _NVMeshLoaders.readTxtVTK(buffer);\n    } else if (!line.startsWith(\"BINARY\")) {\n      throw new Error(\"Invalid VTK image, expected ASCII or BINARY \" + line);\n    }\n    line = readStr();\n    if (!line.includes(\"POLYDATA\")) {\n      throw new Error(\"Only able to read VTK POLYDATA \" + line);\n    }\n    line = readStr();\n    if (!line.includes(\"POINTS\") || !line.includes(\"double\") && !line.includes(\"float\")) {\n      log.warn(\"Only able to read VTK float or double POINTS\" + line);\n    }\n    const isFloat64 = line.includes(\"double\");\n    let items = line.trim().split(/\\s+/);\n    const nvert = parseInt(items[1]);\n    const nvert3 = nvert * 3;\n    const positions = new Float32Array(nvert3);\n    const reader = new DataView(buffer);\n    if (isFloat64) {\n      for (let i = 0; i < nvert3; i++) {\n        positions[i] = reader.getFloat64(pos, false);\n        pos += 8;\n      }\n    } else {\n      for (let i = 0; i < nvert3; i++) {\n        positions[i] = reader.getFloat32(pos, false);\n        pos += 4;\n      }\n    }\n    line = readStr();\n    items = line.trim().split(/\\s+/);\n    const tris = [];\n    if (items[0].includes(\"LINES\")) {\n      const n_count = parseInt(items[1]);\n      const posOK = pos;\n      line = readStr();\n      if (line.startsWith(\"OFFSETS\")) {\n        let isInt64 = false;\n        if (line.includes(\"int64\")) {\n          isInt64 = true;\n        }\n        const offsetPt02 = new Uint32Array(n_count);\n        if (isInt64) {\n          let isOverflowInt32 = false;\n          for (let c = 0; c < n_count; c++) {\n            let idx = reader.getInt32(pos, false);\n            if (idx !== 0) {\n              isOverflowInt32 = true;\n            }\n            pos += 4;\n            idx = reader.getInt32(pos, false);\n            pos += 4;\n            offsetPt02[c] = idx;\n          }\n          if (isOverflowInt32) {\n            log.warn(\"int32 overflow: JavaScript does not support int64\");\n          }\n        } else {\n          for (let c = 0; c < n_count; c++) {\n            const idx = reader.getInt32(pos, false);\n            pos += 4;\n            offsetPt02[c] = idx;\n          }\n        }\n        const pts2 = positions;\n        return {\n          pts: pts2,\n          offsetPt0: offsetPt02\n        };\n      }\n      pos = posOK;\n      let npt = 0;\n      const offsetPt0 = [];\n      const pts = [];\n      offsetPt0.push(npt);\n      for (let c = 0; c < n_count; c++) {\n        const numPoints = reader.getInt32(pos, false);\n        pos += 4;\n        npt += numPoints;\n        offsetPt0.push(npt);\n        for (let i = 0; i < numPoints; i++) {\n          const idx = reader.getInt32(pos, false) * 3;\n          pos += 4;\n          pts.push(positions[idx + 0]);\n          pts.push(positions[idx + 1]);\n          pts.push(positions[idx + 2]);\n        }\n      }\n      return {\n        pts: Float32Array.from(pts),\n        offsetPt0: Uint32Array.from(offsetPt0)\n      };\n    } else if (items[0].includes(\"TRIANGLE_STRIPS\")) {\n      const nstrip = parseInt(items[1]);\n      for (let i = 0; i < nstrip; i++) {\n        const ntri = reader.getInt32(pos, false) - 2;\n        pos += 4;\n        for (let t = 0; t < ntri; t++) {\n          if (t % 2) {\n            tris.push(reader.getInt32(pos + 8, false));\n            tris.push(reader.getInt32(pos + 4, false));\n            tris.push(reader.getInt32(pos, false));\n          } else {\n            tris.push(reader.getInt32(pos, false));\n            tris.push(reader.getInt32(pos + 4, false));\n            tris.push(reader.getInt32(pos + 8, false));\n          }\n          pos += 4;\n        }\n        pos += 8;\n      }\n    } else if (items[0].includes(\"POLYGONS\")) {\n      const npoly = parseInt(items[1]);\n      const byteOffsetAfterPoly = pos;\n      const maybeOffsetsLine = readStr();\n      if (maybeOffsetsLine.startsWith(\"OFFSETS\")) {\n        let isInt64 = maybeOffsetsLine.includes(\"int64\");\n        const offset = new Uint32Array(npoly);\n        let is32bitOverflow = false;\n        for (let i = 0; i < npoly; i++) {\n          if (isInt64) {\n            if (reader.getInt32(pos, false) !== 0) {\n              is32bitOverflow = true;\n            }\n            pos += 4;\n          }\n          offset[i] = reader.getInt32(pos, false);\n          pos += 4;\n        }\n        if (!Number.isSafeInteger(npoly) || npoly >= 2147483648 || is32bitOverflow) {\n          throw new Error(`values exceed 2GB limit`);\n        }\n        const connLine = readStr();\n        if (!connLine.startsWith(\"CONNECTIVITY\")) {\n          throw new Error(\"Expected CONNECTIVITY after OFFSETS\");\n        }\n        isInt64 = connLine.includes(\"int64\");\n        const numIndices = offset[npoly - 1];\n        const connectivity = new Uint32Array(numIndices);\n        for (let i = 0; i < numIndices; i++) {\n          if (isInt64) {\n            pos += 4;\n          }\n          connectivity[i] = reader.getInt32(pos, false);\n          pos += 4;\n        }\n        for (let i = 0; i < npoly; i++) {\n          const start = i === 0 ? 0 : offset[i - 1];\n          const end = offset[i];\n          for (let t = 1; t < end - start - 1; t++) {\n            tris.push(connectivity[start]);\n            tris.push(connectivity[start + t]);\n            tris.push(connectivity[start + t + 1]);\n          }\n        }\n      } else {\n        pos = byteOffsetAfterPoly;\n        for (let i = 0; i < npoly; i++) {\n          const ntri = reader.getInt32(pos, false) - 2;\n          if (i === 0 && ntri > 65535) {\n            throw new Error(\"Invalid VTK binary polygons using little-endian data (MRtrix)\");\n          }\n          pos += 4;\n          const fx = reader.getInt32(pos, false);\n          pos += 4;\n          let fy = reader.getInt32(pos, false);\n          pos += 4;\n          for (let t = 0; t < ntri; t++) {\n            const fz = reader.getInt32(pos, false);\n            pos += 4;\n            tris.push(fx, fy, fz);\n            fy = fz;\n          }\n        }\n      }\n    } else {\n      throw new Error(\"Unsupported binary VTK datatype \" + items[0]);\n    }\n    const indices = new Uint32Array(tris);\n    return {\n      positions,\n      indices\n    };\n  }\n  // readVTK()\n  static readWRL(buffer) {\n    const wrlText = new TextDecoder(\"utf-8\").decode(buffer);\n    const coordRegex = /coord\\s+Coordinate\\s*\\{\\s*point\\s*\\[([\\s\\S]*?)\\]/;\n    const indexRegex = /coordIndex\\s*\\[([\\s\\S]*?)\\]/;\n    const colorRegex = /color\\s+Color\\s*\\{\\s*color\\s*\\[([\\s\\S]*?)\\]/;\n    const coordMatch = coordRegex.exec(wrlText);\n    const indexMatch = indexRegex.exec(wrlText);\n    const colorMatch = colorRegex.exec(wrlText);\n    if (!coordMatch || !indexMatch) {\n      throw new Error(\"Invalid WRL file: Could not find vertices or indices.\");\n    }\n    const positions = new Float32Array(\n      coordMatch[1].trim().split(/[\\s,]+/).map(Number)\n    );\n    let colors = null;\n    if (colorMatch) {\n      colors = new Float32Array(\n        colorMatch[1].trim().split(/[\\s,]+/).map(Number)\n      );\n      const nVert = positions.length / 3;\n      if (colors.length !== nVert * 3) {\n        console.warn(`Unexpected color count: expected ${nVert * 3}, got ${colors.length}`);\n        colors = null;\n      }\n    }\n    const indices = new Uint32Array(\n      indexMatch[1].trim().split(/[\\s,]+/).map(Number).filter((v) => v !== -1)\n    );\n    return { positions, indices, colors };\n  }\n  // readWRL()\n  // read brainsuite DFS format\n  // http://brainsuite.org/formats/dfs/\n  static readDFS(buffer) {\n    const reader = new DataView(buffer);\n    const magic = reader.getUint32(0, true);\n    const LE = reader.getUint16(4, true);\n    if (magic !== 1599292996 || LE !== 17740) {\n      log.warn(\"Not a little-endian brainsuite DFS mesh\");\n    }\n    const hdrBytes = reader.getUint32(12, true);\n    const nface = reader.getUint32(24, true);\n    const nvert = reader.getUint32(28, true);\n    const vcoffset = reader.getUint32(48, true);\n    let pos = hdrBytes;\n    const indices = new Uint32Array(buffer, pos, nface * 3);\n    pos += nface * 3 * 4;\n    const positions = new Float32Array(buffer, pos, nvert * 3);\n    for (let i = 0; i < nvert * 3; i += 3) {\n      const tmp = positions[i];\n      positions[i] = positions[i + 1];\n      positions[i + 1] = tmp;\n    }\n    let colors;\n    if (vcoffset >= 0) {\n      colors = new Float32Array(buffer, vcoffset, nvert * 3);\n    }\n    return {\n      positions,\n      indices,\n      colors\n    };\n  }\n  // read surfice MZ3 format\n  // https://github.com/neurolabusc/surf-ice/tree/master/mz3\n  static async readMZ3(buffer, n_vert = 0) {\n    if (buffer.byteLength < 20) {\n      throw new Error(\"File too small to be mz3: bytes = \" + buffer.byteLength);\n    }\n    let reader = new DataView(buffer);\n    let _buffer = buffer;\n    let magic = reader.getUint16(0, true);\n    if (magic === 35615 || magic === 8075) {\n      const raw = await NVUtilities.decompress(new Uint8Array(buffer));\n      reader = new DataView(raw.buffer);\n      magic = reader.getUint16(0, true);\n      _buffer = raw.buffer;\n    }\n    const attr = reader.getUint16(2, true);\n    const nface = reader.getUint32(4, true);\n    let nvert = reader.getUint32(8, true);\n    const nskip = reader.getUint32(12, true);\n    utiltiesLogger.debug(\"MZ3 magic %d attr %d face %d vert %d skip %d\", magic, attr, nface, nvert, nskip);\n    if (magic !== 23117) {\n      throw new Error(\"Invalid MZ3 file\");\n    }\n    const isFace = (attr & 1) !== 0;\n    const isVert = (attr & 2) !== 0;\n    const isRGBA = (attr & 4) !== 0;\n    let isSCALAR = (attr & 8) !== 0;\n    const isDOUBLE = (attr & 16) !== 0;\n    const isAOMAP = (attr & 32) !== 0;\n    const isLOOKUP = (attr & 64) !== 0;\n    utiltiesLogger.debug(\n      `isFace=${isFace} isVert=${isVert} isRGBA=${isRGBA} isSCALAR=${isSCALAR} isDOUBLE=${isDOUBLE} isAOMAP=${isAOMAP} isLOOKUP=${isLOOKUP}`\n    );\n    if (attr > 127) {\n      throw new Error(\"Unsupported future version of MZ3 file\");\n    }\n    let bytesPerScalar = 4;\n    if (isDOUBLE) {\n      bytesPerScalar = 8;\n    }\n    let NSCALAR = 0;\n    if (n_vert > 0 && !isFace && nface < 1 && !isRGBA) {\n      isSCALAR = true;\n    }\n    if (isSCALAR) {\n      const nv = n_vert || nvert;\n      const FSizeWoScalars = 16 + nskip + (isFace ? nface * 12 : 0) + (isVert ? nv * 12 : 0) + (isRGBA ? nv * 4 : 0);\n      const scalarFloats = Math.floor((_buffer.byteLength - FSizeWoScalars) / bytesPerScalar);\n      if (nvert !== n_vert && scalarFloats % n_vert === 0) {\n        nvert = n_vert;\n      }\n      NSCALAR = Math.floor(scalarFloats / nvert);\n      if (NSCALAR < 1) {\n        log.warn(\"Corrupt MZ3: file reports NSCALAR but not enough bytes\");\n        isSCALAR = false;\n      }\n    }\n    if (nvert < 3 && n_vert < 3) {\n      throw new Error(\"Not a mesh MZ3 file (maybe scalar)\");\n    }\n    if (n_vert > 0 && n_vert !== nvert) {\n      log.warn(\"Layer has \" + nvert + \"vertices, but background mesh has \" + n_vert);\n    }\n    let filepos = 16 + nskip;\n    const view = new DataView(_buffer);\n    let indices = null;\n    if (isFace) {\n      indices = new Uint32Array(nface * 3);\n      for (let i = 0; i < nface * 3; i++) {\n        indices[i] = view.getUint32(filepos, true);\n        filepos += 4;\n      }\n    }\n    let positions = null;\n    if (isVert) {\n      positions = new Float32Array(nvert * 3);\n      for (let i = 0; i < nvert * 3; i++) {\n        positions[i] = view.getFloat32(filepos, true);\n        filepos += 4;\n      }\n    }\n    let colors = null;\n    if (isRGBA) {\n      colors = new Float32Array(nvert * 3);\n      for (let i = 0; i < nvert; i++) {\n        for (let j = 0; j < 3; j++) {\n          colors[i * 3 + j] = view.getUint8(filepos++) / 255;\n        }\n        filepos++;\n      }\n    }\n    let scalars = new Float32Array();\n    if (isSCALAR && NSCALAR > 0) {\n      if (isDOUBLE) {\n        const flt64 = new Float64Array(NSCALAR * nvert);\n        for (let i = 0; i < NSCALAR * nvert; i++) {\n          flt64[i] = view.getFloat64(filepos, true);\n          filepos += 8;\n        }\n        scalars = Float32Array.from(flt64);\n      } else {\n        scalars = new Float32Array(NSCALAR * nvert);\n        for (let i = 0; i < NSCALAR * nvert; i++) {\n          scalars[i] = view.getFloat32(filepos, true);\n          filepos += 4;\n        }\n      }\n    }\n    if (n_vert > 0 && isLOOKUP && isSCALAR) {\n      const decoder = new TextDecoder(\"utf-8\");\n      const jsonBytes = new Uint8Array(_buffer, 16, nskip);\n      const jsonText = decoder.decode(jsonBytes);\n      const colormap = JSON.parse(jsonText);\n      const colormapLabel = cmapper.makeLabelLut(colormap);\n      return { scalars, colormapLabel };\n    }\n    if (n_vert > 0 && isRGBA && isSCALAR) {\n      let mx = scalars[0];\n      for (let i = 0; i < nvert; i++) {\n        mx = Math.max(mx, scalars[i]);\n      }\n      const Labels = { R: [], G: [], B: [], A: [], I: [], labels: [] };\n      for (let i = 0; i <= mx; i++) {\n        for (let v = 0; v < nvert; v++) {\n          if (i === scalars[v]) {\n            const v3 = v * 3;\n            Labels.I.push(i);\n            Labels.R.push(colors[v3] * 255);\n            Labels.G.push(colors[v3 + 1] * 255);\n            Labels.B.push(colors[v3 + 2] * 255);\n            Labels.A.push(255);\n            Labels.labels.push(`${i}`);\n            break;\n          }\n        }\n      }\n      const colormapLabel = cmapper.makeLabelLut(Labels);\n      return { scalars, colormapLabel };\n    }\n    if (n_vert > 0) {\n      return { scalars };\n    }\n    return { positions, indices, scalars, colors };\n  }\n  // read PLY format\n  // https://en.wikipedia.org/wiki/PLY_(file_format)\n  static readPLY(buffer) {\n    const len = buffer.byteLength;\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    function readStr() {\n      while (pos < len && bytes[pos] === 10) {\n        pos++;\n      }\n      const startPos = pos;\n      while (pos < len && bytes[pos] !== 10) {\n        pos++;\n      }\n      pos++;\n      if (pos - startPos < 1) {\n        return \"\";\n      }\n      return new TextDecoder().decode(buffer.slice(startPos, pos - 1));\n    }\n    let line = readStr();\n    if (!line.startsWith(\"ply\")) {\n      throw new Error(\"Not a valid PLY file\");\n    }\n    line = readStr();\n    const isAscii = line.includes(\"ascii\");\n    function dataTypeBytes(str) {\n      if (str === \"char\" || str === \"uchar\" || str === \"int8\" || str === \"uint8\") {\n        return 1;\n      }\n      if (str === \"short\" || str === \"ushort\" || str === \"int16\" || str === \"uint16\") {\n        return 2;\n      }\n      if (str === \"int\" || str === \"uint\" || str === \"int32\" || str === \"uint32\" || str === \"float\" || str === \"float32\") {\n        return 4;\n      }\n      if (str === \"double\") {\n        return 8;\n      }\n      throw new Error(\"Unknown data type: \" + str);\n    }\n    const isLittleEndian = line.includes(\"binary_little_endian\");\n    let nvert = 0;\n    let vertIsDouble = false;\n    let vertStride = 0;\n    let indexStrideBytes = 0;\n    let indexCountBytes = 0;\n    let indexBytes = 0;\n    let indexPaddingBytes = 0;\n    let nIndexPadding = 0;\n    let nface = 0;\n    while (pos < len && !line.startsWith(\"end_header\")) {\n      line = readStr();\n      if (line.startsWith(\"comment\")) {\n        continue;\n      }\n      let items = line.split(/\\s/);\n      if (line.startsWith(\"element vertex\")) {\n        nvert = parseInt(items[items.length - 1]);\n        line = readStr();\n        items = line.split(/\\s/);\n        while (line.startsWith(\"property\")) {\n          const datatype = items[1];\n          if (items[2] === \"x\" && datatype.startsWith(\"double\")) {\n            vertIsDouble = true;\n          } else if (items[2] === \"x\" && !datatype.startsWith(\"float\")) {\n            log.error(\"Error: expect ply xyz to be float or double: \" + line);\n          }\n          vertStride += dataTypeBytes(datatype);\n          line = readStr();\n          items = line.split(/\\s/);\n        }\n      }\n      if (line.startsWith(\"element face\")) {\n        nface = parseInt(items[items.length - 1]);\n        line = readStr();\n        items = line.split(/\\s/);\n        while (line.startsWith(\"property\")) {\n          if (items[1] === \"list\") {\n            indexCountBytes = dataTypeBytes(items[2]);\n            indexBytes = dataTypeBytes(items[3]);\n            indexStrideBytes += indexCountBytes + 3 * indexBytes;\n          } else {\n            const bytes2 = dataTypeBytes(items[1]);\n            indexStrideBytes += bytes2;\n            if (indexBytes === 0) {\n              indexPaddingBytes += bytes2;\n              nIndexPadding++;\n            }\n          }\n          line = readStr();\n          items = line.split(/\\s/);\n        }\n      }\n    }\n    if (isAscii) {\n      if (nface < 1) {\n        log.error(`Malformed ply format: faces ${nface} `);\n      }\n      const positions2 = new Float32Array(nvert * 3);\n      let v = 0;\n      for (let i = 0; i < nvert; i++) {\n        line = readStr();\n        const items = line.split(/\\s/);\n        positions2[v] = parseFloat(items[0]);\n        positions2[v + 1] = parseFloat(items[1]);\n        positions2[v + 2] = parseFloat(items[2]);\n        v += 3;\n      }\n      let indices2 = new Uint32Array(nface * 3);\n      let f = 0;\n      for (let i = 0; i < nface; i++) {\n        line = readStr();\n        const items = line.split(/\\s/);\n        const nTri = parseInt(items[nIndexPadding]) - 2;\n        if (nTri < 1) {\n          break;\n        }\n        if (f + nTri * 3 > indices2.length) {\n          const c = new Uint32Array(indices2.length + indices2.length);\n          c.set(indices2);\n          indices2 = c.slice();\n        }\n        const idx0 = parseInt(items[nIndexPadding + 1]);\n        let idx1 = parseInt(items[nIndexPadding + 2]);\n        for (let j2 = 0; j2 < nTri; j2++) {\n          const idx2 = parseInt(items[nIndexPadding + 3 + j2]);\n          indices2[f + 0] = idx0;\n          indices2[f + 1] = idx1;\n          indices2[f + 2] = idx2;\n          idx1 = idx2;\n          f += 3;\n        }\n      }\n      if (indices2.length !== f) {\n        indices2 = indices2.slice(0, f);\n      }\n      return {\n        positions: positions2,\n        indices: indices2\n      };\n    }\n    if (vertStride < 12 || indexCountBytes < 1 || indexBytes < 1 || nface < 1) {\n      log.warn(\n        `Malformed ply format: stride ${vertStride} count ${indexCountBytes} iBytes ${indexBytes} iStrideBytes ${indexStrideBytes} iPadBytes ${indexPaddingBytes} faces ${nface}`\n      );\n    }\n    const reader = new DataView(buffer);\n    let positions;\n    if (pos % 4 === 0 && vertStride === 12 && isLittleEndian) {\n      positions = new Float32Array(buffer, pos, nvert * 3);\n      pos += nvert * vertStride;\n    } else {\n      positions = new Float32Array(nvert * 3);\n      let v = 0;\n      for (let i = 0; i < nvert; i++) {\n        if (vertIsDouble) {\n          positions[v] = reader.getFloat64(pos, isLittleEndian);\n          positions[v + 1] = reader.getFloat64(pos + 8, isLittleEndian);\n          positions[v + 2] = reader.getFloat64(pos + 16, isLittleEndian);\n        } else {\n          positions[v] = reader.getFloat32(pos, isLittleEndian);\n          positions[v + 1] = reader.getFloat32(pos + 4, isLittleEndian);\n          positions[v + 2] = reader.getFloat32(pos + 8, isLittleEndian);\n        }\n        v += 3;\n        pos += vertStride;\n      }\n    }\n    const indices = new Uint32Array(nface * 3);\n    let isTriangular = true;\n    let j = 0;\n    if (indexCountBytes === 1 && indexBytes === 4 && indexStrideBytes === 13) {\n      for (let i = 0; i < nface; i++) {\n        const nIdx = reader.getUint8(pos);\n        pos += indexCountBytes;\n        if (nIdx !== 3) {\n          isTriangular = false;\n        }\n        indices[j] = reader.getUint32(pos, isLittleEndian);\n        pos += 4;\n        indices[j + 1] = reader.getUint32(pos, isLittleEndian);\n        pos += 4;\n        indices[j + 2] = reader.getUint32(pos, isLittleEndian);\n        pos += 4;\n        j += 3;\n      }\n    } else {\n      let startPos = pos;\n      for (let i = 0; i < nface; i++) {\n        pos = startPos + indexPaddingBytes;\n        let nIdx = 0;\n        if (indexCountBytes === 1) {\n          nIdx = reader.getUint8(pos);\n        } else if (indexCountBytes === 2) {\n          nIdx = reader.getUint16(pos, isLittleEndian);\n        } else if (indexCountBytes === 4) {\n          nIdx = reader.getUint32(pos, isLittleEndian);\n        }\n        pos += indexCountBytes;\n        if (nIdx !== 3) {\n          isTriangular = false;\n        }\n        for (let k = 0; k < 3; k++) {\n          if (indexBytes === 1) {\n            indices[j] = reader.getUint8(pos);\n          } else if (indexBytes === 2) {\n            indices[j] = reader.getUint16(pos, isLittleEndian);\n          } else if (indexBytes === 4) {\n            indices[j] = reader.getUint32(pos, isLittleEndian);\n          }\n          j++;\n          pos += indexBytes;\n        }\n        startPos += indexStrideBytes;\n      }\n    }\n    if (!isTriangular) {\n      log.warn(\"Only able to read PLY meshes limited to triangles.\");\n    }\n    return {\n      positions,\n      indices\n    };\n  }\n  // readPLY()\n  // FreeSurfer can convert meshes to ICO/TRI format text files\n  // https://github.com/dfsp-spirit/freesurferformats/blob/434962608108c75d4337d5e7a5096e3bd4ee6ee6/R/read_fs_surface.R#L1090\n  // detect TRI format that uses same extension\n  // http://paulbourke.net/dataformats/tri/\n  static readICO(buffer) {\n    const enc = new TextDecoder(\"utf-8\");\n    const txt = enc.decode(buffer);\n    const lines = txt.split(\"\\n\");\n    let header = lines[0].trim().split(/\\s+/);\n    if (header.length > 1) {\n      log.warn(\"This is not a valid FreeSurfer ICO/TRI mesh.\");\n    }\n    const num_v = parseInt(header[0]);\n    const positions = new Float32Array(num_v * 3);\n    let line = 1;\n    for (let i = 0; i < num_v; i++) {\n      const items = lines[line].trim().split(/\\s+/);\n      line++;\n      let idx = parseInt(items[0]) - 1;\n      const x = parseFloat(items[1]);\n      const y = parseFloat(items[2]);\n      const z = parseFloat(items[3]);\n      if (idx < 0 || idx >= num_v) {\n        log.error(\"ICO vertices corrupted\");\n        break;\n      }\n      idx *= 3;\n      positions[idx] = x;\n      positions[idx + 1] = y;\n      positions[idx + 2] = z;\n    }\n    header = lines[line].trim().split(/\\s+/);\n    line++;\n    const num_f = parseInt(header[0]);\n    const indices = new Uint32Array(num_f * 3);\n    for (let i = 0; i < num_f; i++) {\n      const items = lines[line].trim().split(/\\s+/);\n      line++;\n      let idx = parseInt(items[0]) - 1;\n      const x = parseInt(items[1]) - 1;\n      const y = parseInt(items[2]) - 1;\n      const z = parseInt(items[3]) - 1;\n      if (idx < 0 || idx >= num_f) {\n        log.error(\"ICO indices corrupted\");\n        break;\n      }\n      idx *= 3;\n      indices[idx] = x;\n      indices[idx + 1] = y;\n      indices[idx + 2] = z;\n    }\n    for (let j = 0; j < indices.length; j += 3) {\n      const tri = indices[j];\n      indices[j] = indices[j + 1];\n      indices[j + 1] = tri;\n    }\n    return {\n      positions,\n      indices\n    };\n  }\n  // readICO()\n  // While BYU and FreeSurfer GEO are related\n  // - BYU can have multiple parts\n  // - BYU faces not always triangular\n  // http://www.grahamwideman.com/gw/brain/fs/surfacefileformats.htm#GeoFile\n  // http://www.eg-models.de/formats/Format_Byu.html\n  // https://github.com/dfsp-spirit/freesurferformats/blob/dafaf88a601dac90fa3c9aae4432f003f5344546/R/read_fs_surface.R#L924\n  // https://github.com/dfsp-spirit/freesurferformats/blob/434962608108c75d4337d5e7a5096e3bd4ee6ee6/R/read_fs_surface.R#L1144\n  // n.b. AFNI uses the '.g' extension for this format 'ConvertSurface  -i_gii L.surf.gii -o_byu L'\n  static readGEO(buffer, isFlipWinding = false) {\n    const enc = new TextDecoder(\"utf-8\");\n    const txt = enc.decode(buffer);\n    const lines = txt.split(\"\\n\");\n    const header = lines[0].trim().split(/\\s+/);\n    const num_p = parseInt(header[0]);\n    let num_v = parseInt(header[1]);\n    let num_f = parseInt(header[2]);\n    const num_c = parseInt(header[3]);\n    if (num_p > 1 || num_c !== num_f * 3) {\n      log.warn(\"Multi-part BYU/GEO header or not a triangular mesh.\");\n    }\n    const pts = [];\n    num_v *= 3;\n    let v = 0;\n    let line = 2;\n    while (v < num_v) {\n      const items = lines[line].trim().split(/\\s+/);\n      line++;\n      for (let i = 0; i < items.length; i++) {\n        pts.push(parseFloat(items[i]));\n        v++;\n        if (v >= num_v) {\n          break;\n        }\n      }\n    }\n    const t = [];\n    num_f *= 3;\n    let f = 0;\n    while (f < num_f) {\n      const items = lines[line].trim().split(/\\s+/);\n      line++;\n      for (let i = 0; i < items.length; i++) {\n        t.push(Math.abs(parseInt(items[i])) - 1);\n        f++;\n        if (f >= num_f) {\n          break;\n        }\n      }\n    }\n    if (isFlipWinding) {\n      for (let j = 0; j < t.length; j += 3) {\n        const tri = t[j];\n        t[j] = t[j + 1];\n        t[j + 1] = tri;\n      }\n    }\n    const positions = new Float32Array(pts);\n    const indices = new Uint32Array(t);\n    return {\n      positions,\n      indices\n    };\n  }\n  // readGEO()\n  // read OFF format\n  // https://en.wikipedia.org/wiki/OFF_(file_format)\n  static readOFF(buffer) {\n    const enc = new TextDecoder(\"utf-8\");\n    const txt = enc.decode(buffer);\n    const lines = txt.split(\"\\n\");\n    const pts = [];\n    const t = [];\n    let i = 0;\n    if (!lines[i].includes(\"OFF\")) {\n      log.warn(\"File does not start with OFF\");\n    } else {\n      i++;\n    }\n    let items = lines[i].trim().split(/\\s+/);\n    const num_v = parseInt(items[0]);\n    const num_f = parseInt(items[1]);\n    i++;\n    for (let j = 0; j < num_v; j++) {\n      const str = lines[i];\n      items = str.trim().split(/\\s+/);\n      pts.push(parseFloat(items[0]));\n      pts.push(parseFloat(items[1]));\n      pts.push(parseFloat(items[2]));\n      i++;\n    }\n    for (let j = 0; j < num_f; j++) {\n      const str = lines[i];\n      items = str.trim().split(/\\s+/);\n      const n = parseInt(items[0]);\n      if (n !== 3) {\n        log.warn(\"Only able to read OFF files with triangular meshes\");\n      }\n      t.push(parseInt(items[1]));\n      t.push(parseInt(items[2]));\n      t.push(parseInt(items[3]));\n      i++;\n    }\n    const positions = new Float32Array(pts);\n    const indices = new Uint32Array(t);\n    return {\n      positions,\n      indices\n    };\n  }\n  // readOFF()\n  static readOBJMNI(buffer) {\n    const enc = new TextDecoder(\"utf-8\");\n    const txt = enc.decode(buffer);\n    const items = txt.trim().split(/\\s*,\\s*|\\s+/);\n    if (items.length < 1 || items[0] !== \"P\") {\n      log.warn(\"This is not a valid MNI OBJ mesh.\");\n    }\n    let j = 6;\n    const nVert = parseInt(items[j++]);\n    const nVertX3 = nVert * 3;\n    const positions = new Float32Array(nVertX3);\n    for (let i = 0; i < nVertX3; i++) {\n      positions[i] = parseFloat(items[j++]);\n    }\n    j += nVertX3;\n    const nTri = parseInt(items[j++]);\n    const colour_flag = parseInt(items[j++]);\n    if (nTri < 1 || colour_flag < 0 || colour_flag > 2) {\n      log.warn(\"This is not a valid MNI OBJ mesh.\");\n    }\n    let num_c = 1;\n    if (colour_flag === 1) {\n      num_c = nTri;\n    } else if (colour_flag === 1) {\n      num_c = nVert;\n    }\n    j += num_c * 4;\n    j += nTri;\n    const nTriX3 = nTri * 3;\n    const indices = new Uint32Array(nTriX3);\n    for (let i = 0; i < nTriX3; i++) {\n      indices[i] = parseInt(items[j++]);\n    }\n    return {\n      positions,\n      indices\n    };\n  }\n  // readOBJMNI()\n  static async readOBJ(buffer) {\n    const headerBytes = new Uint8Array(buffer, 0, 2);\n    if (headerBytes[0] === 31 && headerBytes[1] === 139) {\n      buffer = await NVUtilities.decompressToBuffer(new Uint8Array(buffer));\n    }\n    const enc = new TextDecoder(\"utf-8\");\n    const txt = enc.decode(buffer);\n    if (txt[0] === \"P\") {\n      return this.readOBJMNI(buffer);\n    }\n    const lines = txt.split(\"\\n\");\n    const n = lines.length;\n    const pts = [];\n    const tris = [];\n    for (let i = 0; i < n; i++) {\n      const str = lines[i];\n      if (str[0] === \"v\" && str[1] === \" \") {\n        const items = str.trim().split(/\\s+/);\n        pts.push(parseFloat(items[1]));\n        pts.push(parseFloat(items[2]));\n        pts.push(parseFloat(items[3]));\n      }\n      if (str[0] === \"f\") {\n        const items = str.trim().split(/\\s+/);\n        const new_t = items.length - 3;\n        if (new_t < 1) {\n          break;\n        }\n        let tn = items[1].split(\"/\");\n        const t0 = parseInt(tn[0]) - 1;\n        tn = items[2].split(\"/\");\n        let tprev = parseInt(tn[0]) - 1;\n        for (let j = 0; j < new_t; j++) {\n          tn = items[3 + j].split(\"/\");\n          const tcurr = parseInt(tn[0]) - 1;\n          tris.push(t0);\n          tris.push(tprev);\n          tris.push(tcurr);\n          tprev = tcurr;\n        }\n      }\n    }\n    const positions = new Float32Array(pts);\n    const indices = new Uint32Array(tris);\n    let min = indices[0];\n    let max = indices[0];\n    for (let i = 1; i < indices.length; i++) {\n      if (indices[i] < min) {\n        min = indices[i];\n      }\n      if (indices[i] > max) {\n        max = indices[i];\n      }\n    }\n    if (max - min + 1 > positions.length / 3) {\n      throw new Error(\"Not a valid OBJ file\");\n    }\n    for (let i = 0; i < indices.length; i++) {\n      indices[i] -= min;\n    }\n    return {\n      positions,\n      indices\n    };\n  }\n  // readOBJ()\n  // read FreeSurfer big endian format\n  static readFreeSurfer(buffer) {\n    const bytes = new Uint8Array(buffer);\n    if (bytes[0] === 35 && bytes[1] === 33 && bytes[2] === 97) {\n      return _NVMeshLoaders.readASC(buffer);\n    }\n    const view = new DataView(buffer);\n    const sig0 = view.getUint32(0, false);\n    const sig1 = view.getUint32(4, false);\n    if (sig0 !== 4294966883 || sig1 !== 1919246708) {\n      utiltiesLogger.debug(\"Unable to recognize file type: does not appear to be FreeSurfer format.\");\n    }\n    let offset = 0;\n    while (view.getUint8(offset) !== 10) {\n      offset++;\n    }\n    offset += 2;\n    let nv = view.getUint32(offset, false);\n    offset += 4;\n    let nf = view.getUint32(offset, false);\n    offset += 4;\n    nv *= 3;\n    const positions = new Float32Array(nv);\n    for (let i = 0; i < nv; i++) {\n      positions[i] = view.getFloat32(offset, false);\n      offset += 4;\n    }\n    nf *= 3;\n    const indices = new Uint32Array(nf);\n    for (let i = 0; i < nf; i++) {\n      indices[i] = view.getUint32(offset, false);\n      offset += 4;\n    }\n    const head0 = view.getUint32(offset, false);\n    offset += 4;\n    let isHeadOK = head0 === 20;\n    if (!isHeadOK) {\n      const head1 = view.getUint32(offset, false);\n      offset += 4;\n      const head2 = view.getUint32(offset, false);\n      offset += 4;\n      isHeadOK = head0 === 2 && head1 === 0 && head2 === 20;\n    }\n    if (!isHeadOK) {\n      log.warn(\"Unknown FreeSurfer Mesh extension code.\");\n    } else {\n      const footer = new TextDecoder().decode(buffer.slice(offset)).trim();\n      const strings = footer.split(\"\\n\");\n      for (let s = 0; s < strings.length; s++) {\n        if (!strings[s].startsWith(\"cras\")) {\n          continue;\n        }\n        const cras = strings[s].split(\"=\")[1].trim();\n        const FreeSurferTranlate = cras.split(\" \").map(Number);\n        const nvert = Math.floor(positions.length / 3);\n        let i = 0;\n        for (let v = 0; v < nvert; v++) {\n          positions[i] += FreeSurferTranlate[0];\n          i++;\n          positions[i] += FreeSurferTranlate[1];\n          i++;\n          positions[i] += FreeSurferTranlate[2];\n          i++;\n        }\n      }\n    }\n    return {\n      positions,\n      indices\n    };\n  }\n  // readFreeSurfer()\n  // read brainvoyager SRF format\n  // https://support.brainvoyager.com/brainvoyager/automation-development/84-file-formats/344-users-guide-2-3-the-format-of-srf-files\n  static async readSRF(buffer) {\n    const bytes = new Uint8Array(buffer);\n    if (bytes[0] === 35 && bytes[1] === 33 && bytes[2] === 97) {\n      return _NVMeshLoaders.readASC(buffer);\n    }\n    if (bytes[0] === 31 && bytes[1] === 139) {\n      const raw = await NVUtilities.decompress(new Uint8Array(buffer));\n      buffer = raw.buffer;\n    }\n    const reader = new DataView(buffer);\n    const ver = reader.getFloat32(0, true);\n    const nVert = reader.getUint32(8, true);\n    const nTri = reader.getUint32(12, true);\n    const oriX = reader.getFloat32(16, true);\n    const oriY = reader.getFloat32(20, true);\n    const oriZ = reader.getFloat32(24, true);\n    const positions = new Float32Array(nVert * 3);\n    let pos = 28;\n    let j = 1;\n    for (let i = 0; i < nVert; i++) {\n      positions[j] = -reader.getFloat32(pos, true) + oriX;\n      j += 3;\n      pos += 4;\n    }\n    j = 2;\n    for (let i = 0; i < nVert; i++) {\n      positions[j] = -reader.getFloat32(pos, true) + oriY;\n      j += 3;\n      pos += 4;\n    }\n    j = 0;\n    for (let i = 0; i < nVert; i++) {\n      positions[j] = -reader.getFloat32(pos, true) + oriZ;\n      j += 3;\n      pos += 4;\n    }\n    pos = 28 + 4 * 6 * nVert;\n    const rVex = reader.getFloat32(pos, true);\n    const gVex = reader.getFloat32(pos + 4, true);\n    const bVex = reader.getFloat32(pos + 8, true);\n    const rCave = reader.getFloat32(pos + 16, true);\n    const gCave = reader.getFloat32(pos + 20, true);\n    const bCave = reader.getFloat32(pos + 24, true);\n    pos += 8 * 4;\n    const colors = new Float32Array(nVert * 3);\n    const colorsIdx = new Uint32Array(buffer, pos, nVert);\n    j = 0;\n    for (let i = 0; i < nVert; i++) {\n      const c = colorsIdx[i];\n      if (c > 1056964608) {\n        colors[j + 0] = (c >> 16 & 255) / 255;\n        colors[j + 1] = (c >> 8 & 255) / 255;\n        colors[j + 2] = (c & 255) / 255;\n      }\n      if (c === 0) {\n        colors[j + 0] = rVex;\n        colors[j + 1] = gVex;\n        colors[j + 2] = bVex;\n      }\n      if (c === 1) {\n        colors[j + 0] = rCave;\n        colors[j + 1] = gCave;\n        colors[j + 2] = bCave;\n      }\n      j += 3;\n    }\n    pos += nVert * 4;\n    for (let i = 0; i < nVert; i++) {\n      const nNearest = reader.getUint32(pos, true);\n      pos += 4 + 4 * nNearest;\n    }\n    const indices = new Uint32Array(nTri * 3);\n    for (let i = 0; i < nTri * 3; i++) {\n      indices[i] = reader.getInt32(pos, true);\n      pos += 4;\n    }\n    if (ver !== 4) {\n      log.warn(\"Not valid SRF\");\n    }\n    return {\n      positions,\n      indices,\n      colors\n    };\n  }\n  // readSRF()\n  // read STL ASCII format file\n  // http://paulbourke.net/dataformats/stl/\n  static readTxtSTL(buffer) {\n    const enc = new TextDecoder(\"utf-8\");\n    const txt = enc.decode(buffer);\n    const lines = txt.split(\"\\n\");\n    if (!lines[0].startsWith(\"solid\")) {\n      throw new Error(\"Not a valid STL file\");\n    }\n    const pts = [];\n    for (let i = 1; i < lines.length; i++) {\n      if (!lines[i].includes(\"vertex\")) {\n        continue;\n      }\n      const items = lines[i].trim().split(/\\s+/);\n      for (let j = 1; j < items.length; j++) {\n        pts.push(parseFloat(items[j]));\n      }\n    }\n    const npts = Math.floor(pts.length / 3);\n    if (npts * 3 !== pts.length) {\n      throw new Error(\"Unable to parse ASCII STL file.\");\n    }\n    const positions = new Float32Array(pts);\n    const indices = new Uint32Array(npts);\n    for (let i = 0; i < npts; i++) {\n      indices[i] = i;\n    }\n    return {\n      positions,\n      indices\n    };\n  }\n  // readTxtSTL()\n  // read STL format, nb this format does not reuse vertices\n  // https://en.wikipedia.org/wiki/STL_(file_format)\n  static readSTL(buffer) {\n    if (buffer.byteLength < 80 + 4 + 50) {\n      throw new Error(\"File too small to be STL: bytes = \" + buffer.byteLength);\n    }\n    const reader = new DataView(buffer);\n    const sig = reader.getUint32(0, true);\n    if (sig === 1768714099) {\n      return _NVMeshLoaders.readTxtSTL(buffer);\n    }\n    const ntri = reader.getUint32(80, true);\n    const ntri3 = 3 * ntri;\n    if (buffer.byteLength < 80 + 4 + ntri * 50) {\n      throw new Error(\"STL file too small to store triangles = \" + ntri);\n    }\n    const indices = new Uint32Array(ntri3);\n    const positions = new Float32Array(ntri3 * 3);\n    let pos = 80 + 4 + 12;\n    let v = 0;\n    for (let i = 0; i < ntri; i++) {\n      for (let j = 0; j < 9; j++) {\n        positions[v] = reader.getFloat32(pos, true);\n        v += 1;\n        pos += 4;\n      }\n      pos += 14;\n    }\n    for (let i = 0; i < ntri3; i++) {\n      indices[i] = i;\n    }\n    return {\n      positions,\n      indices\n    };\n  }\n  // readSTL()\n  static decimateLayerVertices(nVertLayer, nVertMesh) {\n    if (nVertLayer % nVertMesh === 0) {\n      return nVertLayer;\n    }\n    const V0 = 12;\n    const orderLayer = Math.round(Math.log((nVertLayer - 2) / (V0 - 2)) / Math.log(4));\n    const orderMesh = Math.round(Math.log((nVertMesh - 2) / (V0 - 2)) / Math.log(4));\n    const nVLayer = Math.pow(4, orderLayer) * (V0 - 2) + 2;\n    const nVMesh = Math.pow(4, orderMesh) * (V0 - 2) + 2;\n    if (nVLayer !== nVertLayer || nVMesh !== nVertMesh) {\n      return nVertLayer;\n    }\n    return nVertMesh;\n  }\n  // read NIfTI2 format with embedded CIfTI\n  // this variation very specific to connectome workbench\n  // https://brainder.org/2015/04/03/the-nifti-2-file-format/\n  static async readNII2(buffer, n_vert = 0, anatomicalStructurePrimary = \"\") {\n    let scalars = new Float32Array();\n    const len = buffer.byteLength;\n    let isLittleEndian = true;\n    const reader = new DataView(buffer);\n    let magic = reader.getUint16(0, isLittleEndian);\n    if (magic === 469893120) {\n      isLittleEndian = false;\n      magic = reader.getUint16(0, isLittleEndian);\n    }\n    if (magic !== 540) {\n      throw new Error(\"Not a valid NIfTI-2 dataset\");\n    }\n    const voxoffset = Number(reader.getBigInt64(168, isLittleEndian));\n    const scl_slope = reader.getFloat64(176, isLittleEndian);\n    const scl_inter = reader.getFloat64(184, isLittleEndian);\n    if (scl_slope !== 1 || scl_inter !== 0) {\n      log.warn(\"ignoring scale slope and intercept\");\n    }\n    const intent_code = reader.getUint32(504, isLittleEndian);\n    const datatype = reader.getUint16(12, isLittleEndian);\n    if (datatype !== 2 && datatype !== 4 && datatype !== 8 && datatype !== 16) {\n      throw new Error(\"Unsupported NIfTI datatype \" + datatype);\n    }\n    let nvert = 1;\n    const dim = [1, 1, 1, 1, 1, 1, 1, 1];\n    for (let i = 1; i < 8; i++) {\n      dim[i] = Math.max(Number(reader.getBigInt64(16 + i * 8, isLittleEndian)), 1);\n      nvert *= dim[i];\n    }\n    if (intent_code >= 3e3 && intent_code <= 3099 && voxoffset > 580) {\n      let readStrX = function() {\n        while (pos < len && bytes[pos] === 10) {\n          pos++;\n        }\n        const startPos = pos;\n        while (pos < len && bytes[pos] !== 10) {\n          pos++;\n        }\n        pos++;\n        if (pos - startPos < 1) {\n          return \"\";\n        }\n        return new TextDecoder().decode(buffer.slice(startPos, pos - 1)).trim();\n      }, readStr = function() {\n        let line2 = readStrX();\n        if (!line2.startsWith(\"<\") || line2.endsWith(\">\")) {\n          return line2;\n        }\n        while (pos < len && !line2.endsWith(\">\")) {\n          line2 += readStrX();\n        }\n        return line2;\n      }, readNumericTag = function(TagName, asString = false) {\n        const tpos = line.indexOf(TagName);\n        if (tpos < 0) {\n          return 1;\n        }\n        const spos = line.indexOf('\"', tpos) + 1;\n        const epos = line.indexOf('\"', spos);\n        const str = line.slice(spos, epos);\n        if (asString) {\n          return str;\n        }\n        return parseInt(str);\n      };\n      let indexOffset = 0;\n      let indexCount = 0;\n      let surfaceNumberOfVertices = 0;\n      let brainStructure = \"\";\n      let vertexIndices = new Uint32Array();\n      const bytes = new Uint8Array(buffer);\n      let pos = 552;\n      let line;\n      const nFrame4D = dim[5];\n      const scalars2 = new Float32Array(n_vert * nFrame4D);\n      while (pos < len) {\n        line = readStr();\n        if (line.includes(\"</CIFTI>\")) {\n          break;\n        }\n        if (line.includes(\"<BrainModel\")) {\n          const nv = readNumericTag(\"SurfaceNumberOfVertices=\");\n          const bStruct = readNumericTag(\"BrainStructure=\", true).toUpperCase();\n          if (nv % n_vert !== 0) {\n            continue;\n          }\n          let isMatch = false;\n          if (anatomicalStructurePrimary.includes(\"CORTEX\") && bStruct.includes(\"CORTEX\")) {\n            isMatch = true;\n          }\n          if (!isMatch) {\n            continue;\n          }\n          isMatch = false;\n          if (anatomicalStructurePrimary.includes(\"LEFT\") && bStruct.includes(\"LEFT\")) {\n            isMatch = true;\n          }\n          if (anatomicalStructurePrimary.includes(\"RIGHT\") && bStruct.includes(\"RIGHT\")) {\n            isMatch = true;\n          }\n          if (!isMatch) {\n            continue;\n          }\n          surfaceNumberOfVertices = nv;\n          indexOffset = readNumericTag(\"IndexOffset=\");\n          indexCount = readNumericTag(\"IndexCount=\");\n          brainStructure = bStruct;\n          if (!line.includes(\"<VertexIndices>\")) {\n            line = readStr();\n          }\n          if (!line.startsWith(\"<VertexIndices>\") || !line.endsWith(\"</VertexIndices>\")) {\n            log.warn(\"Unable to find CIfTI <VertexIndices>\");\n            return scalars2;\n          }\n          line = line.slice(15, -16);\n          const items = line.trim().split(/\\s+/);\n          if (items.length < indexCount) {\n            log.error(\"Error parsing VertexIndices\");\n          }\n          vertexIndices = new Uint32Array(indexCount);\n          for (let i = 0; i < indexCount; i++) {\n            vertexIndices[i] = parseInt(items[i]);\n          }\n        }\n      }\n      if (surfaceNumberOfVertices === 0 || vertexIndices.length === 0) {\n        log.warn(\"Unable to find CIfTI structure that matches the mesh.\");\n        return scalars2;\n      }\n      if (datatype !== 16) {\n        log.warn(\"Only able to read float32 CIfTI (only known datatype).\");\n        return scalars2;\n      }\n      const vals = new Float32Array(indexCount * nFrame4D);\n      const off = voxoffset + nFrame4D * indexOffset * 4;\n      for (let i = 0; i < indexCount * nFrame4D; i++) {\n        vals[i] = reader.getFloat32(off + i * 4, isLittleEndian);\n      }\n      let j = 0;\n      for (let i = 0; i < indexCount; i++) {\n        for (let f = 0; f < nFrame4D; f++) {\n          scalars2[vertexIndices[i] + f * n_vert] = vals[j];\n          j++;\n        }\n      }\n      log.debug(\n        \"CIfTI diagnostics\",\n        surfaceNumberOfVertices,\n        brainStructure,\n        indexOffset,\n        indexCount,\n        indexOffset,\n        anatomicalStructurePrimary\n      );\n      return scalars2;\n    }\n    nvert = this.decimateLayerVertices(nvert, n_vert);\n    if (nvert % n_vert !== 0) {\n      throw new Error(\"Vertices in layer (\" + nvert + \") is not a multiple of number of vertices (\" + n_vert + \")\");\n    }\n    if (isLittleEndian) {\n      if (datatype === 16) {\n        scalars = new Float32Array(buffer, voxoffset, nvert);\n      } else if (datatype === 8) {\n        scalars = new Int32Array(buffer, voxoffset, nvert);\n      } else if (datatype === 4) {\n        scalars = new Int16Array(buffer, voxoffset, nvert);\n      }\n    } else {\n      if (datatype === 16) {\n        scalars = new Float32Array(nvert);\n        for (let i = 0; i < nvert; i++) {\n          scalars[i] = reader.getFloat32(voxoffset + i * 4, isLittleEndian);\n        }\n      } else if (datatype === 8) {\n        scalars = new Int32Array(nvert);\n        for (let i = 0; i < nvert; i++) {\n          scalars[i] = reader.getInt32(voxoffset + i * 4, isLittleEndian);\n        }\n      } else if (datatype === 4) {\n        scalars = new Int16Array(nvert);\n        for (let i = 0; i < nvert; i++) {\n          scalars[i] = reader.getInt16(voxoffset + i * 2, isLittleEndian);\n        }\n      }\n    }\n    if (datatype === 2) {\n      scalars = new Uint8Array(buffer, voxoffset, nvert);\n    }\n    return scalars;\n  }\n  // readNII2()\n  // read NIfTI1/2 as vertex colors\n  // https://brainder.org/2012/09/23/the-nifti-file-format/#:~:text=In%20the%20nifti%20format%2C%20the,seventh%2C%20are%20for%20other%20uses.\n  static async readNII(buffer, pts, anatomicalStructurePrimary = \"\") {\n    const n_mesh_vert = pts.length / 3;\n    let scalars = new Float32Array();\n    let isLittleEndian = true;\n    let reader = new DataView(buffer);\n    let magic = reader.getUint16(0, isLittleEndian);\n    if (magic === 540 || magic === 469893120) {\n      return _NVMeshLoaders.readNII2(buffer, n_mesh_vert, anatomicalStructurePrimary);\n    }\n    if (magic === 23553) {\n      isLittleEndian = false;\n      magic = reader.getUint16(0, isLittleEndian);\n    }\n    if (magic !== 348) {\n      const raw = await NVUtilities.decompress(new Uint8Array(buffer));\n      reader = new DataView(raw.buffer);\n      buffer = raw.buffer;\n      magic = reader.getUint16(0, isLittleEndian);\n      if (magic === 540 || magic === 469893120) {\n        return _NVMeshLoaders.readNII2(buffer, n_mesh_vert, anatomicalStructurePrimary);\n      }\n      if (magic === 23553) {\n        isLittleEndian = false;\n        magic = reader.getUint16(0, isLittleEndian);\n      }\n    }\n    if (magic !== 348) {\n      log.error(\"Not a valid NIfTI image.\");\n    }\n    const voxoffset = reader.getFloat32(108, isLittleEndian);\n    const scl_slope = reader.getFloat32(112, isLittleEndian);\n    const scl_inter = reader.getFloat32(116, isLittleEndian);\n    const qform_code = reader.getUint16(252, isLittleEndian);\n    const sform_code = reader.getUint16(254, isLittleEndian);\n    const datatype = reader.getUint16(70, isLittleEndian);\n    if (datatype !== 2 && datatype !== 4 && datatype !== 8 && datatype !== 16) {\n      throw new Error(\"Unsupported NIfTI datatype \" + datatype);\n    }\n    const sform = mat43.create();\n    for (let i = 0; i < 12; i++) {\n      sform[i] = reader.getFloat32(280 + i * 4, isLittleEndian);\n    }\n    let n_vox = 1;\n    const dim = new Array(8);\n    for (let i = 0; i < 8; i++) {\n      dim[i] = reader.getUint16(40 + i * 2, isLittleEndian);\n      if (i < 1) {\n        continue;\n      }\n      n_vox *= dim[i] || 1;\n    }\n    let is3D = false;\n    let nvertD = this.decimateLayerVertices(n_vox, n_mesh_vert);\n    if (nvertD % n_mesh_vert !== 0) {\n      if (dim[0] >= 3 && dim[1] > 1 && dim[2] > 1 && dim[3] > 1) {\n        is3D = true;\n        nvertD = dim[1] * dim[2] * dim[3];\n      } else {\n        throw new Error(\"Voxels in layer (\" + n_vox + \") is not a multiple of number of vertices (\" + n_mesh_vert + \")\");\n      }\n    }\n    n_vox = nvertD;\n    if (isLittleEndian) {\n      if (datatype === 16) {\n        scalars = new Float32Array(buffer, voxoffset, n_vox);\n      } else if (datatype === 8) {\n        scalars = new Int32Array(buffer, voxoffset, n_vox);\n      } else if (datatype === 4) {\n        scalars = new Int16Array(buffer, voxoffset, n_vox);\n      }\n    } else {\n      if (datatype === 16) {\n        scalars = new Float32Array(n_vox);\n        for (let i = 0; i < n_vox; i++) {\n          scalars[i] = reader.getFloat32(voxoffset + i * 4, isLittleEndian);\n        }\n      } else if (datatype === 8) {\n        scalars = new Int32Array(n_vox);\n        for (let i = 0; i < n_vox; i++) {\n          scalars[i] = reader.getInt32(voxoffset + i * 4, isLittleEndian);\n        }\n      } else if (datatype === 4) {\n        scalars = new Int16Array(n_vox);\n        for (let i = 0; i < n_vox; i++) {\n          scalars[i] = reader.getInt16(voxoffset + i * 2, isLittleEndian);\n        }\n      }\n    }\n    if (datatype === 2) {\n      scalars = new Uint8Array(buffer, voxoffset, n_vox);\n    }\n    if (scl_slope !== 1 || scl_inter !== 0) {\n      const f32 = new Float32Array(n_vox);\n      for (let i = 0; i < n_vox; i++) {\n        f32[i] = scalars[i] * scl_slope + scl_inter;\n      }\n      scalars = f32;\n    }\n    for (let i = 0; i < n_vox; i++) {\n      if (isNaN(scalars[i])) {\n        scalars[i] = 0;\n      }\n    }\n    if (is3D) {\n      let transformMat4homogeneous = function(xyz, m) {\n        const out = [0, 0, 0];\n        out[0] = m[0] * xyz[0] + m[1] * xyz[1] + m[2] * xyz[2] + m[3];\n        out[1] = m[4] * xyz[0] + m[5] * xyz[1] + m[6] * xyz[2] + m[7];\n        out[2] = m[8] * xyz[0] + m[9] * xyz[1] + m[10] * xyz[2] + m[11];\n        return out;\n      };\n      const f32 = new Float32Array(n_vox);\n      log.warn(\"Sampling voxel intensities at mesh vertices (assumes precise alignment).\");\n      if (qform_code > sform_code || sform_code <= 0) {\n        log.warn(`Requires valid sform (sform_code = ${sform_code})`);\n      }\n      const sformInv = mat43.create();\n      mat43.invert(sformInv, sform);\n      const nx = dim[1];\n      const ny = dim[2];\n      const nz = dim[3];\n      const nxy = nx * ny;\n      let j = 0;\n      let k = 0;\n      let nOK = 0;\n      while (k < n_mesh_vert) {\n        const xyz = [pts[j], pts[j + 1], pts[j + 2]];\n        const ijk = transformMat4homogeneous(xyz, sformInv);\n        j += 3;\n        k += 1;\n        const ixf = Math.floor(ijk[0]);\n        const iyf = Math.floor(ijk[1]);\n        const izf = Math.floor(ijk[2]);\n        const ixc = Math.ceil(ijk[0]);\n        const iyc = Math.ceil(ijk[1]);\n        const izc = Math.ceil(ijk[2]);\n        if (ixf < 0 || ixc >= nx || iyf < 0 || iyc >= ny || izf < 0 || izc >= nz) {\n          continue;\n        }\n        const base = ixf + iyf * nx + izf * nxy;\n        const vs = new Float32Array(8);\n        vs[0] = scalars[base];\n        vs[1] = scalars[base + 1];\n        vs[2] = scalars[base + nx];\n        vs[3] = scalars[base + nx + 1];\n        vs[4] = scalars[base + nxy];\n        vs[5] = scalars[base + nxy + 1];\n        vs[6] = scalars[base + nxy + nx];\n        vs[7] = scalars[base + nxy + nx + 1];\n        let maxv = vs[0];\n        let minv = maxv;\n        for (let i = 1; i < 8; i++) {\n          maxv = Math.max(maxv, vs[i]);\n          minv = Math.min(minv, vs[i]);\n        }\n        if (Math.abs(minv) > maxv) {\n          maxv = minv;\n        }\n        f32[k - 1] = maxv;\n        nOK++;\n      }\n      const fractionOK = nOK / n_mesh_vert;\n      if (fractionOK < 0.1) {\n        log.warn(`${nOK} of ${n_mesh_vert} vertices in range (${(fractionOK * 100).toFixed(1)}%)`);\n      }\n      scalars = f32;\n    }\n    return scalars;\n  }\n  // readNII();\n  // read MGH format as vertex colors (not voxel-based image)\n  // https://surfer.nmr.mgh.harvard.edu/fswiki/FsTutorial/MghFormat\n  static async readMGH(buffer, n_vert = 0, isReadColortables = false) {\n    let reader = new DataView(buffer);\n    let raw = buffer;\n    if (reader.getUint8(0) === 31 && reader.getUint8(1) === 139) {\n      const decompressed = await NVUtilities.decompress(new Uint8Array(buffer));\n      raw = new ArrayBuffer(decompressed.byteLength);\n      new Uint8Array(raw).set(new Uint8Array(decompressed));\n      reader = new DataView(decompressed.buffer);\n    }\n    const version2 = reader.getInt32(0, false);\n    const width = Math.max(1, reader.getInt32(4, false));\n    const height = Math.max(1, reader.getInt32(8, false));\n    const depth = Math.max(1, reader.getInt32(12, false));\n    const nframes = Math.max(1, reader.getInt32(16, false));\n    const mtype = reader.getInt32(20, false);\n    let voxoffset = 284;\n    const isLittleEndian = false;\n    if (version2 !== 1 || mtype < 0 || mtype > 4) {\n      log.warn(\"Not a valid MGH file\");\n    }\n    let nvert = width * height * depth * nframes;\n    let scalars = [];\n    nvert = this.decimateLayerVertices(nvert, n_vert);\n    if (nvert % n_vert !== 0) {\n      log.warn(\"Vertices in layer (\" + nvert + \") is not a multiple of number of vertices (\" + n_vert + \")\");\n      return scalars;\n    }\n    if (mtype === 3) {\n      scalars = new Float32Array(nvert);\n      for (let i = 0; i < nvert; i++) {\n        scalars[i] = reader.getFloat32(voxoffset + i * 4, isLittleEndian);\n      }\n    } else if (mtype === 1) {\n      scalars = new Int32Array(nvert);\n      for (let i = 0; i < nvert; i++) {\n        scalars[i] = reader.getInt32(voxoffset + i * 4, isLittleEndian);\n      }\n    } else if (mtype === 4) {\n      scalars = new Int16Array(nvert);\n      for (let i = 0; i < nvert; i++) {\n        scalars[i] = reader.getInt16(voxoffset + i * 2, isLittleEndian);\n      }\n    } else if (mtype === 0) {\n      scalars = new Uint8Array(buffer, voxoffset, nvert);\n    }\n    if (!isReadColortables) {\n      return scalars;\n    }\n    let bytesPerVertex = 4;\n    if (mtype === 4) {\n      bytesPerVertex = 2;\n    }\n    if (mtype === 0) {\n      bytesPerVertex = 1;\n    }\n    voxoffset += bytesPerVertex * nvert;\n    voxoffset += 4 * 4;\n    const TAG_OLD_COLORTABLE = 1;\n    const TAG_OLD_USEREALRAS = 2;\n    const TAG_OLD_SURF_GEOM = 20;\n    const TAG_OLD_MGH_XFORM = 30;\n    const nBytes = raw.byteLength;\n    let colormapLabel;\n    while (voxoffset < nBytes - 8) {\n      const tagType = reader.getInt32(voxoffset += 4, isLittleEndian);\n      let plen = 0;\n      switch (tagType) {\n        case TAG_OLD_MGH_XFORM:\n          plen = reader.getInt32(voxoffset += 4, isLittleEndian) - 1;\n          break;\n        case TAG_OLD_SURF_GEOM:\n        // these don't take lengths at all\n        case TAG_OLD_USEREALRAS:\n          plen = 0;\n          break;\n        case TAG_OLD_COLORTABLE:\n          plen = 0;\n          {\n            let version3 = reader.getInt32(voxoffset += 4, isLittleEndian);\n            if (version3 > 0) {\n              log.warn(\"unsupported CTABreadFromBinaryV1\");\n              return scalars;\n            }\n            version3 = -version3;\n            if (version3 !== 2) {\n              log.warn(\"CTABreadFromBinary: unknown version\");\n              return scalars;\n            }\n            const nentries = reader.getInt32(voxoffset += 4, isLittleEndian);\n            if (nentries < 0) {\n              log.warn(\"CTABreadFromBinaryV2: nentries was \", nentries);\n              return scalars;\n            }\n            const len = reader.getInt32(voxoffset += 4, isLittleEndian);\n            voxoffset += len;\n            const num_entries_to_read = reader.getInt32(voxoffset += 4, isLittleEndian);\n            if (num_entries_to_read < 0) {\n              return scalars;\n            }\n            const Labels = { R: [], G: [], B: [], A: [], I: [], labels: [] };\n            for (let i = 0; i < num_entries_to_read; i++) {\n              const structure = reader.getInt32(voxoffset += 4, isLittleEndian);\n              const labelLen = reader.getInt32(voxoffset += 4, isLittleEndian);\n              let pos = voxoffset + 4;\n              let txt = \"\";\n              for (let c = 0; c < labelLen; c++) {\n                const val = reader.getUint8(pos++);\n                if (val === 0) {\n                  break;\n                }\n                txt += String.fromCharCode(val);\n              }\n              voxoffset += labelLen;\n              const R = reader.getInt32(voxoffset += 4, isLittleEndian);\n              const G = reader.getInt32(voxoffset += 4, isLittleEndian);\n              const B = reader.getInt32(voxoffset += 4, isLittleEndian);\n              const A = 255 - reader.getInt32(voxoffset += 4, isLittleEndian);\n              Labels.I.push(structure);\n              Labels.R.push(R);\n              Labels.G.push(G);\n              Labels.B.push(B);\n              Labels.A.push(A);\n              Labels.labels.push(txt);\n            }\n            colormapLabel = cmapper.makeLabelLut(Labels);\n          }\n          break;\n        default:\n          plen = reader.getInt32(voxoffset += 8, isLittleEndian);\n      }\n      voxoffset += plen;\n    }\n    return {\n      scalars,\n      colormapLabel\n      // TODO can we guarantee this?\n    };\n  }\n  // readMGH()\n  // read X3D format mesh\n  // https://en.wikipedia.org/wiki/X3D\n  static readX3D(buffer) {\n    const len = buffer.byteLength;\n    if (len < 20) {\n      throw new Error(\"File too small to be X3D: bytes = \" + len);\n    }\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    function readStr() {\n      while (pos < len && bytes[pos] !== 60) {\n        pos++;\n      }\n      const startP = pos;\n      while (pos < len && bytes[pos] !== 62) {\n        pos++;\n      }\n      const endP = pos;\n      return new TextDecoder().decode(buffer.slice(startP, endP + 1)).trim();\n    }\n    let line = readStr();\n    function readStringTag(TagName) {\n      const fpos = line.indexOf(TagName + \"=\");\n      if (fpos < 0) {\n        return \"\";\n      }\n      const delimiter = line[fpos + TagName.length + 1];\n      const spos = line.indexOf(delimiter, fpos) + 1;\n      const epos = line.indexOf(delimiter, spos);\n      return line.slice(spos, epos);\n    }\n    function readNumericTag(TagName) {\n      const fpos = line.indexOf(TagName + \"=\");\n      if (fpos < 0) {\n        return 1;\n      }\n      const delimiter = line[fpos + TagName.length + 1];\n      const spos = line.indexOf(delimiter, fpos) + 1;\n      const epos = line.indexOf(delimiter, spos);\n      let str = line.slice(spos, epos).trim();\n      str = str.replace(/,\\s*$/, \"\");\n      const items = str.trim().split(/\\s*,\\s*|\\s+/);\n      if (items.length < 2) {\n        return parseFloat(str);\n      }\n      let ret = new Array(items.length);\n      let j = 0;\n      for (let i = 0; i < items.length; i++) {\n        const v = parseFloat(items[i]);\n        if (!isFinite(v)) {\n          continue;\n        }\n        ret[j] = v;\n        j++;\n      }\n      ret = ret.slice(0, j);\n      return ret;\n    }\n    if (!line.includes(\"xml version\")) {\n      log.warn(\"Not a X3D image\");\n    }\n    let positions = [];\n    let indices = [];\n    let rgba255 = [];\n    let color = [];\n    let translation = [0, 0, 0, 0];\n    let rotation = [0, 0, 0, 0];\n    let rgba = [255, 255, 255, 255];\n    let rgbaGlobal = [255, 255, 255, 255];\n    const appearanceStyles = {};\n    function readAppearance() {\n      if (!line.endsWith(\"/>\")) {\n        if (line.startsWith(\"<Appearance>\")) {\n          while (pos < len && !line.endsWith(\"</Appearance>\")) {\n            line += readStr();\n          }\n        } else {\n          while (pos < len && !line.endsWith(\"/>\")) {\n            line += readStr();\n          }\n        }\n      }\n      const ref = readStringTag(\"USE\");\n      if (ref.length > 1) {\n        if (ref in appearanceStyles) {\n          rgba = appearanceStyles[ref];\n        } else {\n          log.warn(\"Unable to find DEF for \" + ref);\n        }\n        return;\n      }\n      const diffuseColor = readNumericTag(\"diffuseColor\");\n      if (diffuseColor.length < 3) {\n        return;\n      }\n      rgba[0] = Math.round(diffuseColor[0] * 255);\n      rgba[1] = Math.round(diffuseColor[1] * 255);\n      rgba[2] = Math.round(diffuseColor[2] * 255);\n      const def = readStringTag(\"DEF\");\n      if (def.length < 1) {\n        return;\n      }\n      appearanceStyles[def] = rgba;\n    }\n    while (pos < len) {\n      line = readStr();\n      rgba = rgbaGlobal.slice();\n      if (line.startsWith(\"<Transform\")) {\n        translation = readNumericTag(\"translation\");\n        rotation = readNumericTag(\"rotation\");\n      }\n      if (line.startsWith(\"<Appearance\")) {\n        readAppearance();\n        rgbaGlobal = rgba.slice();\n      }\n      if (line.startsWith(\"<Shape\")) {\n        let radius = 1;\n        let height = 1;\n        let coordIndex = [];\n        let point = [];\n        while (pos < len) {\n          line = readStr();\n          if (line.startsWith(\"<Appearance\")) {\n            readAppearance();\n          }\n          if (line.startsWith(\"</Shape\")) {\n            break;\n          }\n          if (line.startsWith(\"<Sphere\")) {\n            radius = readNumericTag(\"radius\");\n            height = -1;\n          }\n          if (line.startsWith(\"<Cylinder\")) {\n            radius = readNumericTag(\"radius\");\n            height = readNumericTag(\"height\");\n          }\n          if (line.startsWith(\"<IndexedFaceSet\")) {\n            height = -2;\n            coordIndex = readNumericTag(\"coordIndex\");\n          }\n          if (line.startsWith(\"<IndexedTriangleSet\")) {\n            height = -7;\n            coordIndex = readNumericTag(\"index\");\n          }\n          if (line.startsWith(\"<IndexedTriangleStripSet\")) {\n            height = -3;\n            coordIndex = readNumericTag(\"index\");\n          }\n          if (line.startsWith(\"<Coordinate\")) {\n            point = readNumericTag(\"point\");\n            const rem = point.length % 3;\n            if (rem !== 0) {\n              point = point.slice(0, -rem);\n            }\n          }\n          if (line.startsWith(\"<Color\")) {\n            color = readNumericTag(\"color\");\n          }\n          if (line.startsWith(\"<Box\")) {\n            height = -4;\n            log.warn(\"Unsupported x3d shape: Box\");\n          }\n          if (line.startsWith(\"<Cone\")) {\n            height = -5;\n            log.warn(\"Unsupported x3d shape: Cone\");\n          }\n          if (line.startsWith(\"<ElevationGrid\")) {\n            height = -6;\n            log.warn(\"Unsupported x3d shape: ElevationGrid\");\n          }\n        }\n        if (height < -3 && height !== -7) {\n        } else if (height < -1) {\n          if (coordIndex.length < 1 || point.length < 3 || point.length === void 0) {\n            log.warn(\"Indexed mesh must specify indices and points\");\n            break;\n          }\n          const idx0 = Math.floor(positions.length / 3);\n          let j = 2;\n          if (height === -7) {\n            indices = [...indices, ...coordIndex];\n          } else if (height === -2) {\n            let triStart = 0;\n            while (j < coordIndex.length) {\n              if (coordIndex[j] >= 0) {\n                indices.push(coordIndex[triStart] + idx0);\n                indices.push(coordIndex[j - 1] + idx0);\n                indices.push(coordIndex[j - 0] + idx0);\n                j += 1;\n              } else {\n                j += 3;\n                triStart = j - 2;\n              }\n            }\n          } else {\n            while (j < coordIndex.length) {\n              if (coordIndex[j] >= 0) {\n                indices.push(coordIndex[j - 2] + idx0);\n                indices.push(coordIndex[j - 1] + idx0);\n                indices.push(coordIndex[j - 0] + idx0);\n                j += 1;\n              } else {\n                j += 3;\n              }\n            }\n          }\n          positions = [...positions, ...point];\n          const npt = Math.floor(point.length / 3);\n          const rgbas = Array(npt).fill(rgba).flat();\n          if (color.length === npt * 3) {\n            let c3 = 0;\n            let c4 = 0;\n            for (let i = 0; i < npt; i++) {\n              for (let j2 = 0; j2 < 3; j2++) {\n                rgbas[c4] = Math.round(color[c3] * 255);\n                c3++;\n                c4++;\n              }\n              c4++;\n            }\n          }\n          rgba255 = [...rgba255, ...rgbas];\n        } else if (height < 0) {\n          NiivueObject3D.makeColoredSphere(positions, indices, rgba255, radius, translation, rgba);\n        } else {\n          const r = mat43.create();\n          mat43.fromRotation(r, rotation[3], [rotation[0], rotation[1], rotation[2]]);\n          const pti = vec43.fromValues(0, -height * 0.5, 0, 1);\n          const ptj = vec43.fromValues(0, +height * 0.5, 0, 1);\n          vec43.transformMat4(pti, pti, r);\n          vec43.transformMat4(ptj, ptj, r);\n          vec43.add(pti, pti, translation);\n          vec43.add(ptj, ptj, translation);\n          const pti3 = vec34.fromValues(pti[0], pti[1], pti[2]);\n          const ptj3 = vec34.fromValues(ptj[0], ptj[1], ptj[2]);\n          NiivueObject3D.makeColoredCylinder(positions, indices, rgba255, pti3, ptj3, radius, rgba);\n        }\n      }\n    }\n    return {\n      positions: Float32Array.from(positions),\n      indices: Uint32Array.from(indices),\n      rgba255: Uint8Array.from(rgba255)\n    };\n  }\n  // readX3D()\n  // read GIfTI format mesh\n  // https://www.nitrc.org/projects/gifti/\n  static async readGII(buffer, n_vert = 0) {\n    let len = buffer.byteLength;\n    if (len < 20) {\n      throw new Error(\"File too small to be GII: bytes = \" + len);\n    }\n    let chars = new TextDecoder(\"ascii\").decode(buffer);\n    if (chars[0].charCodeAt(0) === 31) {\n      const raw = await NVUtilities.decompress(new Uint8Array(buffer));\n      buffer = raw.buffer;\n      chars = new TextDecoder(\"ascii\").decode(raw.buffer);\n    }\n    let pos = 0;\n    function readXMLtag() {\n      let isEmptyTag = true;\n      let startPos = pos;\n      while (isEmptyTag) {\n        while (pos < len && chars[pos] !== \"<\") {\n          pos++;\n        }\n        startPos = pos;\n        while (pos < len && chars[pos] !== \">\") {\n          pos++;\n        }\n        isEmptyTag = chars[pos - 1] === \"/\";\n        if (startPos + 1 < len && chars[startPos + 1] === \"/\") {\n          pos += 1;\n          isEmptyTag = true;\n        }\n        if (pos >= len) {\n          break;\n        }\n      }\n      const tagString = new TextDecoder().decode(buffer.slice(startPos + 1, pos)).trim();\n      const startTag = tagString.split(\" \")[0].trim();\n      const contentStartPos = pos;\n      let contentEndPos = pos;\n      let endPos = pos;\n      if (chars[startPos + 1] !== \"?\" && chars[startPos + 1] !== \"!\") {\n        const endTag = \"</\" + startTag + \">\";\n        contentEndPos = chars.indexOf(endTag, contentStartPos);\n        endPos = contentEndPos + endTag.length - 1;\n      }\n      return {\n        name: tagString,\n        startPos,\n        contentStartPos,\n        contentEndPos,\n        endPos\n      };\n    }\n    let tag = readXMLtag();\n    if (!tag.name.startsWith(\"?xml\")) {\n      throw new Error(\"readGII: Invalid XML file\");\n    }\n    while (!tag.name.startsWith(\"GIFTI\") && tag.endPos < len) {\n      tag = readXMLtag();\n    }\n    if (!tag.name.startsWith(\"GIFTI\") || tag.contentStartPos === tag.contentEndPos) {\n      throw new Error(\"readGII: XML file does not include GIFTI tag\");\n    }\n    len = tag.contentEndPos;\n    let positions = new Float32Array();\n    let indices = new Uint32Array();\n    let scalars = new Float32Array();\n    let anatomicalStructurePrimary = \"\";\n    let isIdx = false;\n    let isPts = false;\n    let isVectors = false;\n    let isColMajor = false;\n    let Dims = [1, 1, 1];\n    const FreeSurferTranlate = [0, 0, 0];\n    let dataType = 0;\n    let isGzip = false;\n    let isASCII = false;\n    let nvert = 0;\n    let isDataSpaceScanner = false;\n    tag.endPos = tag.contentStartPos;\n    let line = \"\";\n    function readNumericTag(TagName, isFloat = false) {\n      const pos2 = line.indexOf(TagName);\n      if (pos2 < 0) {\n        return 1;\n      }\n      const spos = line.indexOf('\"', pos2) + 1;\n      const epos = line.indexOf('\"', spos);\n      const str = line.slice(spos, epos);\n      if (isFloat) {\n        return parseFloat(str);\n      } else {\n        return parseInt(str);\n      }\n    }\n    function readBracketTag(TagName) {\n      const pos2 = line.indexOf(TagName);\n      if (pos2 < 0) {\n        return \"\";\n      }\n      const spos = pos2 + TagName.length;\n      const epos = line.indexOf(\"]\", spos);\n      return line.slice(spos, epos);\n    }\n    const Labels = { R: [], G: [], B: [], A: [], I: [], labels: [] };\n    while (tag.endPos < len && tag.name.length > 1) {\n      tag = readXMLtag();\n      if (tag.name.startsWith(\"Label Key\")) {\n        line = tag.name;\n        Labels.I.push(readNumericTag(\"Key=\"));\n        Labels.R.push(Math.round(255 * readNumericTag(\"Red=\", true)));\n        Labels.G.push(Math.round(255 * readNumericTag(\"Green=\", true)));\n        Labels.B.push(Math.round(255 * readNumericTag(\"Blue=\", true)));\n        Labels.A.push(Math.round(255 * readNumericTag(\"Alpha\", true)));\n        line = new TextDecoder().decode(buffer.slice(tag.contentStartPos + 1, tag.contentEndPos)).trim();\n        Labels.labels.push(readBracketTag(\"<![CDATA[\"));\n      }\n      if (tag.name.trim() === \"Data\") {\n        if (isVectors) {\n          continue;\n        }\n        line = new TextDecoder().decode(buffer.slice(tag.contentStartPos + 1, tag.contentEndPos)).trim();\n        let datBin;\n        if (isASCII) {\n          const nvert2 = Dims[0] * Dims[1] * Dims[2];\n          const lines = line.split(/\\s+/);\n          if (nvert2 !== lines.length) {\n            throw new Error(\"Unable to parse ASCII GIfTI\");\n          }\n          if (dataType === 2) {\n            dataType = 8;\n          }\n          if (dataType === 32) {\n            dataType = 16;\n          }\n          if (dataType === 8) {\n            datBin = new Int32Array(nvert2);\n            for (let v = 0; v < nvert2; v++) {\n              datBin[v] = parseInt(lines[v]);\n            }\n          }\n          if (dataType === 16) {\n            datBin = new Float32Array(nvert2);\n            for (let v = 0; v < nvert2; v++) {\n              datBin[v] = parseFloat(lines[v]);\n            }\n          }\n        } else if (typeof Buffer === \"undefined\") {\n          let base64ToUint8 = function(base64) {\n            const binary_string = atob(base64);\n            const len2 = binary_string.length;\n            const bytes = new Uint8Array(len2);\n            for (let i = 0; i < len2; i++) {\n              bytes[i] = binary_string.charCodeAt(i);\n            }\n            return bytes;\n          };\n          if (isGzip) {\n            const datZ = base64ToUint8(line.slice());\n            datBin = await NVUtilities.decompress(new Uint8Array(datZ));\n          } else {\n            datBin = base64ToUint8(line.slice());\n          }\n        } else {\n          if (isGzip) {\n            const datZ = Buffer.from(line.slice(), \"base64\");\n            datBin = await NVUtilities.decompress(new Uint8Array(datZ));\n          } else {\n            datBin = Buffer.from(line.slice(), \"base64\");\n          }\n        }\n        if (isPts) {\n          if (dataType !== 16) {\n            log.warn(\"expect positions as FLOAT32\");\n          }\n          positions = new Float32Array(datBin.buffer);\n          if (isColMajor) {\n            const tmp = positions.slice();\n            const np = tmp.length / 3;\n            let j = 0;\n            for (let p = 0; p < np; p++) {\n              for (let i = 0; i < 3; i++) {\n                positions[j] = tmp[i * np + p];\n                j++;\n              }\n            }\n          }\n        } else if (isIdx) {\n          if (dataType !== 8) {\n            log.warn(\"expect indices as INT32\");\n          }\n          indices = new Uint32Array(datBin.buffer);\n          if (isColMajor) {\n            const tmp = indices.slice();\n            const np = tmp.length / 3;\n            let j = 0;\n            for (let p = 0; p < np; p++) {\n              for (let i = 0; i < 3; i++) {\n                indices[j] = tmp[i * np + p];\n                j++;\n              }\n            }\n          }\n        } else {\n          let Float32Concat = function(first, second) {\n            const firstLength = first.length;\n            const result = new Float32Array(firstLength + second.length);\n            result.set(first);\n            result.set(second, firstLength);\n            return result;\n          };\n          nvert = Dims[0] * Dims[1] * Dims[2];\n          if (n_vert !== 0) {\n            if (nvert % n_vert !== 0) {\n              log.warn(\"Number of vertices in scalar overlay (\" + nvert + \") does not match mesh (\" + n_vert + \")\");\n            }\n          }\n          let scalarsNew;\n          if (dataType === 2) {\n            const scalarsInt = new Uint8Array(datBin.buffer);\n            scalarsNew = Float32Array.from(scalarsInt);\n          } else if (dataType === 8) {\n            const scalarsInt = new Int32Array(datBin.buffer);\n            scalarsNew = Float32Array.from(scalarsInt);\n          } else if (dataType === 16) {\n            scalarsNew = new Float32Array(datBin.buffer);\n          } else if (dataType === 32) {\n            const scalarFloat = new Float64Array(datBin.buffer);\n            scalarsNew = Float32Array.from(scalarFloat);\n          } else {\n            throw new Error(`Invalid dataType: ${dataType}`);\n          }\n          scalars = Float32Concat(scalars, scalarsNew);\n        }\n        continue;\n      }\n      if (tag.name.trim() === \"DataSpace\") {\n        line = new TextDecoder().decode(buffer.slice(tag.contentStartPos + 1, tag.contentEndPos)).trim();\n        if (line.includes(\"NIFTI_XFORM_SCANNER_ANAT\")) {\n          isDataSpaceScanner = true;\n        }\n      }\n      if (tag.name.trim() === \"MD\") {\n        line = new TextDecoder().decode(buffer.slice(tag.contentStartPos + 1, tag.contentEndPos)).trim();\n        if (line.includes(\"AnatomicalStructurePrimary\") && line.includes(\"CDATA[\")) {\n          anatomicalStructurePrimary = readBracketTag(\"<Value><![CDATA[\").toUpperCase();\n        }\n        if (line.includes(\"VolGeom\") && line.includes(\"CDATA[\")) {\n          let e = -1;\n          if (line.includes(\"VolGeomC_R\")) {\n            e = 0;\n          }\n          if (line.includes(\"VolGeomC_A\")) {\n            e = 1;\n          }\n          if (line.includes(\"VolGeomC_S\")) {\n            e = 2;\n          }\n          if (e < 0) {\n            continue;\n          }\n          FreeSurferTranlate[e] = parseFloat(readBracketTag(\"<Value><![CDATA[\"));\n        }\n      }\n      if (!tag.name.startsWith(\"DataArray\")) {\n        continue;\n      }\n      line = tag.name;\n      Dims = [1, 1, 1];\n      isGzip = line.includes('Encoding=\"GZipBase64Binary\"');\n      isASCII = line.includes('Encoding=\"ASCII\"');\n      isIdx = line.includes('Intent=\"NIFTI_INTENT_TRIANGLE\"');\n      isPts = line.includes('Intent=\"NIFTI_INTENT_POINTSET\"');\n      isVectors = line.includes('Intent=\"NIFTI_INTENT_VECTOR\"');\n      isColMajor = line.includes('ArrayIndexingOrder=\"ColumnMajorOrder\"');\n      if (line.includes('DataType=\"NIFTI_TYPE_UINT8\"')) {\n        dataType = 2;\n      }\n      if (line.includes('DataType=\"NIFTI_TYPE_INT32\"')) {\n        dataType = 8;\n      }\n      if (line.includes('DataType=\"NIFTI_TYPE_FLOAT32\"')) {\n        dataType = 16;\n      }\n      if (line.includes('DataType=\"NIFTI_TYPE_FLOAT64\"')) {\n        dataType = 32;\n      }\n      Dims[0] = readNumericTag(\"Dim0=\");\n      Dims[1] = readNumericTag(\"Dim1=\");\n      Dims[2] = readNumericTag(\"Dim2=\");\n    }\n    let colormapLabel;\n    if (Labels.I.length > 1) {\n      const hasAlpha = Labels.A.some((a) => a > 0);\n      if (!hasAlpha) {\n        Labels.A.fill(255);\n      }\n      colormapLabel = cmapper.makeLabelLut(Labels);\n    }\n    if (n_vert > 0) {\n      return { scalars, colormapLabel, anatomicalStructurePrimary };\n    }\n    if (positions.length > 2 && !isDataSpaceScanner && (FreeSurferTranlate[0] !== 0 || FreeSurferTranlate[1] !== 0 || FreeSurferTranlate[2] !== 0)) {\n      nvert = Math.floor(positions.length / 3);\n      let i = 0;\n      for (let v = 0; v < nvert; v++) {\n        positions[i] += FreeSurferTranlate[0];\n        i++;\n        positions[i] += FreeSurferTranlate[1];\n        i++;\n        positions[i] += FreeSurferTranlate[2];\n        i++;\n      }\n    }\n    return {\n      positions,\n      indices,\n      scalars,\n      colormapLabel,\n      anatomicalStructurePrimary\n    };\n  }\n  // readGII()\n};\n\n// src/nvlabel.ts\nvar LabelTextAlignment = /* @__PURE__ */ ((LabelTextAlignment2) => {\n  LabelTextAlignment2[\"LEFT\"] = \"left\";\n  LabelTextAlignment2[\"RIGHT\"] = \"right\";\n  LabelTextAlignment2[\"CENTER\"] = \"center\";\n  return LabelTextAlignment2;\n})(LabelTextAlignment || {});\nvar LabelLineTerminator = /* @__PURE__ */ ((LabelLineTerminator2) => {\n  LabelLineTerminator2[\"NONE\"] = \"none\";\n  LabelLineTerminator2[\"CIRCLE\"] = \"circle\";\n  LabelLineTerminator2[\"RING\"] = \"ring\";\n  return LabelLineTerminator2;\n})(LabelLineTerminator || {});\nvar LabelAnchorPoint = /* @__PURE__ */ ((LabelAnchorPoint2) => {\n  LabelAnchorPoint2[LabelAnchorPoint2[\"NONE\"] = 0 /* NONE */] = \"NONE\";\n  LabelAnchorPoint2[LabelAnchorPoint2[\"TOPLEFT\"] = 9] = \"TOPLEFT\";\n  LabelAnchorPoint2[LabelAnchorPoint2[\"TOPCENTER\"] = 10] = \"TOPCENTER\";\n  LabelAnchorPoint2[LabelAnchorPoint2[\"TOPRIGHT\"] = 12] = \"TOPRIGHT\";\n  LabelAnchorPoint2[LabelAnchorPoint2[\"MIDDLELEFT\"] = 17] = \"MIDDLELEFT\";\n  LabelAnchorPoint2[LabelAnchorPoint2[\"MIDDLECENTER\"] = 18] = \"MIDDLECENTER\";\n  LabelAnchorPoint2[LabelAnchorPoint2[\"MIDDLERIGHT\"] = 20] = \"MIDDLERIGHT\";\n  LabelAnchorPoint2[LabelAnchorPoint2[\"BOTTOMLEFT\"] = 33] = \"BOTTOMLEFT\";\n  LabelAnchorPoint2[LabelAnchorPoint2[\"BOTTOMCENTER\"] = 34] = \"BOTTOMCENTER\";\n  LabelAnchorPoint2[LabelAnchorPoint2[\"BOTTOMRIGHT\"] = 36] = \"BOTTOMRIGHT\";\n  return LabelAnchorPoint2;\n})(LabelAnchorPoint || {});\nvar NVLabel3DStyle = class {\n  /**\n   * @param textColor - Color of text\n   * @param textScale - Text Size (0.0..1.0)\n   * @param lineWidth - Line width\n   * @param lineColor - Line color\n   * @param bulletScale - Bullet size respective of text\n   * @param bulletColor - Bullet color\n   * @param backgroundColor - Background color of label\n   */\n  constructor(textColor = [1, 1, 1, 1], textScale = 1, textAlignment = \"left\" /* LEFT */, lineWidth = 0, lineColor = [0, 0, 0], lineTerminator = \"none\" /* NONE */, bulletScale, bulletColor, backgroundColor) {\n    __publicField(this, \"textColor\");\n    __publicField(this, \"textScale\");\n    __publicField(this, \"textAlignment\");\n    __publicField(this, \"lineWidth\");\n    __publicField(this, \"lineColor\");\n    __publicField(this, \"lineTerminator\");\n    __publicField(this, \"bulletScale\");\n    __publicField(this, \"bulletColor\");\n    __publicField(this, \"backgroundColor\");\n    this.textColor = textColor;\n    this.textScale = textScale;\n    this.textAlignment = textAlignment;\n    this.lineWidth = lineWidth;\n    this.lineColor = lineColor;\n    this.lineTerminator = lineTerminator;\n    this.bulletScale = bulletScale;\n    this.bulletColor = bulletColor;\n    this.backgroundColor = backgroundColor;\n  }\n};\nvar NVLabel3D = class {\n  /**\n   * @param text - The text of the label\n   * @param style - The style of the label\n   * @param points - An array of points label for label lines\n   */\n  constructor(text, style, points, anchor, onClick) {\n    __publicField(this, \"text\");\n    __publicField(this, \"style\");\n    __publicField(this, \"points\");\n    __publicField(this, \"anchor\");\n    __publicField(this, \"onClick\");\n    this.text = text;\n    this.style = style;\n    this.points = points;\n    this.anchor = anchor || 0 /* NONE */;\n    this.onClick = onClick;\n  }\n};\n\n// src/nvdocument.ts\nimport { serialize, deserialize } from \"@ungap/structured-clone\";\nimport { vec3 as vec38, vec4 as vec46 } from \"gl-matrix\";\n\n// src/nvimage/index.ts\nimport { NIFTI1 as NIFTI14, NIFTIEXTENSION, readHeaderAsync as readHeaderAsync2 } from \"nifti-reader-js\";\nimport * as zarr from \"zarrita\";\nimport { mat3 as mat32, mat4 as mat46, vec3 as vec37, vec4 as vec45 } from \"gl-matrix\";\nimport { v4 as uuidv4 } from \"@lukeed/uuid\";\nimport { Gunzip } from \"fflate\";\n\n// src/nvimage/utils.ts\nimport { vec3 as vec35 } from \"gl-matrix\";\nvar isPlatformLittleEndian = () => {\n  const buffer = new ArrayBuffer(2);\n  new DataView(buffer).setInt16(0, 256, true);\n  return new Int16Array(buffer)[0] === 256;\n};\nvar ImageType = /* @__PURE__ */ ((ImageType3) => {\n  ImageType3[ImageType3[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n  ImageType3[ImageType3[\"NII\"] = 1] = \"NII\";\n  ImageType3[ImageType3[\"DCM\"] = 2] = \"DCM\";\n  ImageType3[ImageType3[\"DCM_MANIFEST\"] = 3] = \"DCM_MANIFEST\";\n  ImageType3[ImageType3[\"MIH\"] = 4] = \"MIH\";\n  ImageType3[ImageType3[\"MIF\"] = 5] = \"MIF\";\n  ImageType3[ImageType3[\"NHDR\"] = 6] = \"NHDR\";\n  ImageType3[ImageType3[\"NRRD\"] = 7] = \"NRRD\";\n  ImageType3[ImageType3[\"MHD\"] = 8] = \"MHD\";\n  ImageType3[ImageType3[\"MHA\"] = 9] = \"MHA\";\n  ImageType3[ImageType3[\"MGH\"] = 10] = \"MGH\";\n  ImageType3[ImageType3[\"MGZ\"] = 11] = \"MGZ\";\n  ImageType3[ImageType3[\"V\"] = 12] = \"V\";\n  ImageType3[ImageType3[\"V16\"] = 13] = \"V16\";\n  ImageType3[ImageType3[\"VMR\"] = 14] = \"VMR\";\n  ImageType3[ImageType3[\"HEAD\"] = 15] = \"HEAD\";\n  ImageType3[ImageType3[\"DCM_FOLDER\"] = 16] = \"DCM_FOLDER\";\n  ImageType3[ImageType3[\"SRC\"] = 17] = \"SRC\";\n  ImageType3[ImageType3[\"FIB\"] = 18] = \"FIB\";\n  ImageType3[ImageType3[\"BMP\"] = 19] = \"BMP\";\n  ImageType3[ImageType3[\"ZARR\"] = 20] = \"ZARR\";\n  ImageType3[ImageType3[\"NPY\"] = 21] = \"NPY\";\n  ImageType3[ImageType3[\"NPZ\"] = 22] = \"NPZ\";\n  ImageType3[ImageType3[\"HDR\"] = 23] = \"HDR\";\n  return ImageType3;\n})(ImageType || {});\nvar NVIMAGE_TYPE = Object.freeze({\n  ...ImageType,\n  parse: (ext) => {\n    let imageType = 0 /* UNKNOWN */;\n    switch (ext.toUpperCase()) {\n      case \"\":\n      case \"DCM\":\n        imageType = 2 /* DCM */;\n        break;\n      case \"TXT\":\n        imageType = 3 /* DCM_MANIFEST */;\n        break;\n      case \"FZ\":\n      case \"GQI\":\n      case \"QSDR\":\n      case \"FIB\":\n        imageType = 18 /* FIB */;\n        break;\n      case \"HDR\":\n      case \"NII\":\n        imageType = 1 /* NII */;\n        break;\n      case \"MIH\":\n        imageType = 4 /* MIH */;\n        break;\n      case \"MIF\":\n        imageType = 5 /* MIF */;\n        break;\n      case \"NHDR\":\n        imageType = 6 /* NHDR */;\n        break;\n      case \"NRRD\":\n        imageType = 7 /* NRRD */;\n        break;\n      case \"MHD\":\n        imageType = 8 /* MHD */;\n        break;\n      case \"MHA\":\n        imageType = 9 /* MHA */;\n        break;\n      case \"MGH\":\n        imageType = 10 /* MGH */;\n        break;\n      case \"MGZ\":\n        imageType = 11 /* MGZ */;\n        break;\n      case \"NPY\":\n        imageType = 21 /* NPY */;\n        break;\n      case \"NPZ\":\n        imageType = 22 /* NPZ */;\n        break;\n      case \"SRC\":\n        imageType = 17 /* SRC */;\n        break;\n      case \"V\":\n        imageType = 12 /* V */;\n        break;\n      case \"V16\":\n        imageType = 13 /* V16 */;\n        break;\n      case \"VMR\":\n        imageType = 14 /* VMR */;\n        break;\n      case \"HEAD\":\n        imageType = 15 /* HEAD */;\n        break;\n      case \"PNG\":\n      case \"BMP\":\n      case \"GIF\":\n      case \"JPG\":\n      case \"JPEG\":\n        imageType = 19 /* BMP */;\n        break;\n      case \"ZARR\":\n        imageType = 20 /* ZARR */;\n        break;\n    }\n    return imageType;\n  }\n});\nvar NVImageFromUrlOptions = (url, urlImageData = \"\", name = \"\", colormap = \"gray\", opacity = 1, cal_min = NaN, cal_max = NaN, trustCalMinMax = true, percentileFrac = 0.02, ignoreZeroVoxels = false, useQFormNotSForm = false, colormapNegative = \"\", frame4D = 0, imageType = NVIMAGE_TYPE.UNKNOWN, cal_minNeg = NaN, cal_maxNeg = NaN, colorbarVisible = true, alphaThreshold = false, colormapLabel = null) => {\n  return {\n    url,\n    urlImageData,\n    name,\n    colormap,\n    colorMap: colormap,\n    opacity,\n    cal_min,\n    cal_max,\n    trustCalMinMax,\n    percentileFrac,\n    ignoreZeroVoxels,\n    useQFormNotSForm,\n    colormapNegative,\n    imageType,\n    cal_minNeg,\n    cal_maxNeg,\n    colorbarVisible,\n    frame4D,\n    alphaThreshold,\n    colormapLabel\n  };\n};\nfunction str2Buffer(str, maxLen = 80) {\n  str = str.replace(/[`$]/g, \"\");\n  const bytes = [];\n  const len = Math.min(maxLen, str.length);\n  for (let i = 0; i < len; i++) {\n    const char = str.charCodeAt(i);\n    bytes.push(char & 255);\n  }\n  return bytes;\n}\nfunction hdrToArrayBuffer(hdr, isDrawing8 = false, isInputEndian = false) {\n  const SHORT_SIZE = 2;\n  const FLOAT32_SIZE = 4;\n  let isLittleEndian = true;\n  if (isInputEndian) {\n    isLittleEndian = hdr.littleEndian;\n  }\n  const byteArray = new Uint8Array(348);\n  const view = new DataView(byteArray.buffer);\n  view.setInt32(0, 348, isLittleEndian);\n  view.setUint8(38, 114);\n  view.setUint8(39, hdr.dim_info);\n  for (let i = 0; i < 8; i++) {\n    view.setUint16(40 + SHORT_SIZE * i, hdr.dims[i], isLittleEndian);\n  }\n  view.setFloat32(56, hdr.intent_p1, isLittleEndian);\n  view.setFloat32(60, hdr.intent_p2, isLittleEndian);\n  view.setFloat32(64, hdr.intent_p3, isLittleEndian);\n  view.setInt16(68, hdr.intent_code, isLittleEndian);\n  if (isDrawing8) {\n    view.setInt16(70, 2, isLittleEndian);\n    view.setInt16(72, 8, isLittleEndian);\n  } else {\n    view.setInt16(70, hdr.datatypeCode, isLittleEndian);\n    view.setInt16(72, hdr.numBitsPerVoxel, isLittleEndian);\n  }\n  view.setInt16(74, hdr.slice_start, isLittleEndian);\n  for (let i = 0; i < 8; i++) {\n    view.setFloat32(76 + FLOAT32_SIZE * i, hdr.pixDims[i], isLittleEndian);\n  }\n  if (isDrawing8) {\n    view.setFloat32(108, 352, isLittleEndian);\n    view.setFloat32(112, 1, isLittleEndian);\n    view.setFloat32(116, 0, isLittleEndian);\n  } else {\n    view.setFloat32(108, hdr.vox_offset, isLittleEndian);\n    view.setFloat32(112, hdr.scl_slope, isLittleEndian);\n    view.setFloat32(116, hdr.scl_inter, isLittleEndian);\n  }\n  view.setInt16(120, hdr.slice_end, isLittleEndian);\n  view.setUint8(122, hdr.slice_code);\n  if (hdr.xyzt_units === 0) {\n    view.setUint8(123, 10);\n  } else {\n    view.setUint8(123, hdr.xyzt_units);\n  }\n  if (isDrawing8) {\n    view.setFloat32(124, 0, isLittleEndian);\n    view.setFloat32(128, 0, isLittleEndian);\n  } else {\n    view.setFloat32(124, hdr.cal_max, isLittleEndian);\n    view.setFloat32(128, hdr.cal_min, isLittleEndian);\n  }\n  view.setFloat32(132, hdr.slice_duration, isLittleEndian);\n  view.setFloat32(136, hdr.toffset, isLittleEndian);\n  byteArray.set(str2Buffer(hdr.description), 148);\n  byteArray.set(str2Buffer(hdr.aux_file), 228);\n  view.setInt16(252, hdr.qform_code, isLittleEndian);\n  if (hdr.sform_code < 1 || hdr.sform_code < 1) {\n    view.setInt16(254, 1, isLittleEndian);\n  } else {\n    view.setInt16(254, hdr.sform_code, isLittleEndian);\n  }\n  view.setFloat32(256, hdr.quatern_b, isLittleEndian);\n  view.setFloat32(260, hdr.quatern_c, isLittleEndian);\n  view.setFloat32(264, hdr.quatern_d, isLittleEndian);\n  view.setFloat32(268, hdr.qoffset_x, isLittleEndian);\n  view.setFloat32(272, hdr.qoffset_y, isLittleEndian);\n  view.setFloat32(276, hdr.qoffset_z, isLittleEndian);\n  const flattened = hdr.affine.flat();\n  for (let i = 0; i < 12; i++) {\n    view.setFloat32(280 + FLOAT32_SIZE * i, flattened[i], isLittleEndian);\n  }\n  view.setInt32(344, 3222382, true);\n  return byteArray;\n}\nfunction getExtents(positions, forceOriginInVolume = true) {\n  const nV = Math.round(positions.length / 3);\n  const origin = vec35.fromValues(0, 0, 0);\n  const mn = vec35.create();\n  const mx = vec35.create();\n  let mxDx = 0;\n  let nLoops = 1;\n  if (forceOriginInVolume) {\n    nLoops = 2;\n  }\n  for (let loop = 0; loop < nLoops; loop++) {\n    mxDx = 0;\n    for (let i = 0; i < nV; i++) {\n      const v = vec35.fromValues(positions[i * 3], positions[i * 3 + 1], positions[i * 3 + 2]);\n      if (i === 0) {\n        vec35.copy(mn, v);\n        vec35.copy(mx, v);\n      }\n      vec35.min(mn, mn, v);\n      vec35.max(mx, mx, v);\n      vec35.subtract(v, v, origin);\n      const dx = vec35.len(v);\n      mxDx = Math.max(mxDx, dx);\n    }\n    if (loop + 1 >= nLoops) {\n      break;\n    }\n    let ok = true;\n    for (let j = 0; j < 3; ++j) {\n      if (mn[j] > origin[j]) {\n        ok = false;\n      }\n      if (mx[j] < origin[j]) {\n        ok = false;\n      }\n    }\n    if (ok) {\n      break;\n    }\n    vec35.lerp(origin, mn, mx, 0.5);\n    log.debug(\"origin moved inside volume: \", origin);\n  }\n  const min = [mn[0], mn[1], mn[2]];\n  const max = [mx[0], mx[1], mx[2]];\n  const furthestVertexFromOrigin = mxDx;\n  return { min, max, furthestVertexFromOrigin, origin };\n}\nfunction isAffineOK(mtx) {\n  const iOK = [false, false, false, false];\n  const jOK = [false, false, false, false];\n  for (let i = 0; i < 4; i++) {\n    for (let j = 0; j < 4; j++) {\n      if (isNaN(mtx[i][j])) {\n        return false;\n      }\n    }\n  }\n  for (let i = 0; i < 3; i++) {\n    for (let j = 0; j < 3; j++) {\n      if (mtx[i][j] === 0) {\n        continue;\n      }\n      iOK[i] = true;\n      jOK[j] = true;\n    }\n  }\n  for (let i = 0; i < 3; i++) {\n    if (!iOK[i]) {\n      return false;\n    }\n    if (!jOK[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nasync function uncompressStream(stream) {\n  const reader = stream.getReader();\n  const { done, value } = await reader.read();\n  if (done) {\n    reader.releaseLock();\n    return new ReadableStream({\n      start(controller) {\n        controller.close();\n      }\n    });\n  }\n  if (!value || value.length < 2) {\n    reader.releaseLock();\n    return new ReadableStream({\n      start(controller) {\n        if (value) {\n          controller.enqueue(value);\n        }\n        controller.close();\n      }\n    });\n  }\n  const isGzip = value[0] === 31 && value[1] === 139;\n  const uncompressedStream = new ReadableStream({\n    async start(controller) {\n      try {\n        controller.enqueue(value);\n        while (true) {\n          const { done: done2, value: value2 } = await reader.read();\n          if (done2) {\n            controller.close();\n            reader.releaseLock();\n            break;\n          }\n          controller.enqueue(value2);\n        }\n      } catch (error) {\n        controller.error(error);\n        reader.releaseLock();\n      }\n    }\n  });\n  if (isGzip) {\n    return uncompressedStream.pipeThrough(new DecompressionStream(\"gzip\"));\n  }\n  return uncompressedStream;\n}\n\n// src/nvimage/ImageWriter.ts\nimport { NIFTI1 } from \"nifti-reader-js\";\nfunction createNiftiHeader(dims = [256, 256, 256], pixDims = [1, 1, 1], affine = [1, 0, 0, -128, 0, 1, 0, -128, 0, 0, 1, -128, 0, 0, 0, 1], datatypeCode = 2 /* DT_UINT8 */) {\n  const hdr = new NIFTI1();\n  hdr.littleEndian = true;\n  hdr.dims = [3, 1, 1, 1, 0, 0, 0, 0];\n  hdr.dims[0] = Math.max(3, dims.length);\n  for (let i = 0; i < dims.length; i++) {\n    hdr.dims[i + 1] = dims[i];\n  }\n  hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n  for (let i = 0; i < dims.length; i++) {\n    hdr.pixDims[i + 1] = pixDims[i];\n  }\n  if (affine.length === 16) {\n    let k = 0;\n    for (let i = 0; i < 4; i++) {\n      for (let j = 0; j < 4; j++) {\n        hdr.affine[i][j] = affine[k];\n        k++;\n      }\n    }\n  }\n  let bpv = 8;\n  if (datatypeCode === 256 /* DT_INT8 */ || datatypeCode === 2 /* DT_UINT8 */) {\n    bpv = 8;\n  } else if (datatypeCode === 512 /* DT_UINT16 */ || datatypeCode === 4 /* DT_INT16 */) {\n    bpv = 16;\n  } else if (datatypeCode === 16 /* DT_FLOAT32 */ || datatypeCode === 768 /* DT_UINT32 */ || datatypeCode === 8 /* DT_INT32 */ || datatypeCode === 2304 /* DT_RGBA32 */) {\n    bpv = 32;\n  } else if (datatypeCode === 64 /* DT_FLOAT64 */) {\n    bpv = 64;\n  } else {\n    log.warn(\"Unsupported NIfTI datatypeCode for header creation: \" + datatypeCode);\n  }\n  hdr.datatypeCode = datatypeCode;\n  hdr.numBitsPerVoxel = bpv;\n  hdr.scl_inter = 0;\n  hdr.scl_slope = 1;\n  hdr.sform_code = 2;\n  hdr.magic = \"n+1\";\n  hdr.vox_offset = 352;\n  return hdr;\n}\nfunction createNiftiArray(dims = [256, 256, 256], pixDims = [1, 1, 1], affine = [1, 0, 0, -128, 0, 1, 0, -128, 0, 0, 1, -128, 0, 0, 0, 1], datatypeCode = 2 /* DT_UINT8 */, img = new Uint8Array()) {\n  const hdr = createNiftiHeader(dims, pixDims, affine, datatypeCode);\n  const hdrBytes = hdrToArrayBuffer(hdr, false);\n  hdr.vox_offset = Math.max(352, hdrBytes.length);\n  const finalHdrBytes = hdrToArrayBuffer(hdr, false);\n  if (img.length < 1) {\n    return finalHdrBytes;\n  }\n  const paddingSize = Math.max(0, hdr.vox_offset - finalHdrBytes.length);\n  const padding = new Uint8Array(paddingSize);\n  const imgBytes = new Uint8Array(img.buffer, img.byteOffset, img.byteLength);\n  const totalLength = hdr.vox_offset + imgBytes.length;\n  const outputData = new Uint8Array(totalLength);\n  outputData.set(finalHdrBytes, 0);\n  outputData.set(padding, finalHdrBytes.length);\n  outputData.set(imgBytes, hdr.vox_offset);\n  return outputData;\n}\nfunction toUint8Array(nvImage, drawingBytes = null) {\n  if (!nvImage.hdr) {\n    throw new Error(\"NVImage header is not defined for toUint8Array\");\n  }\n  if (!nvImage.img && drawingBytes === null) {\n    throw new Error(\"NVImage image data is not defined for toUint8Array\");\n  }\n  const isDrawing = drawingBytes !== null;\n  const hdrCopy = JSON.parse(JSON.stringify(nvImage.hdr));\n  const hasExtensions = nvImage.extensions && nvImage.extensions.length > 0;\n  const extFlag = new Uint8Array(4);\n  extFlag[0] = hasExtensions ? 1 : 0;\n  let extensionsData = new Uint8Array(0);\n  if (hasExtensions) {\n    const blocks = [];\n    let totalSize = 0;\n    for (const ext of nvImage.extensions) {\n      const edataBytes = new Uint8Array(ext.edata);\n      const block = new Uint8Array(8 + edataBytes.length);\n      const dv = new DataView(block.buffer);\n      dv.setInt32(0, ext.esize, true);\n      dv.setInt32(4, ext.ecode, true);\n      block.set(edataBytes, 8);\n      blocks.push(block);\n      totalSize += block.length;\n    }\n    extensionsData = new Uint8Array(totalSize);\n    let offset2 = 0;\n    for (const block of blocks) {\n      extensionsData.set(block, offset2);\n      offset2 += block.length;\n    }\n  }\n  const headerSize = 348;\n  hdrCopy.vox_offset = Math.max(352, headerSize + extFlag.length + extensionsData.length);\n  if (isDrawing) {\n    hdrCopy.datatypeCode = 2 /* DT_UINT8 */;\n    hdrCopy.numBitsPerVoxel = 8;\n    hdrCopy.scl_slope = 1;\n    hdrCopy.scl_inter = 0;\n  }\n  const hdrBytes = hdrToArrayBuffer(hdrCopy, isDrawing);\n  let imageBytesToSave;\n  if (isDrawing) {\n    const drawingBytesCurrent = drawingBytes;\n    const perm = nvImage.permRAS;\n    if (perm && (perm[0] !== 1 || perm[1] !== 2 || perm[2] !== 3)) {\n      log.debug(\"Reorienting drawing bytes back to native space for saving...\");\n      const dims = nvImage.hdr.dims;\n      const nVox = dims[1] * dims[2] * dims[3];\n      const nVoxRAS = nvImage.dimsRAS ? nvImage.dimsRAS[1] * nvImage.dimsRAS[2] * nvImage.dimsRAS[3] : nVox;\n      if (drawingBytesCurrent.length !== nVoxRAS) {\n        console.warn(\n          `Drawing length (${drawingBytesCurrent.length}) does not match expected RAS voxel count (${nVoxRAS}). Cannot reorient drawing reliably.`\n        );\n        imageBytesToSave = drawingBytesCurrent;\n      } else if (!nvImage.img2RASstep || !nvImage.img2RASstart || !nvImage.dimsRAS) {\n        console.warn(\n          `Missing RAS transformation info (img2RASstep, img2RASstart, dimsRAS). Cannot reorient drawing reliably.`\n        );\n        imageBytesToSave = drawingBytesCurrent;\n      } else {\n        const step = nvImage.img2RASstep;\n        const start = nvImage.img2RASstart;\n        const dimsRAS = nvImage.dimsRAS;\n        const nativeData = new Uint8Array(nVox);\n        nativeData.fill(0);\n        const inputDrawingRAS = drawingBytesCurrent;\n        let rasIndex = 0;\n        for (let rz = 0; rz < dimsRAS[3]; rz++) {\n          const zi = start[2] + rz * step[2];\n          for (let ry = 0; ry < dimsRAS[2]; ry++) {\n            const yi = start[1] + ry * step[1];\n            for (let rx = 0; rx < dimsRAS[1]; rx++) {\n              const xi = start[0] + rx * step[0];\n              const nativeIndex = xi + yi + zi;\n              if (nativeIndex >= 0 && nativeIndex < nVox) {\n                nativeData[nativeIndex] = inputDrawingRAS[rasIndex];\n              } else if (rasIndex < inputDrawingRAS.length) {\n                console.warn(\n                  `Calculated native index ${nativeIndex} is out of bounds [0..${nVox - 1}] during drawing reorientation.`\n                );\n              }\n              rasIndex++;\n            }\n          }\n        }\n        imageBytesToSave = nativeData;\n      }\n    } else {\n      imageBytesToSave = drawingBytesCurrent;\n    }\n  } else {\n    if (!nvImage.img) {\n      throw new Error(\"NVImage image data is null when trying to save non-drawing.\");\n    }\n    imageBytesToSave = new Uint8Array(nvImage.img.buffer, nvImage.img.byteOffset, nvImage.img.byteLength);\n  }\n  const preImageBytesSize = hdrBytes.length + extFlag.length + extensionsData.length;\n  const paddingSize = Math.max(0, hdrCopy.vox_offset - preImageBytesSize);\n  const padding = new Uint8Array(paddingSize);\n  const totalLength = hdrCopy.vox_offset + imageBytesToSave.length;\n  const outputData = new Uint8Array(totalLength);\n  let offset = 0;\n  outputData.set(hdrBytes, offset);\n  offset += hdrBytes.length;\n  outputData.set(extFlag, offset);\n  offset += extFlag.length;\n  outputData.set(extensionsData, offset);\n  offset += extensionsData.length;\n  outputData.set(padding, offset);\n  offset += padding.length;\n  outputData.set(imageBytesToSave, hdrCopy.vox_offset);\n  return outputData;\n}\nasync function saveToUint8Array(nvImage, fnm, drawing8 = null) {\n  const odata = toUint8Array(nvImage, drawing8);\n  const compress = fnm.toLowerCase().endsWith(\".gz\");\n  if (compress) {\n    try {\n      const compressedData = await NVUtilities.compress(odata, \"gzip\");\n      return new Uint8Array(compressedData);\n    } catch (error) {\n      log.error(\"Compression failed:\", error);\n      log.warn(\"Returning uncompressed data due to compression error.\");\n      return odata;\n    }\n  } else {\n    return odata;\n  }\n}\nasync function saveToDisk(nvImage, fnm = \"\", drawing8 = null) {\n  const saveData = await saveToUint8Array(nvImage, fnm, drawing8);\n  if (!fnm) {\n    log.debug(\"saveToDisk: empty file name, returning data as Uint8Array rather than triggering download\");\n    return saveData;\n  }\n  try {\n    const blob = new Blob([saveData.buffer], {\n      type: \"application/octet-stream\"\n      // Standard type for binary download\n    });\n    const blobUrl = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"href\", blobUrl);\n    link.setAttribute(\"download\", fnm);\n    link.style.visibility = \"hidden\";\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    setTimeout(() => URL.revokeObjectURL(blobUrl), 100);\n  } catch (e) {\n    log.error(\"Failed to trigger download:\", e);\n  }\n  return saveData;\n}\n\n// src/nvimage/VolumeUtils.ts\nimport { vec4 as vec44 } from \"gl-matrix\";\nfunction getValues(nvImage, x, y, z, frame4D = 0, isReadImaginary = false) {\n  if (!nvImage.hdr) {\n    throw new Error(\"getValue: NVImage header is not defined.\");\n  }\n  if (!isReadImaginary && !nvImage.img) {\n    throw new Error(\"getValue: NVImage image data is not defined.\");\n  }\n  if (isReadImaginary && !nvImage.imaginary) {\n    log.warn(\"getValue: Attempted to read imaginary data, but none exists.\");\n    return [0];\n  }\n  const nx = nvImage.hdr.dims[1];\n  const ny = nvImage.hdr.dims[2];\n  const nz = nvImage.hdr.dims[3];\n  const perm = nvImage.permRAS.slice();\n  if (perm[0] !== 1 || perm[1] !== 2 || perm[2] !== 3) {\n    const pos = vec44.fromValues(x, y, z, 1);\n    vec44.transformMat4(pos, pos, nvImage.toRASvox);\n    x = pos[0];\n    y = pos[1];\n    z = pos[2];\n  }\n  x = Math.max(0, Math.min(Math.round(x), nx - 1));\n  y = Math.max(0, Math.min(Math.round(y), ny - 1));\n  z = Math.max(0, Math.min(Math.round(z), nz - 1));\n  frame4D = Math.max(0, frame4D);\n  let vx = x + y * nx + z * nx * ny;\n  if (nvImage.hdr.datatypeCode === 2304 /* DT_RGBA32 */) {\n    if (!nvImage.img) {\n      return [0];\n    }\n    vx *= 4;\n    if (vx + 3 >= nvImage.img.length) {\n      log.warn(`getValue: Calculated index ${vx} out of bounds for RGBA data.`);\n      return [0];\n    }\n    return [nvImage.img[vx], nvImage.img[vx + 1], nvImage.img[vx + 2], nvImage.img[vx + 3]];\n  }\n  if (nvImage.hdr.datatypeCode === 128 /* DT_RGB24 */) {\n    if (!nvImage.img) {\n      return [0];\n    }\n    vx *= 3;\n    if (vx + 2 >= nvImage.img.length) {\n      log.warn(`getValue: Calculated index ${vx} out of bounds for RGB data.`);\n      return [0];\n    }\n    return [nvImage.img[vx], nvImage.img[vx + 1], nvImage.img[vx + 2]];\n  }\n  const nVox3D = nx * ny * nz;\n  const volOffset = frame4D * nVox3D;\n  const finalVxIndex = vx + volOffset;\n  const dataArray = isReadImaginary ? nvImage.imaginary : nvImage.img;\n  if (finalVxIndex < 0 || finalVxIndex >= dataArray.length) {\n    return [0];\n  }\n  const rawValue = dataArray[finalVxIndex];\n  const slope = isNaN(nvImage.hdr.scl_slope) || nvImage.hdr.scl_slope === 0 ? 1 : nvImage.hdr.scl_slope;\n  const inter = isNaN(nvImage.hdr.scl_inter) ? 0 : nvImage.hdr.scl_inter;\n  return [slope * rawValue + inter];\n}\nfunction getValue(nvImage, x, y, z, frame4D = 0, isReadImaginary = false) {\n  const vals = getValues(nvImage, x, y, z, frame4D, isReadImaginary);\n  if (vals.length < 3) {\n    return vals[0];\n  }\n  const lum = vals[0] * 0.2126 + vals[1] * 0.7152 + vals[2] * 0.0722;\n  return lum;\n}\nfunction getVolumeData(nvImage, voxStartRAS = [-1, 0, 0], voxEndRAS = [0, 0, 0], dataType = \"same\") {\n  const defaultResult = [new Uint8Array(), [0, 0, 0]];\n  if (!nvImage.hdr || !nvImage.img || !nvImage.dimsRAS || !nvImage.img2RASstep || !nvImage.img2RASstart) {\n    log.error(\"getVolumeData: Missing required NVImage properties (hdr, img, dimsRAS, img2RASstep/start).\");\n    return defaultResult;\n  }\n  voxStartRAS = voxStartRAS.slice(0, 3);\n  voxEndRAS = voxEndRAS.slice(0, 3);\n  if (Math.min(...voxStartRAS) < 0 || Math.min(...voxEndRAS) < 0) {\n    log.warn(\"getVolumeData: Invalid start or end coordinates provided.\");\n    return defaultResult;\n  }\n  const dimsRAS = nvImage.dimsRAS.slice(1, 4);\n  for (let i = 0; i < 3; i++) {\n    voxStartRAS[i] = Math.max(0, Math.min(Math.round(voxStartRAS[i]), dimsRAS[i] - 1));\n    voxEndRAS[i] = Math.max(0, Math.min(Math.round(voxEndRAS[i]), dimsRAS[i] - 1));\n    if (voxEndRAS[i] < voxStartRAS[i]) {\n      const tmp = voxEndRAS[i];\n      voxEndRAS[i] = voxStartRAS[i];\n      voxStartRAS[i] = tmp;\n    }\n  }\n  const slabDims = [\n    voxEndRAS[0] - voxStartRAS[0] + 1,\n    voxEndRAS[1] - voxStartRAS[1] + 1,\n    voxEndRAS[2] - voxStartRAS[2] + 1\n  ];\n  const slabNVox = slabDims[0] * slabDims[1] * slabDims[2];\n  if (slabNVox <= 0) {\n    log.warn(\"getVolumeData: Calculated slab size is zero or negative.\");\n    return defaultResult;\n  }\n  let OutputArrayConstructor = nvImage.img.constructor;\n  if (dataType === \"uint8\") {\n    OutputArrayConstructor = Uint8Array;\n  } else if (dataType === \"int16\") {\n    OutputArrayConstructor = Int16Array;\n  } else if (dataType === \"uint16\") {\n    OutputArrayConstructor = Uint16Array;\n  } else if (dataType === \"float32\" || dataType === \"scaled\" || dataType === \"normalized\" || dataType === \"windowed\") {\n    OutputArrayConstructor = Float32Array;\n  } else if (dataType === \"float64\") {\n    OutputArrayConstructor = Float64Array;\n  } else if (dataType !== \"same\") {\n    log.warn(`getVolumeData: Unsupported dataType '${dataType}'. Using 'same'.`);\n  }\n  let outputImg;\n  try {\n    outputImg = new OutputArrayConstructor(slabNVox);\n  } catch (e) {\n    log.error(`getVolumeData: Failed to create output array for dataType '${dataType}'.`, e);\n    return defaultResult;\n  }\n  const step = nvImage.img2RASstep;\n  const start = nvImage.img2RASstart;\n  const sourceImg = nvImage.img;\n  let outputIndex = 0;\n  for (let rz = voxStartRAS[2]; rz <= voxEndRAS[2]; rz++) {\n    const zi = start[2] + rz * step[2];\n    for (let ry = voxStartRAS[1]; ry <= voxEndRAS[1]; ry++) {\n      const yi = start[1] + ry * step[1];\n      for (let rx = voxStartRAS[0]; rx <= voxEndRAS[0]; rx++) {\n        const xi = start[0] + rx * step[0];\n        const nativeIndex = xi + yi + zi;\n        let value = 0;\n        if (nativeIndex >= 0 && nativeIndex < sourceImg.length) {\n          value = sourceImg[nativeIndex];\n        }\n        outputImg[outputIndex++] = value;\n      }\n    }\n  }\n  const slope = isNaN(nvImage.hdr.scl_slope) || nvImage.hdr.scl_slope === 0 ? 1 : nvImage.hdr.scl_slope;\n  const inter = isNaN(nvImage.hdr.scl_inter) ? 0 : nvImage.hdr.scl_inter;\n  if (dataType === \"scaled\" || dataType === \"normalized\" || dataType === \"windowed\") {\n    if (!(outputImg instanceof Float32Array)) {\n      log.warn(`getVolumeData: Converting output to Float32 for scaling type '${dataType}'.`);\n      outputImg = Float32Array.from(outputImg);\n    }\n    for (let i = 0; i < outputImg.length; i++) {\n      outputImg[i] = outputImg[i] * slope + inter;\n    }\n  }\n  if (dataType === \"normalized\" || dataType === \"windowed\") {\n    let minVal = nvImage.cal_min;\n    let maxVal = nvImage.cal_max;\n    if (dataType === \"normalized\") {\n      minVal = nvImage.global_min;\n      maxVal = nvImage.global_max;\n    }\n    const range = maxVal - minVal;\n    const scale = range === 0 ? 0 : 1 / range;\n    for (let i = 0; i < outputImg.length; i++) {\n      outputImg[i] = (outputImg[i] - minVal) * scale;\n      outputImg[i] = Math.max(0, Math.min(outputImg[i], 1));\n    }\n  }\n  return [outputImg, slabDims];\n}\nfunction setVolumeData(nvImage, voxStartRAS = [-1, 0, 0], voxEndRAS = [0, 0, 0], slabData = new Uint8Array()) {\n  if (!nvImage.hdr || !nvImage.img || !nvImage.dimsRAS || !nvImage.img2RASstep || !nvImage.img2RASstart) {\n    log.error(\"setVolumeData: Missing required NVImage properties (hdr, img, dimsRAS, img2RASstep/start).\");\n    return;\n  }\n  if (slabData.length < 1) {\n    log.warn(\"setVolumeData: Input slabData is empty.\");\n    return;\n  }\n  voxStartRAS = voxStartRAS.slice(0, 3);\n  voxEndRAS = voxEndRAS.slice(0, 3);\n  if (Math.min(...voxStartRAS) < 0 || Math.min(...voxEndRAS) < 0) {\n    log.warn(\"setVolumeData: Invalid start or end coordinates provided.\");\n    return;\n  }\n  const dimsRAS = nvImage.dimsRAS.slice(1, 4);\n  for (let i = 0; i < 3; i++) {\n    voxStartRAS[i] = Math.max(0, Math.min(Math.round(voxStartRAS[i]), dimsRAS[i] - 1));\n    voxEndRAS[i] = Math.max(0, Math.min(Math.round(voxEndRAS[i]), dimsRAS[i] - 1));\n    if (voxEndRAS[i] < voxStartRAS[i]) {\n      const tmp = voxEndRAS[i];\n      voxEndRAS[i] = voxStartRAS[i];\n      voxStartRAS[i] = tmp;\n    }\n  }\n  const slabDims = [\n    voxEndRAS[0] - voxStartRAS[0] + 1,\n    voxEndRAS[1] - voxStartRAS[1] + 1,\n    voxEndRAS[2] - voxStartRAS[2] + 1\n  ];\n  const slabNVox = slabDims[0] * slabDims[1] * slabDims[2];\n  if (slabNVox <= 0) {\n    log.warn(\"setVolumeData: Calculated slab size is zero or negative.\");\n    return;\n  }\n  if (slabData.length < slabNVox) {\n    log.error(\n      `setVolumeData: Input slabData length (${slabData.length}) is less than the calculated slab size (${slabNVox}).`\n    );\n    return;\n  }\n  const step = nvImage.img2RASstep;\n  const start = nvImage.img2RASstart;\n  const targetImg = nvImage.img;\n  let sourceIndex = 0;\n  for (let rz = voxStartRAS[2]; rz <= voxEndRAS[2]; rz++) {\n    const zi = start[2] + rz * step[2];\n    for (let ry = voxStartRAS[1]; ry <= voxEndRAS[1]; ry++) {\n      const yi = start[1] + ry * step[1];\n      for (let rx = voxStartRAS[0]; rx <= voxEndRAS[0]; rx++) {\n        const xi = start[0] + rx * step[0];\n        const nativeIndex = xi + yi + zi;\n        if (nativeIndex >= 0 && nativeIndex < targetImg.length) {\n          targetImg[nativeIndex] = slabData[sourceIndex];\n        }\n        sourceIndex++;\n      }\n    }\n  }\n}\n\n// src/nvimage/ImageReaders/mgh.ts\nvar mgh_exports = {};\n__export(mgh_exports, {\n  isFreeSurferLabelImage: () => isFreeSurferLabelImage,\n  optimizeFreeSurferLabels: () => optimizeFreeSurferLabels,\n  readMgh: () => readMgh\n});\nimport { NIFTI1 as NIFTI12 } from \"nifti-reader-js\";\nimport { mat4 as mat44 } from \"gl-matrix\";\nfunction readTag(view, offset, footerLength, tagToRead = 1) {\n  const end = offset + footerLength;\n  let pos = offset;\n  const results = [];\n  while (pos + 12 <= end) {\n    const tag = view.getInt32(pos, false);\n    const length = view.getInt32(pos + 8, false);\n    pos += 12;\n    if (length <= 0 || pos + length > end) {\n      break;\n    }\n    if (tag !== tagToRead) {\n      pos += length;\n      continue;\n    }\n    let strLen = length;\n    let contentPos = pos;\n    if (tagToRead === 1) {\n      if (pos + 4 > end) {\n        break;\n      }\n      strLen = view.getInt32(pos, false);\n      contentPos += 4;\n    }\n    if (strLen > 1 && contentPos + strLen <= end) {\n      const raw = new Uint8Array(view.buffer, contentPos, strLen);\n      const str = new TextDecoder(\"utf-8\").decode(raw.slice(0, -1));\n      results.push(str);\n    }\n    pos += length;\n  }\n  return results.join(\"\\n\\n\");\n}\nfunction optimizeFreeSurferLabels(hdr, imgRaw) {\n  hdr.intent_code = 1002;\n  if (hdr.datatypeCode !== 16 /* DT_FLOAT32 */ && hdr.datatypeCode !== 8 /* DT_INT32 */) {\n    return imgRaw;\n  }\n  let img = new Float32Array(imgRaw);\n  if (hdr.datatypeCode === 8 /* DT_INT32 */) {\n    img = new Int32Array(imgRaw);\n  }\n  if (isPlatformLittleEndian()) {\n    const u32 = new Uint32Array(imgRaw);\n    for (let i = 0; i < u32.length; i++) {\n      const val = u32[i];\n      u32[i] = (val & 255) << 24 | (val & 65280) << 8 | (val & 16711680) >>> 8 | (val & 4278190080) >>> 24;\n    }\n  }\n  hdr.littleEndian = isPlatformLittleEndian();\n  let isInteger = true;\n  let mn = Infinity;\n  let mx = -Infinity;\n  for (let i = 0; i < img.length; i++) {\n    const v = img[i];\n    if (!Number.isFinite(v)) {\n      continue;\n    }\n    if (!Number.isInteger(v)) {\n      isInteger = false;\n    }\n    if (v < mn) {\n      mn = v;\n    }\n    if (v > mx) {\n      mx = v;\n    }\n  }\n  if (!isInteger || mn < 0 || mx > 2147483647) {\n    log.warn(`FreeSurfer Labels must be integers in INT32 range. range ${mn}..${mx}`);\n    return imgRaw;\n  }\n  if (mx > 32767) {\n    hdr.datatypeCode = 8 /* DT_INT32 */;\n    const out = new Int32Array(img.length);\n    for (let i = 0; i < img.length; i++) {\n      out[i] = Math.trunc(img[i]);\n    }\n    return out.buffer;\n  } else if (mx > 255) {\n    hdr.datatypeCode = 4 /* DT_INT16 */;\n    hdr.numBitsPerVoxel = 16;\n    const out = new Int16Array(img.length);\n    for (let i = 0; i < img.length; i++) {\n      out[i] = Math.trunc(img[i]);\n    }\n    return out.buffer;\n  } else {\n    hdr.datatypeCode = 2 /* DT_UINT8 */;\n    hdr.numBitsPerVoxel = 8;\n    const out = new Uint8Array(img.length);\n    for (let i = 0; i < img.length; i++) {\n      out[i] = Math.trunc(img[i]);\n    }\n    return out.buffer;\n  }\n}\nfunction isFreeSurferLabelImage(raw, hdr, expectedBytes) {\n  const remainingBytes = raw.byteLength - hdr.vox_offset;\n  if (remainingBytes < expectedBytes) {\n    log.error(`MGH image data size mismatch: expected ${expectedBytes}, found ${remainingBytes}`);\n    return false;\n  }\n  if (remainingBytes === expectedBytes) {\n    return false;\n  }\n  const footerStart = hdr.vox_offset + expectedBytes + 20;\n  const footerLength = raw.byteLength - footerStart;\n  if (footerLength <= 12) {\n    return false;\n  }\n  const tag1 = readTag(new DataView(raw), footerStart, footerLength);\n  if (tag1.toLowerCase().endsWith(\"lut.txt\")) {\n    return true;\n  }\n  const tag3 = readTag(new DataView(raw), footerStart, footerLength, 3);\n  return tag3.includes(\"mri_label2vol\");\n}\nasync function readMgh(nvImage, buffer) {\n  if (!nvImage.hdr) {\n    log.debug(\"readMgh called before nvImage.hdr was initialized. Creating default.\");\n    nvImage.hdr = new NIFTI12();\n  }\n  const hdr = nvImage.hdr;\n  hdr.littleEndian = false;\n  let raw = buffer;\n  let reader = new DataView(raw);\n  if (raw.byteLength >= 2 && reader.getUint8(0) === 31 && reader.getUint8(1) === 139) {\n    try {\n      raw = await NVUtilities.decompressToBuffer(new Uint8Array(buffer));\n      reader = new DataView(raw);\n    } catch (err) {\n      log.error(\"Failed to decompress MGZ file.\", err);\n      return null;\n    }\n  }\n  if (raw.byteLength < 284) {\n    log.error(\"File too small to be a valid MGH/MGZ header.\");\n    return null;\n  }\n  const version2 = reader.getInt32(0, false);\n  const width = reader.getInt32(4, false);\n  const height = reader.getInt32(8, false);\n  const depth = reader.getInt32(12, false);\n  const nframes = reader.getInt32(16, false);\n  const mtype = reader.getInt32(20, false);\n  const spacingX = reader.getFloat32(30, false);\n  const spacingY = reader.getFloat32(34, false);\n  const spacingZ = reader.getFloat32(38, false);\n  const xr = reader.getFloat32(42, false);\n  const xa = reader.getFloat32(46, false);\n  const xs = reader.getFloat32(50, false);\n  const yr = reader.getFloat32(54, false);\n  const ya = reader.getFloat32(58, false);\n  const ys = reader.getFloat32(62, false);\n  const zr = reader.getFloat32(66, false);\n  const za = reader.getFloat32(70, false);\n  const zs = reader.getFloat32(74, false);\n  const cr = reader.getFloat32(78, false);\n  const ca = reader.getFloat32(82, false);\n  const cs = reader.getFloat32(86, false);\n  if (version2 !== 1) {\n    log.warn(`Unexpected MGH version: ${version2}.`);\n  }\n  if (width <= 0 || height <= 0 || depth <= 0) {\n    log.error(`Invalid MGH dimensions: ${width}x${height}x${depth}`);\n    return null;\n  }\n  switch (mtype) {\n    case 0:\n      hdr.numBitsPerVoxel = 8;\n      hdr.datatypeCode = 2 /* DT_UINT8 */;\n      break;\n    case 4:\n      hdr.numBitsPerVoxel = 16;\n      hdr.datatypeCode = 4 /* DT_INT16 */;\n      break;\n    case 1:\n      hdr.numBitsPerVoxel = 32;\n      hdr.datatypeCode = 8 /* DT_INT32 */;\n      break;\n    case 3:\n      hdr.numBitsPerVoxel = 32;\n      hdr.datatypeCode = 16 /* DT_FLOAT32 */;\n      break;\n    default:\n      log.error(`Unsupported MGH data type: ${mtype}`);\n      return null;\n  }\n  hdr.dims[1] = width;\n  hdr.dims[2] = height;\n  hdr.dims[3] = depth;\n  hdr.dims[4] = Math.max(1, nframes);\n  hdr.dims[0] = hdr.dims[4] > 1 ? 4 : 3;\n  hdr.pixDims[1] = Math.abs(spacingX);\n  hdr.pixDims[2] = Math.abs(spacingY);\n  hdr.pixDims[3] = Math.abs(spacingZ);\n  hdr.pixDims[4] = 0;\n  hdr.sform_code = 1;\n  hdr.qform_code = 0;\n  hdr.sform_code = 1;\n  const rot44 = mat44.fromValues(\n    xr * hdr.pixDims[1],\n    yr * hdr.pixDims[2],\n    zr * hdr.pixDims[3],\n    0,\n    xa * hdr.pixDims[1],\n    ya * hdr.pixDims[2],\n    za * hdr.pixDims[3],\n    0,\n    xs * hdr.pixDims[1],\n    ys * hdr.pixDims[2],\n    zs * hdr.pixDims[3],\n    0,\n    0,\n    0,\n    0,\n    1\n  );\n  const Pcrs = [hdr.dims[1] / 2, hdr.dims[2] / 2, hdr.dims[3] / 2, 1];\n  const PxyzOffset = [0, 0, 0, 0];\n  for (let i = 0; i < 3; i++) {\n    PxyzOffset[i] = 0;\n    for (let j = 0; j < 3; j++) {\n      PxyzOffset[i] = PxyzOffset[i] + rot44[j + i * 4] * Pcrs[j];\n    }\n  }\n  hdr.affine = [\n    [rot44[0], rot44[1], rot44[2], cr - PxyzOffset[0]],\n    [rot44[4], rot44[5], rot44[6], ca - PxyzOffset[1]],\n    [rot44[8], rot44[9], rot44[10], cs - PxyzOffset[2]],\n    [0, 0, 0, 1]\n  ];\n  hdr.vox_offset = 284;\n  hdr.magic = \"n+1\";\n  const nBytesPerVoxel = hdr.numBitsPerVoxel / 8;\n  const nVoxels = width * height * depth * hdr.dims[4];\n  const expectedBytes = nVoxels * nBytesPerVoxel;\n  const imgRaw = raw.slice(hdr.vox_offset, hdr.vox_offset + expectedBytes);\n  if (isFreeSurferLabelImage(raw, hdr, expectedBytes)) {\n    return optimizeFreeSurferLabels(hdr, imgRaw);\n  }\n  return imgRaw;\n}\n\n// src/nvimage/ImageReaders/nii.ts\nvar nii_exports = {};\n__export(nii_exports, {\n  readNifti: () => readNifti\n});\nimport { isCompressed, decompressAsync, readHeaderAsync, readImage, hasExtension } from \"nifti-reader-js\";\nasync function readNifti(nvImage, buffer, pairedImageData) {\n  let dataBuffer = buffer;\n  let imgRaw = null;\n  try {\n    if (isCompressed(dataBuffer)) {\n      log.debug(`Decompressing NIfTI file: ${nvImage.name}`);\n      dataBuffer = await decompressAsync(dataBuffer);\n      log.debug(`Decompression complete for: ${nvImage.name}`);\n    }\n    if (!dataBuffer || dataBuffer.byteLength === 0) {\n      throw new Error(\"Buffer became invalid after decompression attempt.\");\n    }\n    nvImage.hdr = await readHeaderAsync(dataBuffer, pairedImageData != null);\n    if (hasExtension(nvImage.hdr)) {\n      nvImage.extensions = nvImage.hdr.extensions;\n    }\n    if (nvImage.hdr === null) {\n      throw new Error(`Failed to read NIfTI header: ${nvImage.name}`);\n    }\n    if (nvImage.hdr.cal_min === 0 && nvImage.hdr.cal_max === 255 && nvImage.hdr.datatypeCode !== 2 /* DT_UINT8 */) {\n      log.debug(`Resetting suspicious cal_min/max (0/255) for non-uint8 NIfTI: ${nvImage.name}`);\n      nvImage.hdr.cal_min = 0;\n      nvImage.hdr.cal_max = 0;\n    }\n    imgRaw = pairedImageData ? readImage(nvImage.hdr, pairedImageData) : readImage(nvImage.hdr, dataBuffer);\n    if (imgRaw === null) {\n      throw new Error(`nifti-reader-js readImage returned null for ${nvImage.name}`);\n    }\n    return imgRaw;\n  } catch (err) {\n    log.error(`Error processing NIfTI file ${nvImage.name}:`, err);\n    nvImage.hdr = null;\n    return null;\n  }\n}\n\n// src/nvimage/ImageReaders/nrrd.ts\nvar nrrd_exports = {};\n__export(nrrd_exports, {\n  readNrrd: () => readNrrd\n});\nimport { NIFTI1 as NIFTI13 } from \"nifti-reader-js\";\nimport { mat3, mat4 as mat45, vec3 as vec36 } from \"gl-matrix\";\nasync function readNrrd(nvImage, dataBuffer, pairedImgData = null) {\n  if (!nvImage.hdr) {\n    log.warn(\"readNrrd called before nvImage.hdr was initialized. Creating default.\");\n    nvImage.hdr = new NIFTI13();\n  }\n  const hdr = nvImage.hdr;\n  hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n  const len = dataBuffer.byteLength;\n  let txt = null;\n  const bytes = new Uint8Array(dataBuffer);\n  for (let i = 1; i < len; i++) {\n    if (bytes[i - 1] === 10 && bytes[i] === 10) {\n      const v = dataBuffer.slice(0, i - 1);\n      txt = new TextDecoder().decode(v);\n      hdr.vox_offset = i + 1;\n      break;\n    }\n  }\n  if (txt === null) {\n    log.error(\"readNrrd: could not extract txt\");\n    return null;\n  }\n  const lines = txt.split(\"\\n\");\n  if (!lines[0].startsWith(\"NRRD\")) {\n    log.error(\"Invalid NRRD image (magic signature missing)\");\n    return null;\n  }\n  const n = lines.length;\n  let isGz = false;\n  let isMicron = false;\n  let isDetached = false;\n  const mat332 = mat3.fromValues(NaN, 0, 0, 0, 1, 0, 0, 0, 1);\n  const offset = vec36.fromValues(0, 0, 0);\n  let rot33 = mat3.create();\n  for (let i = 1; i < n; i++) {\n    let str = lines[i];\n    if (str.length === 0 || str[0] === \"#\") {\n      if (str.startsWith(\"#\")) {\n        continue;\n      }\n      if (str.trim().length === 0) {\n        continue;\n      }\n    }\n    str = str.toLowerCase();\n    const items = str.split(\":\");\n    if (items.length < 2) {\n      continue;\n    }\n    const key = items[0].trim();\n    let value = items[1].trim();\n    value = value.replaceAll(\")\", \" \");\n    value = value.replaceAll(\"(\", \" \");\n    value = value.trim();\n    switch (key) {\n      case \"data file\":\n        isDetached = true;\n        break;\n      case \"encoding\":\n        if (value.includes(\"raw\")) {\n          isGz = false;\n        } else if (value.includes(\"gz\")) {\n          isGz = true;\n        } else {\n          log.error(\"Unsupported NRRD encoding\");\n          return null;\n        }\n        break;\n      case \"type\":\n        switch (value) {\n          case \"uchar\":\n          case \"unsigned char\":\n          case \"uint8\":\n          case \"uint8_t\":\n            hdr.numBitsPerVoxel = 8;\n            hdr.datatypeCode = 2 /* DT_UINT8 */;\n            break;\n          case \"signed char\":\n          case \"int8\":\n          case \"int8_t\":\n            hdr.numBitsPerVoxel = 8;\n            hdr.datatypeCode = 256 /* DT_INT8 */;\n            break;\n          case \"short\":\n          case \"short int\":\n          case \"signed short\":\n          case \"signed short int\":\n          case \"int16\":\n          case \"int16_t\":\n            hdr.numBitsPerVoxel = 16;\n            hdr.datatypeCode = 4 /* DT_INT16 */;\n            break;\n          case \"ushort\":\n          case \"unsigned short\":\n          case \"unsigned short int\":\n          case \"uint16\":\n          case \"uint16_t\":\n            hdr.numBitsPerVoxel = 16;\n            hdr.datatypeCode = 512 /* DT_UINT16 */;\n            break;\n          case \"int\":\n          case \"signed int\":\n          case \"int32\":\n          case \"int32_t\":\n            hdr.numBitsPerVoxel = 32;\n            hdr.datatypeCode = 8 /* DT_INT32 */;\n            break;\n          case \"uint\":\n          case \"unsigned int\":\n          case \"uint32\":\n          case \"uint32_t\":\n            hdr.numBitsPerVoxel = 32;\n            hdr.datatypeCode = 768 /* DT_UINT32 */;\n            break;\n          case \"float\":\n            hdr.numBitsPerVoxel = 32;\n            hdr.datatypeCode = 16 /* DT_FLOAT32 */;\n            break;\n          case \"double\":\n            hdr.numBitsPerVoxel = 64;\n            hdr.datatypeCode = 64 /* DT_FLOAT64 */;\n            break;\n          default:\n            log.error(\"Unsupported NRRD data type: \" + value);\n            return null;\n        }\n        break;\n      case \"spacings\":\n        {\n          const values = value.split(/[ ,]+/);\n          for (let d = 0; d < values.length; d++) {\n            hdr.pixDims[d + 1] = parseFloat(values[d]);\n          }\n        }\n        break;\n      case \"sizes\":\n        {\n          const dims = value.split(/[ ,]+/);\n          hdr.dims[0] = dims.length;\n          for (let d = 0; d < dims.length; d++) {\n            hdr.dims[d + 1] = parseInt(dims[d]);\n          }\n        }\n        break;\n      case \"endian\":\n        if (value.includes(\"little\")) {\n          hdr.littleEndian = true;\n        } else if (value.includes(\"big\")) {\n          hdr.littleEndian = false;\n        }\n        break;\n      case \"space directions\":\n        {\n          const vs = value.split(/[ ,]+/);\n          if (vs.length === 9) {\n            for (let d = 0; d < 9; d++) {\n              mat332[d] = parseFloat(vs[d]);\n            }\n          }\n        }\n        break;\n      case \"space origin\":\n        {\n          const ts = value.split(/[ ,]+/);\n          if (ts.length === 3) {\n            offset[0] = parseFloat(ts[0]);\n            offset[1] = parseFloat(ts[1]);\n            offset[2] = parseFloat(ts[2]);\n          }\n        }\n        break;\n      case \"space units\":\n        if (value.includes(\"microns\")) {\n          isMicron = true;\n        }\n        break;\n      case \"space\":\n        if (value.includes(\"right-anterior-superior\") || value.includes(\"ras\")) {\n          rot33 = mat3.fromValues(1, 0, 0, 0, 1, 0, 0, 0, 1);\n        } else if (value.includes(\"left-anterior-superior\") || value.includes(\"las\")) {\n          rot33 = mat3.fromValues(-1, 0, 0, 0, 1, 0, 0, 0, 1);\n        } else if (value.includes(\"left-posterior-superior\") || value.includes(\"lps\")) {\n          rot33 = mat3.fromValues(-1, 0, 0, 0, -1, 0, 0, 0, 1);\n        } else {\n          log.warn(\"Unsupported NRRD space value:\", value);\n        }\n        break;\n      default:\n        log.warn(\"Unknown:\", key);\n        break;\n    }\n  }\n  if (!isNaN(mat332[0])) {\n    hdr.sform_code = 2;\n    if (isMicron) {\n      mat45.multiplyScalar(mat332, mat332, 1e-3);\n      offset[0] *= 1e-3;\n      offset[1] *= 1e-3;\n      offset[2] *= 1e-3;\n    }\n    if (rot33[0] < 0) {\n      offset[0] = -offset[0];\n    }\n    if (rot33[4] < 0) {\n      offset[1] = -offset[1];\n    }\n    if (rot33[8] < 0) {\n      offset[2] = -offset[2];\n    }\n    mat3.multiply(mat332, rot33, mat332);\n    const mat = mat45.fromValues(\n      mat332[0],\n      mat332[3],\n      mat332[6],\n      offset[0],\n      mat332[1],\n      mat332[4],\n      mat332[7],\n      offset[1],\n      mat332[2],\n      mat332[5],\n      mat332[8],\n      offset[2],\n      0,\n      0,\n      0,\n      1\n    );\n    if (!nvImage.vox2mm) {\n      return null;\n    }\n    const mm000 = nvImage.vox2mm([0, 0, 0], mat);\n    const mm100 = nvImage.vox2mm([1, 0, 0], mat);\n    vec36.subtract(mm100, mm100, mm000);\n    const mm010 = nvImage.vox2mm([0, 1, 0], mat);\n    vec36.subtract(mm010, mm010, mm000);\n    const mm001 = nvImage.vox2mm([0, 0, 1], mat);\n    vec36.subtract(mm001, mm001, mm000);\n    hdr.pixDims[1] = vec36.length(mm100);\n    hdr.pixDims[2] = vec36.length(mm010);\n    hdr.pixDims[3] = vec36.length(mm001);\n    hdr.affine = [\n      [mat[0], mat[1], mat[2], mat[3]],\n      [mat[4], mat[5], mat[6], mat[7]],\n      [mat[8], mat[9], mat[10], mat[11]],\n      [0, 0, 0, 1]\n    ];\n  }\n  let imgRaw = null;\n  const sourceBuffer = isDetached ? pairedImgData : dataBuffer;\n  const sourceOffset = isDetached ? 0 : hdr.vox_offset;\n  if (isDetached && !sourceBuffer) {\n    log.warn(\"Missing data: NRRD header describes detached data file but only one URL provided\");\n    return null;\n  }\n  if (!sourceBuffer || sourceOffset >= sourceBuffer.byteLength) {\n    log.error(`NRRD data offset (${sourceOffset}) invalid for buffer length (${sourceBuffer?.byteLength ?? 0})`);\n    return null;\n  }\n  let dataSection = sourceBuffer.slice(sourceOffset);\n  if (isGz) {\n    try {\n      log.debug(\"Decompressing NRRD data...\");\n      dataSection = await NVUtilities.decompressToBuffer(new Uint8Array(dataSection));\n      log.debug(\"Decompression complete.\");\n    } catch (err) {\n      log.error(\"Failed to decompress NRRD data.\", err);\n      return null;\n    }\n  }\n  const nBytesPerVoxel = hdr.numBitsPerVoxel / 8;\n  const nVoxels = hdr.dims.slice(1, hdr.dims[0] + 1).reduce((acc, dim) => acc * Math.max(1, dim), 1);\n  const expectedBytes = nVoxels * nBytesPerVoxel;\n  if (dataSection.byteLength < expectedBytes) {\n    log.error(`NRRD image data size mismatch: expected ${expectedBytes}, found ${dataSection.byteLength}`);\n    return null;\n  } else if (dataSection.byteLength > expectedBytes) {\n    log.warn(`NRRD has extra ${dataSection.byteLength - expectedBytes} bytes after expected image data. Truncating.`);\n    dataSection = dataSection.slice(0, expectedBytes);\n  }\n  imgRaw = dataSection;\n  if (!hdr.datatypeCode) {\n    log.error(\"NRRD parsing failed to set datatypeCode.\");\n    return null;\n  }\n  if (!hdr.numBitsPerVoxel) {\n    log.error(\"NRRD parsing failed to set numBitsPerVoxel.\");\n    return null;\n  }\n  return imgRaw;\n}\n\n// src/nvimage/index.ts\nvar NVImage = class _NVImage {\n  constructor(dataBuffer = null, name = \"\", colormap = \"gray\", opacity = 1, pairedImgData = null, cal_min = NaN, cal_max = NaN, trustCalMinMax = true, percentileFrac = 0.02, ignoreZeroVoxels = false, useQFormNotSForm = false, colormapNegative = \"\", frame4D = 0, imageType = NVIMAGE_TYPE.UNKNOWN, cal_minNeg = NaN, cal_maxNeg = NaN, colorbarVisible = true, colormapLabel = null, colormapType = 0) {\n    __publicField(this, \"name\");\n    __publicField(this, \"id\");\n    __publicField(this, \"url\");\n    __publicField(this, \"headers\");\n    __publicField(this, \"_colormap\");\n    __publicField(this, \"_opacity\");\n    __publicField(this, \"percentileFrac\");\n    __publicField(this, \"ignoreZeroVoxels\");\n    __publicField(this, \"trustCalMinMax\");\n    __publicField(this, \"colormapNegative\");\n    // TODO see niivue/loadDocument\n    __publicField(this, \"colormapLabel\");\n    __publicField(this, \"colormapInvert\");\n    __publicField(this, \"nFrame4D\");\n    __publicField(this, \"frame4D\");\n    // indexed from 0!\n    __publicField(this, \"nTotalFrame4D\");\n    __publicField(this, \"cal_minNeg\");\n    __publicField(this, \"cal_maxNeg\");\n    __publicField(this, \"colorbarVisible\", true);\n    __publicField(this, \"modulationImage\", null);\n    __publicField(this, \"modulateAlpha\", 0);\n    // if !=0, mod transparency with expon power |Alpha|\n    // TODO this is some Daikon internal thing\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    __publicField(this, \"series\", []);\n    // for concatenating dicom images\n    __publicField(this, \"nVox3D\");\n    __publicField(this, \"oblique_angle\");\n    __publicField(this, \"maxShearDeg\");\n    __publicField(this, \"useQFormNotSForm\");\n    __publicField(this, \"colormapType\");\n    __publicField(this, \"pixDims\");\n    __publicField(this, \"matRAS\");\n    __publicField(this, \"pixDimsRAS\");\n    __publicField(this, \"obliqueRAS\");\n    __publicField(this, \"dimsRAS\");\n    __publicField(this, \"permRAS\");\n    __publicField(this, \"img2RASstep\");\n    __publicField(this, \"img2RASstart\");\n    __publicField(this, \"toRAS\");\n    __publicField(this, \"toRASvox\");\n    __publicField(this, \"frac2mm\");\n    __publicField(this, \"frac2mmOrtho\");\n    __publicField(this, \"extentsMinOrtho\");\n    __publicField(this, \"extentsMaxOrtho\");\n    __publicField(this, \"mm2ortho\");\n    __publicField(this, \"hdr\", null);\n    __publicField(this, \"extensions\");\n    __publicField(this, \"imageType\");\n    __publicField(this, \"img\");\n    __publicField(this, \"imaginary\");\n    // only for complex data\n    __publicField(this, \"v1\");\n    // only for FIB files\n    __publicField(this, \"fileObject\");\n    __publicField(this, \"dims\");\n    __publicField(this, \"onColormapChange\", () => {\n    });\n    __publicField(this, \"onOpacityChange\", () => {\n    });\n    __publicField(this, \"mm000\");\n    __publicField(this, \"mm100\");\n    __publicField(this, \"mm010\");\n    __publicField(this, \"mm001\");\n    __publicField(this, \"cal_min\");\n    __publicField(this, \"cal_max\");\n    __publicField(this, \"robust_min\");\n    __publicField(this, \"robust_max\");\n    __publicField(this, \"global_min\");\n    __publicField(this, \"global_max\");\n    // TODO referenced by niivue/loadVolumes\n    __publicField(this, \"urlImgData\");\n    __publicField(this, \"isManifest\");\n    __publicField(this, \"limitFrames4D\");\n    this.init(\n      dataBuffer,\n      name,\n      colormap,\n      opacity,\n      pairedImgData,\n      cal_min,\n      cal_max,\n      trustCalMinMax,\n      percentileFrac,\n      ignoreZeroVoxels,\n      useQFormNotSForm,\n      colormapNegative,\n      frame4D,\n      imageType,\n      cal_minNeg,\n      cal_maxNeg,\n      colorbarVisible,\n      colormapLabel,\n      colormapType\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  init(dataBuffer = null, name = \"\", colormap = \"\", opacity = 1, _pairedImgData = null, cal_min = NaN, cal_max = NaN, trustCalMinMax = true, percentileFrac = 0.02, ignoreZeroVoxels = false, useQFormNotSForm = false, colormapNegative = \"\", frame4D = 0, imageType = NVIMAGE_TYPE.UNKNOWN, cal_minNeg = NaN, cal_maxNeg = NaN, colorbarVisible = true, colormapLabel = null, colormapType = 0, imgRaw = null) {\n    const isNoColormap = colormap === \"\";\n    if (isNoColormap) {\n      colormap = \"gray\";\n    }\n    this.name = name;\n    this.imageType = imageType;\n    this.id = uuidv4();\n    this._colormap = colormap;\n    this._opacity = opacity > 1 ? 1 : opacity;\n    this.percentileFrac = percentileFrac;\n    this.ignoreZeroVoxels = ignoreZeroVoxels;\n    this.trustCalMinMax = trustCalMinMax;\n    this.colormapNegative = colormapNegative;\n    this.colormapLabel = colormapLabel;\n    this.frame4D = frame4D;\n    this.cal_minNeg = cal_minNeg;\n    this.cal_maxNeg = cal_maxNeg;\n    this.colorbarVisible = colorbarVisible;\n    this.colormapType = colormapType;\n    this.useQFormNotSForm = useQFormNotSForm;\n    if (!dataBuffer) {\n      return;\n    }\n    if (isNoColormap && this.hdr && this.hdr.intent_code === 1002) {\n      colormap = \"random\";\n      this._colormap = colormap;\n    }\n    if (this.hdr && typeof this.hdr.magic === \"number\") {\n      this.hdr.magic = \"n+1\";\n    }\n    this.nFrame4D = 1;\n    if (this.hdr) {\n      for (let i = 4; i < 7; i++) {\n        if (this.hdr.dims[i] > 1) {\n          this.nFrame4D *= this.hdr.dims[i];\n        }\n      }\n    }\n    this.frame4D = Math.min(this.frame4D, this.nFrame4D - 1);\n    this.nTotalFrame4D = this.nFrame4D;\n    if (!this.hdr || !imgRaw) {\n      return;\n    }\n    this.nVox3D = this.hdr.dims[1] * this.hdr.dims[2] * this.hdr.dims[3];\n    const bytesPerVol = this.nVox3D * (this.hdr.numBitsPerVoxel / 8);\n    const nVol4D = imgRaw.byteLength / bytesPerVol;\n    if (nVol4D !== this.nFrame4D) {\n      if (nVol4D > 0 && nVol4D * bytesPerVol === imgRaw.byteLength) {\n        log.debug(\"Loading the first \" + nVol4D + \" of \" + this.nFrame4D + \" volumes\");\n      } else {\n        log.warn(\"This header does not match voxel data\", this.hdr, imgRaw.byteLength);\n      }\n      this.nFrame4D = nVol4D;\n    }\n    if ((this.hdr.intent_code === 1007 /* NIFTI_INTENT_VECTOR */ || this.hdr.intent_code === 2003 /* NIFTI_INTENT_RGB_VECTOR */) && this.nFrame4D === 3 && this.hdr.datatypeCode === 16 /* DT_FLOAT32 */) {\n      imgRaw = this.float32V1asRGBA(new Float32Array(imgRaw)).buffer;\n    }\n    if (this.hdr.pixDims[1] === 0 || this.hdr.pixDims[2] === 0 || this.hdr.pixDims[3] === 0) {\n      log.error(\"pixDims not plausible\", this.hdr);\n    }\n    if (isNaN(this.hdr.scl_slope) || this.hdr.scl_slope === 0) {\n      this.hdr.scl_slope = 1;\n    }\n    if (isNaN(this.hdr.scl_inter)) {\n      this.hdr.scl_inter = 0;\n    }\n    let affineOK = isAffineOK(this.hdr.affine);\n    if (useQFormNotSForm || !affineOK || this.hdr.qform_code > this.hdr.sform_code) {\n      log.debug(\"spatial transform based on QForm\");\n      const b = this.hdr.quatern_b;\n      const c = this.hdr.quatern_c;\n      const d = this.hdr.quatern_d;\n      const a = Math.sqrt(1 - (Math.pow(b, 2) + Math.pow(c, 2) + Math.pow(d, 2)));\n      const qfac = this.hdr.pixDims[0] === 0 ? 1 : this.hdr.pixDims[0];\n      const quatern_R = [\n        [a * a + b * b - c * c - d * d, 2 * b * c - 2 * a * d, 2 * b * d + 2 * a * c],\n        [2 * b * c + 2 * a * d, a * a + c * c - b * b - d * d, 2 * c * d - 2 * a * b],\n        [2 * b * d - 2 * a * c, 2 * c * d + 2 * a * b, a * a + d * d - c * c - b * b]\n      ];\n      const affine = this.hdr.affine;\n      for (let ctrOut = 0; ctrOut < 3; ctrOut += 1) {\n        for (let ctrIn = 0; ctrIn < 3; ctrIn += 1) {\n          affine[ctrOut][ctrIn] = quatern_R[ctrOut][ctrIn] * this.hdr.pixDims[ctrIn + 1];\n          if (ctrIn === 2) {\n            affine[ctrOut][ctrIn] *= qfac;\n          }\n        }\n      }\n      affine[0][3] = this.hdr.qoffset_x;\n      affine[1][3] = this.hdr.qoffset_y;\n      affine[2][3] = this.hdr.qoffset_z;\n      this.hdr.affine = affine;\n    }\n    affineOK = isAffineOK(this.hdr.affine);\n    if (!affineOK) {\n      log.debug(\"Defective NIfTI: spatial transform does not make sense\");\n      let x = this.hdr.pixDims[1];\n      let y = this.hdr.pixDims[2];\n      let z = this.hdr.pixDims[3];\n      if (isNaN(x) || x === 0) {\n        x = 1;\n      }\n      if (isNaN(y) || y === 0) {\n        y = 1;\n      }\n      if (isNaN(z) || z === 0) {\n        z = 1;\n      }\n      this.hdr.pixDims[1] = x;\n      this.hdr.pixDims[2] = y;\n      this.hdr.pixDims[3] = z;\n      const affine = [\n        [x, 0, 0, 0],\n        [0, y, 0, 0],\n        [0, 0, z, 0],\n        [0, 0, 0, 1]\n      ];\n      this.hdr.affine = affine;\n    }\n    if (this.hdr.datatypeCode !== 128 /* DT_RGB24 */ && this.hdr.datatypeCode !== 2304 /* DT_RGBA32 */ && this.hdr.littleEndian !== isPlatformLittleEndian() && this.hdr.numBitsPerVoxel > 8) {\n      if (this.hdr.numBitsPerVoxel === 16) {\n        const u16 = new Uint16Array(imgRaw);\n        for (let i = 0; i < u16.length; i++) {\n          const val = u16[i];\n          u16[i] = ((val & 255) << 8 | val >> 8 & 255) << 16 >> 16;\n        }\n      } else if (this.hdr.numBitsPerVoxel === 32) {\n        const u32 = new Uint32Array(imgRaw);\n        for (let i = 0; i < u32.length; i++) {\n          const val = u32[i];\n          u32[i] = (val & 255) << 24 | (val & 65280) << 8 | val >> 8 & 65280 | val >> 24 & 255;\n        }\n      } else if (this.hdr.numBitsPerVoxel === 64) {\n        const numBytesPerVoxel = this.hdr.numBitsPerVoxel / 8;\n        const u8 = new Uint8Array(imgRaw);\n        for (let index = 0; index < u8.length; index += numBytesPerVoxel) {\n          let offset = numBytesPerVoxel - 1;\n          for (let x = 0; x < offset; x++) {\n            const theByte = u8[index + x];\n            u8[index + x] = u8[index + offset];\n            u8[index + offset] = theByte;\n            offset--;\n          }\n        }\n      }\n    }\n    switch (this.hdr.datatypeCode) {\n      case 2 /* DT_UINT8 */:\n        this.img = new Uint8Array(imgRaw);\n        break;\n      case 4 /* DT_INT16 */:\n        this.img = new Int16Array(imgRaw);\n        break;\n      case 16 /* DT_FLOAT32 */:\n        this.img = new Float32Array(imgRaw);\n        break;\n      case 64 /* DT_FLOAT64 */:\n        this.img = new Float64Array(imgRaw);\n        break;\n      case 128 /* DT_RGB24 */:\n        this.img = new Uint8Array(imgRaw);\n        break;\n      case 512 /* DT_UINT16 */:\n        this.img = new Uint16Array(imgRaw);\n        break;\n      case 2304 /* DT_RGBA32 */:\n        this.img = new Uint8Array(imgRaw);\n        break;\n      case 256 /* DT_INT8 */: {\n        const i8 = new Int8Array(imgRaw);\n        const vx8 = i8.length;\n        this.img = new Int16Array(vx8);\n        for (let i = 0; i < vx8; i++) {\n          this.img[i] = i8[i];\n        }\n        this.hdr.datatypeCode = 4 /* DT_INT16 */;\n        this.hdr.numBitsPerVoxel = 16;\n        break;\n      }\n      case 1 /* DT_BINARY */: {\n        const nvox = this.hdr.dims[1] * this.hdr.dims[2] * Math.max(1, this.hdr.dims[3]) * Math.max(1, this.hdr.dims[4]);\n        const img1 = new Uint8Array(imgRaw);\n        this.img = new Uint8Array(nvox);\n        const lut = new Uint8Array(8);\n        for (let i = 0; i < 8; i++) {\n          lut[i] = Math.pow(2, i);\n        }\n        let i1 = -1;\n        for (let i = 0; i < nvox; i++) {\n          const bit = i % 8;\n          if (bit === 0) {\n            i1++;\n          }\n          if ((img1[i1] & lut[bit]) !== 0) {\n            this.img[i] = 1;\n          }\n        }\n        this.hdr.datatypeCode = 2 /* DT_UINT8 */;\n        this.hdr.numBitsPerVoxel = 8;\n        break;\n      }\n      case 768 /* DT_UINT32 */: {\n        const u32 = new Uint32Array(imgRaw);\n        const vx32 = u32.length;\n        this.img = new Float64Array(vx32);\n        for (let i = 0; i < vx32 - 1; i++) {\n          this.img[i] = u32[i];\n        }\n        this.hdr.datatypeCode = 64 /* DT_FLOAT64 */;\n        break;\n      }\n      case 8 /* DT_INT32 */: {\n        const i32 = new Int32Array(imgRaw);\n        const vxi32 = i32.length;\n        this.img = new Float64Array(vxi32);\n        for (let i = 0; i < vxi32 - 1; i++) {\n          this.img[i] = i32[i];\n        }\n        this.hdr.datatypeCode = 64 /* DT_FLOAT64 */;\n        break;\n      }\n      case 1024 /* DT_INT64 */: {\n        const i64 = new BigInt64Array(imgRaw);\n        const vx = i64.length;\n        this.img = new Float64Array(vx);\n        for (let i = 0; i < vx - 1; i++) {\n          this.img[i] = Number(i64[i]);\n        }\n        this.hdr.datatypeCode = 64 /* DT_FLOAT64 */;\n        break;\n      }\n      case 32 /* DT_COMPLEX64 */: {\n        const f32 = new Float32Array(imgRaw);\n        const nvx = Math.floor(f32.length / 2);\n        this.imaginary = new Float32Array(nvx);\n        this.img = new Float32Array(nvx);\n        let r = 0;\n        for (let i = 0; i < nvx - 1; i++) {\n          this.img[i] = f32[r];\n          this.imaginary[i] = f32[r + 1];\n          r += 2;\n        }\n        this.hdr.datatypeCode = 16 /* DT_FLOAT32 */;\n        break;\n      }\n      default:\n        throw new Error(\"datatype \" + this.hdr.datatypeCode + \" not supported\");\n    }\n    this.calculateRAS();\n    if (!isNaN(cal_min)) {\n      this.hdr.cal_min = cal_min;\n    }\n    if (!isNaN(cal_max)) {\n      this.hdr.cal_max = cal_max;\n    }\n    this.calMinMax();\n  }\n  static async new(dataBuffer = null, name = \"\", colormap = \"\", opacity = 1, pairedImgData = null, cal_min = NaN, cal_max = NaN, trustCalMinMax = true, percentileFrac = 0.02, ignoreZeroVoxels = false, useQFormNotSForm = false, colormapNegative = \"\", frame4D = 0, imageType = NVIMAGE_TYPE.UNKNOWN, cal_minNeg = NaN, cal_maxNeg = NaN, colorbarVisible = true, colormapLabel = null, colormapType = 0, zarrData) {\n    const newImg = new _NVImage();\n    const re = /(?:\\.([^.]+))?$/;\n    let ext = re.exec(name)[1] || \"\";\n    ext = ext.toUpperCase();\n    if (ext === \"GZ\") {\n      ext = re.exec(name.slice(0, -3))[1];\n      ext = ext.toUpperCase();\n    }\n    let imgRaw = null;\n    if (imageType === NVIMAGE_TYPE.UNKNOWN) {\n      imageType = NVIMAGE_TYPE.parse(ext);\n    }\n    if (dataBuffer instanceof ArrayBuffer && dataBuffer.byteLength >= 2 && imageType === NVIMAGE_TYPE.DCM) {\n      const u8s = new Uint8Array(dataBuffer);\n      const isNifti1 = u8s[0] === 92 && u8s[1] === 1 || u8s[1] === 92 && u8s[0] === 1;\n      if (isNifti1) {\n        imageType = NVIMAGE_TYPE.NII;\n      }\n    }\n    newImg.imageType = imageType;\n    switch (imageType) {\n      case NVIMAGE_TYPE.DCM_FOLDER:\n      case NVIMAGE_TYPE.DCM_MANIFEST:\n      case NVIMAGE_TYPE.DCM:\n        return;\n      case NVIMAGE_TYPE.FIB:\n        ;\n        [imgRaw, newImg.v1] = await newImg.readFIB(dataBuffer);\n        break;\n      case NVIMAGE_TYPE.MIH:\n      case NVIMAGE_TYPE.MIF:\n        imgRaw = await newImg.readMIF(dataBuffer, pairedImgData);\n        break;\n      case NVIMAGE_TYPE.NHDR:\n      case NVIMAGE_TYPE.NRRD:\n        imgRaw = await nrrd_exports.readNrrd(newImg, dataBuffer);\n        if (imgRaw === null) {\n          throw new Error(`Failed to parse NHDR/NRRD file ${name}`);\n        }\n        break;\n      case NVIMAGE_TYPE.MHD:\n      case NVIMAGE_TYPE.MHA:\n        imgRaw = await newImg.readMHA(dataBuffer, pairedImgData);\n        break;\n      case NVIMAGE_TYPE.MGH:\n      case NVIMAGE_TYPE.MGZ:\n        imgRaw = await mgh_exports.readMgh(newImg, dataBuffer);\n        if (imgRaw === null) {\n          throw new Error(`Failed to parse MGH/MGZ file ${name}`);\n        }\n        break;\n      case NVIMAGE_TYPE.SRC:\n        imgRaw = await newImg.readSRC(dataBuffer);\n        break;\n      case NVIMAGE_TYPE.V:\n        imgRaw = newImg.readECAT(dataBuffer);\n        break;\n      case NVIMAGE_TYPE.V16:\n        imgRaw = newImg.readV16(dataBuffer);\n        break;\n      case NVIMAGE_TYPE.VMR:\n        imgRaw = newImg.readVMR(dataBuffer);\n        break;\n      case NVIMAGE_TYPE.HEAD:\n        imgRaw = await newImg.readHEAD(dataBuffer, pairedImgData);\n        break;\n      case NVIMAGE_TYPE.BMP:\n        imgRaw = await newImg.readBMP(dataBuffer);\n        break;\n      case NVIMAGE_TYPE.NPY:\n        imgRaw = await newImg.readNPY(dataBuffer);\n        break;\n      case NVIMAGE_TYPE.NPZ:\n        imgRaw = await newImg.readNPZ(dataBuffer);\n        break;\n      case NVIMAGE_TYPE.ZARR:\n        imgRaw = await newImg.readZARR(dataBuffer, zarrData);\n        break;\n      case NVIMAGE_TYPE.NII:\n        imgRaw = await nii_exports.readNifti(newImg, dataBuffer, pairedImgData);\n        if (imgRaw === null) {\n          throw new Error(`Failed to parse NIfTI file ${name}.`);\n        }\n        break;\n      default:\n        throw new Error(\"Image type not supported\");\n    }\n    newImg.init(\n      dataBuffer,\n      name,\n      colormap,\n      opacity,\n      pairedImgData,\n      cal_min,\n      cal_max,\n      trustCalMinMax,\n      percentileFrac,\n      ignoreZeroVoxels,\n      useQFormNotSForm,\n      colormapNegative,\n      frame4D,\n      imageType,\n      cal_minNeg,\n      cal_maxNeg,\n      colorbarVisible,\n      colormapLabel,\n      colormapType,\n      imgRaw\n    );\n    return newImg;\n  }\n  // not included in public docs\n  // detect difference between voxel grid and world space\n  // https://github.com/afni/afni/blob/25e77d564f2c67ff480fa99a7b8e48ec2d9a89fc/src/thd_coords.c#L717\n  computeObliqueAngle(mtx44) {\n    const mtx = mat46.clone(mtx44);\n    mat46.transpose(mtx, mtx44);\n    const dxtmp = Math.sqrt(mtx[0] * mtx[0] + mtx[1] * mtx[1] + mtx[2] * mtx[2]);\n    const xmax = Math.max(Math.max(Math.abs(mtx[0]), Math.abs(mtx[1])), Math.abs(mtx[2])) / dxtmp;\n    const dytmp = Math.sqrt(mtx[4] * mtx[4] + mtx[5] * mtx[5] + mtx[6] * mtx[6]);\n    const ymax = Math.max(Math.max(Math.abs(mtx[4]), Math.abs(mtx[5])), Math.abs(mtx[6])) / dytmp;\n    const dztmp = Math.sqrt(mtx[8] * mtx[8] + mtx[9] * mtx[9] + mtx[10] * mtx[10]);\n    const zmax = Math.max(Math.max(Math.abs(mtx[8]), Math.abs(mtx[9])), Math.abs(mtx[10])) / dztmp;\n    const fig_merit = Math.min(Math.min(xmax, ymax), zmax);\n    let oblique_angle = Math.abs(Math.acos(fig_merit) * 180 / 3.141592653);\n    if (oblique_angle > 0.01) {\n      log.warn(\"Warning voxels not aligned with world space: \" + oblique_angle + \" degrees from plumb.\\n\");\n    } else {\n      oblique_angle = 0;\n    }\n    return oblique_angle;\n  }\n  float32V1asRGBA(inImg) {\n    if (inImg.length !== this.nVox3D * 3) {\n      log.warn(\"float32V1asRGBA() expects \" + this.nVox3D * 3 + \"voxels, got \", +inImg.length);\n    }\n    const f32 = inImg.slice();\n    this.hdr.datatypeCode = 2304 /* DT_RGBA32 */;\n    this.nFrame4D = 1;\n    for (let i = 4; i < 7; i++) {\n      this.hdr.dims[i] = 1;\n    }\n    this.hdr.dims[0] = 3;\n    const imgRaw = new Uint8Array(this.nVox3D * 4);\n    let mx = 1;\n    for (let i = 0; i < this.nVox3D * 3; i++) {\n      if (isNaN(f32[i])) {\n        continue;\n      }\n      mx = Math.max(mx, Math.abs(f32[i]));\n    }\n    const slope = 255 / mx;\n    const nVox3D2 = this.nVox3D * 2;\n    let j = 0;\n    for (let i = 0; i < this.nVox3D; i++) {\n      const x = f32[i];\n      const y = f32[i + this.nVox3D];\n      const z = f32[i + nVox3D2];\n      imgRaw[j] = Math.abs(x * slope);\n      imgRaw[j + 1] = Math.abs(y * slope);\n      imgRaw[j + 2] = Math.abs(z * slope);\n      const xNeg = Number(x > 0) * 1;\n      const yNeg = Number(y > 0) * 2;\n      const zNeg = Number(z > 0) * 4;\n      let alpha = 248 + xNeg + yNeg + zNeg;\n      if (Math.abs(x) + Math.abs(y) + Math.abs(z) < 0.1) {\n        alpha = 0;\n      }\n      ;\n      imgRaw[j + 3] = alpha;\n      j += 4;\n    }\n    return imgRaw;\n  }\n  loadImgV1(isFlipX = false, isFlipY = false, isFlipZ = false) {\n    let v1 = this.v1;\n    if (!v1 && this.nFrame4D === 3 && this.img.constructor === Float32Array) {\n      v1 = this.img.slice();\n    }\n    if (!v1) {\n      log.warn(\"Image does not have V1 data\");\n      return false;\n    }\n    if (isFlipX) {\n      for (let i = 0; i < this.nVox3D; i++) {\n        v1[i] = -v1[i];\n      }\n    }\n    if (isFlipY) {\n      for (let i = this.nVox3D; i < 2 * this.nVox3D; i++) {\n        v1[i] = -v1[i];\n      }\n    }\n    if (isFlipZ) {\n      for (let i = 2 * this.nVox3D; i < 3 * this.nVox3D; i++) {\n        v1[i] = -v1[i];\n      }\n    }\n    this.img = this.float32V1asRGBA(v1);\n    return true;\n  }\n  // not included in public docs\n  // detect difference between voxel grid and world space\n  calculateOblique() {\n    if (!this.matRAS) {\n      throw new Error(\"matRAS not defined\");\n    }\n    if (this.pixDimsRAS === void 0) {\n      throw new Error(\"pixDimsRAS not defined\");\n    }\n    if (!this.dimsRAS) {\n      throw new Error(\"dimsRAS not defined\");\n    }\n    this.oblique_angle = this.computeObliqueAngle(this.matRAS);\n    const LPI = this.vox2mm([0, 0, 0], this.matRAS);\n    const X1mm = this.vox2mm([1 / this.pixDimsRAS[1], 0, 0], this.matRAS);\n    const Y1mm = this.vox2mm([0, 1 / this.pixDimsRAS[2], 0], this.matRAS);\n    const Z1mm = this.vox2mm([0, 0, 1 / this.pixDimsRAS[3]], this.matRAS);\n    vec37.subtract(X1mm, X1mm, LPI);\n    vec37.subtract(Y1mm, Y1mm, LPI);\n    vec37.subtract(Z1mm, Z1mm, LPI);\n    const oblique = mat46.fromValues(\n      X1mm[0],\n      X1mm[1],\n      X1mm[2],\n      0,\n      Y1mm[0],\n      Y1mm[1],\n      Y1mm[2],\n      0,\n      Z1mm[0],\n      Z1mm[1],\n      Z1mm[2],\n      0,\n      0,\n      0,\n      0,\n      1\n    );\n    this.obliqueRAS = mat46.clone(oblique);\n    const XY = Math.abs(90 - vec37.angle(X1mm, Y1mm) * (180 / Math.PI));\n    const XZ = Math.abs(90 - vec37.angle(X1mm, Z1mm) * (180 / Math.PI));\n    const YZ = Math.abs(90 - vec37.angle(Y1mm, Z1mm) * (180 / Math.PI));\n    this.maxShearDeg = Math.max(Math.max(XY, XZ), YZ);\n    if (this.maxShearDeg > 0.1) {\n      log.warn(\"Warning: voxels are rhomboidal, maximum shear is %f degrees.\", this.maxShearDeg);\n    }\n    const dim = vec45.fromValues(this.dimsRAS[1], this.dimsRAS[2], this.dimsRAS[3], 1);\n    const sform = mat46.clone(this.matRAS);\n    mat46.transpose(sform, sform);\n    const shim = vec45.fromValues(-0.5, -0.5, -0.5, 0);\n    mat46.translate(sform, sform, vec37.fromValues(shim[0], shim[1], shim[2]));\n    sform[0] *= dim[0];\n    sform[1] *= dim[0];\n    sform[2] *= dim[0];\n    sform[4] *= dim[1];\n    sform[5] *= dim[1];\n    sform[6] *= dim[1];\n    sform[8] *= dim[2];\n    sform[9] *= dim[2];\n    sform[10] *= dim[2];\n    this.frac2mm = mat46.clone(sform);\n    const pixdimX = this.pixDimsRAS[1];\n    const pixdimY = this.pixDimsRAS[2];\n    const pixdimZ = this.pixDimsRAS[3];\n    const oform = mat46.clone(sform);\n    oform[0] = pixdimX * dim[0];\n    oform[1] = 0;\n    oform[2] = 0;\n    oform[4] = 0;\n    oform[5] = pixdimY * dim[1];\n    oform[6] = 0;\n    oform[8] = 0;\n    oform[9] = 0;\n    oform[10] = pixdimZ * dim[2];\n    const originVoxel = this.mm2vox([0, 0, 0], true);\n    oform[12] = (-originVoxel[0] - 0.5) * pixdimX;\n    oform[13] = (-originVoxel[1] - 0.5) * pixdimY;\n    oform[14] = (-originVoxel[2] - 0.5) * pixdimZ;\n    this.frac2mmOrtho = mat46.clone(oform);\n    this.extentsMinOrtho = [oform[12], oform[13], oform[14]];\n    this.extentsMaxOrtho = [oform[0] + oform[12], oform[5] + oform[13], oform[10] + oform[14]];\n    this.mm2ortho = mat46.create();\n    mat46.invert(this.mm2ortho, oblique);\n  }\n  // not included in public docs\n  // convert AFNI head/brik space to NIfTI format\n  // https://github.com/afni/afni/blob/d6997e71f2b625ac1199460576d48f3136dac62c/src/thd_niftiwrite.c#L315\n  THD_daxes_to_NIFTI(xyzDelta, xyzOrigin, orientSpecific) {\n    const hdr = this.hdr;\n    if (hdr === null) {\n      throw new Error(\"HDR is not set\");\n    }\n    hdr.sform_code = 2;\n    const ORIENT_xyz = \"xxyyzzg\";\n    let nif_x_axnum = -1;\n    let nif_y_axnum = -1;\n    let nif_z_axnum = -1;\n    const axcode = [\"x\", \"y\", \"z\"];\n    axcode[0] = ORIENT_xyz[orientSpecific[0]];\n    axcode[1] = ORIENT_xyz[orientSpecific[1]];\n    axcode[2] = ORIENT_xyz[orientSpecific[2]];\n    const axstep = xyzDelta.slice(0, 3);\n    const axstart = xyzOrigin.slice(0, 3);\n    for (let ii = 0; ii < 3; ii++) {\n      if (axcode[ii] === \"x\") {\n        nif_x_axnum = ii;\n      } else if (axcode[ii] === \"y\") {\n        nif_y_axnum = ii;\n      } else {\n        nif_z_axnum = ii;\n      }\n    }\n    if (nif_x_axnum < 0 || nif_y_axnum < 0 || nif_z_axnum < 0) {\n      return;\n    }\n    if (nif_x_axnum === nif_y_axnum || nif_x_axnum === nif_z_axnum || nif_y_axnum === nif_z_axnum) {\n      return;\n    }\n    hdr.pixDims[1] = Math.abs(axstep[0]);\n    hdr.pixDims[2] = Math.abs(axstep[1]);\n    hdr.pixDims[3] = Math.abs(axstep[2]);\n    hdr.affine = [\n      [1, 0, 0, 0],\n      [0, 1, 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1]\n    ];\n    hdr.affine[0][nif_x_axnum] = -axstep[nif_x_axnum];\n    hdr.affine[1][nif_y_axnum] = -axstep[nif_y_axnum];\n    hdr.affine[2][nif_z_axnum] = axstep[nif_z_axnum];\n    hdr.affine[0][3] = -axstart[nif_x_axnum];\n    hdr.affine[1][3] = -axstart[nif_y_axnum];\n    hdr.affine[2][3] = axstart[nif_z_axnum];\n  }\n  // not included in public docs\n  // determine spacing voxel centers (rows, columns, slices)\n  SetPixDimFromSForm() {\n    if (!this.hdr) {\n      throw new Error(\"hdr not defined\");\n    }\n    const m = this.hdr.affine;\n    const mat = mat46.fromValues(\n      m[0][0],\n      m[0][1],\n      m[0][2],\n      m[0][3],\n      m[1][0],\n      m[1][1],\n      m[1][2],\n      m[1][3],\n      m[2][0],\n      m[2][1],\n      m[2][2],\n      m[2][3],\n      m[3][0],\n      m[3][1],\n      m[3][2],\n      m[3][3]\n    );\n    const mm000 = this.vox2mm([0, 0, 0], mat);\n    const mm100 = this.vox2mm([1, 0, 0], mat);\n    vec37.subtract(mm100, mm100, mm000);\n    const mm010 = this.vox2mm([0, 1, 0], mat);\n    vec37.subtract(mm010, mm010, mm000);\n    const mm001 = this.vox2mm([0, 0, 1], mat);\n    vec37.subtract(mm001, mm001, mm000);\n    this.hdr.pixDims[1] = vec37.length(mm100);\n    this.hdr.pixDims[2] = vec37.length(mm010);\n    this.hdr.pixDims[3] = vec37.length(mm001);\n  }\n  // not included in public docs\n  // read DICOM format image and treat it like a NIfTI\n  // -----------------\n  // readDICOM(buf: ArrayBuffer | ArrayBuffer[]): ArrayBuffer {\n  //   this.series = new daikon.Series()\n  //   // parse DICOM file\n  //   if (Array.isArray(buf)) {\n  //     for (let i = 0; i < buf.length; i++) {\n  //       const dataview = new DataView(buf[i])\n  //       const image = daikon.Series.parseImage(dataview)\n  //       if (image === null) {\n  //         log.error(daikon.Series.parserError)\n  //       } else if (image.hasPixelData()) {\n  //         // if it's part of the same series, add it\n  //         if (this.series.images.length === 0 || image.getSeriesId() === this.series.images[0].getSeriesId()) {\n  //           this.series.addImage(image)\n  //         }\n  //       } // if hasPixelData\n  //     } // for i\n  //   } else {\n  //     // not a dicom folder drop\n  //     const image = daikon.Series.parseImage(new DataView(buf))\n  //     if (image === null) {\n  //       log.error(daikon.Series.parserError)\n  //     } else if (image.hasPixelData()) {\n  //       // if it's part of the same series, add it\n  //       if (this.series.images.length === 0 || image.getSeriesId() === this.series.images[0].getSeriesId()) {\n  //         this.series.addImage(image)\n  //       }\n  //     }\n  //   }\n  //   // order the image files, determines number of frames, etc.\n  //   this.series.buildSeries()\n  //   // output some header info\n  //   this.hdr = new nifti.NIFTI1()\n  //   const hdr = this.hdr\n  //   hdr.scl_inter = 0\n  //   hdr.scl_slope = 1\n  //   if (this.series.images[0].getDataScaleIntercept()) {\n  //     hdr.scl_inter = this.series.images[0].getDataScaleIntercept()\n  //   }\n  //   if (this.series.images[0].getDataScaleSlope()) {\n  //     hdr.scl_slope = this.series.images[0].getDataScaleSlope()\n  //   }\n  //   hdr.dims = [3, 1, 1, 1, 0, 0, 0, 0]\n  //   hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0]\n  //   hdr.dims[1] = this.series.images[0].getCols()\n  //   hdr.dims[2] = this.series.images[0].getRows()\n  //   hdr.dims[3] = this.series.images[0].getNumberOfFrames()\n  //   if (this.series.images.length > 1) {\n  //     if (hdr.dims[3] > 1) {\n  //       log.debug('To Do: multiple slices per file and multiple files (XA30 DWI)')\n  //     }\n  //     hdr.dims[3] = this.series.images.length\n  //   }\n  //   const rc = this.series.images[0].getPixelSpacing() // TODO: order?\n  //   hdr.pixDims[1] = rc[0]\n  //   hdr.pixDims[2] = rc[1]\n  //   if (this.series.images.length > 1) {\n  //     // Multiple slices. The depth of a pixel is the physical distance between offsets. This is not the same as slice\n  //     // spacing for tilted slices (skew).\n  //     const p0 = vec3.fromValues(...(this.series.images[0].getImagePosition() as [number, number, number]))\n  //     const p1 = vec3.fromValues(...(this.series.images[1].getImagePosition() as [number, number, number]))\n  //     const n = vec3.fromValues(0, 0, 0)\n  //     vec3.subtract(n, p0, p1)\n  //     hdr.pixDims[3] = vec3.length(n)\n  //   } else {\n  //     // Single slice. Use the slice thickness as pixel depth.\n  //     hdr.pixDims[3] = this.series.images[0].getSliceThickness()\n  //   }\n  //   hdr.pixDims[4] = this.series.images[0].getTR() / 1000.0 // msec -> sec\n  //   const dt = this.series.images[0].getDataType() // 2=int,3=uint,4=float,\n  //   const bpv = this.series.images[0].getBitsAllocated()\n  //   hdr.numBitsPerVoxel = bpv\n  //   this.hdr.littleEndian = this.series.images[0].littleEndian\n  //   if (bpv === 8 && dt === 2) {\n  //     hdr.datatypeCode = NiiDataType.DT_INT8\n  //   } else if (bpv === 8 && dt === 3) {\n  //     hdr.datatypeCode = NiiDataType.DT_UINT8\n  //   } else if (bpv === 16 && dt === 2) {\n  //     hdr.datatypeCode = NiiDataType.DT_INT16\n  //   } else if (bpv === 16 && dt === 3) {\n  //     hdr.datatypeCode = NiiDataType.DT_UINT16\n  //   } else if (bpv === 32 && dt === 2) {\n  //     hdr.datatypeCode = NiiDataType.DT_INT32\n  //   } else if (bpv === 32 && dt === 3) {\n  //     hdr.datatypeCode = NiiDataType.DT_UINT32\n  //   } else if (bpv === 32 && dt === 4) {\n  //     hdr.datatypeCode = NiiDataType.DT_FLOAT32\n  //   } else if (bpv === 64 && dt === 4) {\n  //     hdr.datatypeCode = NiiDataType.DT_FLOAT64\n  //   } else if (bpv === 1) {\n  //     hdr.datatypeCode = NiiDataType.DT_BINARY\n  //   } else {\n  //     log.warn('Unsupported DICOM format: ' + dt + ' ' + bpv)\n  //   }\n  //   const voxelDimensions = hdr.pixDims.slice(1, 4)\n  //   const m = getBestTransform(\n  //     this.series.images[0].getImageDirections(),\n  //     voxelDimensions,\n  //     this.series.images[0].getImagePosition()\n  //   )\n  //   if (m) {\n  //     hdr.sform_code = 1\n  //     hdr.affine = [\n  //       [m[0][0], m[0][1], m[0][2], m[0][3]],\n  //       [m[1][0], m[1][1], m[1][2], m[1][3]],\n  //       [m[2][0], m[2][1], m[2][2], m[2][3]],\n  //       [0, 0, 0, 1]\n  //     ]\n  //   }\n  //   let data\n  //   let length = this.series.validatePixelDataLength(this.series.images[0])\n  //   const buffer = new Uint8Array(new ArrayBuffer(length * this.series.images.length))\n  //   // implementation copied from:\n  //   // https://github.com/rii-mango/Daikon/blob/bbe08bad9758dfbdf31ca22fb79048c7bad85706/src/series.js#L496\n  //   for (let i = 0; i < this.series.images.length; i++) {\n  //     if (this.series.isMosaic) {\n  //       data = this.series.getMosaicData(this.series.images[i], this.series.images[i].getPixelDataBytes())\n  //     } else {\n  //       data = this.series.images[i].getPixelDataBytes()\n  //     }\n  //     length = this.series.validatePixelDataLength(this.series.images[i])\n  //     this.series.images[i].clearPixelData()\n  //     buffer.set(new Uint8Array(data, 0, length), length * i)\n  //   } // for images.length\n  //   return buffer.buffer\n  // } // readDICOM()\n  // -----------------------\n  // not included in public docs\n  // read ECAT7 format image\n  // https://github.com/openneuropet/PET2BIDS/tree/28aae3fab22309047d36d867c624cd629c921ca6/ecat_validation/ecat_info\n  readECAT(buffer) {\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.dims = [3, 1, 1, 1, 0, 0, 0, 0];\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    const reader = new DataView(buffer);\n    const signature = reader.getInt32(0, false);\n    const filetype = reader.getInt16(50, false);\n    if (signature !== 1296127058 || filetype < 1 || filetype > 14) {\n      throw new Error(\"Not a valid ECAT file\");\n    }\n    let pos = 512;\n    let vols = 0;\n    const frame_duration = [];\n    let rawImg = new Float32Array();\n    while (true) {\n      const hdr0 = reader.getInt32(pos, false);\n      const hdr3 = reader.getInt32(pos + 12, false);\n      if (hdr0 + hdr3 !== 31) {\n        break;\n      }\n      let lpos = pos + 20;\n      let r = 0;\n      let voloffset = 0;\n      while (r < 31) {\n        voloffset = reader.getInt32(lpos, false);\n        lpos += 16;\n        if (voloffset === 0) {\n          break;\n        }\n        r++;\n        let ipos = voloffset * 512;\n        const spos = ipos - 512;\n        const data_type = reader.getUint16(spos, false);\n        hdr.dims[1] = reader.getUint16(spos + 4, false);\n        hdr.dims[2] = reader.getUint16(spos + 6, false);\n        hdr.dims[3] = reader.getUint16(spos + 8, false);\n        const scale_factor = reader.getFloat32(spos + 26, false);\n        hdr.pixDims[1] = reader.getFloat32(spos + 34, false) * 10;\n        hdr.pixDims[2] = reader.getFloat32(spos + 38, false) * 10;\n        hdr.pixDims[3] = reader.getFloat32(spos + 42, false) * 10;\n        hdr.pixDims[4] = reader.getUint32(spos + 46, false) / 1e3;\n        frame_duration.push(hdr.pixDims[4]);\n        const nvox3D = hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n        const newImg = new Float32Array(nvox3D);\n        if (data_type === 1) {\n          for (let i = 0; i < nvox3D; i++) {\n            newImg[i] = reader.getUint8(ipos) * scale_factor;\n            ipos++;\n          }\n        } else if (data_type === 6) {\n          for (let i = 0; i < nvox3D; i++) {\n            newImg[i] = reader.getUint16(ipos, false) * scale_factor;\n            ipos += 2;\n          }\n        } else if (data_type === 7) {\n          for (let i = 0; i < nvox3D; i++) {\n            newImg[i] = reader.getUint32(ipos, false) * scale_factor;\n            ipos += 4;\n          }\n        } else {\n          log.warn(\"Unknown ECAT data type \" + data_type);\n        }\n        const prevImg = rawImg.slice(0);\n        rawImg = new Float32Array(prevImg.length + newImg.length);\n        rawImg.set(prevImg);\n        rawImg.set(newImg, prevImg.length);\n        vols++;\n      }\n      if (voloffset === 0) {\n        break;\n      }\n      pos += 512;\n    }\n    hdr.dims[4] = vols;\n    hdr.pixDims[4] = frame_duration[0];\n    if (vols > 1) {\n      hdr.dims[0] = 4;\n      let isFDvaries = false;\n      for (let i = 0; i < vols; i++) {\n        if (frame_duration[i] !== frame_duration[0]) {\n          isFDvaries = true;\n        }\n      }\n      if (isFDvaries) {\n        log.warn(\"Frame durations vary\");\n      }\n    }\n    hdr.sform_code = 1;\n    hdr.affine = [\n      [-hdr.pixDims[1], 0, 0, (hdr.dims[1] - 2) * 0.5 * hdr.pixDims[1]],\n      [0, -hdr.pixDims[2], 0, (hdr.dims[2] - 2) * 0.5 * hdr.pixDims[2]],\n      [0, 0, -hdr.pixDims[3], (hdr.dims[3] - 2) * 0.5 * hdr.pixDims[3]],\n      [0, 0, 0, 1]\n    ];\n    hdr.numBitsPerVoxel = 32;\n    hdr.datatypeCode = 16 /* DT_FLOAT32 */;\n    return rawImg.buffer;\n  }\n  // readECAT()\n  readV16(buffer) {\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.dims = [3, 1, 1, 1, 0, 0, 0, 0];\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    const reader = new DataView(buffer);\n    hdr.dims[1] = reader.getUint16(0, true);\n    hdr.dims[2] = reader.getUint16(2, true);\n    hdr.dims[3] = reader.getUint16(4, true);\n    const nBytes = 2 * hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n    if (nBytes + 6 !== buffer.byteLength) {\n      log.warn(\"This does not look like a valid BrainVoyager V16 file\");\n    }\n    hdr.numBitsPerVoxel = 16;\n    hdr.datatypeCode = 512 /* DT_UINT16 */;\n    log.warn(\"Warning: V16 files have no spatial transforms\");\n    hdr.affine = [\n      [0, 0, -hdr.pixDims[1], (hdr.dims[1] - 2) * 0.5 * hdr.pixDims[1]],\n      [-hdr.pixDims[2], 0, 0, (hdr.dims[2] - 2) * 0.5 * hdr.pixDims[2]],\n      [0, -hdr.pixDims[3], 0, (hdr.dims[3] - 2) * 0.5 * hdr.pixDims[3]],\n      [0, 0, 0, 1]\n    ];\n    hdr.littleEndian = true;\n    return buffer.slice(6);\n  }\n  // readV16()\n  async readNPY(buffer) {\n    function getTypeSize(dtype2) {\n      const typeMap = {\n        \"|b1\": 1,\n        // Boolean\n        \"<i1\": 1,\n        // Int8\n        \"<u1\": 1,\n        // UInt8\n        \"<i2\": 2,\n        // Int16\n        \"<u2\": 2,\n        // UInt16\n        \"<i4\": 4,\n        // Int32\n        \"<u4\": 4,\n        // UInt32\n        \"<f4\": 4,\n        // Float32\n        \"<f8\": 8\n        // Float64\n      };\n      return typeMap[dtype2] ?? 1;\n    }\n    function getDataTypeCode(dtype2) {\n      const typeMap = {\n        \"|b1\": 2,\n        // DT_BINARY\n        \"<i1\": 256,\n        // DT_INT8\n        \"<u1\": 2,\n        // DT_UINT8\n        \"<i2\": 4,\n        // DT_INT16\n        \"<u2\": 512,\n        // DT_UINT16\n        \"<i4\": 8,\n        // DT_INT32\n        \"<u4\": 768,\n        // DT_UINT32\n        \"<f4\": 16,\n        // DT_FLOAT32\n        \"<f8\": 64\n        // DT_FLOAT64\n      };\n      return typeMap[dtype2] ?? 16;\n    }\n    const dv = new DataView(buffer);\n    const magicBytes = [dv.getUint8(0), dv.getUint8(1), dv.getUint8(2), dv.getUint8(3), dv.getUint8(4), dv.getUint8(5)];\n    const expectedMagic = [147, 78, 85, 77, 80, 89];\n    if (!magicBytes.every((byte, i) => byte === expectedMagic[i])) {\n      throw new Error(\"Not a valid NPY file: Magic number mismatch\");\n    }\n    const headerLen = dv.getUint16(8, true);\n    const headerText = new TextDecoder(\"utf-8\").decode(buffer.slice(10, 10 + headerLen));\n    const shapeMatch = headerText.match(/'shape': \\((.*?)\\)/);\n    if (!shapeMatch) {\n      throw new Error(\"Invalid NPY header: Shape not found\");\n    }\n    const shape = shapeMatch[1].split(\",\").map((s) => s.trim()).filter((s) => s !== \"\").map(Number);\n    const dtypeMatch = headerText.match(/'descr': '([^']+)'/);\n    if (!dtypeMatch) {\n      throw new Error(\"Invalid NPY header: Data type not found\");\n    }\n    const dtype = dtypeMatch[1];\n    const numElements = shape.reduce((a, b) => a * b, 1);\n    const dataStart = 10 + headerLen;\n    const dataBuffer = buffer.slice(dataStart, dataStart + numElements * getTypeSize(dtype));\n    const width = shape.length > 0 ? shape[shape.length - 1] : 1;\n    const height = shape.length > 1 ? shape[shape.length - 2] : 1;\n    const slices = shape.length > 2 ? shape[shape.length - 3] : 1;\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.dims = [3, width, height, slices, 0, 0, 0, 0];\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    hdr.affine = [\n      [hdr.pixDims[1], 0, 0, -(hdr.dims[1] - 2) * 0.5 * hdr.pixDims[1]],\n      [0, -hdr.pixDims[2], 0, (hdr.dims[2] - 2) * 0.5 * hdr.pixDims[2]],\n      [0, 0, -hdr.pixDims[3], (hdr.dims[3] - 2) * 0.5 * hdr.pixDims[3]],\n      [0, 0, 0, 1]\n    ];\n    hdr.numBitsPerVoxel = getTypeSize(dtype) * 8;\n    hdr.datatypeCode = getDataTypeCode(dtype);\n    return dataBuffer;\n  }\n  async readNPZ(buffer) {\n    const zip = new Zip(buffer);\n    for (let i = 0; i < zip.entries.length; i++) {\n      const entry = zip.entries[i];\n      if (entry.fileName.toLowerCase().endsWith(\".npy\")) {\n        const data = await entry.extract();\n        return await this.readNPY(data.buffer);\n      }\n    }\n  }\n  async imageDataFromArrayBuffer(buffer) {\n    return new Promise((resolve, reject) => {\n      const blob = new Blob([buffer]);\n      const url = URL.createObjectURL(blob);\n      const img = new Image();\n      img.crossOrigin = \"Anonymous\";\n      img.src = url;\n      img.onload = () => {\n        URL.revokeObjectURL(url);\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = img.width;\n        canvas.height = img.height;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) {\n          reject(new Error(\"Failed to get 2D context\"));\n          return;\n        }\n        ctx.drawImage(img, 0, 0);\n        resolve(ctx.getImageData(0, 0, img.width, img.height));\n      };\n      img.onerror = (err) => {\n        URL.revokeObjectURL(url);\n        reject(err);\n      };\n    });\n  }\n  async readBMP(buffer) {\n    const imageData = await this.imageDataFromArrayBuffer(buffer);\n    const { width, height, data } = imageData;\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.dims = [3, width, height, 1, 0, 0, 0, 0];\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    hdr.affine = [\n      [hdr.pixDims[1], 0, 0, -(hdr.dims[1] - 2) * 0.5 * hdr.pixDims[1]],\n      [0, -hdr.pixDims[2], 0, (hdr.dims[2] - 2) * 0.5 * hdr.pixDims[2]],\n      [0, 0, -hdr.pixDims[3], (hdr.dims[3] - 2) * 0.5 * hdr.pixDims[3]],\n      [0, 0, 0, 1]\n    ];\n    hdr.numBitsPerVoxel = 8;\n    hdr.datatypeCode = 2304 /* DT_RGBA32 */;\n    let isGrayscale = true;\n    for (let i = 0; i < data.length; i += 4) {\n      if (data[i] !== data[i + 1] || data[i] !== data[i + 2]) {\n        isGrayscale = false;\n        break;\n      }\n    }\n    if (isGrayscale) {\n      hdr.datatypeCode = 2 /* DT_UINT8 */;\n      const grayscaleData = new Uint8Array(width * height);\n      for (let i = 0, j = 0; i < data.length; i += 4, j++) {\n        grayscaleData[j] = data[i];\n      }\n      return grayscaleData.buffer;\n    }\n    return data.buffer;\n  }\n  async readZARR(buffer, zarrData) {\n    let { width, height, depth = 1, data } = zarrData ?? {};\n    let expectedLength = width * height * depth * 3;\n    let isRGB = expectedLength === data.length;\n    if (!isRGB) {\n      expectedLength = width * height * depth;\n      if (depth === 3) {\n        isRGB = true;\n        depth = 1;\n      }\n    }\n    if (expectedLength !== data.length) {\n      throw new Error(`Expected RGB ${width}\\xD7${height}\\xD7${depth}\\xD73 =  ${expectedLength}, but ZARR length ${data.length}`);\n    }\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.dims = [3, width, height, depth, 1, 1, 1, 1];\n    hdr.pixDims = [1, 1, 1, 1, 0, 0, 0, 0];\n    hdr.affine = [\n      [hdr.pixDims[1], 0, 0, -(hdr.dims[1] - 2) * 0.5 * hdr.pixDims[1]],\n      [0, -hdr.pixDims[2], 0, (hdr.dims[2] - 2) * 0.5 * hdr.pixDims[2]],\n      [0, 0, -hdr.pixDims[3], (hdr.dims[3] - 2) * 0.5 * hdr.pixDims[3]],\n      [0, 0, 0, 1]\n    ];\n    if (!isRGB) {\n      hdr.numBitsPerVoxel = 8;\n      hdr.datatypeCode = 2 /* DT_UINT8 */;\n      if (data instanceof Uint8Array) {\n        const retBuffer2 = new ArrayBuffer(data.length);\n        const retView2 = new Uint8Array(retBuffer2);\n        retView2.set(data);\n        return retBuffer2;\n      }\n      return data;\n    }\n    hdr.numBitsPerVoxel = 24;\n    hdr.datatypeCode = 128 /* DT_RGB24 */;\n    function zxy2xyz(data2, X, Y, Z) {\n      const voxelCount = X * Y;\n      const rgb = new Uint8Array(voxelCount * Z * 3);\n      const offsets = new Array(Z);\n      for (let s = 0; s < Z; s++) {\n        offsets[s] = voxelCount * 3 * s;\n      }\n      let srcIndex = 0;\n      let dstIndex = 0;\n      for (let v = 0; v < voxelCount; v++) {\n        for (let s = 0; s < Z; s++) {\n          rgb[offsets[s] + dstIndex] = data2[srcIndex++];\n          rgb[offsets[s] + dstIndex + 1] = data2[srcIndex++];\n          rgb[offsets[s] + dstIndex + 2] = data2[srcIndex++];\n        }\n        dstIndex += 3;\n      }\n      return rgb;\n    }\n    const retData = zxy2xyz(data, hdr.dims[1], hdr.dims[2], hdr.dims[3]);\n    const retBuffer = new ArrayBuffer(retData.length);\n    const retView = new Uint8Array(retBuffer);\n    retView.set(retData);\n    return retBuffer;\n  }\n  // not included in public docs\n  // read brainvoyager format VMR image\n  // https://support.brainvoyager.com/brainvoyager/automation-development/84-file-formats/343-developer-guide-2-6-the-format-of-vmr-files\n  readVMR(buffer) {\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.dims = [3, 1, 1, 1, 0, 0, 0, 0];\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    const reader = new DataView(buffer);\n    const version2 = reader.getUint16(0, true);\n    if (version2 !== 4) {\n      log.warn(\"Not a valid version 4 VMR image\");\n    }\n    hdr.dims[1] = reader.getUint16(2, true);\n    hdr.dims[2] = reader.getUint16(4, true);\n    hdr.dims[3] = reader.getUint16(6, true);\n    const nBytes = hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n    if (version2 >= 4) {\n      let pos = 8 + nBytes;\n      const nSpatialTransforms = reader.getUint32(pos + 88, true);\n      pos = pos + 92;\n      if (nSpatialTransforms > 0) {\n        const len = buffer.byteLength;\n        for (let i = 0; i < nSpatialTransforms; i++) {\n          while (pos < len && reader.getUint8(pos) !== 0) {\n            pos++;\n          }\n          pos++;\n          pos += 4;\n          while (pos < len && reader.getUint8(pos) !== 0) {\n            pos++;\n          }\n          pos++;\n          const nValues = reader.getUint32(pos, true);\n          pos += 4;\n          for (let j = 0; j < nValues; j++) {\n            pos += 4;\n          }\n        }\n      }\n      hdr.pixDims[1] = reader.getFloat32(pos + 2, true);\n      hdr.pixDims[2] = reader.getFloat32(pos + 6, true);\n      hdr.pixDims[3] = reader.getFloat32(pos + 10, true);\n    }\n    log.warn(\"Warning: VMR spatial transform not implemented\");\n    hdr.affine = [\n      [0, 0, -hdr.pixDims[1], (hdr.dims[1] - 2) * 0.5 * hdr.pixDims[1]],\n      [-hdr.pixDims[2], 0, 0, (hdr.dims[2] - 2) * 0.5 * hdr.pixDims[2]],\n      [0, -hdr.pixDims[3], 0, (hdr.dims[3] - 2) * 0.5 * hdr.pixDims[3]],\n      [0, 0, 0, 1]\n    ];\n    log.debug(hdr);\n    hdr.numBitsPerVoxel = 8;\n    hdr.datatypeCode = 2 /* DT_UINT8 */;\n    return buffer.slice(8, 8 + nBytes);\n  }\n  // readVMR()\n  // not included in public docs\n  // read DSI-Studio FIB format image\n  // https://dsi-studio.labsolver.org/doc/cli_data.html\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async readFIB(buffer) {\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.littleEndian = false;\n    hdr.dims = [3, 1, 1, 1, 0, 0, 0, 0];\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    const mat = await NVUtilities.readMatV4(buffer, true);\n    if (!(\"dimension\" in mat) || !(\"dti_fa\" in mat)) {\n      throw new Error(\"Not a valid DSIstudio FIB file\");\n    }\n    const hasV1 = \"index0\" in mat && \"index1\" in mat && \"index2\" in mat && \"odf_vertices\" in mat;\n    hdr.numBitsPerVoxel = 32;\n    hdr.datatypeCode = 16 /* DT_FLOAT32 */;\n    hdr.dims[1] = mat.dimension[0];\n    hdr.dims[2] = mat.dimension[1];\n    hdr.dims[3] = mat.dimension[2];\n    hdr.dims[4] = 1;\n    hdr.pixDims[1] = mat.voxel_size[0];\n    hdr.pixDims[2] = mat.voxel_size[1];\n    hdr.pixDims[3] = mat.voxel_size[2];\n    hdr.sform_code = 1;\n    const xmm = (hdr.dims[1] - 1) * 0.5 * hdr.pixDims[1];\n    const ymm = (hdr.dims[2] - 1) * 0.5 * hdr.pixDims[2];\n    const zmm = (hdr.dims[3] - 1) * 0.5 * hdr.pixDims[3];\n    hdr.affine = [\n      [hdr.pixDims[1], 0, 0, -xmm],\n      [0, -hdr.pixDims[2], 0, ymm],\n      [0, 0, hdr.pixDims[2], -zmm],\n      [0, 0, 0, 1]\n    ];\n    hdr.littleEndian = true;\n    const nVox3D = hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n    const nBytes3D = nVox3D * Math.ceil(hdr.numBitsPerVoxel / 8);\n    const nBytes = nBytes3D * hdr.dims[4];\n    const buff8v1 = new Uint8Array(new ArrayBuffer(nVox3D * 4 * 3));\n    if (hasV1) {\n      const nvox = hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n      const dir0 = new Float32Array(nvox);\n      const dir1 = new Float32Array(nvox);\n      const dir2 = new Float32Array(nvox);\n      const idxs = mat.index0;\n      const dirs = mat.odf_vertices;\n      for (let i = 0; i < nvox; i++) {\n        const idx = idxs[i] * 3;\n        dir0[i] = dirs[idx + 0];\n        dir1[i] = dirs[idx + 1];\n        dir2[i] = -dirs[idx + 2];\n      }\n      buff8v1.set(new Uint8Array(dir0.buffer, dir0.byteOffset, dir0.byteLength), 0 * nBytes3D);\n      buff8v1.set(new Uint8Array(dir1.buffer, dir1.byteOffset, dir1.byteLength), 1 * nBytes3D);\n      buff8v1.set(new Uint8Array(dir2.buffer, dir2.byteOffset, dir2.byteLength), 2 * nBytes3D);\n    }\n    if (\"report\" in mat) {\n      hdr.description = new TextDecoder().decode(mat.report.subarray(0, Math.min(79, mat.report.byteLength)));\n    }\n    const buff8 = new Uint8Array(new ArrayBuffer(nBytes));\n    const arrFA = Float32Array.from(mat.dti_fa);\n    if (\"mask\" in mat) {\n      let slope = 1;\n      if (\"dti_fa_slope\" in mat) {\n        slope = mat.dti_fa_slope[0];\n      }\n      let inter = 1;\n      if (\"dti_fa_inter\" in mat) {\n        inter = mat.dti_fa_inter[0];\n      }\n      const nvox = hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n      const mask = mat.mask;\n      const f32 = new Float32Array(nvox);\n      let j = 0;\n      for (let i = 0; i < nvox; i++) {\n        if (mask[i] !== 0) {\n          f32[i] = arrFA[j] * slope + inter;\n          j++;\n        }\n      }\n      return [f32.buffer, new Float32Array(buff8v1.buffer)];\n    }\n    const imgFA = new Uint8Array(arrFA.buffer, arrFA.byteOffset, arrFA.byteLength);\n    buff8.set(imgFA, 0);\n    return [buff8.buffer, new Float32Array(buff8v1.buffer)];\n  }\n  // readFIB()\n  // not included in public docs\n  // read DSI-Studio SRC format image\n  // https://dsi-studio.labsolver.org/doc/cli_data.html\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async readSRC(buffer) {\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.littleEndian = false;\n    hdr.dims = [3, 1, 1, 1, 0, 0, 0, 0];\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    const mat = await NVUtilities.readMatV4(buffer);\n    if (!(\"dimension\" in mat) || !(\"image0\" in mat)) {\n      throw new Error(\"Not a valid DSIstudio SRC file\");\n    }\n    let n = 0;\n    let len = 0;\n    for (const [key, value] of Object.entries(mat)) {\n      if (!key.startsWith(\"image\")) {\n        continue;\n      }\n      if (n === 0) {\n        len = value.length;\n      } else if (len !== value.length) {\n        len = -1;\n      }\n      if (value.constructor !== Uint16Array) {\n        throw new Error(\"DSIstudio SRC files always use Uint16 datatype\");\n      }\n      n++;\n    }\n    if (len < 1 || n < 1) {\n      throw new Error(\"SRC file not valid DSI Studio data. The image(s) should have the same length\");\n    }\n    hdr.numBitsPerVoxel = 16;\n    hdr.datatypeCode = 512 /* DT_UINT16 */;\n    hdr.dims[1] = mat.dimension[0];\n    hdr.dims[2] = mat.dimension[1];\n    hdr.dims[3] = mat.dimension[2];\n    hdr.dims[4] = n;\n    if (hdr.dims[4] > 1) {\n      hdr.dims[0] = 4;\n    }\n    hdr.pixDims[1] = mat.voxel_size[0];\n    hdr.pixDims[2] = mat.voxel_size[1];\n    hdr.pixDims[3] = mat.voxel_size[2];\n    hdr.sform_code = 1;\n    const xmm = (hdr.dims[1] - 1) * 0.5 * hdr.pixDims[1];\n    const ymm = (hdr.dims[2] - 1) * 0.5 * hdr.pixDims[2];\n    const zmm = (hdr.dims[3] - 1) * 0.5 * hdr.pixDims[3];\n    hdr.affine = [\n      [hdr.pixDims[1], 0, 0, -xmm],\n      [0, -hdr.pixDims[2], 0, ymm],\n      [0, 0, hdr.pixDims[2], -zmm],\n      [0, 0, 0, 1]\n    ];\n    hdr.littleEndian = true;\n    const nBytes3D = hdr.dims[1] * hdr.dims[2] * hdr.dims[3] * (hdr.numBitsPerVoxel / 8);\n    const nBytes = nBytes3D * hdr.dims[4];\n    const buff8 = new Uint8Array(new ArrayBuffer(nBytes));\n    let offset = 0;\n    for (let i = 0; i < n; i++) {\n      const arr = mat[`image${i}`];\n      const img8 = new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n      buff8.set(img8, offset);\n      offset += nBytes3D;\n    }\n    if (\"report\" in mat) {\n      hdr.description = new TextDecoder().decode(mat.report.subarray(0, Math.min(79, mat.report.byteLength)));\n    }\n    return buff8.buffer;\n  }\n  // readSRC()\n  // not included in public docs\n  // read AFNI head/brik format image\n  async readHEAD(dataBuffer, pairedImgData) {\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.dims[0] = 3;\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    let orientSpecific = [0, 0, 0];\n    let xyzOrigin = [0, 0, 0];\n    let xyzDelta = [1, 1, 1];\n    const txt = new TextDecoder().decode(dataBuffer);\n    const lines = txt.split(/\\r?\\n/);\n    const mod = (dataBuffer.byteLength + 8) % 16;\n    const len = dataBuffer.byteLength + (16 - mod);\n    log.debug(dataBuffer.byteLength, \"len\", len);\n    const extBuffer = new ArrayBuffer(len);\n    new Uint8Array(extBuffer).set(new Uint8Array(dataBuffer));\n    const newExtension = new NIFTIEXTENSION(len + 8, 42, extBuffer, true);\n    hdr.addExtension(newExtension);\n    hdr.extensionCode = 42;\n    hdr.extensionFlag[0] = 1;\n    hdr.extensionSize = len + 8;\n    const nlines = lines.length;\n    let i = 0;\n    let hasIJK_TO_DICOM_REAL = false;\n    while (i < nlines) {\n      let line = lines[i];\n      i++;\n      if (!line.startsWith(\"type\")) {\n        continue;\n      }\n      const isInt = line.includes(\"integer-attribute\");\n      const isFloat = line.includes(\"float-attribute\");\n      line = lines[i];\n      i++;\n      if (!line.startsWith(\"name\")) {\n        continue;\n      }\n      let items = line.split(\"= \");\n      const key = items[1];\n      line = lines[i];\n      i++;\n      items = line.split(\"= \");\n      let count = parseInt(items[1]);\n      if (count < 1) {\n        continue;\n      }\n      line = lines[i];\n      i++;\n      items = line.trim().split(/\\s+/);\n      if (isFloat || isInt) {\n        while (items.length < count) {\n          line = lines[i];\n          i++;\n          const items2 = line.trim().split(/\\s+/);\n          items.push(...items2);\n        }\n        for (let j = 0; j < count; j++) {\n          items[j] = parseFloat(items[j]);\n        }\n      }\n      switch (key) {\n        case \"BYTEORDER_STRING\":\n          if (items[0].includes(\"LSB_FIRST\")) {\n            hdr.littleEndian = true;\n          } else if (items[0].includes(\"MSB_FIRST\")) {\n            hdr.littleEndian = false;\n          }\n          break;\n        case \"BRICK_TYPES\":\n          {\n            hdr.dims[4] = count;\n            const datatype = parseInt(items[0]);\n            if (datatype === 0) {\n              hdr.numBitsPerVoxel = 8;\n              hdr.datatypeCode = 2 /* DT_UINT8 */;\n            } else if (datatype === 1) {\n              hdr.numBitsPerVoxel = 16;\n              hdr.datatypeCode = 4 /* DT_INT16 */;\n            } else if (datatype === 3) {\n              hdr.numBitsPerVoxel = 32;\n              hdr.datatypeCode = 16 /* DT_FLOAT32 */;\n            } else {\n              log.warn(\"Unknown BRICK_TYPES \", datatype);\n            }\n          }\n          break;\n        case \"IJK_TO_DICOM_REAL\":\n          if (count < 12) {\n            break;\n          }\n          hasIJK_TO_DICOM_REAL = true;\n          hdr.sform_code = 2;\n          hdr.affine = [\n            [-items[0], -items[1], -items[2], -items[3]],\n            [-items[4], -items[5], -items[6], -items[7]],\n            // TODO don't reuse items for numeric values\n            [items[8], items[9], items[10], items[11]],\n            [0, 0, 0, 1]\n          ];\n          break;\n        case \"DATASET_DIMENSIONS\":\n          count = Math.max(count, 3);\n          for (let j = 0; j < count; j++) {\n            hdr.dims[j + 1] = items[j];\n          }\n          break;\n        case \"ORIENT_SPECIFIC\":\n          orientSpecific = items;\n          break;\n        case \"ORIGIN\":\n          xyzOrigin = items;\n          break;\n        case \"DELTA\":\n          xyzDelta = items;\n          break;\n        case \"TAXIS_FLOATS\":\n          hdr.pixDims[4] = items[0];\n          break;\n        default:\n          log.warn(\"Unknown:\", key);\n      }\n    }\n    if (!hasIJK_TO_DICOM_REAL) {\n      this.THD_daxes_to_NIFTI(xyzDelta, xyzOrigin, orientSpecific);\n    } else {\n      this.SetPixDimFromSForm();\n    }\n    const nBytes = hdr.numBitsPerVoxel / 8 * hdr.dims[1] * hdr.dims[2] * hdr.dims[3] * hdr.dims[4];\n    if (!pairedImgData) {\n      throw new Error(\"pairedImgData not set\");\n    }\n    if (pairedImgData.byteLength < nBytes) {\n      return await NVUtilities.decompressToBuffer(new Uint8Array(pairedImgData));\n    }\n    return pairedImgData.slice(0);\n  }\n  // not included in public docs\n  // read ITK MHA format image\n  // https://itk.org/Wiki/ITK/MetaIO/Documentation#Reading_a_Brick-of-Bytes_.28an_N-Dimensional_volume_in_a_single_file.29\n  async readMHA(buffer, pairedImgData) {\n    const len = buffer.byteLength;\n    if (len < 20) {\n      throw new Error(\"File too small to be VTK: bytes = \" + buffer.byteLength);\n    }\n    const bytes = new Uint8Array(buffer);\n    let pos = 0;\n    function eol(c) {\n      return c === 10 || c === 13;\n    }\n    function readStr() {\n      while (pos < len && eol(bytes[pos])) {\n        pos++;\n      }\n      const startPos = pos;\n      while (pos < len && !eol(bytes[pos])) {\n        pos++;\n      }\n      if (pos - startPos < 2) {\n        return \"\";\n      }\n      return new TextDecoder().decode(buffer.slice(startPos, pos));\n    }\n    let line = readStr();\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    hdr.dims = [1, 1, 1, 1, 1, 1, 1, 1];\n    hdr.littleEndian = true;\n    let isGz = false;\n    let isDetached = false;\n    const mat332 = mat32.fromValues(NaN, 0, 0, 0, 1, 0, 0, 0, 1);\n    const offset = vec37.fromValues(0, 0, 0);\n    while (line !== \"\") {\n      let items = line.split(\" \");\n      if (items.length > 2) {\n        items = items.slice(2);\n      }\n      if (line.startsWith(\"BinaryDataByteOrderMSB\") && items[0].includes(\"False\")) {\n        hdr.littleEndian = true;\n      }\n      if (line.startsWith(\"BinaryDataByteOrderMSB\") && items[0].includes(\"True\")) {\n        hdr.littleEndian = false;\n      }\n      if (line.startsWith(\"CompressedData\") && items[0].includes(\"True\")) {\n        isGz = true;\n      }\n      if (line.startsWith(\"TransformMatrix\")) {\n        for (let d = 0; d < 9; d++) {\n          mat332[d] = parseFloat(items[d]);\n        }\n      }\n      if (line.startsWith(\"Offset\")) {\n        for (let d = 0; d < Math.min(items.length, 3); d++) {\n          offset[d] = parseFloat(items[d]);\n        }\n      }\n      if (line.startsWith(\"ElementSpacing\")) {\n        for (let d = 0; d < items.length; d++) {\n          hdr.pixDims[d + 1] = parseFloat(items[d]);\n        }\n      }\n      if (line.startsWith(\"DimSize\")) {\n        hdr.dims[0] = items.length;\n        for (let d = 0; d < items.length; d++) {\n          hdr.dims[d + 1] = parseInt(items[d]);\n        }\n      }\n      if (line.startsWith(\"ElementType\")) {\n        switch (items[0]) {\n          case \"MET_UCHAR\":\n            hdr.numBitsPerVoxel = 8;\n            hdr.datatypeCode = 2 /* DT_UINT8 */;\n            break;\n          case \"MET_CHAR\":\n            hdr.numBitsPerVoxel = 8;\n            hdr.datatypeCode = 256 /* DT_INT8 */;\n            break;\n          case \"MET_SHORT\":\n            hdr.numBitsPerVoxel = 16;\n            hdr.datatypeCode = 4 /* DT_INT16 */;\n            break;\n          case \"MET_USHORT\":\n            hdr.numBitsPerVoxel = 16;\n            hdr.datatypeCode = 512 /* DT_UINT16 */;\n            break;\n          case \"MET_INT\":\n            hdr.numBitsPerVoxel = 32;\n            hdr.datatypeCode = 8 /* DT_INT32 */;\n            break;\n          case \"MET_UINT\":\n            hdr.numBitsPerVoxel = 32;\n            hdr.datatypeCode = 768 /* DT_UINT32 */;\n            break;\n          case \"MET_FLOAT\":\n            hdr.numBitsPerVoxel = 32;\n            hdr.datatypeCode = 16 /* DT_FLOAT32 */;\n            break;\n          case \"MET_DOUBLE\":\n            hdr.numBitsPerVoxel = 64;\n            hdr.datatypeCode = 64 /* DT_FLOAT64 */;\n            break;\n          default:\n            throw new Error(\"Unsupported MHA data type: \" + items[0]);\n        }\n      }\n      if (line.startsWith(\"ObjectType\") && !items[0].includes(\"Image\")) {\n        log.warn(\"Only able to read ObjectType = Image, not \" + line);\n      }\n      if (line.startsWith(\"ElementDataFile\")) {\n        if (items[0] !== \"LOCAL\") {\n          isDetached = true;\n        }\n        break;\n      }\n      line = readStr();\n    }\n    const mmMat = mat32.fromValues(hdr.pixDims[1], 0, 0, 0, hdr.pixDims[2], 0, 0, 0, hdr.pixDims[3]);\n    mat32.multiply(mat332, mat332, mmMat);\n    hdr.affine = [\n      [-mat332[0], -mat332[3], -mat332[6], -offset[0]],\n      [-mat332[1], -mat332[4], -mat332[7], -offset[1]],\n      [mat332[2], mat332[5], mat332[8], offset[2]],\n      [0, 0, 0, 1]\n    ];\n    while (bytes[pos] === 10) {\n      pos++;\n    }\n    hdr.vox_offset = pos;\n    if (isDetached && pairedImgData) {\n      if (isGz) {\n        return await NVUtilities.decompressToBuffer(new Uint8Array(pairedImgData.slice(0)));\n      }\n      return pairedImgData.slice(0);\n    }\n    if (isGz) {\n      return await NVUtilities.decompressToBuffer(new Uint8Array(buffer.slice(hdr.vox_offset)));\n    }\n    return buffer.slice(hdr.vox_offset);\n  }\n  // readMHA()\n  // not included in public docs\n  // read mrtrix MIF format image\n  // https://mrtrix.readthedocs.io/en/latest/getting_started/image_data.html#mrtrix-image-formats\n  async readMIF(buffer, pairedImgData) {\n    this.hdr = new NIFTI14();\n    const hdr = this.hdr;\n    hdr.pixDims = [1, 1, 1, 1, 1, 0, 0, 0];\n    hdr.dims = [1, 1, 1, 1, 1, 1, 1, 1];\n    let len = buffer.byteLength;\n    if (len < 20) {\n      throw new Error(\"File too small to be MIF: bytes = \" + len);\n    }\n    let bytes = new Uint8Array(buffer);\n    if (bytes[0] === 31 && bytes[1] === 139) {\n      log.debug(\"MIF with GZ decompression\");\n      buffer = await NVUtilities.decompressToBuffer(new Uint8Array(buffer));\n      len = buffer.byteLength;\n      bytes = new Uint8Array(buffer);\n    }\n    let pos = 0;\n    function readStr() {\n      while (pos < len && bytes[pos] === 10) {\n        pos++;\n      }\n      const startPos = pos;\n      while (pos < len && bytes[pos] !== 10) {\n        pos++;\n      }\n      pos++;\n      if (pos - startPos < 1) {\n        return \"\";\n      }\n      return new TextDecoder().decode(buffer.slice(startPos, pos - 1));\n    }\n    let line = readStr();\n    if (!line.startsWith(\"mrtrix image\")) {\n      throw new Error(\"Not a valid MIF file\");\n    }\n    const layout = [];\n    let isBit = false;\n    let nTransform = 0;\n    let TR = 0;\n    let isDetached = false;\n    line = readStr();\n    while (pos < len && !line.startsWith(\"END\")) {\n      let items = line.split(\":\");\n      line = readStr();\n      if (items.length < 2) {\n        break;\n      }\n      const tag = items[0];\n      items = items[1].split(\",\");\n      for (let i = 0; i < items.length; i++) {\n        items[i] = items[i].trim();\n      }\n      switch (tag) {\n        case \"dim\":\n          hdr.dims[0] = items.length;\n          for (let i = 0; i < items.length; i++) {\n            hdr.dims[i + 1] = parseInt(items[i]);\n          }\n          break;\n        case \"vox\":\n          for (let i = 0; i < items.length; i++) {\n            hdr.pixDims[i + 1] = parseFloat(items[i]);\n            if (isNaN(hdr.pixDims[i + 1])) {\n              hdr.pixDims[i + 1] = 0;\n            }\n          }\n          break;\n        case \"layout\":\n          for (let i = 0; i < items.length; i++) {\n            layout.push(parseInt(items[i]));\n          }\n          break;\n        case \"datatype\":\n          {\n            const dt = items[0];\n            if (dt.startsWith(\"Bit\")) {\n              isBit = true;\n              hdr.datatypeCode = 2 /* DT_UINT8 */;\n            } else if (dt.startsWith(\"Int8\")) {\n              hdr.datatypeCode = 256 /* DT_INT8 */;\n            } else if (dt.startsWith(\"UInt8\")) {\n              hdr.datatypeCode = 2 /* DT_UINT8 */;\n            } else if (dt.startsWith(\"Int16\")) {\n              hdr.datatypeCode = 4 /* DT_INT16 */;\n            } else if (dt.startsWith(\"UInt16\")) {\n              hdr.datatypeCode = 512 /* DT_UINT16 */;\n            } else if (dt.startsWith(\"Int32\")) {\n              hdr.datatypeCode = 8 /* DT_INT32 */;\n            } else if (dt.startsWith(\"UInt32\")) {\n              hdr.datatypeCode = 768 /* DT_UINT32 */;\n            } else if (dt.startsWith(\"Float32\")) {\n              hdr.datatypeCode = 16 /* DT_FLOAT32 */;\n            } else if (dt.startsWith(\"Float64\")) {\n              hdr.datatypeCode = 64 /* DT_FLOAT64 */;\n            } else {\n              log.warn(\"Unsupported datatype \" + dt);\n            }\n            if (dt.includes(\"8\")) {\n              hdr.numBitsPerVoxel = 8;\n            } else if (dt.includes(\"16\")) {\n              hdr.numBitsPerVoxel = 16;\n            } else if (dt.includes(\"32\")) {\n              hdr.numBitsPerVoxel = 32;\n            } else if (dt.includes(\"64\")) {\n              hdr.numBitsPerVoxel = 64;\n            }\n            hdr.littleEndian = true;\n            if (dt.endsWith(\"LE\")) {\n              hdr.littleEndian = true;\n            }\n            if (dt.endsWith(\"BE\")) {\n              hdr.littleEndian = false;\n            }\n          }\n          break;\n        case \"transform\":\n          if (nTransform > 2 || items.length !== 4) {\n            break;\n          }\n          hdr.affine[nTransform][0] = parseFloat(items[0]);\n          hdr.affine[nTransform][1] = parseFloat(items[1]);\n          hdr.affine[nTransform][2] = parseFloat(items[2]);\n          hdr.affine[nTransform][3] = parseFloat(items[3]);\n          nTransform++;\n          break;\n        case \"comments\":\n          hdr.description = items[0].substring(0, Math.min(79, items[0].length));\n          break;\n        /* case 'command_history':\n          if (items[0].startsWith('dwi2tensor')) {\n            isTensor = true\n          }\n          break */\n        case \"RepetitionTime\":\n          TR = parseFloat(items[0]);\n          break;\n        case \"file\":\n          isDetached = !items[0].startsWith(\". \");\n          if (!isDetached) {\n            items = items[0].split(\" \");\n            hdr.vox_offset = parseInt(items[1]);\n          }\n          break;\n      }\n    }\n    const ndim = hdr.dims[0];\n    if (ndim > 5) {\n      log.warn(\"reader only designed for a maximum of 5 dimensions (XYZTD)\");\n    }\n    let nvox = 1;\n    for (let i = 0; i < ndim; i++) {\n      nvox *= Math.max(hdr.dims[i + 1], 1);\n    }\n    for (let i = 0; i < 3; i++) {\n      for (let j2 = 0; j2 < 3; j2++) {\n        hdr.affine[i][j2] *= hdr.pixDims[j2 + 1];\n      }\n    }\n    log.debug(\"mif affine:\" + hdr.affine[0]);\n    if (TR > 0) {\n      hdr.pixDims[4] = TR;\n    }\n    if (isDetached && !pairedImgData) {\n      log.warn(\"MIH header provided without paired image data\");\n    }\n    let rawImg;\n    if (pairedImgData && isDetached) {\n      rawImg = pairedImgData.slice(0);\n    } else if (isBit) {\n      hdr.numBitsPerVoxel = 8;\n      const img8 = new Uint8Array(nvox);\n      const buffer1 = buffer.slice(hdr.vox_offset, hdr.vox_offset + Math.ceil(nvox / 8));\n      const img1 = new Uint8Array(buffer1);\n      let j2 = 0;\n      for (let i = 0; i < nvox; i++) {\n        const bit = i % 8;\n        img8[i] = img1[j2] >> 7 - bit & 1;\n        if (bit === 7) {\n          j2++;\n        }\n      }\n      rawImg = img8.buffer;\n    } else {\n      rawImg = buffer.slice(hdr.vox_offset, hdr.vox_offset + nvox * (hdr.numBitsPerVoxel / 8));\n    }\n    if (layout.length !== hdr.dims[0]) {\n      log.warn(\"dims does not match layout\");\n    }\n    let stride = 1;\n    const instride = [1, 1, 1, 1, 1];\n    const inflip = [false, false, false, false, false];\n    for (let i = 0; i < layout.length; i++) {\n      for (let j2 = 0; j2 < layout.length; j2++) {\n        const a = Math.abs(layout[j2]);\n        if (a !== i) {\n          continue;\n        }\n        instride[j2] = stride;\n        if (layout[j2] < 0 || Object.is(layout[j2], -0)) {\n          inflip[j2] = true;\n        }\n        stride *= hdr.dims[j2 + 1];\n      }\n    }\n    let xlut = NVUtilities.range(0, hdr.dims[1] - 1, 1);\n    if (inflip[0]) {\n      xlut = NVUtilities.range(hdr.dims[1] - 1, 0, -1);\n    }\n    for (let i = 0; i < hdr.dims[1]; i++) {\n      xlut[i] *= instride[0];\n    }\n    let ylut = NVUtilities.range(0, hdr.dims[2] - 1, 1);\n    if (inflip[1]) {\n      ylut = NVUtilities.range(hdr.dims[2] - 1, 0, -1);\n    }\n    for (let i = 0; i < hdr.dims[2]; i++) {\n      ylut[i] *= instride[1];\n    }\n    let zlut = NVUtilities.range(0, hdr.dims[3] - 1, 1);\n    if (inflip[2]) {\n      zlut = NVUtilities.range(hdr.dims[3] - 1, 0, -1);\n    }\n    for (let i = 0; i < hdr.dims[3]; i++) {\n      zlut[i] *= instride[2];\n    }\n    let tlut = NVUtilities.range(0, hdr.dims[4] - 1, 1);\n    if (inflip[3]) {\n      tlut = NVUtilities.range(hdr.dims[4] - 1, 0, -1);\n    }\n    for (let i = 0; i < hdr.dims[4]; i++) {\n      tlut[i] *= instride[3];\n    }\n    let dlut = NVUtilities.range(0, hdr.dims[5] - 1, 1);\n    if (inflip[4]) {\n      dlut = NVUtilities.range(hdr.dims[5] - 1, 0, -1);\n    }\n    for (let i = 0; i < hdr.dims[5]; i++) {\n      dlut[i] *= instride[4];\n    }\n    let j = 0;\n    let inVs;\n    let outVs;\n    switch (hdr.datatypeCode) {\n      case 256 /* DT_INT8 */:\n        inVs = new Int8Array(rawImg);\n        outVs = new Int8Array(nvox);\n        break;\n      case 2 /* DT_UINT8 */:\n        inVs = new Uint8Array(rawImg);\n        outVs = new Uint8Array(nvox);\n        break;\n      case 4 /* DT_INT16 */:\n        inVs = new Int16Array(rawImg);\n        outVs = new Int16Array(nvox);\n        break;\n      case 512 /* DT_UINT16 */:\n        inVs = new Uint16Array(rawImg);\n        outVs = new Uint16Array(nvox);\n        break;\n      case 8 /* DT_INT32 */:\n        inVs = new Int32Array(rawImg);\n        outVs = new Int32Array(nvox);\n        break;\n      case 768 /* DT_UINT32 */:\n        inVs = new Uint32Array(rawImg);\n        outVs = new Uint32Array(nvox);\n        break;\n      case 16 /* DT_FLOAT32 */:\n        inVs = new Float32Array(rawImg);\n        outVs = new Float32Array(nvox);\n        break;\n      case 64 /* DT_FLOAT64 */:\n        inVs = new Float64Array(rawImg);\n        outVs = new Float64Array(nvox);\n        break;\n      default:\n        throw new Error(\"unknown datatypeCode\");\n    }\n    for (let d = 0; d < hdr.dims[5]; d++) {\n      for (let t = 0; t < hdr.dims[4]; t++) {\n        for (let z = 0; z < hdr.dims[3]; z++) {\n          for (let y = 0; y < hdr.dims[2]; y++) {\n            for (let x = 0; x < hdr.dims[1]; x++) {\n              outVs[j] = inVs[xlut[x] + ylut[y] + zlut[z] + tlut[t] + dlut[d]];\n              j++;\n            }\n          }\n        }\n      }\n    }\n    return outVs.buffer;\n  }\n  // readMIF()\n  // not included in public docs\n  // Transform to orient NIfTI image to Left->Right,Posterior->Anterior,Inferior->Superior (48 possible permutations)\n  calculateRAS() {\n    if (!this.hdr) {\n      throw new Error(\"hdr not set\");\n    }\n    const a = this.hdr.affine;\n    const header = this.hdr;\n    const absR = mat32.fromValues(\n      Math.abs(a[0][0]),\n      Math.abs(a[0][1]),\n      Math.abs(a[0][2]),\n      Math.abs(a[1][0]),\n      Math.abs(a[1][1]),\n      Math.abs(a[1][2]),\n      Math.abs(a[2][0]),\n      Math.abs(a[2][1]),\n      Math.abs(a[2][2])\n    );\n    const ixyz = [1, 1, 1];\n    if (absR[3] > absR[0]) {\n      ixyz[0] = 2;\n    }\n    if (absR[6] > absR[0] && absR[6] > absR[3]) {\n      ixyz[0] = 3;\n    }\n    ixyz[1] = 1;\n    if (ixyz[0] === 1) {\n      if (absR[4] > absR[7]) {\n        ixyz[1] = 2;\n      } else {\n        ixyz[1] = 3;\n      }\n    } else if (ixyz[0] === 2) {\n      if (absR[1] > absR[7]) {\n        ixyz[1] = 1;\n      } else {\n        ixyz[1] = 3;\n      }\n    } else {\n      if (absR[1] > absR[4]) {\n        ixyz[1] = 1;\n      } else {\n        ixyz[1] = 2;\n      }\n    }\n    ixyz[2] = 6 - ixyz[1] - ixyz[0];\n    let perm = [1, 2, 3];\n    perm[ixyz[0] - 1] = 1;\n    perm[ixyz[1] - 1] = 2;\n    perm[ixyz[2] - 1] = 3;\n    let rotM = mat46.fromValues(\n      a[0][0],\n      a[0][1],\n      a[0][2],\n      a[0][3],\n      a[1][0],\n      a[1][1],\n      a[1][2],\n      a[1][3],\n      a[2][0],\n      a[2][1],\n      a[2][2],\n      a[2][3],\n      0,\n      0,\n      0,\n      1\n    );\n    this.mm000 = this.vox2mm([-0.5, -0.5, -0.5], rotM);\n    this.mm100 = this.vox2mm([header.dims[1] - 0.5, -0.5, -0.5], rotM);\n    this.mm010 = this.vox2mm([-0.5, header.dims[2] - 0.5, -0.5], rotM);\n    this.mm001 = this.vox2mm([-0.5, -0.5, header.dims[3] - 0.5], rotM);\n    const R = mat46.create();\n    mat46.copy(R, rotM);\n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 3; j++) {\n        R[i * 4 + j] = rotM[i * 4 + perm[j] - 1];\n      }\n    }\n    const flip = [0, 0, 0];\n    if (R[0] < 0) {\n      flip[0] = 1;\n    }\n    if (R[5] < 0) {\n      flip[1] = 1;\n    }\n    if (R[10] < 0) {\n      flip[2] = 1;\n    }\n    this.dimsRAS = [header.dims[0], header.dims[perm[0]], header.dims[perm[1]], header.dims[perm[2]]];\n    this.pixDimsRAS = [header.pixDims[0], header.pixDims[perm[0]], header.pixDims[perm[1]], header.pixDims[perm[2]]];\n    this.permRAS = perm.slice();\n    for (let i = 0; i < 3; i++) {\n      if (flip[i] === 1) {\n        this.permRAS[i] = -this.permRAS[i];\n      }\n    }\n    if (this.arrayEquals(perm, [1, 2, 3]) && this.arrayEquals(flip, [0, 0, 0])) {\n      this.toRAS = mat46.create();\n      this.matRAS = mat46.clone(rotM);\n      this.calculateOblique();\n      this.img2RASstep = [1, this.dimsRAS[1], this.dimsRAS[1] * this.dimsRAS[2]];\n      this.img2RASstart = [0, 0, 0];\n      return;\n    }\n    mat46.identity(rotM);\n    rotM[0 + 0 * 4] = 1 - flip[0] * 2;\n    rotM[1 + 1 * 4] = 1 - flip[1] * 2;\n    rotM[2 + 2 * 4] = 1 - flip[2] * 2;\n    rotM[3 + 0 * 4] = (header.dims[perm[0]] - 1) * flip[0];\n    rotM[3 + 1 * 4] = (header.dims[perm[1]] - 1) * flip[1];\n    rotM[3 + 2 * 4] = (header.dims[perm[2]] - 1) * flip[2];\n    const residualR = mat46.create();\n    mat46.invert(residualR, rotM);\n    mat46.multiply(residualR, residualR, R);\n    this.matRAS = mat46.clone(residualR);\n    rotM = mat46.fromValues(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1);\n    rotM[perm[0] - 1 + 0 * 4] = -flip[0] * 2 + 1;\n    rotM[perm[1] - 1 + 1 * 4] = -flip[1] * 2 + 1;\n    rotM[perm[2] - 1 + 2 * 4] = -flip[2] * 2 + 1;\n    rotM[3 + 0 * 4] = flip[0];\n    rotM[3 + 1 * 4] = flip[1];\n    rotM[3 + 2 * 4] = flip[2];\n    this.toRAS = mat46.clone(rotM);\n    rotM[3] = 0;\n    rotM[7] = 0;\n    rotM[11] = 0;\n    rotM[12] = 0;\n    if (this.permRAS[0] === -1 || this.permRAS[1] === -1 || this.permRAS[2] === -1) {\n      rotM[12] = header.dims[1] - 1;\n    }\n    rotM[13] = 0;\n    if (this.permRAS[0] === -2 || this.permRAS[1] === -2 || this.permRAS[2] === -2) {\n      rotM[13] = header.dims[2] - 1;\n    }\n    rotM[14] = 0;\n    if (this.permRAS[0] === -3 || this.permRAS[1] === -3 || this.permRAS[2] === -3) {\n      rotM[14] = header.dims[3] - 1;\n    }\n    this.toRASvox = mat46.clone(rotM);\n    log.debug(this.hdr.dims);\n    log.debug(this.dimsRAS);\n    const hdr = this.hdr;\n    perm = this.permRAS;\n    const aperm = [Math.abs(perm[0]), Math.abs(perm[1]), Math.abs(perm[2])];\n    const outdim = [hdr.dims[aperm[0]], hdr.dims[aperm[1]], hdr.dims[aperm[2]]];\n    const inStep = [1, hdr.dims[1], hdr.dims[1] * hdr.dims[2]];\n    const outStep = [inStep[aperm[0] - 1], inStep[aperm[1] - 1], inStep[aperm[2] - 1]];\n    const outStart = [0, 0, 0];\n    for (let p = 0; p < 3; p++) {\n      if (perm[p] < 0) {\n        outStart[p] = outStep[p] * (outdim[p] - 1);\n        outStep[p] = -outStep[p];\n      }\n    }\n    this.img2RASstep = outStep;\n    this.img2RASstart = outStart;\n    this.calculateOblique();\n  }\n  // Reorient raw header data to RAS\n  // assume single volume, use nVolumes to specify, set nVolumes = 0 for same as input\n  async hdr2RAS(nVolumes = 1) {\n    if (!this.permRAS) {\n      throw new Error(\"permRAS undefined\");\n    }\n    if (!this.hdr) {\n      throw new Error(\"hdr undefined\");\n    }\n    const hdrBytes = hdrToArrayBuffer({ ...this.hdr, vox_offset: 352 }, false);\n    const hdr = await readHeaderAsync2(hdrBytes.buffer, true);\n    if (nVolumes === 1) {\n      hdr.dims[0] = 3;\n      hdr.dims[4] = 1;\n    } else if (nVolumes > 1) {\n      hdr.dims[0] = 4;\n      hdr.dims[4] = nVolumes;\n    }\n    const perm = this.permRAS.slice();\n    if (perm[0] === 1 && perm[1] === 2 && perm[2] === 3) {\n      return hdr;\n    }\n    hdr.qform_code = 0;\n    for (let i = 1; i < 4; i++) {\n      hdr.dims[i] = this.dimsRAS[i];\n    }\n    for (let i = 0; i < this.pixDimsRAS.length; i++) {\n      hdr.pixDims[i] = this.pixDimsRAS[i];\n    }\n    let k = 0;\n    for (let i = 0; i < 4; i++) {\n      for (let j = 0; j < 4; j++) {\n        hdr.affine[i][j] = this.matRAS[k];\n        k++;\n      }\n    }\n    return hdr;\n  }\n  // Reorient raw image data to RAS\n  // note that GPU-based orient shader is much faster\n  // returns single 3D volume even for 4D input. Use nVolume to select volume (0 indexed)\n  img2RAS(nVolume = 0) {\n    if (!this.permRAS) {\n      throw new Error(\"permRAS undefined\");\n    }\n    if (!this.img) {\n      throw new Error(\"img undefined\");\n    }\n    if (!this.hdr) {\n      throw new Error(\"hdr undefined\");\n    }\n    const perm = this.permRAS.slice();\n    if (perm[0] === 1 && perm[1] === 2 && perm[2] === 3) {\n      return this.img;\n    }\n    const hdr = this.hdr;\n    const nVox = hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n    let volSkip = nVolume * nVox;\n    if (volSkip + nVox > this.img.length || volSkip < 0) {\n      volSkip = 0;\n      log.warn(`img2RAS nVolume (${nVolume}) out of bounds (${nVolume}+1)\\xD7${nVox} > ${this.img.length}`);\n    }\n    const imgRAS = this.img.slice(0, nVox);\n    const aperm = [Math.abs(perm[0]), Math.abs(perm[1]), Math.abs(perm[2])];\n    const outdim = [hdr.dims[aperm[0]], hdr.dims[aperm[1]], hdr.dims[aperm[2]]];\n    const inStep = [1, hdr.dims[1], hdr.dims[1] * hdr.dims[2]];\n    const outStep = [inStep[aperm[0] - 1], inStep[aperm[1] - 1], inStep[aperm[2] - 1]];\n    const outStart = [0, 0, 0];\n    for (let p = 0; p < 3; p++) {\n      if (perm[p] < 0) {\n        outStart[p] = outStep[p] * (outdim[p] - 1);\n        outStep[p] = -outStep[p];\n      }\n    }\n    let j = 0;\n    for (let z = 0; z < outdim[2]; z++) {\n      const zi = outStart[2] + z * outStep[2];\n      for (let y = 0; y < outdim[1]; y++) {\n        const yi = outStart[1] + y * outStep[1];\n        for (let x = 0; x < outdim[0]; x++) {\n          const xi = outStart[0] + x * outStep[0];\n          imgRAS[j] = this.img[xi + yi + zi + volSkip];\n          j++;\n        }\n      }\n    }\n    return imgRAS;\n  }\n  // img2RAS()\n  // not included in public docs\n  // convert voxel location (row, column slice, indexed from 0) to world space\n  vox2mm(XYZ, mtx) {\n    const sform = mat46.clone(mtx);\n    mat46.transpose(sform, sform);\n    const pos = vec45.fromValues(XYZ[0], XYZ[1], XYZ[2], 1);\n    vec45.transformMat4(pos, pos, sform);\n    const pos3 = vec37.fromValues(pos[0], pos[1], pos[2]);\n    return pos3;\n  }\n  // vox2mm()\n  // not included in public docs\n  // convert world space to voxel location (row, column slice, indexed from 0)\n  mm2vox(mm, frac = false) {\n    if (!this.matRAS) {\n      throw new Error(\"matRAS undefined\");\n    }\n    const sform = mat46.clone(this.matRAS);\n    const out = mat46.clone(sform);\n    mat46.transpose(out, sform);\n    mat46.invert(out, out);\n    const pos = vec45.fromValues(mm[0], mm[1], mm[2], 1);\n    vec45.transformMat4(pos, pos, out);\n    const pos3 = vec37.fromValues(pos[0], pos[1], pos[2]);\n    if (frac) {\n      return pos3;\n    }\n    return [Math.round(pos3[0]), Math.round(pos3[1]), Math.round(pos3[2])];\n  }\n  // vox2mm()\n  // not included in public docs\n  // returns boolean: are two arrays identical?\n  // TODO this won't work for complex objects. Maybe use array-equal from NPM\n  arrayEquals(a, b) {\n    return Array.isArray(a) && Array.isArray(b) && a.length === b.length && a.every((val, index) => val === b[index]);\n  }\n  // not included in public docs\n  // base function for niivue.setColormap()\n  // colormaps are continuously interpolated between 256 values (0..256)\n  setColormap(cm) {\n    this._colormap = cm;\n    this.calMinMax();\n    if (this.onColormapChange) {\n      this.onColormapChange(this);\n    }\n  }\n  // not included in public docs\n  // base function for niivue.setColormap()\n  // label colormaps are discretely sampled from an arbitrary number of colors\n  setColormapLabel(cm) {\n    this.colormapLabel = cmapper.makeLabelLut(cm);\n  }\n  async setColormapLabelFromUrl(url) {\n    this.colormapLabel = await cmapper.makeLabelLutFromUrl(url);\n  }\n  get colormap() {\n    return this._colormap;\n  }\n  get colorMap() {\n    return this._colormap;\n  }\n  // TODO duplicate fields, see niivue/loadDocument\n  set colormap(cm) {\n    this.setColormap(cm);\n  }\n  set colorMap(cm) {\n    this.setColormap(cm);\n  }\n  get opacity() {\n    return this._opacity;\n  }\n  set opacity(opacity) {\n    this._opacity = opacity;\n    if (this.onOpacityChange) {\n      this.onOpacityChange(this);\n    }\n  }\n  /**\n   * set contrast/brightness to robust range (2%..98%)\n   * @param vol - volume for estimate (use -1 to use estimate on all loaded volumes; use INFINITY for current volume)\n   * @param isBorder - if true (default) only center of volume used for estimate\n   * @returns volume brightness and returns array [pct2, pct98, mnScale, mxScale]\n   * @see {@link https://niivue.com/demos/features/timeseries2.html | live demo usage}\n   */\n  calMinMax(vol = Number.POSITIVE_INFINITY, isBorder = true) {\n    if (!this.hdr) {\n      throw new Error(\"hdr undefined\");\n    }\n    if (!this.img) {\n      throw new Error(\"img undefined\");\n    }\n    let mn = Number.POSITIVE_INFINITY;\n    let mx = Number.NEGATIVE_INFINITY;\n    let nZero = 0;\n    let nNan = 0;\n    let nVox3D = this.hdr.dims[1] * this.hdr.dims[2] * this.hdr.dims[3];\n    const nVol = Math.floor(this.img.length / nVox3D);\n    if (vol >= nVol) {\n      vol = this.frame4D;\n    }\n    vol = Math.min(vol, nVol - 1);\n    const skipVox = vol * nVox3D;\n    let img = [];\n    if (!isBorder) {\n      img = new this.img.constructor(nVox3D);\n      for (let i = 0; i < nVox3D; i++) {\n        img[i] = this.img[i + skipVox];\n      }\n    } else {\n      const borderFrac = 0.25;\n      const borders = [\n        Math.floor(borderFrac * this.hdr.dims[1]),\n        Math.floor(borderFrac * this.hdr.dims[2]),\n        Math.floor(borderFrac * this.hdr.dims[3])\n      ];\n      const dims = [\n        this.hdr.dims[1] - 2 * borders[0],\n        this.hdr.dims[2] - 2 * borders[1],\n        this.hdr.dims[3] - 2 * borders[2]\n      ];\n      const bordersHi = [dims[0] + borders[0], dims[1] + borders[1], dims[2] + borders[2]];\n      nVox3D = dims[0] * dims[1] * dims[2];\n      img = new this.img.constructor(nVox3D);\n      let j = -1;\n      let i = 0;\n      for (let z = 0; z < this.hdr.dims[3]; z++) {\n        for (let y = 0; y < this.hdr.dims[2]; y++) {\n          for (let x = 0; x < this.hdr.dims[1]; x++) {\n            j++;\n            if (x < borders[0] || y < borders[1] || z < borders[2]) {\n              continue;\n            }\n            if (x >= bordersHi[0] || y >= bordersHi[1] || z >= bordersHi[2]) {\n              continue;\n            }\n            img[i] = this.img[j + skipVox];\n            i++;\n          }\n        }\n      }\n    }\n    const isFastCalc = img.constructor !== Float64Array && img.constructor !== Float32Array && this.ignoreZeroVoxels;\n    if (isFastCalc) {\n      for (let i = 0; i < nVox3D; i++) {\n        mn = Math.min(img[i], mn);\n        mx = Math.max(img[i], mx);\n        if (img[i] === 0) {\n          nZero++;\n        }\n      }\n    } else {\n      for (let i = 0; i < nVox3D; i++) {\n        if (isNaN(img[i])) {\n          nNan++;\n          continue;\n        }\n        if (img[i] === 0) {\n          nZero++;\n          if (this.ignoreZeroVoxels) {\n            continue;\n          }\n        }\n        mn = Math.min(img[i], mn);\n        mx = Math.max(img[i], mx);\n      }\n    }\n    if (this.ignoreZeroVoxels && mn === mx && nZero > 0) {\n      mn = 0;\n    }\n    const mnScale = this.intensityRaw2Scaled(mn);\n    const mxScale = this.intensityRaw2Scaled(mx);\n    const cmap = cmapper.colormapFromKey(this._colormap);\n    let cmMin = 0;\n    let cmMax = 0;\n    if (cmap.min !== void 0) {\n      cmMin = cmap.min;\n    }\n    if (cmap.max !== void 0) {\n      cmMax = cmap.max;\n    }\n    if (cmMin === cmMax && this.trustCalMinMax && isFinite(this.hdr.cal_min) && isFinite(this.hdr.cal_max) && this.hdr.cal_max > this.hdr.cal_min) {\n      this.cal_min = this.hdr.cal_min;\n      this.cal_max = this.hdr.cal_max;\n      this.robust_min = this.cal_min;\n      this.robust_max = this.cal_max;\n      this.global_min = mnScale;\n      this.global_max = mxScale;\n      return [this.hdr.cal_min, this.hdr.cal_max, this.hdr.cal_min, this.hdr.cal_max];\n    }\n    if (cmMin !== cmMax) {\n      this.cal_min = cmMin;\n      this.cal_max = cmMax;\n      this.robust_min = this.cal_min;\n      this.robust_max = this.cal_max;\n      return [cmMin, cmMax, cmMin, cmMax];\n    }\n    const percentZero = 100 * nZero / (nVox3D - 0);\n    let isOverrideIgnoreZeroVoxels = false;\n    if (percentZero > 60 && !this.ignoreZeroVoxels) {\n      log.warn(`${Math.round(percentZero)}% of voxels are zero: ignoring zeros for cal_max`);\n      isOverrideIgnoreZeroVoxels = true;\n      this.ignoreZeroVoxels = true;\n    }\n    if (!this.ignoreZeroVoxels) {\n      nZero = 0;\n    }\n    nZero += nNan;\n    const n2pct = Math.round((nVox3D - 0 - nZero) * this.percentileFrac);\n    if (n2pct < 1 || mn === mx) {\n      if (isBorder) {\n        return this.calMinMax(vol, false);\n      }\n      log.debug(\"no variability in image intensity?\");\n      this.cal_min = mnScale;\n      this.cal_max = mxScale;\n      this.robust_min = this.cal_min;\n      this.robust_max = this.cal_max;\n      this.global_min = mnScale;\n      this.global_max = mxScale;\n      return [mnScale, mxScale, mnScale, mxScale];\n    }\n    const nBins = 1001;\n    const scl = (nBins - 1) / (mx - mn);\n    const hist = new Array(nBins);\n    for (let i = 0; i < nBins; i++) {\n      hist[i] = 0;\n    }\n    if (isFastCalc) {\n      for (let i = 0; i < nVox3D; i++) {\n        hist[Math.round((img[i] - mn) * scl)]++;\n      }\n    } else if (this.ignoreZeroVoxels) {\n      for (let i = 0; i < nVox3D; i++) {\n        if (img[i] === 0) {\n          continue;\n        }\n        if (isNaN(img[i])) {\n          continue;\n        }\n        hist[Math.round((img[i] - mn) * scl)]++;\n      }\n    } else {\n      for (let i = 0; i < nVox3D; i++) {\n        if (isNaN(img[i])) {\n          continue;\n        }\n        hist[Math.round((img[i] - mn) * scl)]++;\n      }\n    }\n    let n = 0;\n    let lo = 0;\n    while (n < n2pct) {\n      n += hist[lo];\n      lo++;\n    }\n    lo--;\n    n = 0;\n    let hi = nBins;\n    while (n < n2pct) {\n      hi--;\n      n += hist[hi];\n    }\n    if (lo === hi) {\n      let ok = -1;\n      while (ok !== 0) {\n        if (lo > 0) {\n          lo--;\n          if (hist[lo] > 0) {\n            ok = 0;\n          }\n        }\n        if (ok !== 0 && hi < nBins - 1) {\n          hi++;\n          if (hist[hi] > 0) {\n            ok = 0;\n          }\n        }\n        if (lo === 0 && hi === nBins - 1) {\n          ok = 0;\n        }\n      }\n    }\n    let pct2 = this.intensityRaw2Scaled(lo / scl + mn);\n    let pct98 = this.intensityRaw2Scaled(hi / scl + mn);\n    if (this.hdr.cal_min < this.hdr.cal_max && this.hdr.cal_min >= mnScale && this.hdr.cal_max <= mxScale) {\n      pct2 = this.hdr.cal_min;\n      pct98 = this.hdr.cal_max;\n    }\n    if (isOverrideIgnoreZeroVoxels) {\n      pct2 = Math.min(pct2, 0);\n    }\n    this.cal_min = pct2;\n    this.cal_max = pct98;\n    if (this.hdr.intent_code === 1002 /* NIFTI_INTENT_LABEL */) {\n      this.cal_min = mnScale;\n      this.cal_max = mxScale;\n    }\n    this.robust_min = this.cal_min;\n    this.robust_max = this.cal_max;\n    this.global_min = mnScale;\n    this.global_max = mxScale;\n    return [pct2, pct98, mnScale, mxScale];\n  }\n  // calMinMax\n  // not included in public docs\n  // convert voxel intensity from stored value to scaled intensity\n  intensityRaw2Scaled(raw) {\n    if (!this.hdr) {\n      throw new Error(\"hdr undefined\");\n    }\n    if (this.hdr.scl_slope === 0) {\n      this.hdr.scl_slope = 1;\n    }\n    return raw * this.hdr.scl_slope + this.hdr.scl_inter;\n  }\n  // convert voxel intensity from scaled intensity to stored value\n  intensityScaled2Raw(scaled) {\n    if (!this.hdr) {\n      throw new Error(\"hdr undefined\");\n    }\n    if (this.hdr.scl_slope === 0) {\n      this.hdr.scl_slope = 1;\n    }\n    return (scaled - this.hdr.scl_inter) / this.hdr.scl_slope;\n  }\n  /**\n   * Converts NVImage to NIfTI compliant byte array, potentially compressed.\n   * Delegates to ImageWriter.saveToUint8Array.\n   */\n  async saveToUint8Array(fnm, drawing8 = null) {\n    return saveToUint8Array(this, fnm, drawing8);\n  }\n  /**\n   * save image as NIfTI volume and trigger download.\n   * Delegates to ImageWriter.saveToDisk.\n   */\n  async saveToDisk(fnm = \"\", drawing8 = null) {\n    return saveToDisk(this, fnm, drawing8);\n  }\n  static async fetchDicomData(url, headers = {}) {\n    if (url === \"\") {\n      throw Error(\"url must not be empty\");\n    }\n    const absoluteUrlRE = /^(?:[a-z+]+:)?\\/\\//i;\n    let manifestUrl = absoluteUrlRE.test(url) ? url : new URL(url, window.location.href);\n    const extensionRE = /(?:.([^.]+))?$/;\n    const extension = extensionRE.exec(manifestUrl.pathname);\n    if (!extension) {\n      manifestUrl = new URL(\"niivue-manifest.txt\", url);\n    }\n    let response = await fetch(manifestUrl, { headers });\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n    const text = await response.text();\n    const lines = text.split(\"\\n\");\n    const baseUrlRE = /(.*\\/).*/;\n    const folderUrl = baseUrlRE.exec(manifestUrl)[0];\n    const dataBuffer = [];\n    for (const line of lines) {\n      const fileUrl = new URL(line, folderUrl);\n      response = await fetch(fileUrl, { headers });\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      const contents = await response.arrayBuffer();\n      dataBuffer.push({ name: line, data: contents });\n    }\n    return dataBuffer;\n  }\n  static async readFirstDecompressedBytes(stream, minBytes) {\n    const reader = stream.getReader();\n    const gunzip = new Gunzip();\n    const decompressedChunks = [];\n    let totalDecompressed = 0;\n    let doneReading = false;\n    let resolveFn;\n    let rejectFn;\n    const promise = new Promise((resolve, reject) => {\n      resolveFn = resolve;\n      rejectFn = reject;\n      return void 0;\n    });\n    function finalize() {\n      const result = new Uint8Array(totalDecompressed);\n      let offset = 0;\n      for (const chunk of decompressedChunks) {\n        result.set(chunk, offset);\n        offset += chunk.length;\n      }\n      resolveFn(result);\n    }\n    gunzip.ondata = (chunk) => {\n      decompressedChunks.push(chunk);\n      totalDecompressed += chunk.length;\n      if (totalDecompressed >= minBytes) {\n        doneReading = true;\n        reader.cancel().catch(() => {\n        });\n        finalize();\n      }\n    };\n    (async () => {\n      try {\n        while (!doneReading) {\n          const { done, value } = await reader.read();\n          if (done) {\n            doneReading = true;\n            gunzip.push(new Uint8Array(), true);\n            return;\n          }\n          gunzip.push(value, false);\n        }\n      } catch (err) {\n        rejectFn(err);\n      }\n    })().catch(() => {\n    });\n    return promise;\n  }\n  static extractFilenameFromUrl(url) {\n    const params = new URL(url).searchParams;\n    const contentDisposition = params.get(\"response-content-disposition\");\n    if (contentDisposition) {\n      const match = contentDisposition.match(/filename\\*?=(?:UTF-8'')?\"?([^\";]+)\"?/);\n      if (match) {\n        return decodeURIComponent(match[1]);\n      }\n    }\n    return url.split(\"/\").pop().split(\"?\")[0];\n  }\n  static async loadInitialVolumesGz(url = \"\", headers = {}, limitFrames4D = NaN) {\n    if (isNaN(limitFrames4D)) {\n      return null;\n    }\n    const response = await fetch(url, { headers, cache: \"force-cache\" });\n    let hdrBytes = 352;\n    let hdrU8s = await this.readFirstDecompressedBytes(response.body, hdrBytes);\n    const hdrView = new DataView(hdrU8s.buffer, hdrU8s.byteOffset, hdrU8s.byteLength);\n    const u16 = hdrView.getUint16(0, true);\n    const isNIfTI1 = u16 === 348;\n    const isNIfTI1be = u16 === 23553;\n    if (!isNIfTI1 && !isNIfTI1be) {\n      return null;\n    }\n    if (hdrU8s.length > 111) {\n      hdrBytes = hdrView.getFloat32(108, isNIfTI1);\n    }\n    if (hdrBytes > hdrU8s.length) {\n      hdrU8s = await this.readFirstDecompressedBytes(response.body, hdrBytes);\n    }\n    const isNifti1 = hdrU8s[0] === 92 && hdrU8s[1] === 1 || hdrU8s[1] === 92 && hdrU8s[0] === 1;\n    if (!isNifti1) {\n      return null;\n    }\n    const hdr = await readHeaderAsync2(hdrU8s.buffer);\n    if (!hdr) {\n      throw new Error(\"Could not read NIfTI header\");\n    }\n    const nBytesPerVoxel = hdr.numBitsPerVoxel / 8;\n    const nVox3D = [1, 2, 3].reduce((acc, i) => acc * (hdr.dims[i] > 1 ? hdr.dims[i] : 1), 1);\n    const nFrame4D = [4, 5, 6].reduce((acc, i) => acc * (hdr.dims[i] > 1 ? hdr.dims[i] : 1), 1);\n    const volsToLoad = Math.max(Math.min(limitFrames4D, nFrame4D), 1);\n    const bytesToLoad = hdr.vox_offset + volsToLoad * nVox3D * nBytesPerVoxel;\n    if (volsToLoad === nFrame4D) {\n      return null;\n    }\n    const responseImg = await fetch(url, { headers, cache: \"force-cache\" });\n    const dataBytes = await this.readFirstDecompressedBytes(responseImg.body, bytesToLoad);\n    return dataBytes.buffer.slice(0, bytesToLoad);\n  }\n  static async loadInitialVolumes(url = \"\", headers = {}, limitFrames4D = NaN) {\n    if (isNaN(limitFrames4D)) {\n      return null;\n    }\n    const response = await fetch(url, { headers, cache: \"force-cache\" });\n    const reader = response.body.getReader();\n    const { value, done } = await reader.read();\n    let hdrU8s = value;\n    if (done || !hdrU8s || hdrU8s.length < 2) {\n      throw new Error(\"Not enough data to determine compression\");\n    }\n    const hdrView = new DataView(hdrU8s.buffer, hdrU8s.byteOffset, hdrU8s.byteLength);\n    const u16 = hdrView.getUint16(0, true);\n    const isGz = u16 === 35615;\n    if (isGz) {\n      await reader.cancel();\n      return this.loadInitialVolumesGz(url, headers, limitFrames4D);\n    }\n    const isNIfTI1 = u16 === 348;\n    const isNIfTI1be = u16 === 23553;\n    if (!isNIfTI1 && !isNIfTI1be) {\n      await reader.cancel();\n      return null;\n    }\n    let hdrBytes = 352;\n    if (hdrU8s.length > 111) {\n      hdrBytes = hdrView.getFloat32(108, isNIfTI1);\n    }\n    while (hdrU8s.length < hdrBytes) {\n      let concatU8s = function(arr1, arr2) {\n        const result = new Uint8Array(arr1.length + arr2.length);\n        result.set(arr1, 0);\n        result.set(arr2, arr1.length);\n        return result;\n      };\n      const { value: value2, done: done2 } = await reader.read();\n      if (done2 || !value2) {\n        break;\n      }\n      hdrU8s = concatU8s(hdrU8s, value2);\n    }\n    const hdr = await readHeaderAsync2(hdrU8s.buffer);\n    if (!hdr) {\n      throw new Error(\"Could not read NIfTI header\");\n    }\n    const nBytesPerVoxel = hdr.numBitsPerVoxel / 8;\n    const nVox3D = [1, 2, 3].reduce((acc, i) => acc * (hdr.dims[i] > 1 ? hdr.dims[i] : 1), 1);\n    const nFrame4D = [4, 5, 6].reduce((acc, i) => acc * (hdr.dims[i] > 1 ? hdr.dims[i] : 1), 1);\n    const volsToLoad = Math.max(Math.min(limitFrames4D, nFrame4D), 1);\n    const bytesToLoad = hdr.vox_offset + volsToLoad * nVox3D * nBytesPerVoxel;\n    const imgU8s = new Uint8Array(bytesToLoad);\n    const hdrCopyLength = Math.min(hdrU8s.length, bytesToLoad);\n    imgU8s.set(hdrU8s.subarray(0, hdrCopyLength), 0);\n    let bytesRead = hdrCopyLength;\n    while (bytesRead < bytesToLoad) {\n      const { value: value2, done: done2 } = await reader.read();\n      if (done2 || !value2) {\n        await reader.cancel();\n        return null;\n      }\n      const remaining = Math.min(value2.length, bytesToLoad - bytesRead);\n      imgU8s.set(value2.subarray(0, remaining), bytesRead);\n      bytesRead += remaining;\n    }\n    await reader.cancel();\n    return imgU8s.buffer;\n  }\n  /**\n   * factory function to load and return a new NVImage instance from a given URL\n   */\n  static async loadFromUrl({\n    url = \"\",\n    urlImgData = \"\",\n    headers = {},\n    name = \"\",\n    colormap = \"\",\n    opacity = 1,\n    cal_min = NaN,\n    cal_max = NaN,\n    trustCalMinMax = true,\n    percentileFrac = 0.02,\n    ignoreZeroVoxels = false,\n    useQFormNotSForm = false,\n    colormapNegative = \"\",\n    frame4D = 0,\n    isManifest = false,\n    limitFrames4D = NaN,\n    imageType = NVIMAGE_TYPE.UNKNOWN,\n    colorbarVisible = true,\n    buffer = new ArrayBuffer(0)\n  } = {}) {\n    if (url === \"\") {\n      throw Error(\"url must not be empty\");\n    }\n    let nvimage = null;\n    let dataBuffer = null;\n    let zarrData = null;\n    if (url instanceof Uint8Array) {\n      url = url.slice().buffer;\n    }\n    if (buffer.byteLength > 0) {\n      url = buffer;\n    }\n    if (url instanceof ArrayBuffer) {\n      dataBuffer = url;\n      if (name !== \"\") {\n        url = name;\n      } else {\n        const bytes = new Uint8Array(dataBuffer);\n        url = bytes[0] === 31 && bytes[1] === 139 ? \"array.nii.gz\" : \"array.nii\";\n      }\n    }\n    function getPrimaryExtension(filename) {\n      const match = filename.match(/\\.([^.]+)(?:\\.gz|\\.bz2|\\.xz)?$/);\n      return match ? match[1] : \"\";\n    }\n    let ext = \"\";\n    if (name === \"\") {\n      ext = getPrimaryExtension(url);\n    } else {\n      ext = getPrimaryExtension(name);\n    }\n    if (imageType === NVIMAGE_TYPE.UNKNOWN) {\n      imageType = NVIMAGE_TYPE.parse(ext);\n    }\n    if (imageType === NVIMAGE_TYPE.UNKNOWN && typeof url === \"string\") {\n      const response = await fetch(url, {});\n      if (response.redirected) {\n        const rname = this.extractFilenameFromUrl(response.url);\n        if (rname && rname.length > 0) {\n          if (name === \"\") {\n            name = rname;\n            ext = getPrimaryExtension(name);\n            imageType = NVIMAGE_TYPE.parse(ext);\n          }\n        }\n      }\n    }\n    if (imageType === NVIMAGE_TYPE.ZARR) {\n      const urlParams = new URL(url).searchParams;\n      const zIndex = urlParams.get(\"z\");\n      const yIndex = urlParams.get(\"y\");\n      const xIndex = urlParams.get(\"x\");\n      const zRange = zIndex ? zarr.slice(parseInt(zIndex), parseInt(zIndex) + 1) : null;\n      const yRange = yIndex ? zarr.slice(parseInt(yIndex), parseInt(yIndex) + 1) : null;\n      const xRange = xIndex ? zarr.slice(parseInt(xIndex), parseInt(xIndex) + 1) : null;\n      const zarrUrl = url.split(\"?\")[0];\n      const store = new zarr.FetchStore(zarrUrl);\n      const root2 = zarr.root(store);\n      let arr;\n      try {\n        arr = await zarr.open(root2.resolve(url), { kind: \"array\" });\n      } catch (e) {\n        arr = await zarr.open(root2, { kind: \"array\" });\n      }\n      let view;\n      if (arr.shape.length === 4) {\n        const cRange = null;\n        const zDim2 = arr.shape[2];\n        const yDim = arr.shape[1];\n        const xDim = arr.shape[0];\n        if (zRange && zRange[0] >= zDim2) {\n          zRange[0] = zDim2 - 1;\n        }\n        if (yRange && yRange[0] >= yDim) {\n          yRange[0] = yDim - 1;\n        }\n        if (xRange && xRange[0] >= xDim) {\n          xRange[0] = xDim - 1;\n        }\n        view = await zarr.get(arr, [xRange, yRange, zRange, cRange]);\n      } else {\n        view = await zarr.get(arr, [xRange, yRange, zRange]);\n      }\n      dataBuffer = view.data;\n      const [height, width, zDim, cDim] = view.shape;\n      zarrData = {\n        data: dataBuffer,\n        width,\n        height,\n        depth: zDim,\n        channels: cDim\n      };\n    }\n    const isTestNIfTI = imageType === NVIMAGE_TYPE.DCM || NVIMAGE_TYPE.NII;\n    if (!dataBuffer && isTestNIfTI) {\n      dataBuffer = await this.loadInitialVolumes(url, headers, limitFrames4D);\n    }\n    if (!dataBuffer) {\n      if (isManifest) {\n        dataBuffer = await _NVImage.fetchDicomData(url, headers);\n        imageType = NVIMAGE_TYPE.DCM_MANIFEST;\n      } else {\n        const response = await fetch(url, { headers });\n        if (!response.ok) {\n          throw Error(response.statusText);\n        }\n        if (!response.body) {\n          throw new Error(\"No readable stream available\");\n        }\n        const stream = await uncompressStream(response.body);\n        const chunks = [];\n        const reader = stream.getReader();\n        while (true) {\n          const { done, value } = await reader.read();\n          if (done) {\n            break;\n          }\n          chunks.push(value);\n        }\n        const totalLength = chunks.reduce((sum, chunk) => sum + chunk.length, 0);\n        dataBuffer = new ArrayBuffer(totalLength);\n        const dataView = new Uint8Array(dataBuffer);\n        let offset = 0;\n        for (const chunk of chunks) {\n          dataView.set(chunk, offset);\n          offset += chunk.length;\n        }\n      }\n    }\n    if (ext.toUpperCase() === \"HEAD\") {\n      if (urlImgData === \"\") {\n        urlImgData = url.substring(0, url.lastIndexOf(\"HEAD\")) + \"BRIK\";\n      }\n    }\n    if (ext.toUpperCase() === \"HDR\") {\n      if (urlImgData === \"\") {\n        urlImgData = url.substring(0, url.lastIndexOf(\"HDR\")) + \"IMG\";\n      }\n    }\n    let pairedImgData = null;\n    if (urlImgData) {\n      try {\n        let response = await fetch(urlImgData, { headers });\n        if (response.status === 404 && (urlImgData.includes(\"BRIK\") || urlImgData.includes(\"IMG\"))) {\n          response = await fetch(`${urlImgData}.gz`, { headers });\n        }\n        if (response.ok && response.body) {\n          const stream = await uncompressStream(response.body);\n          const chunks = [];\n          const reader = stream.getReader();\n          while (true) {\n            const { done, value } = await reader.read();\n            if (done) {\n              break;\n            }\n            chunks.push(value);\n          }\n          const totalLength = chunks.reduce((sum, chunk) => sum + chunk.length, 0);\n          pairedImgData = new ArrayBuffer(totalLength);\n          const dataView = new Uint8Array(pairedImgData);\n          let offset = 0;\n          for (const chunk of chunks) {\n            dataView.set(chunk, offset);\n            offset += chunk.length;\n          }\n        }\n      } catch (error) {\n        console.error(\"Error loading paired image data:\", error);\n      }\n    }\n    if (!dataBuffer) {\n      throw new Error(\"Unable to load buffer properly from volume\");\n    }\n    if (!name) {\n      let urlParts;\n      try {\n        urlParts = new URL(url).pathname.split(\"/\");\n      } catch (e) {\n        urlParts = url.split(\"/\");\n      }\n      name = urlParts.slice(-1)[0];\n      if (name.indexOf(\"?\") > -1) {\n        name = name.slice(0, name.indexOf(\"?\"));\n      }\n    }\n    nvimage = await this.new(\n      dataBuffer,\n      name,\n      colormap,\n      opacity,\n      pairedImgData,\n      cal_min,\n      cal_max,\n      trustCalMinMax,\n      percentileFrac,\n      ignoreZeroVoxels,\n      useQFormNotSForm,\n      colormapNegative,\n      frame4D,\n      imageType,\n      NaN,\n      NaN,\n      true,\n      null,\n      0,\n      zarrData\n    );\n    nvimage.url = url;\n    nvimage.colorbarVisible = colorbarVisible;\n    return nvimage;\n  }\n  // not included in public docs\n  // loading Nifti files\n  static async readFileAsync(file, bytesToLoad = NaN) {\n    let stream = file.stream();\n    if (!isNaN(bytesToLoad)) {\n      let bytesRead = 0;\n      const limiter = new TransformStream({\n        transform(chunk, controller) {\n          if (bytesRead >= bytesToLoad) {\n            controller.terminate();\n            return;\n          }\n          const remainingBytes = bytesToLoad - bytesRead;\n          if (chunk.length > remainingBytes) {\n            controller.enqueue(chunk.slice(0, remainingBytes));\n            controller.terminate();\n          } else {\n            controller.enqueue(chunk);\n          }\n          bytesRead += chunk.length;\n        }\n      });\n      stream = stream.pipeThrough(limiter);\n    }\n    const uncompressedStream = await uncompressStream(stream);\n    const chunks = [];\n    const reader = uncompressedStream.getReader();\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) {\n        break;\n      }\n      chunks.push(value);\n    }\n    const totalLength = chunks.reduce((sum, chunk) => sum + chunk.length, 0);\n    const result = new ArrayBuffer(totalLength);\n    const resultView = new Uint8Array(result);\n    let offset = 0;\n    for (const chunk of chunks) {\n      resultView.set(chunk, offset);\n      offset += chunk.length;\n    }\n    return result;\n  }\n  /**\n   * factory function to load and return a new NVImage instance from a file in the browser\n   */\n  static async loadFromFile({\n    file,\n    // file can be an array of file objects or a single file object\n    name = \"\",\n    colormap = \"\",\n    opacity = 1,\n    urlImgData = null,\n    cal_min = NaN,\n    cal_max = NaN,\n    trustCalMinMax = true,\n    percentileFrac = 0.02,\n    ignoreZeroVoxels = false,\n    useQFormNotSForm = false,\n    colormapNegative = \"\",\n    frame4D = 0,\n    limitFrames4D = NaN,\n    imageType = NVIMAGE_TYPE.UNKNOWN\n  }) {\n    let nvimage = null;\n    let dataBuffer = [];\n    try {\n      if (Array.isArray(file)) {\n        dataBuffer = await Promise.all(file.map((f) => this.readFileAsync(f)));\n      } else {\n        if (!isNaN(limitFrames4D)) {\n          const headerBuffer = await this.readFileAsync(file, 512);\n          const headerView = new Uint8Array(headerBuffer);\n          const isNifti1 = headerView[0] === 92 && headerView[1] === 1 || headerView[1] === 92 && headerView[0] === 1;\n          if (!isNifti1) {\n            dataBuffer = await this.readFileAsync(file);\n          } else {\n            const hdr = await readHeaderAsync2(headerBuffer);\n            if (!hdr) {\n              throw new Error(\"could not read nifti header\");\n            }\n            const nBytesPerVoxel = hdr.numBitsPerVoxel / 8;\n            const nVox3D = [1, 2, 3].reduce((acc, i) => acc * (hdr.dims[i] > 1 ? hdr.dims[i] : 1), 1);\n            const nFrame4D = [4, 5, 6].reduce((acc, i) => acc * (hdr.dims[i] > 1 ? hdr.dims[i] : 1), 1);\n            const volsToLoad = Math.max(Math.min(limitFrames4D, nFrame4D), 1);\n            const bytesToLoad = hdr.vox_offset + volsToLoad * nVox3D * nBytesPerVoxel;\n            dataBuffer = await this.readFileAsync(file, bytesToLoad);\n          }\n        } else {\n          dataBuffer = await this.readFileAsync(file);\n        }\n        name = file.name;\n      }\n      let pairedImgData = null;\n      if (urlImgData) {\n        pairedImgData = await this.readFileAsync(urlImgData);\n      }\n      nvimage = await this.new(\n        dataBuffer,\n        name,\n        colormap,\n        opacity,\n        pairedImgData,\n        cal_min,\n        cal_max,\n        trustCalMinMax,\n        percentileFrac,\n        ignoreZeroVoxels,\n        useQFormNotSForm,\n        colormapNegative,\n        frame4D,\n        imageType,\n        NaN,\n        NaN,\n        true,\n        null,\n        0,\n        null\n      );\n      nvimage.fileObject = file;\n    } catch (err) {\n      log.error(err);\n      throw new Error(\"could not build NVImage\");\n    }\n    if (nvimage === null) {\n      throw new Error(\"could not build NVImage\");\n    }\n    return nvimage;\n  }\n  /**\n   * Creates a Uint8Array representing a NIFTI file (header + optional image data).\n   * Delegates to ImageWriter.createNiftiArray.\n   */\n  static createNiftiArray(dims = [256, 256, 256], pixDims = [1, 1, 1], affine = [1, 0, 0, -128, 0, 1, 0, -128, 0, 0, 1, -128, 0, 0, 0, 1], datatypeCode = 2 /* DT_UINT8 */, img = new Uint8Array()) {\n    return createNiftiArray(dims, pixDims, affine, datatypeCode, img);\n  }\n  /**\n   * Creates a NIFTI1 header object with basic properties.\n   * Delegates to ImageWriter.createNiftiHeader.\n   */\n  static createNiftiHeader(dims = [256, 256, 256], pixDims = [1, 1, 1], affine = [1, 0, 0, -128, 0, 1, 0, -128, 0, 0, 1, -128, 0, 0, 0, 1], datatypeCode = 2 /* DT_UINT8 */) {\n    return createNiftiHeader(dims, pixDims, affine, datatypeCode);\n  }\n  /**\n   * read a 3D slab of voxels from a volume\n   * @see {@link https://niivue.com/demos/features/slab_selection.html | live demo usage}\n   */\n  /**\n   * read a 3D slab of voxels from a volume, specified in RAS coordinates.\n   * Delegates to VolumeUtils.getVolumeData.\n   */\n  getVolumeData(voxStart = [-1, 0, 0], voxEnd = [0, 0, 0], dataType = \"same\") {\n    return getVolumeData(this, voxStart, voxEnd, dataType);\n  }\n  /**\n   * write a 3D slab of voxels from a volume\n   * @see {@link https://niivue.com/demos/features/slab_selection.html | live demo usage}\n   */\n  /**\n   * write a 3D slab of voxels from a volume, specified in RAS coordinates.\n   * Delegates to VolumeUtils.setVolumeData.\n   * Input slabData is assumed to be in the correct raw data type for the target image.\n   */\n  setVolumeData(voxStart = [-1, 0, 0], voxEnd = [0, 0, 0], img = new Uint8Array()) {\n    setVolumeData(this, voxStart, voxEnd, img);\n  }\n  /**\n   * factory function to load and return a new NVImage instance from a base64 encoded string\n   * @example\n   * myImage = NVImage.loadFromBase64('SomeBase64String')\n   */\n  static async loadFromBase64({\n    base64,\n    name = \"\",\n    colormap = \"\",\n    opacity = 1,\n    cal_min = NaN,\n    cal_max = NaN,\n    trustCalMinMax = true,\n    percentileFrac = 0.02,\n    ignoreZeroVoxels = false,\n    useQFormNotSForm = false,\n    colormapNegative = \"\",\n    frame4D = 0,\n    imageType = NVIMAGE_TYPE.UNKNOWN,\n    cal_minNeg = NaN,\n    cal_maxNeg = NaN,\n    colorbarVisible = true,\n    colormapLabel = null\n  }) {\n    function base64ToArrayBuffer(base642) {\n      const binary_string = window.atob(base642);\n      const len = binary_string.length;\n      const bytes = new Uint8Array(len);\n      for (let i = 0; i < len; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n      }\n      return bytes.buffer;\n    }\n    let nvimage = null;\n    try {\n      const dataBuffer = base64ToArrayBuffer(base64);\n      const pairedImgData = null;\n      nvimage = await this.new(\n        dataBuffer,\n        name,\n        colormap,\n        opacity,\n        pairedImgData,\n        cal_min,\n        cal_max,\n        trustCalMinMax,\n        percentileFrac,\n        ignoreZeroVoxels,\n        useQFormNotSForm,\n        colormapNegative,\n        frame4D,\n        imageType,\n        cal_minNeg,\n        cal_maxNeg,\n        colorbarVisible,\n        colormapLabel,\n        0,\n        null\n      );\n    } catch (err) {\n      log.debug(err);\n    }\n    if (nvimage === null) {\n      throw new Error(\"could not load NVImage\");\n    }\n    return nvimage;\n  }\n  /**\n   * make a clone of a NVImage instance and return a new NVImage\n   * @example\n   * myImage = NVImage.loadFromFile(SomeFileObject) // files can be from dialogs or drag and drop\n   * clonedImage = myImage.clone()\n   */\n  clone() {\n    const clonedImage = new _NVImage();\n    clonedImage.id = uuidv4();\n    clonedImage.hdr = Object.assign({}, this.hdr);\n    clonedImage.img = this.img.slice();\n    clonedImage.calculateRAS();\n    clonedImage.calMinMax();\n    return clonedImage;\n  }\n  /**\n   * fill a NVImage instance with zeros for the image data\n   * @example\n   * myImage = NVImage.loadFromFile(SomeFileObject) // files can be from dialogs or drag and drop\n   * clonedImageWithZeros = myImage.clone().zeroImage()\n   */\n  zeroImage() {\n    this.img.fill(0);\n  }\n  /**\n   * get nifti specific metadata about the image\n   */\n  getImageMetadata() {\n    if (!this.hdr) {\n      throw new Error(\"hdr undefined\");\n    }\n    const id = this.id;\n    const datatypeCode = this.hdr.datatypeCode;\n    const dims = this.hdr.dims;\n    const nx = dims[1];\n    const ny = dims[2];\n    const nz = dims[3];\n    const nt = Math.max(1, dims[4]);\n    const pixDims = this.hdr.pixDims;\n    const dx = pixDims[1];\n    const dy = pixDims[2];\n    const dz = pixDims[3];\n    const dt = pixDims[4];\n    const bpv = Math.floor(this.hdr.numBitsPerVoxel / 8);\n    return { id, datatypeCode, nx, ny, nz, nt, dx, dy, dz, dt, bpv };\n  }\n  /**\n   * a factory function to make a zero filled image given a NVImage as a reference\n   * @example\n   * myImage = NVImage.loadFromFile(SomeFileObject) // files can be from dialogs or drag and drop\n   * newZeroImage = NVImage.zerosLike(myImage)\n   */\n  static zerosLike(nvImage, dataType = \"same\") {\n    const zeroClone = nvImage.clone();\n    zeroClone.zeroImage();\n    if (dataType === \"uint8\") {\n      zeroClone.img = Uint8Array.from(zeroClone.img);\n      zeroClone.hdr.datatypeCode = 2 /* DT_UINT8 */;\n      zeroClone.hdr.numBitsPerVoxel = 8;\n    }\n    if (dataType === \"float32\") {\n      zeroClone.img = Float32Array.from(zeroClone.img);\n      zeroClone.hdr.datatypeCode = 16 /* DT_FLOAT32 */;\n      zeroClone.hdr.numBitsPerVoxel = 32;\n    }\n    return zeroClone;\n  }\n  /**\n   * Returns voxel intensity at specific native coordinates.\n   * Delegates to VolumeUtils.getValue.\n   */\n  getValue(x, y, z, frame4D = 0, isReadImaginary = false) {\n    return getValue(this, x, y, z, frame4D, isReadImaginary);\n  }\n  /**\n   * Returns voxel intensities at specific native coordinates.\n   * Delegates to VolumeUtils.getValue.\n   */\n  getValues(x, y, z, frame4D = 0, isReadImaginary = false) {\n    return getValues(this, x, y, z, frame4D, isReadImaginary);\n  }\n  /**\n   * Update options for image\n   */\n  applyOptionsUpdate(options) {\n    this.hdr.cal_min = options.cal_min;\n    this.hdr.cal_max = options.cal_max;\n    Object.assign(this, options);\n  }\n  getImageOptions() {\n    const options = NVImageFromUrlOptions(\n      \"\",\n      // url,\n      \"\",\n      // urlImageData\n      this.name,\n      // name\n      this._colormap,\n      // colormap\n      this.opacity,\n      // opacity\n      this.hdr.cal_min,\n      // cal_min\n      this.hdr.cal_max,\n      // cal_max\n      this.trustCalMinMax,\n      // trustCalMinMax,\n      this.percentileFrac,\n      // percentileFrac\n      this.ignoreZeroVoxels,\n      // ignoreZeroVoxels\n      this.useQFormNotSForm,\n      // useQFormNotSForm\n      this.colormapNegative,\n      // colormapNegative\n      this.frame4D,\n      this.imageType,\n      // imageType\n      this.colormapType\n    );\n    return options;\n  }\n  /**\n   * Converts NVImage to NIfTI compliant byte array.\n   * Handles potential re-orientation of drawing data.\n   * Delegates to ImageWriter.toUint8Array.\n   */\n  toUint8Array(drawingBytes = null) {\n    return toUint8Array(this, drawingBytes);\n  }\n  // not included in public docs\n  convertVox2Frac(vox) {\n    const frac = vec37.fromValues(\n      (vox[0] + 0.5) / this.dimsRAS[1],\n      (vox[1] + 0.5) / this.dimsRAS[2],\n      (vox[2] + 0.5) / this.dimsRAS[3]\n    );\n    return frac;\n  }\n  // not included in public docs\n  convertFrac2Vox(frac) {\n    const vox = vec37.fromValues(\n      Math.round(frac[0] * this.dims[1] - 0.5),\n      // dims === RAS\n      Math.round(frac[1] * this.dims[2] - 0.5),\n      // dims === RAS\n      Math.round(frac[2] * this.dims[3] - 0.5)\n      // dims === RAS\n    );\n    return vox;\n  }\n  // not included in public docs\n  convertFrac2MM(frac, isForceSliceMM = false) {\n    const pos = vec45.fromValues(frac[0], frac[1], frac[2], 1);\n    if (isForceSliceMM) {\n      vec45.transformMat4(pos, pos, this.frac2mm);\n    } else {\n      vec45.transformMat4(pos, pos, this.frac2mmOrtho);\n    }\n    return pos;\n  }\n  // not included in public docs\n  convertMM2Frac(mm, isForceSliceMM = false) {\n    const mm4 = vec45.fromValues(mm[0], mm[1], mm[2], 1);\n    const d = this.dimsRAS;\n    const frac = vec37.fromValues(0, 0, 0);\n    if (typeof d === \"undefined\") {\n      return frac;\n    }\n    if (!isForceSliceMM) {\n      const xform = mat46.clone(this.frac2mmOrtho);\n      mat46.invert(xform, xform);\n      vec45.transformMat4(mm4, mm4, xform);\n      frac[0] = mm4[0];\n      frac[1] = mm4[1];\n      frac[2] = mm4[2];\n      return frac;\n    }\n    if (d[1] < 1 || d[2] < 1 || d[3] < 1) {\n      return frac;\n    }\n    const sform = mat46.clone(this.matRAS);\n    mat46.invert(sform, sform);\n    mat46.transpose(sform, sform);\n    vec45.transformMat4(mm4, mm4, sform);\n    frac[0] = (mm4[0] + 0.5) / d[1];\n    frac[1] = (mm4[1] + 0.5) / d[2];\n    frac[2] = (mm4[2] + 0.5) / d[3];\n    return frac;\n  }\n};\n\n// src/nvdocument.ts\nvar SLICE_TYPE = /* @__PURE__ */ ((SLICE_TYPE2) => {\n  SLICE_TYPE2[SLICE_TYPE2[\"AXIAL\"] = 0] = \"AXIAL\";\n  SLICE_TYPE2[SLICE_TYPE2[\"CORONAL\"] = 1] = \"CORONAL\";\n  SLICE_TYPE2[SLICE_TYPE2[\"SAGITTAL\"] = 2] = \"SAGITTAL\";\n  SLICE_TYPE2[SLICE_TYPE2[\"MULTIPLANAR\"] = 3] = \"MULTIPLANAR\";\n  SLICE_TYPE2[SLICE_TYPE2[\"RENDER\"] = 4] = \"RENDER\";\n  return SLICE_TYPE2;\n})(SLICE_TYPE || {});\nvar PEN_TYPE = /* @__PURE__ */ ((PEN_TYPE2) => {\n  PEN_TYPE2[PEN_TYPE2[\"PEN\"] = 0] = \"PEN\";\n  PEN_TYPE2[PEN_TYPE2[\"RECTANGLE\"] = 1] = \"RECTANGLE\";\n  PEN_TYPE2[PEN_TYPE2[\"ELLIPSE\"] = 2] = \"ELLIPSE\";\n  return PEN_TYPE2;\n})(PEN_TYPE || {});\nvar SHOW_RENDER = /* @__PURE__ */ ((SHOW_RENDER2) => {\n  SHOW_RENDER2[SHOW_RENDER2[\"NEVER\"] = 0] = \"NEVER\";\n  SHOW_RENDER2[SHOW_RENDER2[\"ALWAYS\"] = 1] = \"ALWAYS\";\n  SHOW_RENDER2[SHOW_RENDER2[\"AUTO\"] = 2] = \"AUTO\";\n  return SHOW_RENDER2;\n})(SHOW_RENDER || {});\nvar MULTIPLANAR_TYPE = /* @__PURE__ */ ((MULTIPLANAR_TYPE2) => {\n  MULTIPLANAR_TYPE2[MULTIPLANAR_TYPE2[\"AUTO\"] = 0] = \"AUTO\";\n  MULTIPLANAR_TYPE2[MULTIPLANAR_TYPE2[\"COLUMN\"] = 1] = \"COLUMN\";\n  MULTIPLANAR_TYPE2[MULTIPLANAR_TYPE2[\"GRID\"] = 2] = \"GRID\";\n  MULTIPLANAR_TYPE2[MULTIPLANAR_TYPE2[\"ROW\"] = 3] = \"ROW\";\n  return MULTIPLANAR_TYPE2;\n})(MULTIPLANAR_TYPE || {});\nvar DRAG_MODE = /* @__PURE__ */ ((DRAG_MODE2) => {\n  DRAG_MODE2[DRAG_MODE2[\"none\"] = 0] = \"none\";\n  DRAG_MODE2[DRAG_MODE2[\"contrast\"] = 1] = \"contrast\";\n  DRAG_MODE2[DRAG_MODE2[\"measurement\"] = 2] = \"measurement\";\n  DRAG_MODE2[DRAG_MODE2[\"pan\"] = 3] = \"pan\";\n  DRAG_MODE2[DRAG_MODE2[\"slicer3D\"] = 4] = \"slicer3D\";\n  DRAG_MODE2[DRAG_MODE2[\"callbackOnly\"] = 5] = \"callbackOnly\";\n  DRAG_MODE2[DRAG_MODE2[\"roiSelection\"] = 6] = \"roiSelection\";\n  DRAG_MODE2[DRAG_MODE2[\"angle\"] = 7] = \"angle\";\n  DRAG_MODE2[DRAG_MODE2[\"crosshair\"] = 8] = \"crosshair\";\n  DRAG_MODE2[DRAG_MODE2[\"windowing\"] = 9] = \"windowing\";\n  return DRAG_MODE2;\n})(DRAG_MODE || {});\nvar COLORMAP_TYPE = /* @__PURE__ */ ((COLORMAP_TYPE2) => {\n  COLORMAP_TYPE2[COLORMAP_TYPE2[\"MIN_TO_MAX\"] = 0] = \"MIN_TO_MAX\";\n  COLORMAP_TYPE2[COLORMAP_TYPE2[\"ZERO_TO_MAX_TRANSPARENT_BELOW_MIN\"] = 1] = \"ZERO_TO_MAX_TRANSPARENT_BELOW_MIN\";\n  COLORMAP_TYPE2[COLORMAP_TYPE2[\"ZERO_TO_MAX_TRANSLUCENT_BELOW_MIN\"] = 2] = \"ZERO_TO_MAX_TRANSLUCENT_BELOW_MIN\";\n  return COLORMAP_TYPE2;\n})(COLORMAP_TYPE || {});\nvar DEFAULT_OPTIONS = {\n  textHeight: -1,\n  fontSizeScaling: 0.4,\n  fontMinPx: 13,\n  colorbarHeight: 0.05,\n  colorbarWidth: -1,\n  // automatic (full width)\n  showColorbarBorder: true,\n  // show border around the colorbar\n  crosshairWidth: 1,\n  crosshairWidthUnit: \"voxels\",\n  crosshairGap: 0,\n  rulerWidth: 4,\n  show3Dcrosshair: false,\n  backColor: [0, 0, 0, 1],\n  crosshairColor: [1, 0, 0, 1],\n  fontColor: [0.5, 0.5, 0.5, 1],\n  selectionBoxColor: [1, 1, 1, 0.5],\n  clipPlaneColor: [0.7, 0, 0.7, 0.5],\n  isClipPlanesCutaway: false,\n  paqdUniforms: [0.3, 0.5, 0.5, 1],\n  // paqdUniforms: [0.3, 0.9, 1.0, 0.5],\n  rulerColor: [1, 0, 0, 0.8],\n  colorbarMargin: 0.05,\n  trustCalMinMax: true,\n  clipPlaneHotKey: \"KeyC\",\n  cycleClipPlaneHotKey: \"KeyP\",\n  viewModeHotKey: \"KeyV\",\n  doubleTouchTimeout: 500,\n  longTouchTimeout: 1e3,\n  keyDebounceTime: 50,\n  isNearestInterpolation: false,\n  isResizeCanvas: true,\n  atlasOutline: 0,\n  atlasActiveIndex: 0,\n  isRuler: false,\n  isColorbar: false,\n  isOrientCube: false,\n  tileMargin: 0,\n  multiplanarPadPixels: 0,\n  // @deprecated\n  multiplanarForceRender: false,\n  multiplanarEqualSize: false,\n  multiplanarShowRender: 2 /* AUTO */,\n  // auto is the same behaviour as multiplanarForceRender: false\n  isRadiologicalConvention: false,\n  meshThicknessOn2D: Infinity,\n  dragMode: 1 /* contrast */,\n  dragModePrimary: 8 /* crosshair */,\n  mouseEventConfig: void 0,\n  touchEventConfig: void 0,\n  yoke3Dto2DZoom: false,\n  isDepthPickMesh: false,\n  isCornerOrientationText: false,\n  isOrientationTextVisible: true,\n  showAllOrientationMarkers: false,\n  heroImageFraction: 0,\n  heroSliceType: 4 /* RENDER */,\n  sagittalNoseLeft: false,\n  isSliceMM: false,\n  isV1SliceShader: false,\n  forceDevicePixelRatio: 0,\n  logLevel: \"info\",\n  loadingText: \"loading ...\",\n  isForceMouseClickToVoxelCenters: false,\n  dragAndDropEnabled: true,\n  drawingEnabled: false,\n  penValue: 1,\n  penType: 0 /* PEN */,\n  floodFillNeighbors: 6,\n  isFilledPen: false,\n  thumbnail: \"\",\n  maxDrawUndoBitmaps: 8,\n  sliceType: 3 /* MULTIPLANAR */,\n  meshXRay: 0,\n  isAntiAlias: null,\n  limitFrames4D: NaN,\n  isAdditiveBlend: false,\n  showLegend: true,\n  legendBackgroundColor: [0.3, 0.3, 0.3, 0.5],\n  legendTextColor: [1, 1, 1, 1],\n  multiplanarLayout: 0 /* AUTO */,\n  renderOverlayBlend: 1,\n  sliceMosaicString: \"\",\n  centerMosaic: false,\n  penSize: 1,\n  // in voxels, since all drawing is done using bitmap indices\n  interactive: true,\n  clickToSegment: false,\n  clickToSegmentRadius: 3,\n  // in mm\n  clickToSegmentBright: true,\n  clickToSegmentAutoIntensity: false,\n  // new option, but keep clickToSegmentBright for backwards compatibility\n  clickToSegmentIntensityMax: NaN,\n  // NaN will use auto threshold (default flood fill behavior from before)\n  clickToSegmentIntensityMin: NaN,\n  // NaN will use auto threshold (default flood fill behavior from before)\n  // 0 will use auto threshold (default flood fill behavior from before)\n  // Take the voxel intensity at the click point and use this percentage +/- to threshold the flood fill operation.\n  // If greater than 0, clickedVoxelIntensity +/- clickedVoxelIntensity * clickToSegmentPercent will be used\n  // for the clickToSegmentIntensityMin and clickToSegmentIntensityMax values.\n  clickToSegmentPercent: 0,\n  clickToSegmentMaxDistanceMM: Number.POSITIVE_INFINITY,\n  // default value is infinity for backwards compatibility with flood fill routine.\n  clickToSegmentIs2D: false,\n  selectionBoxLineThickness: 4,\n  selectionBoxIsOutline: false,\n  scrollRequiresFocus: false,\n  // determines if the cavas need to be focused to scroll\n  showMeasureUnits: true,\n  // e.g. 20.2 vs 20.2 mm\n  measureTextJustify: \"center\",\n  // start, center, end\n  measureTextColor: [1, 0, 0, 1],\n  // red\n  measureLineColor: [1, 0, 0, 1],\n  // red\n  measureTextHeight: 0.06,\n  isAlphaClipDark: false,\n  gradientOrder: 1,\n  gradientOpacity: 0,\n  renderSilhouette: 0,\n  gradientAmount: 0,\n  invertScrollDirection: false,\n  is2DSliceShader: false,\n  bounds: null,\n  showBoundsBorder: false,\n  boundsBorderColor: [1, 1, 1, 1]\n  // white border by default\n};\nvar INITIAL_SCENE_DATA = {\n  gamma: 1,\n  azimuth: 110,\n  elevation: 10,\n  crosshairPos: vec38.fromValues(0.5, 0.5, 0.5),\n  clipPlanes: [[0, 0, 0, 0]],\n  // start with no planes\n  clipPlaneDepthAziElevs: [[2, 0, 0]],\n  // empty by default\n  volScaleMultiplier: 1,\n  pan2Dxyzmm: vec46.fromValues(0, 0, 0, 1)\n};\nfunction diffOptions(opts, defaults) {\n  const diff = {};\n  for (const key in opts) {\n    const value = opts[key];\n    const def = defaults[key];\n    const isArray = Array.isArray(value) && Array.isArray(def);\n    if (isArray && value.some((v, i) => v !== def[i]) || !isArray && value !== def) {\n      diff[key] = value;\n    }\n  }\n  return diff;\n}\nvar NVDocument = class _NVDocument {\n  constructor() {\n    __publicField(this, \"data\", {\n      title: \"Untitled document\",\n      imageOptionsArray: [],\n      meshOptionsArray: [],\n      opts: { ...DEFAULT_OPTIONS },\n      previewImageDataURL: \"\",\n      labels: [],\n      encodedImageBlobs: [],\n      encodedDrawingBlob: \"\"\n    });\n    __publicField(this, \"scene\");\n    __publicField(this, \"volumes\", []);\n    __publicField(this, \"meshDataObjects\");\n    __publicField(this, \"meshes\", []);\n    __publicField(this, \"drawBitmap\", null);\n    __publicField(this, \"imageOptionsMap\", /* @__PURE__ */ new Map());\n    __publicField(this, \"meshOptionsMap\", /* @__PURE__ */ new Map());\n    __publicField(this, \"completedMeasurements\", []);\n    __publicField(this, \"completedAngles\", []);\n    __publicField(this, \"_optsProxy\", null);\n    __publicField(this, \"_optsChangeCallback\", null);\n    this.scene = {\n      onAzimuthElevationChange: () => {\n      },\n      onZoom3DChange: () => {\n      },\n      sceneData: {\n        ...INITIAL_SCENE_DATA,\n        pan2Dxyzmm: vec46.fromValues(0, 0, 0, 1),\n        crosshairPos: vec38.fromValues(0.5, 0.5, 0.5)\n      },\n      get renderAzimuth() {\n        return this.sceneData.azimuth;\n      },\n      set renderAzimuth(azimuth) {\n        this.sceneData.azimuth = azimuth;\n        if (this.onAzimuthElevationChange) {\n          this.onAzimuthElevationChange(this.sceneData.azimuth, this.sceneData.elevation);\n        }\n      },\n      get renderElevation() {\n        return this.sceneData.elevation;\n      },\n      set renderElevation(elevation) {\n        this.sceneData.elevation = elevation;\n        if (this.onAzimuthElevationChange) {\n          this.onAzimuthElevationChange(this.sceneData.azimuth, this.sceneData.elevation);\n        }\n      },\n      get volScaleMultiplier() {\n        return this.sceneData.volScaleMultiplier;\n      },\n      set volScaleMultiplier(scale) {\n        this.sceneData.volScaleMultiplier = scale;\n        this.onZoom3DChange(scale);\n      },\n      get crosshairPos() {\n        return this.sceneData.crosshairPos;\n      },\n      set crosshairPos(crosshairPos) {\n        this.sceneData.crosshairPos = crosshairPos;\n      },\n      get clipPlane() {\n        return this.sceneData.clipPlanes[0] ?? [];\n      },\n      set clipPlane(clipPlane) {\n        this.sceneData.clipPlanes[0] = clipPlane;\n      },\n      // get clipPlaneDepthAziElev(): number[] {\n      //   return this.sceneData.clipPlaneDepthAziElevs[0] ?? []\n      // },\n      // set clipPlaneDepthAziElev(clipPlaneDepthAziElev: number[]) {\n      //   this.sceneData.clipPlaneDepthAziElevs[0] = clipPlaneDepthAziElev\n      // },\n      get clipPlanes() {\n        return this.sceneData.clipPlanes;\n      },\n      set clipPlanes(planes) {\n        this.sceneData.clipPlanes = planes;\n      },\n      get clipPlaneDepthAziElevs() {\n        return this.sceneData.clipPlaneDepthAziElevs;\n      },\n      set clipPlaneDepthAziElevs(values) {\n        this.sceneData.clipPlaneDepthAziElevs = values;\n      },\n      get pan2Dxyzmm() {\n        return this.sceneData.pan2Dxyzmm;\n      },\n      /**\n       * Sets current 2D pan in 3D mm\n       */\n      set pan2Dxyzmm(pan2Dxyzmm) {\n        this.sceneData.pan2Dxyzmm = pan2Dxyzmm;\n      },\n      get gamma() {\n        return this.sceneData.gamma;\n      },\n      /**\n       * Sets current gamma\n       */\n      set gamma(newGamma) {\n        this.sceneData.gamma = newGamma;\n      }\n    };\n  }\n  /**\n   * Title of the document\n   */\n  get title() {\n    return this.data.title;\n  }\n  /**\n   * Gets preview image blob\n   * @returns dataURL of preview image\n   */\n  get previewImageDataURL() {\n    return this.data.previewImageDataURL;\n  }\n  /**\n   * Sets preview image blob\n   * @param dataURL - encoded preview image\n   */\n  set previewImageDataURL(dataURL) {\n    this.data.previewImageDataURL = dataURL;\n  }\n  /**\n   * @param title - title of document\n   */\n  set title(title) {\n    this.data.title = title;\n  }\n  get imageOptionsArray() {\n    return this.data.imageOptionsArray;\n  }\n  /**\n   * Gets the base 64 encoded blobs of associated images\n   */\n  get encodedImageBlobs() {\n    return this.data.encodedImageBlobs;\n  }\n  /**\n   * Gets the base 64 encoded blob of the associated drawing\n   * TODO the return type was marked as string[] here, was that an error?\n   */\n  get encodedDrawingBlob() {\n    return this.data.encodedDrawingBlob;\n  }\n  /**\n   * Gets the options of the {@link Niivue} instance\n   */\n  get opts() {\n    if (!this._optsProxy) {\n      this._createOptsProxy();\n    }\n    return this._optsProxy;\n  }\n  /**\n   * Sets the options of the {@link Niivue} instance\n   */\n  set opts(opts) {\n    this.data.opts = { ...opts };\n    this._optsProxy = null;\n  }\n  /**\n   * Gets the 3D labels of the {@link Niivue} instance\n   */\n  get labels() {\n    return this.data.labels;\n  }\n  /**\n   * Sets the 3D labels of the {@link Niivue} instance\n   */\n  set labels(labels) {\n    this.data.labels = labels;\n  }\n  get customData() {\n    return this.data.customData;\n  }\n  set customData(data) {\n    this.data.customData = data;\n  }\n  /**\n   * Checks if document has an image by id\n   */\n  hasImage(image) {\n    return this.volumes.find((i) => i.id === image.id) !== void 0;\n  }\n  /**\n   * Checks if document has an image by url\n   */\n  hasImageFromUrl(url) {\n    return this.data.imageOptionsArray.find((i) => i.url === url) !== void 0;\n  }\n  /**\n   * Adds an image and the options an image was created with\n   */\n  addImageOptions(image, imageOptions) {\n    if (!this.hasImage(image)) {\n      if (!imageOptions.name) {\n        if (imageOptions.url) {\n          const absoluteUrlRE = /^(?:[a-z+]+:)?\\/\\//i;\n          const url = absoluteUrlRE.test(imageOptions.url) ? new URL(imageOptions.url) : new URL(imageOptions.url, window.location.href);\n          imageOptions.name = url.pathname.split(\"/\").pop();\n          if (imageOptions.name.toLowerCase().endsWith(\".gz\")) {\n            imageOptions.name = imageOptions.name.slice(0, -3);\n          }\n          if (!imageOptions.name.toLowerCase().endsWith(\".nii\")) {\n            imageOptions.name += \".nii\";\n          }\n        } else {\n          imageOptions.name = \"untitled.nii\";\n        }\n      }\n    }\n    imageOptions.imageType = NVIMAGE_TYPE.NII;\n    this.data.imageOptionsArray.push(imageOptions);\n    this.imageOptionsMap.set(image.id, this.data.imageOptionsArray.length - 1);\n  }\n  /**\n   * Removes image from the document as well as its options\n   */\n  removeImage(image) {\n    if (this.imageOptionsMap.has(image.id)) {\n      const index = this.imageOptionsMap.get(image.id);\n      if (this.data.imageOptionsArray.length > index) {\n        this.data.imageOptionsArray.splice(index, 1);\n      }\n      this.imageOptionsMap.delete(image.id);\n    }\n    this.volumes = this.volumes.filter((i) => i.id !== image.id);\n  }\n  /**\n   * Fetch any image data that is missing from this document.\n   * This includes loading image blobs for `ImageFromUrlOptions` with valid `url` fields.\n   * After calling this, `volumes` and `imageOptionsMap` will be populated.\n   */\n  async fetchLinkedData() {\n    this.data.encodedImageBlobs = [];\n    if (!this.imageOptionsArray?.length) {\n      return;\n    }\n    for (const imgOpt of this.imageOptionsArray) {\n      if (!imgOpt.url) {\n        continue;\n      }\n      try {\n        const response = await fetch(imgOpt.url);\n        if (!response.ok) {\n          console.warn(\"Failed to fetch image:\", imgOpt.url);\n          continue;\n        }\n        const buffer = await response.arrayBuffer();\n        const uint8Array = new Uint8Array(buffer);\n        const b64 = NVUtilities.uint8tob64(uint8Array);\n        this.data.encodedImageBlobs.push(b64);\n        console.info(\"fetch linked data fetched from \", imgOpt.url);\n      } catch (err) {\n        console.warn(`Failed to fetch/encode image from ${imgOpt.url}:`, err);\n      }\n    }\n  }\n  /**\n   * Returns the options for the image if it was added by url\n   */\n  getImageOptions(image) {\n    return this.imageOptionsMap.has(image.id) ? this.data.imageOptionsArray[this.imageOptionsMap.get(image.id)] : null;\n  }\n  /**\n   * Serialise the document.\n   *\n   * @param embedImages  If false, encodedImageBlobs is left empty\n   *                     (imageOptionsArray still records the URL / name).\n   * @param embedDrawing  If false, encodedDrawingBlob is left empty\n   */\n  json(embedImages = true, embedDrawing = true) {\n    const data = {\n      encodedImageBlobs: [],\n      previewImageDataURL: this.data.previewImageDataURL,\n      imageOptionsMap: /* @__PURE__ */ new Map()\n    };\n    const imageOptionsArray = [];\n    data.sceneData = { ...this.scene.sceneData };\n    delete data.sceneData.clipPlane;\n    delete data.sceneData.clipPlaneDepthAziElev;\n    delete data.sceneData.clipThick;\n    delete data.sceneData.clipVolumeLow;\n    delete data.sceneData.clipVolumeHigh;\n    data.opts = diffOptions(this.opts, DEFAULT_OPTIONS);\n    if (this.opts.meshThicknessOn2D === Infinity) {\n      data.opts.meshThicknessOn2D = \"infinity\";\n    }\n    if (this.opts.meshThicknessOn2D === Infinity) {\n      data.opts.meshThicknessOn2D = \"infinity\";\n    }\n    data.labels = [...this.data.labels];\n    for (const label of data.labels) {\n      delete label.onClick;\n    }\n    data.customData = this.customData;\n    data.completedMeasurements = [...this.completedMeasurements];\n    data.completedAngles = [...this.completedAngles];\n    if (this.volumes.length) {\n      for (let i = 0; i < this.volumes.length; i++) {\n        const volume = this.volumes[i];\n        let imageOptions = this.getImageOptions(volume);\n        if (imageOptions === null) {\n          log.warn(\"no options found for image, using options from the volume directly\");\n          imageOptions = {\n            name: volume?.name ?? \"\",\n            colormap: volume?._colormap ?? \"gray\",\n            opacity: volume?._opacity ?? 1,\n            pairedImgData: null,\n            cal_min: volume?.cal_min ?? NaN,\n            cal_max: volume?.cal_max ?? NaN,\n            trustCalMinMax: volume?.trustCalMinMax ?? true,\n            percentileFrac: volume?.percentileFrac ?? 0.02,\n            ignoreZeroVoxels: volume?.ignoreZeroVoxels ?? false,\n            useQFormNotSForm: volume?.useQFormNotSForm ?? false,\n            colormapNegative: volume?.colormapNegative ?? \"\",\n            colormapLabel: volume?.colormapLabel ?? null,\n            imageType: volume?.imageType ?? NVIMAGE_TYPE.NII,\n            frame4D: volume?.frame4D ?? 0,\n            limitFrames4D: volume?.limitFrames4D ?? NaN,\n            url: volume?.url ?? \"\",\n            urlImageData: volume?.urlImgData ?? \"\",\n            alphaThreshold: false,\n            cal_minNeg: volume?.cal_minNeg ?? NaN,\n            cal_maxNeg: volume?.cal_maxNeg ?? NaN,\n            colorbarVisible: volume?.colorbarVisible ?? true\n          };\n        } else {\n          if (!(\"imageType\" in imageOptions)) {\n            imageOptions.imageType = NVIMAGE_TYPE.NII;\n          }\n        }\n        imageOptions.colormap = volume.colormap;\n        imageOptions.colormapLabel = volume.colormapLabel;\n        imageOptions.opacity = volume.opacity;\n        imageOptions.cal_max = volume.cal_max ?? NaN;\n        imageOptions.cal_min = volume.cal_min ?? NaN;\n        imageOptionsArray.push(imageOptions);\n        if (embedImages) {\n          const blob = NVUtilities.uint8tob64(volume.toUint8Array());\n          data.encodedImageBlobs.push(blob);\n        }\n        data.imageOptionsMap.set(volume.id, i);\n      }\n    }\n    data.imageOptionsArray = [...imageOptionsArray];\n    const meshes = [];\n    data.connectomes = [];\n    for (const mesh of this.meshes) {\n      if (mesh.type === \"connectome\" /* CONNECTOME */) {\n        data.connectomes.push(JSON.stringify(mesh.json()));\n        continue;\n      }\n      const copyMesh = {\n        pts: mesh.pts,\n        tris: mesh.tris,\n        name: mesh.name,\n        rgba255: Uint8Array.from(mesh.rgba255),\n        opacity: mesh.opacity,\n        connectome: mesh.connectome,\n        dpg: mesh.dpg,\n        dps: mesh.dps,\n        dpv: mesh.dpv,\n        meshShaderIndex: mesh.meshShaderIndex,\n        layers: mesh.layers.map((layer) => ({\n          values: layer.values,\n          nFrame4D: layer.nFrame4D,\n          frame4D: 0,\n          outlineBorder: layer.outlineBorder,\n          global_min: layer.global_min,\n          global_max: layer.global_max,\n          cal_min: layer.cal_min,\n          cal_max: layer.cal_max,\n          opacity: layer.opacity,\n          colormap: layer.colormap,\n          colormapNegative: layer.colormapNegative,\n          colormapLabel: layer.colormapLabel,\n          useNegativeCmap: layer.useNegativeCmap\n        })),\n        hasConnectome: mesh.hasConnectome,\n        edgeColormap: mesh.edgeColormap,\n        edgeColormapNegative: mesh.edgeColormapNegative,\n        edgeMax: mesh.edgeMax,\n        edgeMin: mesh.edgeMin,\n        edges: mesh.edges && Array.isArray(mesh.edges) ? [...mesh.edges] : [],\n        extentsMax: mesh.extentsMax,\n        extentsMin: mesh.extentsMin,\n        furthestVertexFromOrigin: mesh.furthestVertexFromOrigin,\n        nodeColormap: mesh.nodeColormap,\n        nodeColormapNegative: mesh.nodeColormapNegative,\n        nodeMaxColor: mesh.nodeMaxColor,\n        nodeMinColor: mesh.nodeMinColor,\n        nodeScale: mesh.nodeScale,\n        legendLineThickness: mesh.legendLineThickness,\n        offsetPt0: mesh.offsetPt0,\n        nodes: mesh.nodes\n      };\n      if (mesh.offsetPt0 && mesh.offsetPt0.length > 0) {\n        copyMesh.offsetPt0 = mesh.offsetPt0;\n        copyMesh.fiberGroupColormap = mesh.fiberGroupColormap;\n        copyMesh.fiberColor = mesh.fiberColor;\n        copyMesh.fiberDither = mesh.fiberDither;\n        copyMesh.fiberRadius = mesh.fiberRadius;\n        copyMesh.colormap = mesh.colormap;\n      }\n      meshes.push(copyMesh);\n    }\n    data.meshesString = JSON.stringify(serialize(meshes));\n    if (embedDrawing && this.drawBitmap) {\n      data.encodedDrawingBlob = NVUtilities.uint8tob64(this.drawBitmap);\n    }\n    return data;\n  }\n  async download(fileName, compress, opts = { embedImages: true }) {\n    const data = this.json(opts.embedImages);\n    const jsonTxt = JSON.stringify(data);\n    const mime = compress ? \"application/gzip\" : \"application/json\";\n    const payload = compress ? await NVUtilities.compressStringToArrayBuffer(jsonTxt) : jsonTxt;\n    NVUtilities.download(payload, fileName, mime);\n  }\n  /**\n   * Deserialize mesh data objects\n   */\n  static deserializeMeshDataObjects(document2) {\n    if (!document2.data.meshesString || document2.data.meshesString === \"[]\") {\n      document2.meshDataObjects = [];\n      return;\n    }\n    if (document2.data.meshesString) {\n      document2.meshDataObjects = deserialize(JSON.parse(document2.data.meshesString));\n      for (const mesh of document2.meshDataObjects) {\n        for (const layer of mesh.layers) {\n          if (\"colorMap\" in layer) {\n            layer.colormap = layer.colorMap;\n            delete layer.colorMap;\n          }\n          if (\"colorMapNegative\" in layer) {\n            layer.colormapNegative = layer.colorMapNegative;\n            delete layer.colorMapNegative;\n          }\n        }\n      }\n    }\n  }\n  /**\n   * Factory method to return an instance of NVDocument from a URL\n   */\n  static async loadFromUrl(url) {\n    const response = await fetch(url);\n    const buffer = await response.arrayBuffer();\n    let documentData;\n    if (NVUtilities.isArrayBufferCompressed(buffer)) {\n      const documentText = await NVUtilities.decompressArrayBuffer(buffer);\n      documentData = JSON.parse(documentText);\n    } else {\n      const utf8decoder = new TextDecoder();\n      documentData = JSON.parse(utf8decoder.decode(buffer));\n    }\n    return _NVDocument.loadFromJSON(documentData);\n  }\n  /**\n   * Factory method to return an instance of NVDocument from a File object\n   */\n  static async loadFromFile(file) {\n    const arrayBuffer = await NVUtilities.readFileAsync(file);\n    let dataString;\n    const document2 = new _NVDocument();\n    if (NVUtilities.isArrayBufferCompressed(arrayBuffer)) {\n      dataString = await NVUtilities.decompressArrayBuffer(arrayBuffer);\n    } else {\n      const utf8decoder = new TextDecoder();\n      dataString = utf8decoder.decode(arrayBuffer);\n    }\n    document2.data = JSON.parse(dataString);\n    if (document2.data.opts.meshThicknessOn2D === \"infinity\") {\n      document2.data.opts.meshThicknessOn2D = Infinity;\n    }\n    document2.scene.sceneData = { ...INITIAL_SCENE_DATA, ...document2.data.sceneData };\n    _NVDocument.deserializeMeshDataObjects(document2);\n    return document2;\n  }\n  /**\n   * Factory method to return an instance of NVDocument from JSON.\n   *\n   * This will merge any saved configuration options (`opts`) with the DEFAULT_OPTIONS,\n   * ensuring any missing values are filled with defaults. It also restores special-case\n   * fields like `meshThicknessOn2D` when serialized as the string \"infinity\".\n   *\n   * @param data - A serialized DocumentData object\n   * @returns A reconstructed NVDocument instance\n   */\n  static loadFromJSON(data) {\n    const document2 = new _NVDocument();\n    Object.assign(document2.data, {\n      ...data,\n      imageOptionsArray: data.imageOptionsArray ?? [],\n      encodedImageBlobs: data.encodedImageBlobs ?? [],\n      labels: data.labels ?? [],\n      meshOptionsArray: data.meshOptionsArray ?? [],\n      connectomes: data.connectomes ?? [],\n      encodedDrawingBlob: data.encodedDrawingBlob ?? \"\",\n      previewImageDataURL: data.previewImageDataURL ?? \"\",\n      customData: data.customData ?? \"\",\n      title: data.title ?? \"untitled\"\n    });\n    document2.data.opts = {\n      ...DEFAULT_OPTIONS,\n      ...data.opts || {}\n    };\n    if (document2.data.opts.meshThicknessOn2D === \"infinity\") {\n      document2.data.opts.meshThicknessOn2D = Infinity;\n    }\n    document2.scene.sceneData = {\n      ...INITIAL_SCENE_DATA,\n      ...data.sceneData || {}\n    };\n    const sceneData = data.sceneData || {};\n    if (sceneData.clipPlane && !sceneData.clipPlanes) {\n      document2.scene.sceneData.clipPlanes = [sceneData.clipPlane];\n    }\n    if (sceneData.clipPlaneDepthAziElev && !sceneData.clipPlaneDepthAziElevs) {\n      document2.scene.sceneData.clipPlaneDepthAziElevs = [sceneData.clipPlaneDepthAziElev];\n    }\n    if (data.completedMeasurements) {\n      document2.completedMeasurements = data.completedMeasurements.map((m) => ({\n        ...m,\n        startMM: vec38.clone(m.startMM),\n        endMM: vec38.clone(m.endMM)\n      }));\n    }\n    if (data.completedAngles) {\n      document2.completedAngles = data.completedAngles.map((a) => ({\n        ...a,\n        firstLineMM: {\n          start: vec38.clone(a.firstLineMM.start),\n          end: vec38.clone(a.firstLineMM.end)\n        },\n        secondLineMM: {\n          start: vec38.clone(a.secondLineMM.start),\n          end: vec38.clone(a.secondLineMM.end)\n        }\n      }));\n    }\n    if (document2.data.meshesString) {\n      _NVDocument.deserializeMeshDataObjects(document2);\n    }\n    return document2;\n  }\n  /**\n   * Factory method to return an instance of NVDocument from JSON\n   */\n  static oldloadFromJSON(data) {\n    const document2 = new _NVDocument();\n    document2.data = data;\n    if (document2.data.opts.meshThicknessOn2D === \"infinity\") {\n      document2.data.opts.meshThicknessOn2D = Infinity;\n    }\n    document2.scene.sceneData = { ...INITIAL_SCENE_DATA, ...data.sceneData };\n    _NVDocument.deserializeMeshDataObjects(document2);\n    return document2;\n  }\n  /**\n   * Sets the callback function to be called when opts properties change\n   */\n  setOptsChangeCallback(callback) {\n    this._optsChangeCallback = callback;\n    this._optsProxy = null;\n  }\n  /**\n   * Removes the opts change callback\n   */\n  removeOptsChangeCallback() {\n    this._optsChangeCallback = null;\n    this._optsProxy = null;\n  }\n  /**\n   * Creates a Proxy wrapper around the opts object to detect changes\n   */\n  _createOptsProxy() {\n    const target = this.data.opts;\n    this._optsProxy = new Proxy(target, {\n      set: (obj, prop, value) => {\n        const oldValue = obj[prop];\n        if (oldValue !== value) {\n          obj[prop] = value;\n          if (this._optsChangeCallback && typeof prop === \"string\" && prop in DEFAULT_OPTIONS) {\n            this._optsChangeCallback(prop, value, oldValue);\n          }\n        }\n        return true;\n      },\n      get: (obj, prop) => {\n        return obj[prop];\n      }\n    });\n  }\n};\n\n// src/nvmesh.ts\nvar NVMeshLayerDefaults = {\n  colormap: \"gray\",\n  opacity: 0,\n  nFrame4D: 0,\n  frame4D: 0,\n  outlineBorder: 0,\n  cal_min: 0,\n  cal_max: 0,\n  cal_minNeg: 0,\n  cal_maxNeg: 0,\n  colormapType: 0 /* MIN_TO_MAX */,\n  values: new Array(),\n  useNegativeCmap: false,\n  showLegend: true\n};\nvar NVMeshFromUrlOptions = class {\n  constructor(url = \"\", gl = null, name = \"\", opacity = 1, rgba255 = new Uint8Array([255, 255, 255, 255]), visible = true, layers = [], colorbarVisible = true) {\n    __publicField(this, \"url\");\n    __publicField(this, \"gl\");\n    __publicField(this, \"name\");\n    __publicField(this, \"opacity\");\n    __publicField(this, \"rgba255\");\n    __publicField(this, \"visible\");\n    __publicField(this, \"layers\");\n    __publicField(this, \"colorbarVisible\");\n    this.url = url;\n    this.gl = gl;\n    this.name = name;\n    this.opacity = opacity;\n    this.rgba255 = rgba255;\n    this.visible = visible;\n    this.layers = layers;\n    this.colorbarVisible = colorbarVisible;\n  }\n};\nvar NVMesh3 = class _NVMesh {\n  /**\n   * @param pts - a 3xN array of vertex positions (X,Y,Z coordinates).\n   * @param tris - a 3xN array of triangle indices (I,J,K; indexed from zero). Each triangle generated from three vertices.\n   * @param name - a name for this image. Default is an empty string\n   * @param rgba255 - the base color of the mesh. RGBA values from 0 to 255. Default is white\n   * @param opacity - the opacity for this mesh. default is 1\n   * @param visible - whether or not this image is to be visible\n   * @param gl - WebGL rendering context\n   * @param connectome - specify connectome edges and nodes. Default is null (not a connectome).\n   * @param dpg - Data per group for tractography, see TRK format. Default is null (not tractograpgy)\n   * @param dps - Data per streamline for tractography, see TRK format.  Default is null (not tractograpgy)\n   * @param dpv - Data per vertex for tractography, see TRK format.  Default is null (not tractograpgy)\n   * @param groups - Groups for tractography, see TRK format. Default is null (not tractograpgy)\n   * @param colorbarVisible - does this mesh display a colorbar\n   * @param anatomicalStructurePrimary - region for mesh. Default is an empty string\n   */\n  constructor(pts, tris, name = \"\", rgba255 = new Uint8Array([255, 255, 255, 255]), opacity = 1, visible = true, gl, connectome = null, dpg = null, dps = null, dpv = null, groups = null, colorbarVisible = true, anatomicalStructurePrimary = \"\") {\n    __publicField(this, \"id\");\n    __publicField(this, \"name\");\n    __publicField(this, \"anatomicalStructurePrimary\");\n    __publicField(this, \"colorbarVisible\");\n    __publicField(this, \"furthestVertexFromOrigin\");\n    __publicField(this, \"extentsMin\");\n    __publicField(this, \"extentsMax\");\n    __publicField(this, \"opacity\");\n    __publicField(this, \"visible\");\n    __publicField(this, \"meshShaderIndex\", 0);\n    __publicField(this, \"offsetPt0\", null);\n    __publicField(this, \"colormapInvert\", false);\n    __publicField(this, \"fiberGroupColormap\", null);\n    __publicField(this, \"indexBuffer\");\n    __publicField(this, \"vertexBuffer\");\n    __publicField(this, \"vao\");\n    __publicField(this, \"vaoFiber\");\n    __publicField(this, \"pts\");\n    __publicField(this, \"tris\");\n    __publicField(this, \"layers\");\n    __publicField(this, \"type\", \"mesh\" /* MESH */);\n    __publicField(this, \"data_type\");\n    __publicField(this, \"rgba255\");\n    __publicField(this, \"fiberLength\");\n    __publicField(this, \"fiberLengths\");\n    __publicField(this, \"fiberDensity\");\n    __publicField(this, \"fiberDither\", 0.1);\n    __publicField(this, \"fiberColor\", \"Global\");\n    __publicField(this, \"fiberDecimationStride\", 1);\n    // e.g. if 2 the 50% of streamlines visible, if 3 then 1/3rd\n    __publicField(this, \"fiberSides\", 5);\n    // 1=streamline, 2=imposter, >2=mesh(cylinder with fiberSides sides)\n    __publicField(this, \"fiberRadius\", 0);\n    // in mm, e.g. 3 means 6mm diameter fibers, ignored if fiberSides < 3\n    __publicField(this, \"fiberOcclusion\", 0);\n    // value 0..1 to simulate ambient occlusion\n    __publicField(this, \"f32PerVertex\", 5);\n    // MUST be 5 or 7: number of float32s per vertex DEPRECATED, future releases will ALWAYS be 5\n    __publicField(this, \"dpsThreshold\", NaN);\n    __publicField(this, \"fiberMask\");\n    __publicField(this, \"colormap\");\n    __publicField(this, \"dpg\");\n    __publicField(this, \"dps\");\n    __publicField(this, \"dpv\");\n    __publicField(this, \"groups\");\n    __publicField(this, \"hasConnectome\", false);\n    __publicField(this, \"connectome\");\n    // TODO this should somehow get aligned with connectome\n    __publicField(this, \"indexCount\");\n    __publicField(this, \"vertexCount\", 1);\n    __publicField(this, \"nodeScale\", 4);\n    __publicField(this, \"edgeScale\", 1);\n    __publicField(this, \"legendLineThickness\", 0);\n    __publicField(this, \"showLegend\", true);\n    __publicField(this, \"nodeColormap\", \"warm\");\n    __publicField(this, \"edgeColormap\", \"warm\");\n    __publicField(this, \"nodeColormapNegative\");\n    __publicField(this, \"edgeColormapNegative\");\n    __publicField(this, \"nodeMinColor\");\n    __publicField(this, \"nodeMaxColor\");\n    __publicField(this, \"edgeMin\");\n    __publicField(this, \"edgeMax\");\n    __publicField(this, \"nodes\");\n    __publicField(this, \"edges\");\n    __publicField(this, \"points\");\n    this.anatomicalStructurePrimary = anatomicalStructurePrimary;\n    this.name = name;\n    this.colorbarVisible = colorbarVisible;\n    this.id = uuidv42();\n    const obj = NVMeshUtilities.getExtents(pts);\n    this.furthestVertexFromOrigin = obj.mxDx;\n    this.extentsMin = obj.extentsMin;\n    this.extentsMax = obj.extentsMax;\n    this.opacity = opacity > 1 ? 1 : opacity;\n    this.visible = visible;\n    this.meshShaderIndex = 0;\n    this.indexBuffer = gl.createBuffer();\n    this.vertexBuffer = gl.createBuffer();\n    this.vao = gl.createVertexArray();\n    gl.bindVertexArray(this.vao);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    gl.enableVertexAttribArray(0);\n    gl.enableVertexAttribArray(1);\n    const f32PerVertex = this.f32PerVertex;\n    if (f32PerVertex !== 7) {\n      gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 20, 0);\n      gl.vertexAttribPointer(1, 4, gl.BYTE, true, 20, 12);\n      gl.enableVertexAttribArray(2);\n      gl.vertexAttribPointer(2, 4, gl.UNSIGNED_BYTE, true, 20, 16);\n    } else {\n      gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 28, 0);\n      gl.vertexAttribPointer(1, 3, gl.FLOAT, false, 28, 12);\n      gl.enableVertexAttribArray(2);\n      gl.vertexAttribPointer(2, 4, gl.UNSIGNED_BYTE, true, 28, 24);\n    }\n    gl.bindVertexArray(null);\n    this.vaoFiber = gl.createVertexArray();\n    this.offsetPt0 = null;\n    this.hasConnectome = false;\n    this.colormapInvert = false;\n    this.fiberGroupColormap = null;\n    this.pts = pts;\n    this.layers = [];\n    this.type = \"mesh\" /* MESH */;\n    this.tris = tris;\n    if (rgba255[3] < 1) {\n      this.rgba255 = rgba255;\n      this.fiberLength = 2;\n      this.fiberDither = 0.1;\n      this.fiberColor = \"Global\";\n      this.fiberDecimationStride = 1;\n      this.fiberMask = [];\n      this.colormap = connectome;\n      this.dpg = dpg;\n      this.dps = dps;\n      this.dpv = dpv;\n      this.groups = groups;\n      if (dpg) {\n        this.initValuesArray(dpg);\n      }\n      if (dps) {\n        this.initValuesArray(dps);\n      }\n      if (dpv) {\n        this.initValuesArray(dpv);\n      }\n      if (groups) {\n        this.initValuesArray(groups);\n      }\n      this.offsetPt0 = new Uint32Array(tris);\n      this.tris = new Uint32Array(0);\n      this.updateFibers(gl);\n      gl.bindVertexArray(this.vaoFiber);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n      gl.enableVertexAttribArray(0);\n      gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 16, 0);\n      gl.enableVertexAttribArray(1);\n      gl.vertexAttribPointer(1, 4, gl.UNSIGNED_BYTE, true, 16, 12);\n      gl.bindVertexArray(null);\n      return;\n    }\n    if (connectome) {\n      this.connectome = connectome;\n      this.hasConnectome = true;\n      const keysArray = Object.keys(connectome);\n      for (let i = 0, len = keysArray.length; i < len; i++) {\n        this[keysArray[i]] = connectome[keysArray[i]];\n      }\n    }\n    this.rgba255 = rgba255;\n    this.updateMesh(gl);\n  }\n  initValuesArray(va) {\n    for (let i = 0; i < va.length; i++) {\n      const mn = va[i].vals.reduce((acc, current) => Math.min(acc, current));\n      const mx = va[i].vals.reduce((acc, current) => Math.max(acc, current));\n      va[i].global_min = mn;\n      va[i].global_max = mx;\n      va[i].cal_min = mn;\n      va[i].cal_max = mx;\n    }\n    return va;\n  }\n  // given streamlines (which webGL renders as a single pixel), extrude to cylinders\n  linesToCylinders(gl, posClrF32, indices) {\n    function v4ToV3(v4) {\n      return vec39.fromValues(v4[0], v4[1], v4[2]);\n    }\n    const primitiveRestart = Math.pow(2, 32) - 1;\n    const n_count = indices.length;\n    let n_line_vtx = 0;\n    let n_streamlines = 0;\n    for (let i = 0; i < n_count; i++) {\n      if (indices[i] === primitiveRestart) {\n        n_streamlines++;\n        continue;\n      }\n      n_line_vtx++;\n    }\n    const cyl_sides = this.fiberSides;\n    const npt = cyl_sides * n_line_vtx;\n    const f32PerVertex = this.f32PerVertex;\n    if (f32PerVertex !== 5) {\n      throw Error(\"fiberSides > 1 requires f32PerVertex == 5\");\n    }\n    const f32 = new Float32Array(npt * f32PerVertex);\n    const u8 = new Uint8Array(f32.buffer);\n    let vtx = 0;\n    let prevV4 = vec47.create();\n    let currV4 = vec47.create();\n    let nextV4 = vec47.create();\n    const v1 = vec39.create();\n    let prevV2 = vec39.create();\n    let node = 0;\n    const radius = this.fiberRadius;\n    for (let i = 0; i < n_count; i++) {\n      const isLineEnd = indices[i] === primitiveRestart;\n      if (isLineEnd && node < 1) {\n        continue;\n      }\n      let idx2 = indices[i] * 4;\n      node++;\n      if (node <= 1) {\n        prevV4 = vec47.fromValues(posClrF32[idx2 + 0], posClrF32[idx2 + 1], posClrF32[idx2 + 2], posClrF32[idx2 + 3]);\n        currV4 = vec47.clone(prevV4);\n        if (i + 1 < n_count && indices[i + 1] !== primitiveRestart) {\n          idx2 = indices[i + 1] * 4;\n          nextV4 = vec47.fromValues(posClrF32[idx2 + 0], posClrF32[idx2 + 1], posClrF32[idx2 + 2], posClrF32[idx2 + 3]);\n          vec39.subtract(v1, v4ToV3(prevV4), v4ToV3(nextV4));\n          vec39.normalize(v1, v1);\n          prevV2 = NiivueObject3D.getFirstPerpVector(v1);\n        }\n        continue;\n      }\n      if (isLineEnd) {\n        nextV4 = vec47.clone(currV4);\n      } else {\n        nextV4 = vec47.fromValues(posClrF32[idx2 + 0], posClrF32[idx2 + 1], posClrF32[idx2 + 2], posClrF32[idx2 + 3]);\n      }\n      vec39.subtract(v1, v4ToV3(prevV4), v4ToV3(nextV4));\n      vec39.normalize(v1, v1);\n      const D = vec39.create();\n      vec39.cross(D, prevV2, v1);\n      const v2 = vec39.create();\n      vec39.cross(v2, v1, D);\n      prevV2 = vec39.clone(prevV2);\n      const v3 = vec39.create();\n      vec39.cross(v3, v1, v2);\n      vec39.normalize(v3, v3);\n      const vtxXYZ = vec39.create();\n      for (let j = 0; j < cyl_sides; j++) {\n        const c = Math.cos(j / cyl_sides * 2 * Math.PI);\n        const s = Math.sin(j / cyl_sides * 2 * Math.PI);\n        vtxXYZ[0] = radius * (c * v2[0] + s * v3[0]);\n        vtxXYZ[1] = radius * (c * v2[1] + s * v3[1]);\n        vtxXYZ[2] = radius * (c * v2[2] + s * v3[2]);\n        vec39.add(vtxXYZ, v4ToV3(currV4), vtxXYZ);\n        const fidx = vtx * f32PerVertex;\n        f32[fidx + 0] = vtxXYZ[0];\n        f32[fidx + 1] = vtxXYZ[1];\n        f32[fidx + 2] = vtxXYZ[2];\n        const n3 = vec39.create();\n        vec39.subtract(n3, vtxXYZ, v4ToV3(currV4));\n        vec39.normalize(n3, n3);\n        const fidxU8 = (fidx + 3) * 4;\n        u8[fidxU8 + 0] = n3[0] * 127;\n        u8[fidxU8 + 1] = n3[1] * 127;\n        u8[fidxU8 + 2] = n3[2] * 127;\n        f32[fidx + 4] = currV4[3];\n        vtx++;\n      }\n      prevV4 = vec47.clone(currV4);\n      currV4 = vec47.clone(nextV4);\n      if (isLineEnd) {\n        node = 0;\n      }\n    }\n    const nidx = (n_line_vtx - n_streamlines) * cyl_sides * 2 * 3;\n    const idxs = new Uint32Array(nidx);\n    let idx = 0;\n    vtx = 0;\n    for (let i = 1; i < n_count; i++) {\n      if (indices[i] === primitiveRestart) {\n        vtx += cyl_sides;\n        continue;\n      }\n      if (indices[i - 1] === primitiveRestart) {\n        continue;\n      }\n      let prevStartVtx = vtx;\n      let startVtx = vtx + cyl_sides;\n      const prevStartVtxOverflow = startVtx;\n      const startVtxOverflow = startVtx + cyl_sides;\n      for (let j = 0; j < cyl_sides; j++) {\n        idxs[idx++] = prevStartVtx;\n        idxs[idx++] = startVtx++;\n        if (startVtx === startVtxOverflow) {\n          startVtx = startVtxOverflow - cyl_sides;\n        }\n        idxs[idx++] = startVtx;\n        idxs[idx++] = prevStartVtx++;\n        if (prevStartVtx === prevStartVtxOverflow) {\n          prevStartVtx = prevStartVtxOverflow - cyl_sides;\n        }\n        idxs[idx++] = startVtx;\n        idxs[idx++] = prevStartVtx;\n      }\n      vtx += cyl_sides;\n    }\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, Uint32Array.from(idxs), gl.STATIC_DRAW);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, u8, gl.STATIC_DRAW);\n    this.indexCount = nidx;\n  }\n  // linesToCylinders\n  createFiberDensityMap() {\n    if (this.fiberDensity) {\n      return;\n    }\n    const pts = this.pts;\n    const npt = pts.length / 3;\n    let maxExtentsRange = 0;\n    for (let i = 0; i < 3; i++) {\n      const range = this.extentsMax[i] - this.extentsMin[i];\n      maxExtentsRange = Math.max(maxExtentsRange, range);\n    }\n    this.fiberDensity = new Float32Array(npt);\n    if (maxExtentsRange === 0) {\n      return;\n    }\n    const bins = 64;\n    const binWidth = maxExtentsRange / (bins - 1);\n    const half = binWidth / 2;\n    const scale = (bins - 1) / maxExtentsRange;\n    let densityMap = new Float32Array(bins * bins * bins);\n    const mn = [this.extentsMin[0] - half, this.extentsMin[1] - half, this.extentsMin[2] - half];\n    const xyz = [0, 0, 0];\n    const prevVx = -1;\n    const binsXbins = bins * bins;\n    let j = 0;\n    for (let i = 0; i < npt; i++) {\n      xyz[0] = Math.round((pts[j++] - mn[0]) * scale);\n      xyz[1] = Math.round((pts[j++] - mn[1]) * scale);\n      xyz[2] = Math.round((pts[j++] - mn[2]) * scale);\n      const vx = xyz[0] + xyz[1] * bins + xyz[2] * binsXbins;\n      if (vx === prevVx) {\n        continue;\n      }\n      densityMap[vx]++;\n    }\n    function blur3D(vol, dim) {\n      let raw = vol.slice();\n      let v = -1;\n      const dim1 = dim - 1;\n      for (let z = 0; z < dim; z++) {\n        for (let y = 0; y < dim; y++) {\n          for (let x = 0; x < dim; x++) {\n            v++;\n            if (x < 1 || x >= dim1) {\n              continue;\n            }\n            vol[v] = raw[v - 1] + raw[v] + raw[v] + raw[v + 1];\n          }\n        }\n      }\n      v = -1;\n      raw = vol.slice();\n      for (let z = 0; z < dim; z++) {\n        for (let y = 0; y < dim; y++) {\n          for (let x = 0; x < dim; x++) {\n            v++;\n            if (y < 1 || y >= dim1) {\n              continue;\n            }\n            vol[v] = raw[v - dim] + raw[v] + raw[v] + raw[v + dim];\n          }\n        }\n      }\n      const dimXdim = dim * dim;\n      v = -1;\n      raw = vol.slice();\n      for (let z = 0; z < dim; z++) {\n        for (let y = 0; y < dim; y++) {\n          for (let x = 0; x < dim; x++) {\n            v++;\n            if (z < 1 || z >= dim1) {\n              continue;\n            }\n            vol[v] = raw[v - dimXdim] + raw[v] + raw[v] + raw[dimXdim];\n          }\n        }\n      }\n      return vol;\n    }\n    densityMap = blur3D(densityMap, bins);\n    densityMap = blur3D(densityMap, bins);\n    let mx = 0;\n    let mn0 = Infinity;\n    const binsXbinsXbins = bins * bins * bins;\n    for (let i = 0; i < binsXbinsXbins; i++) {\n      if (densityMap[i] <= 0) {\n        continue;\n      }\n      mx = Math.max(mx, densityMap[i]);\n      mn0 = Math.min(mn0, densityMap[i]);\n    }\n    if (mx <= 1 || mx <= mn0) {\n      return;\n    }\n    j = 0;\n    for (let i = 0; i < binsXbinsXbins; i++) {\n      densityMap[i] = Math.max(0, densityMap[i] - mn0);\n    }\n    mx -= mn0;\n    for (let i = 0; i < npt; i++) {\n      xyz[0] = Math.round((pts[j++] - mn[0]) * scale);\n      xyz[1] = Math.round((pts[j++] - mn[1]) * scale);\n      xyz[2] = Math.round((pts[j++] - mn[2]) * scale);\n      const vx = xyz[0] + xyz[1] * bins + xyz[2] * binsXbins;\n      this.fiberDensity[i] = densityMap[vx] / mx;\n    }\n  }\n  // not included in public docs\n  // internal function filters tractogram to identify which color and visibility of streamlines\n  updateFibers(gl) {\n    if (!this.offsetPt0 || !this.fiberLength) {\n      return;\n    }\n    const pts = this.pts;\n    const offsetPt0 = this.offsetPt0;\n    const n_count = offsetPt0.length - 1;\n    const npt = pts.length / 3;\n    if (!this.fiberLengths) {\n      this.fiberLengths = new Uint32Array(n_count);\n      for (let i = 0; i < n_count; i++) {\n        const vStart3 = offsetPt0[i] * 3;\n        const vEnd3 = (offsetPt0[i + 1] - 1) * 3;\n        let len = 0;\n        for (let j = vStart3; j < vEnd3; j += 3) {\n          const v = vec39.fromValues(pts[j + 0] - pts[j + 3], pts[j + 1] - pts[j + 4], pts[j + 2] - pts[j + 5]);\n          len += vec39.len(v);\n        }\n        this.fiberLengths[i] = len;\n      }\n    }\n    const posClrF32 = new Float32Array(npt * 4);\n    const posClrU32 = new Uint32Array(posClrF32.buffer);\n    let i3 = 0;\n    let i4 = 0;\n    for (let i = 0; i < npt; i++) {\n      posClrF32[i4 + 0] = pts[i3 + 0];\n      posClrF32[i4 + 1] = pts[i3 + 1];\n      posClrF32[i4 + 2] = pts[i3 + 2];\n      i3 += 3;\n      i4 += 4;\n    }\n    const dither = this.fiberDither;\n    const ditherHalf = dither * 0.5;\n    function rgb2int32(r, g, b) {\n      const ditherFrac = dither * Math.random();\n      const d = 255 * (ditherFrac - ditherHalf);\n      r = Math.max(Math.min(r + d, 255), 0);\n      g = Math.max(Math.min(g + d, 255), 0);\n      b = Math.max(Math.min(b + d, 255), 0);\n      return r + (g << 8) + (b << 16);\n    }\n    function direction2rgb(x1, y1, z1, x2, y2, z2, ditherFrac) {\n      const v = vec39.fromValues(Math.abs(x1 - x2), Math.abs(y1 - y2), Math.abs(z1 - z2));\n      vec39.normalize(v, v);\n      const r = ditherFrac - ditherHalf;\n      for (let j = 0; j < 3; j++) {\n        v[j] = 255 * Math.max(Math.min(Math.abs(v[j]) + r, 1), 0);\n      }\n      return v[0] + (v[1] << 8) + (v[2] << 16);\n    }\n    const fiberColor = this.fiberColor.toLowerCase();\n    let dps = null;\n    let dpv = null;\n    if (fiberColor.startsWith(\"dps\") && this.dps && this.dps.length > 0) {\n      const n = parseInt(fiberColor.substring(3));\n      if (n < this.dps.length && this.dps[n].vals.length === n_count) {\n        dps = this.dps[n].vals;\n      }\n    }\n    if (fiberColor.startsWith(\"dpv\") && this.dpv && this.dpv.length > 0) {\n      const n = parseInt(fiberColor.substring(3));\n      if (n < this.dpv.length && this.dpv[n].vals.length === npt) {\n        dpv = this.dpv[n];\n      }\n    }\n    const streamlineVisible = new Int16Array(n_count);\n    if (this.groups && this.fiberGroupColormap !== null || fiberColor.startsWith(\"dpg\") && this.dpg.length > 0) {\n      const lut = new Uint8ClampedArray(this.groups.length * 4);\n      const groupVisible = new Array(this.groups.length).fill(false);\n      if (this.fiberGroupColormap) {\n        const cmap = this.fiberGroupColormap;\n        if (cmap.A === void 0) {\n          cmap.A = Array.from(new Uint8ClampedArray(cmap.I.length).fill(255));\n        }\n        for (let i = 0; i < cmap.I.length; i++) {\n          let idx = cmap.I[i];\n          if (idx < 0 || idx >= this.groups.length) {\n            continue;\n          }\n          if (cmap.A[i] < 1) {\n            continue;\n          }\n          groupVisible[idx] = true;\n          idx *= 4;\n          lut[idx] = cmap.R[i];\n          lut[idx + 1] = cmap.G[i];\n          lut[idx + 2] = cmap.B[i];\n          lut[idx + 3] = 255;\n        }\n      } else {\n        if (fiberColor.startsWith(\"dpg\") && this.dpg.length > 0) {\n          const n = parseInt(fiberColor.substring(3));\n          const dpg = n < this.dpg.length ? this.dpg[n] : this.dpg[0];\n          const lut255 = cmapper.colormap(this.colormap, this.colormapInvert);\n          const mn = dpg.cal_min;\n          const mx = dpg.cal_max;\n          const ngroup = this.groups.length;\n          for (let i = 0; i < ngroup; i++) {\n            const v = dpg.vals[i];\n            if (v < mn) {\n              continue;\n            }\n            let color255 = Math.round(255 * Math.min(Math.max((v - mn) / (mx - mn), 0), 1));\n            groupVisible[i] = true;\n            const idx = i * 4;\n            color255 *= 4;\n            lut[idx] = lut255[color255 + 0];\n            lut[idx + 1] = lut255[color255 + 1];\n            lut[idx + 2] = lut255[color255 + 2];\n            lut[idx + 3] = 255;\n          }\n        }\n      }\n      streamlineVisible.fill(-1);\n      for (let i = 0; i < this.groups.length; i++) {\n        if (!groupVisible[i]) {\n          continue;\n        }\n        for (let v = 0; v < this.groups[i].vals.length; v++) {\n          streamlineVisible[this.groups[i].vals[v]] = i;\n        }\n      }\n      for (let i = 0; i < n_count; i++) {\n        if (streamlineVisible[i] < 0) {\n          continue;\n        }\n        const color = streamlineVisible[i] % 256 * 4;\n        const RGBA = rgb2int32(lut[color], lut[color + 1], lut[color + 2]);\n        const vStart = offsetPt0[i];\n        const vEnd = offsetPt0[i + 1] - 1;\n        const vStart4 = vStart * 4 + 3;\n        const vEnd4 = vEnd * 4 + 3;\n        for (let j = vStart4; j <= vEnd4; j += 4) {\n          posClrU32[j] = RGBA;\n        }\n      }\n    } else if (dpv) {\n      const lut = cmapper.colormap(this.colormap, this.colormapInvert);\n      const mn = dpv.cal_min;\n      const mx = dpv.cal_max;\n      let v4 = 3;\n      for (let i = 0; i < npt; i++) {\n        let color = Math.min(Math.max((dpv.vals[i] - mn) / (mx - mn), 0), 1);\n        color = Math.round(Math.max(Math.min(255, color * 255))) * 4;\n        const RGBA = lut[color] + (lut[color + 1] << 8) + (lut[color + 2] << 16);\n        posClrU32[v4] = RGBA;\n        v4 += 4;\n      }\n    } else if (dps) {\n      const lut = cmapper.colormap(this.colormap, this.colormapInvert);\n      let mn = dps[0];\n      let mx = dps[0];\n      for (let i = 0; i < n_count; i++) {\n        mn = Math.min(mn, dps[i]);\n        mx = Math.max(mx, dps[i]);\n      }\n      if (mx === mn) {\n        mn -= 1;\n      }\n      for (let i = 0; i < n_count; i++) {\n        let color = (dps[i] - mn) / (mx - mn);\n        color = Math.round(Math.max(Math.min(255, color * 255))) * 4;\n        const RGBA = lut[color] + (lut[color + 1] << 8) + (lut[color + 2] << 16);\n        const vStart = offsetPt0[i];\n        const vEnd = offsetPt0[i + 1] - 1;\n        const vStart4 = vStart * 4 + 3;\n        const vEnd4 = vEnd * 4 + 3;\n        for (let j = vStart4; j <= vEnd4; j += 4) {\n          posClrU32[j] = RGBA;\n        }\n      }\n    } else if (fiberColor.includes(\"fixed\")) {\n      if (dither === 0) {\n        const RGBA = this.rgba255[0] + (this.rgba255[1] << 8) + (this.rgba255[2] << 16);\n        let v4 = 3;\n        for (let i = 0; i < npt; i++) {\n          posClrU32[v4] = RGBA;\n          v4 += 4;\n        }\n      } else {\n        for (let i = 0; i < n_count; i++) {\n          const RGBA = rgb2int32(this.rgba255[0], this.rgba255[1], this.rgba255[2]);\n          const vStart = offsetPt0[i];\n          const vEnd = offsetPt0[i + 1] - 1;\n          const vStart4 = vStart * 4 + 3;\n          const vEnd4 = vEnd * 4 + 3;\n          for (let j = vStart4; j <= vEnd4; j += 4) {\n            posClrU32[j] = RGBA;\n          }\n        }\n      }\n    } else if (fiberColor.includes(\"local\")) {\n      for (let i = 0; i < n_count; i++) {\n        const vStart = offsetPt0[i];\n        const vEnd = offsetPt0[i + 1] - 1;\n        let v3 = vStart * 3;\n        const vEnd3 = vEnd * 3;\n        const ditherFrac = dither * Math.random();\n        let RGBA = direction2rgb(pts[v3], pts[v3 + 1], pts[v3 + 2], pts[v3 + 4], pts[v3 + 5], pts[v3 + 6], ditherFrac);\n        let v4 = vStart * 4 + 3;\n        while (v3 < vEnd3) {\n          posClrU32[v4] = RGBA;\n          v4 += 4;\n          v3 += 3;\n          RGBA = direction2rgb(pts[v3 - 3], pts[v3 - 2], pts[v3 - 1], pts[v3 + 3], pts[v3 + 4], pts[v3 + 5], ditherFrac);\n        }\n        posClrU32[v4] = posClrU32[v4 - 4];\n      }\n    } else {\n      for (let i = 0; i < n_count; i++) {\n        const vStart = offsetPt0[i];\n        const vEnd = offsetPt0[i + 1] - 1;\n        const vStart3 = vStart * 3;\n        const vEnd3 = vEnd * 3;\n        const RGBA = direction2rgb(\n          pts[vStart3],\n          pts[vStart3 + 1],\n          pts[vStart3 + 2],\n          pts[vEnd3],\n          pts[vEnd3 + 1],\n          pts[vEnd3 + 2],\n          dither * Math.random()\n        );\n        const vStart4 = vStart * 4 + 3;\n        const vEnd4 = vEnd * 4 + 3;\n        for (let j = vStart4; j <= vEnd4; j += 4) {\n          posClrU32[j] = RGBA;\n        }\n      }\n    }\n    if (this.fiberOcclusion > 0) {\n      let shadeRGBA = function(rgba, frac) {\n        const r = frac * (rgba & 255);\n        const g = frac * (rgba >> 8 & 255);\n        const b = frac * (rgba >> 16 & 255);\n        return r + (g << 8) + (b << 16);\n      };\n      this.createFiberDensityMap();\n      for (let i = 0; i < n_count; i++) {\n        const vStart = offsetPt0[i];\n        const vEnd = offsetPt0[i + 1] - 1;\n        const vStart4 = vStart * 4 + 3;\n        const vEnd4 = vEnd * 4 + 3;\n        let vtx = vStart;\n        const bias = Math.min(this.fiberOcclusion, 0.99);\n        for (let j = vStart4; j <= vEnd4; j += 4) {\n          let shade = this.fiberDensity[vtx++];\n          if (shade <= 0) {\n            continue;\n          }\n          shade = shade / ((1 / bias - 2) * (1 - shade) + 1);\n          const frac = 1 - Math.min(shade, 0.9);\n          let RGBA = posClrU32[j];\n          RGBA = shadeRGBA(RGBA, frac);\n          posClrU32[j] = RGBA;\n        }\n      }\n    }\n    if (Number.isFinite(this.dpsThreshold) && this.dps) {\n      if (!dps) {\n        const n = 0;\n        if (this.dps[n].vals.length === n_count) {\n          dps = this.dps[n].vals;\n        }\n      }\n      if (dps) {\n        for (let i = 0; i < n_count; i++) {\n          if (dps[i] < this.dpsThreshold) {\n            streamlineVisible[i] = -1;\n          }\n        }\n      }\n    }\n    const min_mm = this.fiberLength;\n    const primitiveRestart = Math.pow(2, 32) - 1;\n    const indices = [];\n    let stride = -1;\n    for (let i = 0; i < n_count; i++) {\n      if (streamlineVisible[i] < 0) {\n        continue;\n      }\n      if (this.fiberLengths[i] < min_mm) {\n        continue;\n      }\n      stride++;\n      if (stride % this.fiberDecimationStride !== 0) {\n        continue;\n      }\n      for (let j = offsetPt0[i]; j < offsetPt0[i + 1]; j++) {\n        indices.push(j);\n      }\n      indices.push(primitiveRestart);\n    }\n    if (this.fiberSides > 2 && this.fiberRadius > 0) {\n      this.linesToCylinders(gl, posClrF32, indices);\n    } else {\n      this.indexCount = indices.length;\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, Uint32Array.from(posClrU32), gl.STATIC_DRAW);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, Uint32Array.from(indices), gl.STATIC_DRAW);\n    }\n  }\n  // updateFibers()\n  // given X,Y,Z coordinates in world space, return index of nearest vertex as well as\n  // the distance of this closest vertex to the coordinates\n  indexNearestXYZmm(Xmm, Ymm, Zmm) {\n    const pts = this.pts;\n    const nvtx = this.pts.length / 3;\n    let i = 0;\n    let mnDx = Infinity;\n    let mnIdx = 0;\n    for (let j = 0; j < nvtx; j++) {\n      const dx = Math.pow(pts[i] - Xmm, 2) + Math.pow(pts[i + 1] - Ymm, 2) + Math.pow(pts[i + 2] - Zmm, 2);\n      if (dx < mnDx) {\n        mnDx = dx;\n        mnIdx = j;\n      }\n      i += 3;\n    }\n    mnDx = Math.sqrt(mnDx);\n    return [mnIdx, mnDx];\n  }\n  // indexNearestXYZmm()\n  // internal function discards GPU resources\n  unloadMesh(gl) {\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n    gl.bindVertexArray(null);\n    gl.deleteBuffer(this.vertexBuffer);\n    gl.deleteBuffer(this.indexBuffer);\n    gl.deleteVertexArray(this.vao);\n    gl.deleteVertexArray(this.vaoFiber);\n    this.offsetPt0 = null;\n    this.tris = null;\n    this.pts = null;\n    if (this.layers && this.layers.length > 0) {\n      for (let i = 0; i < this.layers.length; i++) {\n        this.layers[i].values = null;\n      }\n    }\n    if (this.dpg && this.dpg.length > 0) {\n      for (let i = 0; i < this.dpg.length; i++) {\n        this.dpg[i].vals = null;\n      }\n    }\n    if (this.dps && this.dps.length > 0) {\n      for (let i = 0; i < this.dps.length; i++) {\n        this.dps[i].vals = null;\n      }\n    }\n  }\n  // apply color lookup table to convert scalar array to RGBA array\n  scalars2RGBA(rgba, layer, scalars, isNegativeCmap = false) {\n    const nValues = scalars.length;\n    if (4 * nValues < rgba.length) {\n      log.error(`colormap2RGBA incorrectly specified ${nValues}*4 != ${rgba.length}`);\n      return rgba;\n    }\n    const opa255 = Math.round(layer.opacity * 255);\n    let mn = layer.cal_min;\n    let mx = layer.cal_max;\n    let lut = cmapper.colormap(layer.colormap, this.colormapInvert);\n    let flip = 1;\n    if (isNegativeCmap) {\n      if (!layer.useNegativeCmap) {\n        return rgba;\n      }\n      flip = -1;\n      lut = cmapper.colormap(layer.colormapNegative, layer.colormapInvert);\n      mn = layer.cal_min;\n      mx = layer.cal_max;\n      if (isFinite(layer.cal_minNeg) && isFinite(layer.cal_minNeg)) {\n        mn = -layer.cal_minNeg;\n        mx = -layer.cal_maxNeg;\n      }\n    }\n    let mnCal = mn;\n    if (!layer.isTransparentBelowCalMin) {\n      mnCal = Number.NEGATIVE_INFINITY;\n    }\n    const isTranslucentBelowMin = layer.colormapType === 2 /* ZERO_TO_MAX_TRANSLUCENT_BELOW_MIN */;\n    if (layer.colormapType !== 0 /* MIN_TO_MAX */) {\n      mn = Math.min(mn, 0);\n    }\n    const scale255 = 255 / (mx - mn);\n    for (let j = 0; j < nValues; j++) {\n      let v = scalars[j] * flip;\n      if (isNaN(v)) {\n        continue;\n      }\n      let opa = opa255;\n      if (v < mnCal) {\n        if (v > 0 && isTranslucentBelowMin) {\n          opa = Math.round(layer.opacity * 255 * Math.pow(v / mnCal, 2));\n        } else {\n          continue;\n        }\n      }\n      v = (v - mn) * scale255;\n      if (v < 0 && layer.isTransparentBelowCalMin) {\n        continue;\n      }\n      v = Math.min(255, Math.max(0, Math.round(v))) * 4;\n      const idx = j * 4;\n      rgba[idx + 0] = lut[v + 0];\n      rgba[idx + 1] = lut[v + 1];\n      rgba[idx + 2] = lut[v + 2];\n      rgba[idx + 3] = opa;\n    }\n    return rgba;\n  }\n  blendColormap(u8, additiveRGBA, layer, mn, mx, lut, invert = false) {\n    const nvtx = this.pts.length / 3;\n    const opacity = Math.min(layer.opacity, 1);\n    function lerp(x, y, a) {\n      return x * (1 - a) + y * a;\n    }\n    function additiveBlend(x, y) {\n      return Math.min(x + y, 255);\n    }\n    const scaleFlip = invert ? -1 : 1;\n    const frame = Math.min(Math.max(layer.frame4D, 0), layer.nFrame4D - 1);\n    const frameOffset = nvtx * frame;\n    let mnCal = mn;\n    if (!layer.isTransparentBelowCalMin) {\n      mnCal = Number.NEGATIVE_INFINITY;\n    }\n    if (layer.colormapType !== 0 /* MIN_TO_MAX */) {\n      mn = Math.min(mn, 0);\n    }\n    const scale255 = 255 / (mx - mn);\n    let borders = new Array(nvtx).fill(false);\n    if (layer.outlineBorder !== 0) {\n      const v255s = new Uint8Array(nvtx).fill(0);\n      for (let j = 0; j < nvtx; j++) {\n        const v = scaleFlip * layer.values[j + frameOffset];\n        if (v >= mnCal) {\n          v255s[j] = 1;\n        }\n      }\n      borders = NVMeshUtilities.getClusterBoundaryU8(v255s, this.tris);\n      for (let j = 0; j < nvtx; j++) {\n        const v = scaleFlip * layer.values[j + frameOffset];\n        if (v < mnCal) {\n          borders[j] = false;\n        }\n      }\n    }\n    const alphas = new Float32Array(256).fill(opacity);\n    if (mnCal > mn && layer.colormapType === 2 /* ZERO_TO_MAX_TRANSLUCENT_BELOW_MIN */) {\n      let minOpaque = Math.round((mnCal - mn) * scale255);\n      minOpaque = Math.max(minOpaque, 1);\n      for (let j = 1; j < minOpaque; j++) {\n        alphas[j] = opacity * Math.pow(j / minOpaque, 2);\n      }\n      alphas[0] = 0;\n      mnCal = mn + Number.EPSILON;\n    }\n    for (let j = 0; j < nvtx; j++) {\n      const v = scaleFlip * layer.values[j + frameOffset];\n      if (v < mnCal) {\n        continue;\n      }\n      let v255 = Math.round((v - mn) * scale255);\n      if (v255 < 0 && layer.isTransparentBelowCalMin) {\n        continue;\n      }\n      v255 = Math.max(0, v255);\n      v255 = Math.min(255, v255);\n      let opa = alphas[v255];\n      v255 *= 4;\n      let vtx = j * 28 + 24;\n      if (this.f32PerVertex !== 7) {\n        vtx = j * 20 + 16;\n      }\n      if (layer.isAdditiveBlend) {\n        const j4 = j * 4;\n        additiveRGBA[j4 + 0] = additiveBlend(additiveRGBA[j4 + 0], lut[v255 + 0]);\n        additiveRGBA[j4 + 1] = additiveBlend(additiveRGBA[j4 + 1], lut[v255 + 1]);\n        additiveRGBA[j4 + 2] = additiveBlend(additiveRGBA[j4 + 2], lut[v255 + 2]);\n        additiveRGBA[j4 + 3] = additiveBlend(additiveRGBA[j4 + 3], 255);\n      } else {\n        if (borders[j]) {\n          opa = layer.outlineBorder;\n          if (layer.outlineBorder < 0) {\n            u8[vtx + 0] = 0;\n            u8[vtx + 1] = 0;\n            u8[vtx + 2] = 0;\n            continue;\n          }\n        }\n        u8[vtx + 0] = lerp(u8[vtx + 0], lut[v255 + 0], opa);\n        u8[vtx + 1] = lerp(u8[vtx + 1], lut[v255 + 1], opa);\n        u8[vtx + 2] = lerp(u8[vtx + 2], lut[v255 + 2], opa);\n      }\n    }\n  }\n  // blendColormap()\n  // internal function filters mesh to identify which color of triangulated mesh vertices\n  updateMesh(gl) {\n    if (this.offsetPt0) {\n      this.updateFibers(gl);\n      return;\n    }\n    if (this.hasConnectome) {\n      return;\n    }\n    if (!this.pts || !this.tris || !this.rgba255) {\n      log.warn(\"underspecified mesh\");\n      return;\n    }\n    function lerp(x, y, a) {\n      return x * (1 - a) + y * a;\n    }\n    const posNormClr = this.generatePosNormClr(this.pts, this.tris, this.rgba255);\n    const nvtx = this.pts.length / 3;\n    const u8 = new Uint8Array(posNormClr.buffer);\n    let maxAdditiveBlend = 0;\n    const additiveRGBA = new Uint8Array(nvtx * 4);\n    let tris = this.tris;\n    if (this.layers && this.layers.length > 0) {\n      for (let i = 0; i < this.layers.length; i++) {\n        const layer = this.layers[i];\n        const opacity = layer.opacity;\n        if (opacity <= 0 || layer.cal_min > layer.cal_max) {\n          continue;\n        }\n        if (layer.outlineBorder === void 0) {\n          layer.outlineBorder = 0;\n        }\n        if (layer.isAdditiveBlend === void 0) {\n          layer.isAdditiveBlend = false;\n        }\n        if (layer.colormapLabel && layer.colormapLabel.R && !layer.colormapLabel.lut) {\n          layer.colormapLabel = cmapper.makeLabelLut(layer.colormapLabel, 255, layer.global_max);\n        }\n        if (layer.colormapLabel && layer.colormapLabel.lut) {\n          const colormapLabel = layer.colormapLabel;\n          let minv = 0;\n          if (layer.colormapLabel.min) {\n            minv = layer.colormapLabel.min;\n          }\n          let lut2 = colormapLabel.lut;\n          const nLabel = Math.floor(lut2.length / 4);\n          if (layer.atlasValues && nLabel > 0 && nLabel === layer.atlasValues.length && layer.colormap) {\n            const atlasValues = layer.atlasValues;\n            let hasNaN = false;\n            let onlyNaN = true;\n            for (let j = 0; j < nLabel; j++) {\n              if (isNaN(atlasValues[j])) {\n                hasNaN = true;\n              } else {\n                onlyNaN = false;\n              }\n            }\n            if (onlyNaN) {\n              log.debug(`invisible mesh: all atlasValues are NaN.`);\n              return;\n            }\n            if (hasNaN) {\n              log.debug(`some vertices have NaN atlasValues (mesh will be decimated).`);\n              const nanVtxs = new Array(nvtx).fill(false);\n              for (let j = 0; j < nvtx; j++) {\n                const v = Math.round(layer.values[j]) - minv;\n                if (isNaN(atlasValues[v])) {\n                  nanVtxs[j] = true;\n                }\n              }\n              const nanIdxs = new Array(tris.length).fill(false);\n              for (let j = 0; j < tris.length; j++) {\n                if (nanVtxs[tris[j]]) {\n                  nanIdxs[j] = true;\n                }\n              }\n              const trisIn = this.tris;\n              let nTriOK = 0;\n              for (let j = 0; j < trisIn.length; j += 3) {\n                if (!nanIdxs[j] && !nanIdxs[j + 1] && !nanIdxs[j + 2]) {\n                  nTriOK++;\n                }\n              }\n              if (nTriOK === 0) {\n                log.debug(`invisible mesh: all triangles of a vertex with a NaN atlasValue.`);\n              }\n              tris = new Uint32Array(nTriOK * 3);\n              let k2 = 0;\n              for (let j = 0; j < trisIn.length; j += 3) {\n                if (!nanIdxs[j] && !nanIdxs[j + 1] && !nanIdxs[j + 2]) {\n                  tris[k2++] = trisIn[j];\n                  tris[k2++] = trisIn[j + 1];\n                  tris[k2++] = trisIn[j + 2];\n                }\n              }\n            }\n            lut2.fill(0);\n            lut2 = this.scalars2RGBA(lut2, layer, atlasValues);\n            if (layer.useNegativeCmap) {\n              lut2 = this.scalars2RGBA(lut2, layer, atlasValues, true);\n            }\n          } else if (layer.atlasValues) {\n            log.warn(`Expected ${nLabel} atlasValues but got ${layer.atlasValues.length} for mesh layer`);\n          }\n          if (layer.showLegend && nLabel === layer.colormapLabel.labels.length) {\n            layer.labels = [];\n            for (let j = 0; j < nLabel; j++) {\n              const rgba = Array.from(lut2.slice(j * 4, j * 4 + 4)).map((v) => v / 255);\n              const labelName = layer.colormapLabel.labels[j];\n              const xyzMM = [0, 0, 0];\n              let count = 0;\n              for (let i2 = 0; i2 < nvtx; i2++) {\n                if (layer.values[i2] === j) {\n                  const idx = i2 * 3;\n                  xyzMM[0] += this.pts[idx];\n                  xyzMM[1] += this.pts[idx + 1];\n                  xyzMM[2] += this.pts[idx + 2];\n                  count++;\n                }\n              }\n              if (count > 0) {\n                xyzMM[0] /= count;\n                xyzMM[1] /= count;\n                xyzMM[2] /= count;\n              }\n              if (rgba[3] === 0 || !labelName || // handles empty string, null, undefined\n              labelName.startsWith(\"_\")) {\n                continue;\n              }\n              rgba[3] = 1;\n              const label = new NVLabel3D(\n                labelName,\n                {\n                  textColor: rgba,\n                  bulletScale: 1,\n                  bulletColor: rgba,\n                  lineWidth: 0,\n                  lineColor: rgba,\n                  textScale: 1,\n                  textAlignment: \"left\" /* LEFT */,\n                  lineTerminator: \"none\" /* NONE */\n                },\n                xyzMM\n              );\n              layer.labels.push(label);\n              log.debug(\"label for mesh layer:\", label);\n            }\n          } else {\n            delete layer.labels;\n          }\n          const frame = Math.min(Math.max(layer.frame4D, 0), layer.nFrame4D - 1);\n          const frameOffset = nvtx * frame;\n          const rgba8 = new Uint8Array(nvtx * 4);\n          let k = 0;\n          for (let j = 0; j < nvtx; j++) {\n            const v = layer.values[j + frameOffset] - minv;\n            const idx = 4 * Math.min(Math.max(v, 0), nLabel - 1);\n            rgba8[k + 0] = lut2[idx + 0];\n            rgba8[k + 1] = lut2[idx + 1];\n            rgba8[k + 2] = lut2[idx + 2];\n            rgba8[k + 3] = Math.round(lut2[idx + 3] / 255 * layer.opacity * 255);\n            k += 4;\n          }\n          let opaque = new Array(nvtx).fill(false);\n          if (layer.outlineBorder !== 0) {\n            opaque = NVMeshUtilities.getClusterBoundary(rgba8, this.tris);\n          }\n          k = 0;\n          for (let j = 0; j < nvtx; j++) {\n            let vtx = j * 28 + 24;\n            if (this.f32PerVertex !== 7) {\n              vtx = j * 20 + 16;\n            }\n            let opa = rgba8[k + 3] / 255;\n            if (opaque[j]) {\n              opa = layer.outlineBorder;\n              if (layer.outlineBorder < 0) {\n                u8[vtx + 0] = 0;\n                u8[vtx + 1] = 0;\n                u8[vtx + 2] = 0;\n                k += 4;\n                continue;\n              }\n            }\n            u8[vtx + 0] = lerp(u8[vtx + 0], rgba8[k + 0], opa);\n            u8[vtx + 1] = lerp(u8[vtx + 1], rgba8[k + 1], opa);\n            u8[vtx + 2] = lerp(u8[vtx + 2], rgba8[k + 2], opa);\n            k += 4;\n          }\n          continue;\n        }\n        if (layer.values instanceof Uint8Array) {\n          const rgba8 = new Uint8Array(layer.values.buffer);\n          let opaque = new Array(nvtx).fill(true);\n          if (layer.outlineBorder !== 0) {\n            opaque = NVMeshUtilities.getClusterBoundary(rgba8, this.tris);\n          }\n          let k = 0;\n          for (let j = 0; j < layer.values.length; j++) {\n            let vtx = j * 28 + 24;\n            if (this.f32PerVertex !== 7) {\n              vtx = j * 20 + 16;\n            }\n            let opa = opacity;\n            if (opaque[j]) {\n              opa = layer.outlineBorder;\n              if (layer.outlineBorder < 0) {\n                u8[vtx + 0] = 0;\n                u8[vtx + 1] = 0;\n                u8[vtx + 2] = 0;\n                k += 4;\n                continue;\n              }\n            }\n            u8[vtx + 0] = lerp(u8[vtx + 0], rgba8[k + 0], opa);\n            u8[vtx + 1] = lerp(u8[vtx + 1], rgba8[k + 1], opa);\n            u8[vtx + 2] = lerp(u8[vtx + 2], rgba8[k + 2], opa);\n            k += 4;\n          }\n          continue;\n        }\n        if (layer.useNegativeCmap) {\n          layer.cal_min = Math.max(Number.EPSILON, layer.cal_min);\n          layer.cal_max = Math.max(layer.cal_min + 1e-6, layer.cal_max);\n        }\n        if (layer.isTransparentBelowCalMin === void 0) {\n          layer.isTransparentBelowCalMin = true;\n        }\n        const lut = cmapper.colormap(layer.colormap, layer.colormapInvert);\n        if (layer.isAdditiveBlend) {\n          maxAdditiveBlend++;\n        }\n        this.blendColormap(u8, additiveRGBA, layer, layer.cal_min, layer.cal_max, lut);\n        if (layer.useNegativeCmap) {\n          const neglut = cmapper.colormap(layer.colormapNegative, layer.colormapInvert);\n          let mn = layer.cal_min;\n          let mx = layer.cal_max;\n          if (isFinite(layer.cal_minNeg) && isFinite(layer.cal_minNeg)) {\n            mn = -layer.cal_minNeg;\n            mx = -layer.cal_maxNeg;\n          }\n          this.blendColormap(u8, additiveRGBA, layer, mn, mx, neglut, true);\n        }\n      }\n    }\n    if (maxAdditiveBlend > 0) {\n      for (let j = 0; j < nvtx; j++) {\n        let modulate = function(x, y) {\n          return Math.min(x * y * (1 / 255), 255);\n        };\n        let vtx = j * 28 + 24;\n        if (this.f32PerVertex !== 7) {\n          vtx = j * 20 + 16;\n        }\n        const v = j * 4;\n        const opacity = Math.min(maxAdditiveBlend, additiveRGBA[v + 3] / 255);\n        if (opacity <= 0) {\n          continue;\n        }\n        u8[vtx + 0] = modulate(u8[vtx + 0], additiveRGBA[v + 0]);\n        u8[vtx + 1] = modulate(u8[vtx + 1], additiveRGBA[v + 1]);\n        u8[vtx + 2] = modulate(u8[vtx + 2], additiveRGBA[v + 2]);\n        u8[vtx + 0] = lerp(u8[vtx + 0], additiveRGBA[v + 0], opacity);\n        u8[vtx + 1] = lerp(u8[vtx + 1], additiveRGBA[v + 1], opacity);\n        u8[vtx + 2] = lerp(u8[vtx + 2], additiveRGBA[v + 2], opacity);\n      }\n    }\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, Uint32Array.from(tris), gl.STATIC_DRAW);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, u8, gl.STATIC_DRAW);\n    this.indexCount = tris.length;\n    this.vertexCount = this.pts.length;\n  }\n  // updateMesh()\n  // internal function filters mesh to identify which color of triangulated mesh vertices\n  reverseFaces(gl) {\n    if (this.offsetPt0) {\n      return;\n    }\n    if (this.hasConnectome) {\n      return;\n    }\n    const tris = this.tris || [];\n    for (let j = 0; j < tris.length; j += 3) {\n      const tri = tris[j];\n      tris[j] = tris[j + 1];\n      tris[j + 1] = tri;\n    }\n    this.updateMesh(gl);\n  }\n  hierarchicalOrder() {\n    const V0 = 12;\n    const F0 = 20;\n    const nF = this.tris.length / 3;\n    const order = Math.log(nF / F0) / Math.log(4);\n    if (nF !== Math.pow(4, order) * F0) {\n      return NaN;\n    }\n    const nV = this.pts.length / 3;\n    if (nV !== Math.pow(4, order) * (V0 - 2) + 2) {\n      return NaN;\n    }\n    for (let i = 0; i < 15; i += 3) {\n      if (this.tris[i] !== 0) {\n        return NaN;\n      }\n    }\n    for (let i = 15; i < 24; i += 3) {\n      if (this.tris[i] !== 3) {\n        return NaN;\n      }\n    }\n    for (let i = 24; i < 30; i += 3) {\n      if (this.tris[i] !== 4) {\n        return NaN;\n      }\n    }\n    return order;\n  }\n  decimateFaces(n, ntarget) {\n    let fac = this.tris;\n    const V0 = 12;\n    const F0 = 20;\n    for (let j = n - 1; j >= ntarget; j--) {\n      const nVjprev = Math.pow(4, j + 1) * (V0 - 2) + 2;\n      const nVj = Math.pow(4, j) * (V0 - 2) + 2;\n      const nFjprev = fac.length / 3;\n      const nFj = Math.pow(4, j) * F0;\n      log.info(`order ${j + 1} -> ${j} vertices ${nVjprev} -> ${nVj} faces ${nFjprev} -> ${nFj}`);\n      const remap = Array.from({ length: nVjprev }, (_, i) => i + 1);\n      for (let i = 0; i < nFjprev; i++) {\n        const v1 = fac[3 * i];\n        const v2 = fac[3 * i + 1];\n        const v3 = fac[3 * i + 2];\n        remap[v1 - 1] = Math.min(remap[v1 - 1], v2, v3);\n      }\n      const facJ = new Uint32Array(nFj * 3);\n      for (let i = 0; i < nFj; i++) {\n        facJ[3 * i] = remap[fac[3 * i] - 1];\n        facJ[3 * i + 1] = remap[fac[3 * i + 1] - 1];\n        facJ[3 * i + 2] = remap[fac[3 * i + 2] - 1];\n      }\n      fac = facJ;\n    }\n    this.tris = new Uint32Array(fac);\n  }\n  // internal function simplifies FreeSurfer triangulated mesh and overlays\n  decimateHierarchicalMesh(gl, order = 4) {\n    const inputOrder = this.hierarchicalOrder();\n    if (isNaN(inputOrder)) {\n      log.warn(\"Unable to decimate mesh: it does not have a hierarchical structure\");\n      return false;\n    }\n    if (order >= inputOrder) {\n      log.warn(`Unable to decimate mesh: input order (${inputOrder}) must be larger than downsampled order (${order})`);\n      return false;\n    }\n    const inputVLength = this.pts.length / 3;\n    const V0 = 12;\n    const nV = Math.pow(4, order) * (V0 - 2) + 2;\n    this.pts = new Float32Array(this.pts.slice(0, nV * 3));\n    this.decimateFaces(inputOrder, order);\n    if (this.layers && this.layers.length > 0) {\n      for (let i = 0; i < this.layers.length; i++) {\n        const layer = this.layers[i];\n        if (layer.values instanceof Float32Array || layer.values.length !== inputVLength) {\n          layer.values = new Float32Array(layer.values.slice(0, nV));\n        } else {\n          log.warn(`decimation logic needs to be updated`);\n        }\n      }\n    }\n    this.updateMesh(gl);\n    return true;\n  }\n  // adjust attributes of a mesh layer. invoked by niivue.setMeshLayerProperty()\n  // TODO this method is a bit too generic\n  async setLayerProperty(id, key, val, gl) {\n    const layer = this.layers[id];\n    if (!layer || !(key in layer)) {\n      log.warn(\"mesh does not have property \", key, \" for layer \", layer);\n      return;\n    }\n    if (key === \"colormapLabel\") {\n      if (typeof val === \"object\") {\n        layer[key] = cmapper.makeLabelLut(val, 255, layer.global_max);\n      } else if (typeof val === \"string\") {\n        const cmap = await cmapper.makeLabelLutFromUrl(val);\n        layer[key] = cmap;\n        this.updateMesh(gl);\n        return;\n      } else {\n        log.error(\"colormapLabel requires a string or object\");\n      }\n    } else {\n      layer[key] = val;\n    }\n    this.updateMesh(gl);\n  }\n  // adjust mesh attributes. invoked by niivue.setMeshProperty(()\n  // TODO this method is too generic\n  setProperty(key, val, gl) {\n    if (!(key in this)) {\n      console.warn(\"Mesh does not have property:\", key, this);\n      return;\n    }\n    ;\n    this[key] = val;\n    this.updateMesh(gl);\n  }\n  // Each streamline vertex has color, normal and position attributes\n  // Interleaved Vertex Data https://developer.apple.com/library/archive/documentation/3DDrawing/Conceptual/OpenGLES_ProgrammingGuide/TechniquesforWorkingwithVertexData/TechniquesforWorkingwithVertexData.html\n  generatePosNormClr(pts, tris, rgba255) {\n    if (pts.length < 3 || rgba255.length < 4) {\n      log.error(\"Catastrophic failure generatePosNormClr()\");\n      log.debug(\"this\", this);\n      log.debug(\"pts\", pts);\n      log.debug(\"rgba\", rgba255);\n    }\n    const norms = NVMeshUtilities.generateNormals(pts, tris);\n    const npt = pts.length / 3;\n    const isPerVertexColors = npt === rgba255.length / 4;\n    const f32PerVertex = this.f32PerVertex;\n    const f32 = new Float32Array(npt * f32PerVertex);\n    const u8 = new Uint8Array(f32.buffer);\n    let p = 0;\n    let c = 0;\n    let f = 0;\n    let u = (f32PerVertex - 1) * 4;\n    for (let i = 0; i < npt; i++) {\n      f32[f + 0] = pts[p + 0];\n      f32[f + 1] = pts[p + 1];\n      f32[f + 2] = pts[p + 2];\n      if (f32PerVertex !== 7) {\n        u8[u - 4] = norms[p + 0] * 127;\n        u8[u - 3] = norms[p + 1] * 127;\n        u8[u - 2] = norms[p + 2] * 127;\n      } else {\n        f32[f + 3] = norms[p + 0];\n        f32[f + 4] = norms[p + 1];\n        f32[f + 5] = norms[p + 2];\n      }\n      u8[u] = rgba255[c + 0];\n      u8[u + 1] = rgba255[c + 1];\n      u8[u + 2] = rgba255[c + 2];\n      u8[u + 3] = rgba255[c + 3];\n      if (isPerVertexColors) {\n        c += 4;\n      }\n      p += 3;\n      f += f32PerVertex;\n      u += f32PerVertex * 4;\n    }\n    return f32;\n  }\n  // wrapper to read meshes, tractograms and connectomes regardless of format\n  static async readMesh(buffer, name, gl, opacity = 1, rgba255 = new Uint8Array([255, 255, 255, 255]), visible = true) {\n    let tris = new Uint32Array([]);\n    let pts = new Float32Array([]);\n    let anatomicalStructurePrimary = \"\";\n    let obj;\n    const re = /(?:\\.([^.]+))?$/;\n    let ext = re.exec(name)[1];\n    ext = ext.toUpperCase();\n    if (ext === \"GZ\") {\n      ext = re.exec(name.slice(0, -3))[1];\n      ext = ext.toUpperCase();\n    }\n    if (ext === \"JCON\") {\n      log.error(\"you should never see this message: load using nvconnectome not nvmesh\");\n    }\n    if (ext === \"JSON\") {\n      log.error(\"you should never see this message: load using nvconnectome not nvmesh\");\n    }\n    rgba255[3] = Math.max(1, rgba255[3]);\n    if (ext === \"TCK\" || ext === \"TRK\" || ext === \"TT\" || ext === \"TRX\" || ext === \"TRACT\") {\n      if (ext === \"TCK\") {\n        obj = NVMeshLoaders.readTCK(buffer);\n      } else if (ext === \"TRACT\") {\n        obj = NVMeshLoaders.readTRACT(buffer);\n      } else if (ext === \"TT\") {\n        obj = await NVMeshLoaders.readTT(buffer);\n      } else if (ext === \"TRX\") {\n        obj = await NVMeshLoaders.readTRX(buffer);\n      } else {\n        obj = await NVMeshLoaders.readTRK(buffer);\n      }\n      if (typeof obj === \"undefined\") {\n        const pts2 = new Float32Array([0, 0, 0, 0, 0, 0]);\n        const offsetPt0 = new Uint32Array([0]);\n        obj = { pts: pts2, offsetPt0 };\n        log.error(\"Creating empty tracts\");\n      }\n      rgba255[3] = 0;\n      return new _NVMesh(\n        obj.pts,\n        obj.offsetPt0,\n        name,\n        rgba255,\n        // colormap,\n        opacity,\n        // opacity,\n        visible,\n        // visible,\n        gl,\n        \"inferno\",\n        obj.dpg || null,\n        obj.dps || null,\n        obj.dpv || null,\n        obj.groups\n      );\n    }\n    if (ext === \"GII\") {\n      obj = await NVMeshLoaders.readGII(buffer);\n    } else if (ext === \"MZ3\") {\n      obj = await NVMeshLoaders.readMZ3(buffer);\n      if (!(\"positions\" in obj)) {\n        log.warn(\"MZ3 does not have positions (statistical overlay?)\");\n      }\n    } else if (ext === \"ASC\") {\n      obj = NVMeshLoaders.readASC(buffer);\n    } else if (ext === \"DFS\") {\n      obj = NVMeshLoaders.readDFS(buffer);\n    } else if (ext === \"BYU\" || ext === \"G\") {\n      obj = NVMeshLoaders.readGEO(buffer);\n    } else if (ext === \"GEO\") {\n      obj = NVMeshLoaders.readGEO(buffer, true);\n    } else if (ext === \"ICO\" || ext === \"TRI\") {\n      obj = NVMeshLoaders.readICO(buffer);\n    } else if (ext === \"OFF\") {\n      obj = NVMeshLoaders.readOFF(buffer);\n    } else if (ext === \"NV\") {\n      obj = NVMeshLoaders.readNV(buffer);\n    } else if (ext === \"OBJ\") {\n      obj = await NVMeshLoaders.readOBJ(buffer);\n    } else if (ext === \"PLY\") {\n      obj = NVMeshLoaders.readPLY(buffer);\n    } else if (ext === \"WRL\") {\n      obj = NVMeshLoaders.readWRL(buffer);\n    } else if (ext === \"X3D\") {\n      obj = NVMeshLoaders.readX3D(buffer);\n    } else if (ext === \"FIB\" || ext === \"VTK\") {\n      obj = NVMeshLoaders.readVTK(buffer);\n      if (\"offsetPt0\" in obj) {\n        rgba255[3] = 0;\n        return new _NVMesh(\n          obj.pts,\n          obj.offsetPt0,\n          name,\n          rgba255,\n          // colormap,\n          opacity,\n          // opacity,\n          visible,\n          // visible,\n          gl,\n          \"inferno\"\n        );\n      }\n    } else if (ext === \"SRF\") {\n      obj = await NVMeshLoaders.readSRF(buffer);\n    } else if (ext === \"STL\") {\n      obj = NVMeshLoaders.readSTL(buffer);\n    } else {\n      obj = NVMeshLoaders.readFreeSurfer(buffer);\n    }\n    if (obj.anatomicalStructurePrimary) {\n      anatomicalStructurePrimary = obj.anatomicalStructurePrimary;\n    }\n    if (obj instanceof Float32Array) {\n      throw new Error(\"fatal: unknown mesh type loaded\");\n    }\n    if (!(\"positions\" in obj)) {\n      throw new Error(\"positions not loaded\");\n    }\n    if (!obj.indices) {\n      throw new Error(\"indices not loaded\");\n    }\n    pts = obj.positions;\n    tris = obj.indices;\n    if (\"rgba255\" in obj && obj.rgba255.length > 0) {\n      rgba255 = obj.rgba255;\n    }\n    if (\"colors\" in obj && obj.colors && obj.colors.length === pts.length) {\n      const n = pts.length / 3;\n      rgba255 = new Uint8Array(n * 4);\n      let c = 0;\n      let k = 0;\n      for (let i = 0; i < n; i++) {\n        rgba255[k++] = obj.colors[c] * 255;\n        rgba255[k++] = obj.colors[c + 1] * 255;\n        rgba255[k++] = obj.colors[c + 2] * 255;\n        rgba255[k++] = 255;\n        c += 3;\n      }\n    }\n    const npt = pts.length / 3;\n    const ntri = tris.length / 3;\n    if (ntri < 1 || npt < 3) {\n      throw new Error(\"Mesh should have at least one triangle and three vertices\");\n    }\n    rgba255[3] = Math.max(1, rgba255[3]);\n    const nvm = new _NVMesh(\n      pts,\n      tris,\n      name,\n      rgba255,\n      // colormap,\n      opacity,\n      // opacity,\n      visible,\n      // visible,\n      gl,\n      null,\n      // connectome\n      null,\n      // dpg\n      null,\n      // dps\n      null,\n      // dpv\n      null,\n      // groups\n      true,\n      // colorbarVisible\n      anatomicalStructurePrimary\n    );\n    if (\"scalars\" in obj && obj.scalars.length > 0) {\n      const newLayer = await NVMeshLoaders.readLayer(name, buffer, nvm, opacity, \"gray\");\n      if (typeof newLayer === \"undefined\") {\n        log.warn(\"readLayer() failed to convert scalars\");\n      } else {\n        nvm.layers.push(newLayer);\n        nvm.updateMesh(gl);\n      }\n    }\n    return nvm;\n  }\n  static async loadLayer(layer, nvmesh) {\n    let buffer = new Uint8Array().buffer;\n    function base64ToArrayBuffer(base64) {\n      const binary_string = window.atob(base64);\n      const len = binary_string.length;\n      const bytes = new Uint8Array(len);\n      for (let i = 0; i < len; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n      }\n      return bytes.buffer;\n    }\n    if (layer.base64 !== void 0) {\n      buffer = base64ToArrayBuffer(layer.base64);\n    } else {\n      if (!layer.url) {\n        throw new Error(\"layer: missing url\");\n      }\n      const response = await fetch(layer.url, { headers: layer.headers });\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      buffer = await response.arrayBuffer();\n    }\n    let layerName;\n    let urlParts = [];\n    if (layer.name && layer.name !== \"\") {\n      layerName = layer.name;\n    } else {\n      if (!layer.url) {\n        throw new Error(\"layer: missing url\");\n      }\n      try {\n        urlParts = new URL(layer.url).pathname.split(\"/\");\n      } catch (e) {\n        urlParts = layer.url.split(\"/\");\n      } finally {\n        layerName = urlParts.slice(-1)[0];\n      }\n    }\n    if (layerName.indexOf(\"?\") > -1) {\n      layerName = layerName.slice(0, layerName.indexOf(\"?\"));\n    }\n    let opacity = 0.5;\n    if (\"opacity\" in layer) {\n      opacity = layer.opacity;\n    }\n    let colormap = \"warm\";\n    if (\"colormap\" in layer) {\n      colormap = layer.colormap;\n    }\n    let colormapNegative = \"winter\";\n    if (\"colormapNegative\" in layer) {\n      colormapNegative = layer.colormapNegative;\n    }\n    let useNegativeCmap = false;\n    if (\"useNegativeCmap\" in layer) {\n      useNegativeCmap = layer.useNegativeCmap;\n    }\n    let cal_min = null;\n    if (\"cal_min\" in layer) {\n      cal_min = layer.cal_min;\n    }\n    let cal_max = null;\n    if (\"cal_max\" in layer) {\n      cal_max = layer.cal_max;\n    }\n    const newLayer = await NVMeshLoaders.readLayer(\n      layerName,\n      buffer,\n      nvmesh,\n      opacity,\n      colormap,\n      colormapNegative,\n      useNegativeCmap,\n      cal_min,\n      cal_max\n    );\n    if (newLayer) {\n      nvmesh.layers.push(newLayer);\n    }\n  }\n  /**\n   * factory function to load and return a new NVMesh instance from a given URL\n   */\n  static async loadFromUrl({\n    url = \"\",\n    headers = {},\n    gl,\n    name = \"\",\n    opacity = 1,\n    rgba255 = [255, 255, 255, 255],\n    visible = true,\n    layers = [],\n    buffer = new ArrayBuffer(0)\n  } = {}) {\n    let urlParts = url.split(\"/\");\n    if (name === \"\") {\n      try {\n        urlParts = new URL(url).pathname.split(\"/\");\n      } catch (e) {\n        urlParts = url.split(\"/\");\n      }\n      name = urlParts.slice(-1)[0];\n      if (name.indexOf(\"?\") > -1) {\n        name = name.slice(0, name.indexOf(\"?\"));\n      }\n    }\n    if (url === \"\") {\n      throw Error(\"url must not be empty\");\n    }\n    if (!gl) {\n      throw Error(\"gl context is null\");\n    }\n    let buff;\n    if (buffer.byteLength > 0) {\n      buff = buffer;\n    } else {\n      const response = await fetch(url, { headers });\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      buff = await response.arrayBuffer();\n    }\n    const nvmesh = await this.readMesh(buff, name, gl, opacity, new Uint8Array(rgba255), visible);\n    if (!layers || layers.length < 1) {\n      return nvmesh;\n    }\n    for (let i = 0; i < layers.length; i++) {\n      await _NVMesh.loadLayer(layers[i], nvmesh);\n    }\n    nvmesh.updateMesh(gl);\n    return nvmesh;\n  }\n  // not included in public docs\n  // loading Nifti files\n  static async readFileAsync(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = reject;\n      reader.readAsArrayBuffer(file);\n    });\n  }\n  /**\n   * factory function to load and return a new NVMesh instance from a file in the browser\n   *\n   * @returns NVMesh instance\n   */\n  static async loadFromFile({\n    file,\n    gl,\n    name = \"\",\n    opacity = 1,\n    rgba255 = [255, 255, 255, 255],\n    visible = true,\n    layers = []\n  } = {}) {\n    if (!file) {\n      throw new Error(\"file must be set\");\n    }\n    if (!gl) {\n      throw new Error(\"rendering context must be set\");\n    }\n    const buffer = await _NVMesh.readFileAsync(file);\n    const nvmesh = await _NVMesh.readMesh(buffer, name, gl, opacity, new Uint8Array(rgba255), visible);\n    if (!layers || layers.length < 1) {\n      return nvmesh;\n    }\n    for (let i = 0; i < layers.length; i++) {\n      await _NVMesh.loadLayer(layers[i], nvmesh);\n    }\n    nvmesh.updateMesh(gl);\n    return nvmesh;\n  }\n  /**\n   * load and return a new NVMesh instance from a base64 encoded string\n   */\n  async loadFromBase64({\n    base64,\n    gl,\n    name = \"\",\n    opacity = 1,\n    rgba255 = [255, 255, 255, 255],\n    visible = true,\n    layers = []\n  } = {}) {\n    if (!base64) {\n      throw new Error(\"base64 must bet set\");\n    }\n    if (!gl) {\n      throw new Error(\"rendering context must be set\");\n    }\n    function base64ToArrayBuffer(base642) {\n      const binary_string = window.atob(base642);\n      const len = binary_string.length;\n      const bytes = new Uint8Array(len);\n      for (let i = 0; i < len; i++) {\n        bytes[i] = binary_string.charCodeAt(i);\n      }\n      return bytes.buffer;\n    }\n    const buffer = base64ToArrayBuffer(base64);\n    const nvmesh = await _NVMesh.readMesh(buffer, name, gl, opacity, new Uint8Array(rgba255), visible);\n    if (!layers || layers.length < 1) {\n      return nvmesh;\n    }\n    for (let i = 0; i < layers.length; i++) {\n      await _NVMesh.loadLayer(layers[i], nvmesh);\n    }\n    nvmesh.updateMesh(gl);\n    return nvmesh;\n  }\n};\n\n// src/matcaps/Shiny.jpg\nvar Shiny_default = \"data:image/jpeg;base64,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ZwAAAAAAAAALY3JvcFJlY3RUb3Bsb25nAAAAAAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQABOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+AAAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgAAOEJJTQQCAAAAAAACAAA4QklNBDAAAAAAAAEBADhCSU0ELQAAAAAABgABAAAAMjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAAM9AAAABgAAAAAAAAAAAAACAAAAAgAAAAAEAG0AYwA2ADEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAIAAAAAAFJnaHRsb25nAAACAAAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAASAAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxFU2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAAAEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAACAAAAAABSZ2h0bG9uZwAAAgAAAAADdXJsVEVYVAAAAAEAAAAAAABudWxsVEVYVAAAAAEAAAAAAABNc2dlVEVYVAAAAAEAAAAAAAZhbHRUYWdURVhUAAAAAQAAAAAADmNlbGxUZXh0SXNIVE1MYm9vbAEAAAAIY2VsbFRleHRURVhUAAAAAQAAAAAACWhvcnpBbGlnbmVudW0AAAAPRVNsaWNlSG9yekFsaWduAAAAB2RlZmF1bHQAAAAJdmVydEFsaWduZW51bQAAAA9FU2xpY2VWZXJ0QWxpZ24AAAAHZGVmYXVsdAAAAAtiZ0NvbG9yVHlwZWVudW0AAAARRVNsaWNlQkdDb2xvclR5cGUAAAAATm9uZQAAAAl0b3BPdXRzZXRsb25nAAAAAAAAAApsZWZ0T3V0c2V0bG9uZwAAAAAAAAAMYm90dG9tT3V0c2V0bG9uZwAAAAAAAAALcmlnaHRPdXRzZXRsb25nAAAAAAA4QklNBCgAAAAAAAwAAAACP/AAAAAAAAA4QklNBBQAAAAAAAQAAAAyOEJJTQQMAAAAAAmrAAAAAQAAAKAAAACgAAAB4AABLAAAAAmPABgAAf/Y/+0ADEFkb2JlX0NNAAH/7gAOQWRvYmUAZIAAAAAB/9sAhAAMCAgICQgMCQkMEQsKCxEVDwwMDxUYExMVExMYEQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQ0LCw0ODRAODhAUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCACgAKADASIAAhEBAxEB/90ABAAK/8QBPwAAAQUBAQEBAQEAAAAAAAAAAwABAgQFBgcICQoLAQABBQEBAQEBAQAAAAAAAAABAAIDBAUGBwgJCgsQAAEEAQMCBAIFBwYIBQMMMwEAAhEDBCESMQVBUWETInGBMgYUkaGxQiMkFVLBYjM0coLRQwclklPw4fFjczUWorKDJkSTVGRFwqN0NhfSVeJl8rOEw9N14/NGJ5SkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2N0dXZ3eHl6e3x9fn9xEAAgIBAgQEAwQFBgcHBgU1AQACEQMhMRIEQVFhcSITBTKBkRShsUIjwVLR8DMkYuFygpJDUxVjczTxJQYWorKDByY1wtJEk1SjF2RFVTZ0ZeLys4TD03Xj80aUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9ic3R1dnd4eXp7fH/9oADAMBAAIRAxEAPwDQUSpKJUi1gU0JykAkpdrUQMVnp/TMrOftob7R9J50aPiV0VXSel9MqFuWfWs7buCf5FX539tApedxum5eUYoqc8eIGn+efZ/0lqVfVZ4bvyrmUt79/v8A5tv/AEkfI67e/wBmM0UVjQHQuj/qGrPssfa7da42O8XGfyoJbL+ndBoaf0r8iwdmAR/nbdv/AE1VdVjz7Kw0eB1/gEpTohVMDRUeWN+4KDsPHdzW35CPyI8J4RQ59nTKj9Alv4hVbcC9nA3jy5+5bUJiyUUPPFpBg6HwUYW3fiV2D3DXse6zcjEfVqPc3x7hJDXCcFMkkpkCpShypApKf//Q0VEhSShSLUZC0+i9Ft6i/wBV814rTDn93Ectr/8AJofR+lu6nkO3EtwqD+ns4k8+ix3/AFf7n/batdV66Lh9j6f+iwqxsBZpvA09v7tP/nxAlIDp5XWcTBZ9k6c1p2aFw+gD/wCjHrFtybb7DZa4vce5VNrkVpQXUmBUwoNRAkpcBSATBSCKlwE4CQUgihaEoUoSRQwLUN9QKPCYhJDjZeFEvrHxaqMLonslZediRNrB/WH8UlNFOEyeElP/0dJRc2222rFoE35DgxnlP5xUpAEkwBqT5Kth9U+yZF2a0TkbCzGB4aXe02f2K08rQ7HWs6nBxm9B6e79HUIy7Ry5x9zq5/l/Tv8A+2VjsdKpteXElxLnEyXHkk8uKs1lNteA2q1YYq1asMKSU7URqE0ojUVJApBRCkEUMgpBRCkEULpIlVT7XBrBJPZHt6dk1M3uboOY1hFDUTKREJkkMCEGxkhHKg4JKcTJo9KzT6LuELatTKqD2nx5CpBiBU//0rOfb6ePtHNhj5DVyyDZJVrq1v6YM7MaPvPuWe06pSOqYhuVFXKiqNJVuooBc3WFHYVVrKOwpymy0orSq7CjNKSEwUwhNKmCnBBSBOFAFSBRQ63RdhfYSfeAIHl3WsuWrscxwc0lpHBGisHqOUW7TYYQMb6oZdSbU3KeK4jSQOJ/OVRIunlNKcpSi5PKiUkIrBIVF7YcQr71TvEOlAqf/9Ojnv35Vn9Yj7vag7S1Sd+kyyPF5/EqzlUGsDRRzl6qZYR9No6irdblRYYKtVu4Tggt1jkdjlTY5WGOTkNtjkZrlVY5Fa5FDZa5TBQGuUw5OCE4KeUIOThyKEsp9yFuT7kkJJTSoSlKKmcpiVGUiUkMXFVcn6JPgrDiq2QfYfggp//UzqoGeJ7Wwf8AOXQ9aww1jXtGkALncsGrqFwHZ5I+Z3hdhe5uZ09rhqXs3D48qnzJMckD0sgt3lQJ45x60CHkXDa6EVj1PLpg7h31VdpgqeErDBKNFu1uVhjlRY9WGPUgWNxjkZrlUY9Ga5OCG01yIHKs1yI1yKGwHJw5BDlIOTkJdyfchbk+5JCWUpQ9yfckpnKRcoSmLkUKc5Vr3e0ornKta6XBviQgp//Vp9br9PNbZ2tYD82+x3/fVp9HzycUVOP83oELrdHq4fqge6g7v7J9r/8AvqysHINb4nR35VFzOPiH4s3LZTA2PJ2MhjXBzR2OnwOoWZawtcrZyeD8j8EG1wcooWGadSQtdCOx6qnQqbXqcFgIbzHo7Xqix6Ox6eFhbjXojXqq16K16cENkOUg5AD1IORQnDk+5BDlLcipLuT7kLcn3JISbkxch71Fz0lLvegNO67yaCfv0TWWQFHHPsLzy86fAaBJD//W0CGuBa4S1wIcPEHQrl8mh2JkvodrsPtPi0/Qd/mrpZVDq+J9opFtYm2kHQcuZy5v9Zn02J842ERNFzGXEjXlTFnZU2uj+BUw9VuFsCTYLpTA6oYJKkCnAIJbDHI7Hqm1yKx6eFhbjXorXqo16K16eFraD0QPVUPUw5FDaDlIOVcPUg9FSbclvQt6i58JISl6G+xCdaq92QACSUlJLHmxwradXd/AfnFWAQAANANAFXxa3BptePe/geDew/tIySCX/9e1KUnkdkyZSrHI6pgekTkVD9C4zY0fmOP53/FP/wDA1QbIOq6byOoOhB1ELJzemGqbccF1XLqxqWf1f3q/+oTJw6hfGXQtMFTCE3TUahTBTKX2zCm0oYcFIEJKTNeiNsVcKQcnBDba9ED1TD1MWIobgenD1UFqf1UUNr1FCy1VnXwq92UBolaGxZkAd1PDode4X2j9ENWNP5x/e/qNQ8PAfcRdkgivltZ0Lv637rFqgf7AlSCtCUKYCeEUP//QsJJJlMsUpN0MhRUggpq5XS6rybKiKbTz+47+s0fR/rNWXdj247tt7DWTw7lp/qvXQhOQHNLXAOaeWkSD8imkLgXm9vdOAte3pWM6TUTQfBurf8x3/klVf0vLb9HZaP5J2n/Nf/5JN4V3E1AnRHY2Sz6VNg/skj/o7lAtcOWuHxaR/BKlWpLckGvPDSfgCpNxcl30an/5pH/VQiq2JeoOtKts6Xkv+ntYPMyfuarNXSsdmtk2nz0H+aEaK2w5VdeRkO21NLvE9h/WctHE6bVSQ+2LbRqP3QfIfnf2le2taA1oAaOANAmRAQSyCkFAKYRQyCdRlPKSn//ZADhCSU0EIQAAAAAAUwAAAAEBAAAADwBBAGQAbwBiAGUAIABQAGgAbwB0AG8AcwBoAG8AcAAAABIAQQBkAG8AYgBlACAAUABoAG8AdABvAHMAaABvAHAAIABDAEMAAAABADhCSU0EBgAAAAAABwAGAAAAAQEA/+ESK2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMDctMTJUMjA6MDc6NDcrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0OGNjMGI3YS1iYTJkLWZmNDAtYmNkNC1jNGQzMzIyZjBiNzQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYzFjM2NhNS1hYTg4LWI5NGMtOGE4MS05YmU4MjA3ZGZiODciPiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6YThjMGNhZTYtODNjYy1hYzQ4LWI2YzAtN2FiODNlOWJkMGM3PC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWMxYzNjYTUtYWE4OC1iOTRjLThhODEtOWJlODIwN2RmYjg3IiBzdEV2dDp3aGVuPSIyMDE4LTA3LTEyVDIwOjA3OjQ3KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjYmI3MzZlZC0zOTRhLTM2NDgtYThiOC02Mzk1MmY0NDcxMjIiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTY6MTM6NTgrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RFdnQ6d2hlbj0iMjAxOC0wNy0xM1QxNzo1NDoyNyswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9qcGVnIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTc6NTQ6MjcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg3NjM1NDk5LWZiMTItYWU0MC04NWEzLThkMWFiN2NkZGVhOSIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmFjMWMzY2E1LWFhODgtYjk0Yy04YTgxLTliZTgyMDdkZmI4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+/+IMWElDQ19QUk9GSUxFAAEBAAAMSExpbm8CEAAAbW50clJHQiBYWVogB84AAgAJAAYAMQAAYWNzcE1TRlQAAAAASUVDIHNSR0IAAAAAAAAAAAAAAAEAAPbWAAEAAAAA0y1IUCAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARY3BydAAAAVAAAAAzZGVzYwAAAYQAAABsd3RwdAAAAfAAAAAUYmtwdAAAAgQAAAAUclhZWgAAAhgAAAAUZ1hZWgAAAiwAAAAUYlhZWgAAAkAAAAAUZG1uZAAAAlQAAABwZG1kZAAAAsQAAACIdnVlZAAAA0wAAACGdmlldwAAA9QAAAAkbHVtaQAAA/gAAAAUbWVhcwAABAwAAAAkdGVjaAAABDAAAAAMclRSQwAABDwAAAgMZ1RSQwAABDwAAAgMYlRSQwAABDwAAAgMdGV4dAAAAABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1Q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\";\n\n// src/fonts/Roboto-Regular.png\nvar Roboto_Regular_default = \"data:image/png;base64,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\";\n\n// src/fonts/Roboto-Regular.json\nvar Roboto_Regular_default2 = {\n  atlas: {\n    type: \"msdf\",\n    distanceRange: 2,\n    size: 59.65625,\n    width: 512,\n    height: 256,\n    yOrigin: \"bottom\"\n  },\n  metrics: {\n    emSize: 1,\n    lineHeight: 1.171875,\n    ascender: 0.927734375,\n    descender: -0.244140625,\n    underlineY: -0.09765625,\n    underlineThickness: 0.048828125\n  },\n  glyphs: [\n    { unicode: 32, advance: 0.24755859375 },\n    {\n      unicode: 33,\n      advance: 0.25732421875,\n      planeBounds: {\n        left: 0.056159633438645884,\n        bottom: -0.02437761405677056,\n        right: 0.20702396031135412,\n        top: 0.7299440203067705\n      },\n      atlasBounds: {\n        left: 488.5,\n        bottom: 145.5,\n        right: 497.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 34,\n      advance: 0.31982421875,\n      planeBounds: {\n        left: 0.049409125974004715,\n        bottom: 0.48691155587022,\n        right: 0.2840869677759953,\n        top: 0.77187750662978\n      },\n      atlasBounds: {\n        left: 486.5,\n        bottom: 213.5,\n        right: 500.5,\n        top: 230.5\n      }\n    },\n    {\n      unicode: 35,\n      advance: 0.61572265625,\n      planeBounds: {\n        left: 0.037219103997511785,\n        bottom: -0.02169206718177056,\n        right: 0.6239137085024882,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 66.5,\n        bottom: 51.5,\n        right: 101.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 36,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.02956531458715296,\n        bottom: -0.12381369908983761,\n        right: 0.5324464041628472,\n        top: 0.8484230740898377\n      },\n      atlasBounds: {\n        left: 109.5,\n        bottom: 197.5,\n        right: 139.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 37,\n      advance: 0.732421875,\n      planeBounds: {\n        left: 0.026481776289942378,\n        bottom: -0.030073418674698794,\n        right: 0.7137525987100576,\n        top: 0.7410109186746989\n      },\n      atlasBounds: {\n        left: 88.5,\n        bottom: 144.5,\n        right: 129.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 38,\n      advance: 0.62158203125,\n      planeBounds: {\n        left: 0.03225572125458355,\n        bottom: -0.030073418674698794,\n        right: 0.6357130287454166,\n        top: 0.7410109186746989\n      },\n      atlasBounds: {\n        left: 130.5,\n        bottom: 144.5,\n        right: 166.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 39,\n      advance: 0.17431640625,\n      planeBounds: {\n        left: 0.028244602049502358,\n        bottom: 0.49895501673814824,\n        right: 0.14558352295049765,\n        top: 0.7671582645118518\n      },\n      atlasBounds: {\n        left: 498.5,\n        bottom: 62.5,\n        right: 505.5,\n        top: 78.5\n      }\n    },\n    {\n      unicode: 40,\n      advance: 0.341796875,\n      planeBounds: {\n        left: 0.042983329377291775,\n        bottom: -0.250029542422407,\n        right: 0.34471198312270823,\n        top: 0.8227834486724072\n      },\n      atlasBounds: {\n        left: 0.5,\n        bottom: 191.5,\n        right: 18.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 41,\n      advance: 0.34765625,\n      planeBounds: {\n        left: -0.003159248747708225,\n        bottom: -0.250029542422407,\n        right: 0.29856940499770823,\n        top: 0.8227834486724072\n      },\n      atlasBounds: {\n        left: 19.5,\n        bottom: 191.5,\n        right: 37.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 42,\n      advance: 0.4306640625,\n      planeBounds: {\n        left: -0.011208599684062338,\n        bottom: 0.27785390031593765,\n        right: 0.44138438093406235,\n        top: 0.7304468809340623\n      },\n      atlasBounds: {\n        left: 449.5,\n        bottom: 23.5,\n        right: 476.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 43,\n      advance: 0.56689453125,\n      planeBounds: {\n        left: 0.01353503347629649,\n        bottom: 0.053493525733368255,\n        right: 0.5499415290237036,\n        top: 0.6066627242666317\n      },\n      atlasBounds: {\n        left: 361.5,\n        bottom: 17.5,\n        right: 393.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 44,\n      advance: 0.1962890625,\n      planeBounds: {\n        left: -0.009919475797210583,\n        bottom: -0.15981695975478,\n        right: 0.1744702570472106,\n        top: 0.12514899100478\n      },\n      atlasBounds: {\n        left: 498.5,\n        bottom: 79.5,\n        right: 509.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 45,\n      advance: 0.27587890625,\n      planeBounds: {\n        left: -0.00527594412977999,\n        bottom: 0.24333249267450235,\n        right: 0.27969000662978,\n        top: 0.36067141357549765\n      },\n      atlasBounds: { left: 52.5, bottom: 7.5, right: 69.5, top: 14.5 }\n    },\n    {\n      unicode: 46,\n      advance: 0.26318359375,\n      planeBounds: {\n        left: 0.051032680313645884,\n        bottom: -0.027092319686354116,\n        right: 0.20189700718635412,\n        top: 0.12377200718635412\n      },\n      atlasBounds: {\n        left: 501.5,\n        bottom: 221.5,\n        right: 510.5,\n        top: 230.5\n      }\n    },\n    {\n      unicode: 47,\n      advance: 0.412109375,\n      planeBounds: {\n        left: -0.013733006073205867,\n        bottom: -0.08573505127848349,\n        right: 0.4053345685732059,\n        top: 0.7356373950284835\n      },\n      atlasBounds: {\n        left: 252.5,\n        bottom: 206.5,\n        right: 277.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 48,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.037458384830081196,\n        bottom: -0.030073418674698794,\n        right: 0.5235767714199189,\n        top: 0.7410109186746989\n      },\n      atlasBounds: {\n        left: 167.5,\n        bottom: 144.5,\n        right: 196.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 49,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.06023674350936354,\n        bottom: -0.01998308280677056,\n        right: 0.37872810024063647,\n        top: 0.7343385515567705\n      },\n      atlasBounds: {\n        left: 488.5,\n        bottom: 97.5,\n        right: 507.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 50,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.025334353719224725,\n        bottom: -0.01680925468177056,\n        right: 0.5449781462807752,\n        top: 0.7375123796817705\n      },\n      atlasBounds: {\n        left: 278.5,\n        bottom: 51.5,\n        right: 309.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 51,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.028181041080081196,\n        bottom: -0.030073418674698794,\n        right: 0.5142994276699189,\n        top: 0.7410109186746989\n      },\n      atlasBounds: {\n        left: 197.5,\n        bottom: 144.5,\n        right: 226.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 52,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.005886103858368255,\n        bottom: -0.02169206718177056,\n        right: 0.5590553023916317,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 310.5,\n        bottom: 51.5,\n        right: 343.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 53,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.055524791080081196,\n        bottom: -0.02657487968177056,\n        right: 0.5416431776699189,\n        top: 0.7277467546817705\n      },\n      atlasBounds: {\n        left: 344.5,\n        bottom: 51.5,\n        right: 373.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 54,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.046003306705081196,\n        bottom: -0.034712090549698794,\n        right: 0.5321216932949189,\n        top: 0.7363722467996989\n      },\n      atlasBounds: {\n        left: 227.5,\n        bottom: 144.5,\n        right: 256.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 55,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.018010134969224725,\n        bottom: -0.02169206718177056,\n        right: 0.5376539275307752,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 374.5,\n        bottom: 51.5,\n        right: 405.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 56,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.037702525455081196,\n        bottom: -0.030073418674698794,\n        right: 0.5238209120449189,\n        top: 0.7410109186746989\n      },\n      atlasBounds: {\n        left: 257.5,\n        bottom: 144.5,\n        right: 286.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 57,\n      advance: 0.5615234375,\n      planeBounds: {\n        left: 0.029401744205081196,\n        bottom: -0.025434746799698794,\n        right: 0.5155201307949189,\n        top: 0.7456495905496989\n      },\n      atlasBounds: {\n        left: 287.5,\n        bottom: 144.5,\n        right: 316.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 58,\n      advance: 0.2421875,\n      planeBounds: {\n        left: 0.046394008438645884,\n        bottom: -0.029431286627488215,\n        right: 0.19725833531135412,\n        top: 0.5572633178774882\n      },\n      atlasBounds: {\n        left: 439.5,\n        bottom: 61.5,\n        right: 448.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 59,\n      advance: 0.21142578125,\n      planeBounds: {\n        left: 0.001066852327789419,\n        bottom: -0.16459733294591408,\n        right: 0.1854565851722106,\n        top: 0.556198895445914\n      },\n      atlasBounds: {\n        left: 406.5,\n        bottom: 53.5,\n        right: 417.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 60,\n      advance: 0.50830078125,\n      planeBounds: {\n        left: 0.016948142433865897,\n        bottom: 0.0726146348300812,\n        right: 0.4527784200661341,\n        top: 0.5587330214199189\n      },\n      atlasBounds: {\n        left: 394.5,\n        bottom: 21.5,\n        right: 420.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 61,\n      advance: 0.548828125,\n      planeBounds: {\n        left: 0.051535540940937666,\n        bottom: 0.17620354038436353,\n        right: 0.5041285215590624,\n        top: 0.49469489711563647\n      },\n      atlasBounds: {\n        left: 477.5,\n        bottom: 31.5,\n        right: 504.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 62,\n      advance: 0.5224609375,\n      planeBounds: {\n        left: 0.047629290940937666,\n        bottom: 0.0731029160800812,\n        right: 0.5002222715590624,\n        top: 0.5592213026699189\n      },\n      atlasBounds: {\n        left: 421.5,\n        bottom: 21.5,\n        right: 448.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 63,\n      advance: 0.47216796875,\n      planeBounds: {\n        left: 0.016704001808865897,\n        bottom: -0.027876153049698794,\n        right: 0.4525342794411341,\n        top: 0.7432081842996989\n      },\n      atlasBounds: {\n        left: 317.5,\n        bottom: 144.5,\n        right: 343.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 64,\n      advance: 0.89794921875,\n      planeBounds: {\n        left: 0.034064457306783605,\n        bottom: -0.23896750384690937,\n        right: 0.8721996065996072,\n        top: 0.7165065663469093\n      },\n      atlasBounds: {\n        left: 155.5,\n        bottom: 198.5,\n        right: 205.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 65,\n      advance: 0.65234375,\n      planeBounds: {\n        left: -0.008838044092129387,\n        bottom: -0.02169206718177056,\n        right: 0.6616700753421295,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 237.5,\n        bottom: 51.5,\n        right: 277.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 66,\n      advance: 0.62255859375,\n      planeBounds: {\n        left: 0.06464099434422473,\n        bottom: -0.02169206718177056,\n        right: 0.5842847869057752,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 205.5,\n        bottom: 51.5,\n        right: 236.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 67,\n      advance: 0.65087890625,\n      planeBounds: {\n        left: 0.038439807122511785,\n        bottom: -0.030073418674698794,\n        right: 0.6251344116274882,\n        top: 0.7410109186746989\n      },\n      atlasBounds: {\n        left: 344.5,\n        bottom: 144.5,\n        right: 379.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 68,\n      advance: 0.65576171875,\n      planeBounds: {\n        left: 0.06301501010836826,\n        bottom: -0.02169206718177056,\n        right: 0.6161842086416317,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 162.5,\n        bottom: 51.5,\n        right: 195.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 69,\n      advance: 0.568359375,\n      planeBounds: {\n        left: 0.0652904160800812,\n        bottom: -0.02169206718177056,\n        right: 0.5514088026699189,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 132.5,\n        bottom: 51.5,\n        right: 161.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 70,\n      advance: 0.552734375,\n      planeBounds: {\n        left: 0.059675181705081196,\n        bottom: -0.02169206718177056,\n        right: 0.5457935682949189,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 102.5,\n        bottom: 51.5,\n        right: 131.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 71,\n      advance: 0.68115234375,\n      planeBounds: {\n        left: 0.040148791497511785,\n        bottom: -0.030073418674698794,\n        right: 0.6268433960024882,\n        top: 0.7410109186746989\n      },\n      atlasBounds: {\n        left: 380.5,\n        bottom: 144.5,\n        right: 415.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 72,\n      advance: 0.712890625,\n      planeBounds: {\n        left: 0.062365588372511785,\n        bottom: -0.02169206718177056,\n        right: 0.6490601928774882,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 30.5,\n        bottom: 51.5,\n        right: 65.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 73,\n      advance: 0.27197265625,\n      planeBounds: {\n        left: 0.06917965680657412,\n        bottom: -0.02169206718177056,\n        right: 0.20328128069342588,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 196.5,\n        bottom: 51.5,\n        right: 204.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 74,\n      advance: 0.5517578125,\n      planeBounds: {\n        left: 0.007184947330081194,\n        bottom: -0.02657487968177056,\n        right: 0.4933033339199188,\n        top: 0.7277467546817705\n      },\n      atlasBounds: { left: 0.5, bottom: 51.5, right: 29.5, top: 96.5 }\n    },\n    {\n      unicode: 75,\n      advance: 0.626953125,\n      planeBounds: {\n        left: 0.061633166497511785,\n        bottom: -0.02169206718177056,\n        right: 0.6483277710024882,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 452.5,\n        bottom: 97.5,\n        right: 487.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 76,\n      advance: 0.5380859375,\n      planeBounds: {\n        left: 0.06341786132300943,\n        bottom: -0.02169206718177056,\n        right: 0.5327735449269906,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 423.5,\n        bottom: 97.5,\n        right: 451.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 77,\n      advance: 0.873046875,\n      planeBounds: {\n        left: 0.05911847969322944,\n        bottom: -0.02169206718177056,\n        right: 0.8134401140567705,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 377.5,\n        bottom: 97.5,\n        right: 422.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 78,\n      advance: 0.712890625,\n      planeBounds: {\n        left: 0.062365588372511785,\n        bottom: -0.02169206718177056,\n        right: 0.6490601928774882,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 341.5,\n        bottom: 97.5,\n        right: 376.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 79,\n      advance: 0.6875,\n      planeBounds: {\n        left: 0.033395854136655315,\n        bottom: -0.030073418674698794,\n        right: 0.6536158646133446,\n        top: 0.7410109186746989\n      },\n      atlasBounds: {\n        left: 416.5,\n        bottom: 144.5,\n        right: 453.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 80,\n      advance: 0.630859375,\n      planeBounds: {\n        left: 0.061550166358368255,\n        bottom: -0.02169206718177056,\n        right: 0.6147193648916317,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 273.5,\n        bottom: 97.5,\n        right: 306.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 81,\n      advance: 0.6875,\n      planeBounds: {\n        left: 0.030466166636655315,\n        bottom: -0.14391866037519643,\n        right: 0.6506861771133446,\n        top: 0.7445045978751964\n      },\n      atlasBounds: {\n        left: 214.5,\n        bottom: 202.5,\n        right: 251.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 82,\n      advance: 0.61572265625,\n      planeBounds: {\n        left: 0.06350329135836826,\n        bottom: -0.02169206718177056,\n        right: 0.6166724898916317,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 186.5,\n        bottom: 97.5,\n        right: 219.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 83,\n      advance: 0.59326171875,\n      planeBounds: {\n        left: 0.020778681983368255,\n        bottom: -0.030073418674698794,\n        right: 0.5739478805166317,\n        top: 0.7410109186746989\n      },\n      atlasBounds: {\n        left: 454.5,\n        bottom: 144.5,\n        right: 487.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 84,\n      advance: 0.5966796875,\n      planeBounds: {\n        left: 0.005480822747511787,\n        bottom: -0.02169206718177056,\n        right: 0.5921754272524882,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 112.5,\n        bottom: 97.5,\n        right: 147.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 85,\n      advance: 0.6484375,\n      planeBounds: {\n        left: 0.049098994483368255,\n        bottom: -0.02657487968177056,\n        right: 0.6022681930166317,\n        top: 0.7277467546817705\n      },\n      atlasBounds: {\n        left: 78.5,\n        bottom: 97.5,\n        right: 111.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 86,\n      advance: 0.63623046875,\n      planeBounds: {\n        left: -0.008269192599201152,\n        bottom: -0.02169206718177056,\n        right: 0.6454762238492011,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 38.5,\n        bottom: 97.5,\n        right: 77.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 87,\n      advance: 0.88720703125,\n      planeBounds: {\n        left: 0.011923628617731797,\n        bottom: -0.02169206718177056,\n        right: 0.8835841838822683,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 220.5,\n        bottom: 97.5,\n        right: 272.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 88,\n      advance: 0.626953125,\n      planeBounds: {\n        left: 0.004098979136655316,\n        bottom: -0.02169206718177056,\n        right: 0.6243189896133446,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 0.5,\n        bottom: 97.5,\n        right: 37.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 89,\n      advance: 0.6005859375,\n      planeBounds: {\n        left: -0.010793598988344685,\n        bottom: -0.02169206718177056,\n        right: 0.6094264114883446,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 148.5,\n        bottom: 97.5,\n        right: 185.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 90,\n      advance: 0.5986328125,\n      planeBounds: {\n        left: 0.024196650733368255,\n        bottom: -0.02169206718177056,\n        right: 0.5773658492666317,\n        top: 0.7326295671817705\n      },\n      atlasBounds: {\n        left: 307.5,\n        bottom: 97.5,\n        right: 340.5,\n        top: 142.5\n      }\n    },\n    {\n      unicode: 91,\n      advance: 0.26513671875,\n      planeBounds: {\n        left: 0.05437250871693295,\n        bottom: -0.17280296457569408,\n        right: 0.27228764753306706,\n        top: 0.8329592145756942\n      },\n      atlasBounds: {\n        left: 59.5,\n        bottom: 195.5,\n        right: 72.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 92,\n      advance: 0.41015625,\n      planeBounds: {\n        left: 0.0014037126767941326,\n        bottom: -0.08573505127848349,\n        right: 0.4204712873232059,\n        top: 0.7356373950284835\n      },\n      atlasBounds: {\n        left: 278.5,\n        bottom: 206.5,\n        right: 303.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 93,\n      advance: 0.26513671875,\n      planeBounds: {\n        left: -0.020659233400995285,\n        bottom: -0.17280296457569408,\n        right: 0.2140186084009953,\n        top: 0.8329592145756942\n      },\n      atlasBounds: {\n        left: 94.5,\n        bottom: 195.5,\n        right: 108.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 94,\n      advance: 0.41796875,\n      planeBounds: {\n        left: 0.006855376669722368,\n        bottom: 0.33229482979472236,\n        right: 0.40916024833027764,\n        top: 0.7345997014552776\n      },\n      atlasBounds: {\n        left: 486.5,\n        bottom: 231.5,\n        right: 510.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 95,\n      advance: 0.451171875,\n      planeBounds: {\n        left: -0.017473255794918804,\n        bottom: -0.09553469482549765,\n        right: 0.4686451307949188,\n        top: 0.021804226075497646\n      },\n      atlasBounds: { left: 70.5, bottom: 7.5, right: 99.5, top: 14.5 }\n    },\n    {\n      unicode: 96,\n      advance: 0.30908203125,\n      planeBounds: {\n        left: 0.00391839948107648,\n        bottom: 0.5860277898277895,\n        right: 0.2553589442689235,\n        top: 0.7704175226722105\n      },\n      atlasBounds: { left: 36.5, bottom: 3.5, right: 51.5, top: 14.5 }\n    },\n    {\n      unicode: 97,\n      advance: 0.5439453125,\n      planeBounds: {\n        left: 0.028181041080081196,\n        bottom: -0.029187146002488215,\n        right: 0.5142994276699189,\n        top: 0.5575074585024882\n      },\n      atlasBounds: {\n        left: 30.5,\n        bottom: 15.5,\n        right: 59.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 98,\n      advance: 0.56103515625,\n      planeBounds: {\n        left: 0.048932994205081196,\n        bottom: -0.032187684160555265,\n        right: 0.5350513807949189,\n        top: 0.7724220591605554\n      },\n      atlasBounds: {\n        left: 304.5,\n        bottom: 207.5,\n        right: 333.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 99,\n      advance: 0.5234375,\n      planeBounds: {\n        left: 0.024518931705081196,\n        bottom: -0.029187146002488215,\n        right: 0.5106373182949189,\n        top: 0.5575074585024882\n      },\n      atlasBounds: { left: 0.5, bottom: 15.5, right: 29.5, top: 50.5 }\n    },\n    {\n      unicode: 100,\n      advance: 0.56396484375,\n      planeBounds: {\n        left: 0.026227916080081196,\n        bottom: -0.032187684160555265,\n        right: 0.5123463026699189,\n        top: 0.7724220591605554\n      },\n      atlasBounds: {\n        left: 334.5,\n        bottom: 207.5,\n        right: 363.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 101,\n      advance: 0.52978515625,\n      planeBounds: {\n        left: 0.026472056705081196,\n        bottom: -0.029187146002488215,\n        right: 0.5125904432949189,\n        top: 0.5575074585024882\n      },\n      atlasBounds: {\n        left: 468.5,\n        bottom: 61.5,\n        right: 497.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 102,\n      advance: 0.34716796875,\n      planeBounds: {\n        left: 0.004575110905578838,\n        bottom: -0.022177918535555265,\n        right: 0.3733545765944212,\n        top: 0.7824318247855554\n      },\n      atlasBounds: {\n        left: 364.5,\n        bottom: 207.5,\n        right: 386.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 103,\n      advance: 0.56103515625,\n      planeBounds: {\n        left: 0.026960337955081196,\n        bottom: -0.22888445766762702,\n        right: 0.5130787245449189,\n        top: 0.558962582667627\n      },\n      atlasBounds: {\n        left: 28.5,\n        bottom: 143.5,\n        right: 57.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 104,\n      advance: 0.55078125,\n      planeBounds: {\n        left: 0.049826556565937666,\n        bottom: -0.01892352016762703,\n        right: 0.5024195371840624,\n        top: 0.768923520167627\n      },\n      atlasBounds: {\n        left: 0.5,\n        bottom: 143.5,\n        right: 27.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 105,\n      advance: 0.24267578125,\n      planeBounds: {\n        left: 0.046882289688645884,\n        bottom: -0.01680925468177056,\n        right: 0.19774661656135412,\n        top: 0.7375123796817705\n      },\n      atlasBounds: {\n        left: 498.5,\n        bottom: 145.5,\n        right: 507.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 106,\n      advance: 0.23876953125,\n      planeBounds: {\n        left: -0.048979545900995285,\n        bottom: -0.2324562772148376,\n        right: 0.1856982959009953,\n        top: 0.7397804959648377\n      },\n      atlasBounds: {\n        left: 140.5,\n        bottom: 197.5,\n        right: 154.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 107,\n      advance: 0.5068359375,\n      planeBounds: {\n        left: 0.044294322330081196,\n        bottom: -0.01892352016762703,\n        right: 0.5304127089199189,\n        top: 0.768923520167627\n      },\n      atlasBounds: {\n        left: 58.5,\n        bottom: 143.5,\n        right: 87.5,\n        top: 190.5\n      }\n    },\n    {\n      unicode: 108,\n      advance: 0.24267578125,\n      planeBounds: {\n        left: 0.05428707868157412,\n        bottom: -0.01892352016762703,\n        right: 0.18838870256842588,\n        top: 0.768923520167627\n      },\n      atlasBounds: {\n        left: 477.5,\n        bottom: 208.5,\n        right: 485.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 109,\n      advance: 0.87646484375,\n      planeBounds: {\n        left: 0.04430890170737297,\n        bottom: -0.024304333502488215,\n        right: 0.832155942042627,\n        top: 0.5623902710024882\n      },\n      atlasBounds: {\n        left: 116.5,\n        bottom: 15.5,\n        right: 163.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 110,\n      advance: 0.5517578125,\n      planeBounds: {\n        left: 0.049826556565937666,\n        bottom: -0.024304333502488215,\n        right: 0.5024195371840624,\n        top: 0.5623902710024882\n      },\n      atlasBounds: {\n        left: 60.5,\n        bottom: 15.5,\n        right: 87.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 111,\n      advance: 0.5703125,\n      planeBounds: {\n        left: 0.025090213094224725,\n        bottom: -0.029187146002488215,\n        right: 0.5447340056557752,\n        top: 0.5575074585024882\n      },\n      atlasBounds: {\n        left: 193.5,\n        bottom: 15.5,\n        right: 224.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 112,\n      advance: 0.56103515625,\n      planeBounds: {\n        left: 0.048444712955081196,\n        bottom: -0.22644305141762702,\n        right: 0.5345630995449189,\n        top: 0.561403988917627\n      },\n      atlasBounds: {\n        left: 447.5,\n        bottom: 208.5,\n        right: 476.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 113,\n      advance: 0.568359375,\n      planeBounds: {\n        left: 0.025983775455081196,\n        bottom: -0.22644305141762702,\n        right: 0.5121021620449189,\n        top: 0.561403988917627\n      },\n      atlasBounds: {\n        left: 417.5,\n        bottom: 208.5,\n        right: 446.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 114,\n      advance: 0.33837890625,\n      planeBounds: {\n        left: 0.045180595002291775,\n        bottom: -0.024304333502488215,\n        right: 0.34690924874770823,\n        top: 0.5623902710024882\n      },\n      atlasBounds: {\n        left: 449.5,\n        bottom: 61.5,\n        right: 467.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 115,\n      advance: 0.515625,\n      planeBounds: {\n        left: 0.021669814448009427,\n        bottom: -0.029187146002488215,\n        right: 0.4910254980519906,\n        top: 0.5575074585024882\n      },\n      atlasBounds: {\n        left: 164.5,\n        bottom: 15.5,\n        right: 192.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 116,\n      advance: 0.32666015625,\n      planeBounds: {\n        left: -0.019433670483564695,\n        bottom: -0.02877457520298586,\n        right: 0.3158203892335647,\n        top: 0.675258950202986\n      },\n      atlasBounds: {\n        left: 418.5,\n        bottom: 54.5,\n        right: 438.5,\n        top: 96.5\n      }\n    },\n    {\n      unicode: 117,\n      advance: 0.55126953125,\n      planeBounds: {\n        left: 0.048117572190937666,\n        bottom: -0.034069958502488215,\n        right: 0.5007105528090624,\n        top: 0.5526246460024882\n      },\n      atlasBounds: {\n        left: 88.5,\n        bottom: 15.5,\n        right: 115.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 118,\n      advance: 0.484375,\n      planeBounds: {\n        left: -0.002092396419918806,\n        bottom: -0.02080579450955998,\n        right: 0.4840259901699188,\n        top: 0.5491261070095601\n      },\n      atlasBounds: {\n        left: 331.5,\n        bottom: 16.5,\n        right: 360.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 119,\n      advance: 0.75146484375,\n      planeBounds: {\n        left: -0.002649098431770561,\n        bottom: -0.02080579450955998,\n        right: 0.7516725359317705,\n        top: 0.5491261070095601\n      },\n      atlasBounds: {\n        left: 225.5,\n        bottom: 16.5,\n        right: 270.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 120,\n      advance: 0.49560546875,\n      planeBounds: {\n        left: -0.0046143729128470395,\n        bottom: -0.02080579450955998,\n        right: 0.4982667166628471,\n        top: 0.5491261070095601\n      },\n      atlasBounds: {\n        left: 300.5,\n        bottom: 16.5,\n        right: 330.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 121,\n      advance: 0.47314453125,\n      planeBounds: {\n        left: -0.007219349544918806,\n        bottom: -0.23645281704262702,\n        right: 0.4788990370449188,\n        top: 0.551394223292627\n      },\n      atlasBounds: {\n        left: 387.5,\n        bottom: 208.5,\n        right: 416.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 122,\n      advance: 0.49560546875,\n      planeBounds: {\n        left: 0.018007705073009427,\n        bottom: -0.02080579450955998,\n        right: 0.4873633886769906,\n        top: 0.5491261070095601\n      },\n      atlasBounds: {\n        left: 271.5,\n        bottom: 16.5,\n        right: 299.5,\n        top: 50.5\n      }\n    },\n    {\n      unicode: 123,\n      advance: 0.33837890625,\n      planeBounds: {\n        left: 0.011572188891435306,\n        bottom: -0.20234398020069408,\n        right: 0.3468262486085647,\n        top: 0.8034181989506942\n      },\n      atlasBounds: {\n        left: 73.5,\n        bottom: 195.5,\n        right: 93.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 124,\n      advance: 0.24365234375,\n      planeBounds: {\n        left: 0.06315671142450235,\n        bottom: -0.15466084787519643,\n        right: 0.18049563232549765,\n        top: 0.7337624103751964\n      },\n      atlasBounds: {\n        left: 206.5,\n        bottom: 202.5,\n        right: 213.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 125,\n      advance: 0.33837890625,\n      planeBounds: {\n        left: -0.010156326733564695,\n        bottom: -0.20234398020069408,\n        right: 0.3250977329835647,\n        top: 0.8034181989506942\n      },\n      atlasBounds: {\n        left: 38.5,\n        bottom: 195.5,\n        right: 58.5,\n        top: 255.5\n      }\n    },\n    {\n      unicode: 126,\n      advance: 0.68017578125,\n      planeBounds: {\n        left: 0.046984728997511785,\n        bottom: 0.1766063915990047,\n        right: 0.6336793335024882,\n        top: 0.4112842334009953\n      },\n      atlasBounds: { left: 0.5, bottom: 0.5, right: 35.5, top: 14.5 }\n    }\n  ],\n  kerning: []\n};\n\n// src/nvconnectome.ts\nimport { vec3 as vec310 } from \"gl-matrix\";\nvar defaultOptions = {\n  name: \"untitled connectome\",\n  nodeColormap: \"warm\",\n  nodeColormapNegative: \"winter\",\n  nodeMinColor: 0,\n  nodeMaxColor: 4,\n  nodeScale: 3,\n  edgeColormap: \"warm\",\n  edgeColormapNegative: \"winter\",\n  edgeMin: 2,\n  edgeMax: 6,\n  edgeScale: 1,\n  legendLineThickness: 0,\n  showLegend: true\n};\nvar NVConnectome = class _NVConnectome extends NVMesh3 {\n  constructor(gl, connectome) {\n    super(new Float32Array([]), new Uint32Array([]), connectome.name, new Uint8Array([]), 1, true, gl, connectome);\n    __publicField(this, \"gl\");\n    __publicField(this, \"nodesChanged\");\n    this.gl = gl;\n    this.type = \"connectome\" /* CONNECTOME */;\n    if (this.nodes) {\n      this.updateLabels();\n    }\n    this.nodesChanged = new EventTarget();\n  }\n  static convertLegacyConnectome(json) {\n    const connectome = { nodes: [], edges: [], ...defaultOptions };\n    for (const prop in json) {\n      if (prop in defaultOptions) {\n        const key = prop;\n        connectome[key] = json[key];\n      }\n    }\n    const nodes = json.nodes;\n    for (let i = 0; i < nodes.names.length; i++) {\n      connectome.nodes.push({\n        name: nodes.names[i],\n        x: nodes.X[i],\n        y: nodes.Y[i],\n        z: nodes.Z[i],\n        colorValue: nodes.Color[i],\n        sizeValue: nodes.Size[i]\n      });\n    }\n    for (let i = 0; i < nodes.names.length - 1; i++) {\n      for (let j = i + 1; j < nodes.names.length; j++) {\n        const colorValue = json.edges[i * nodes.names.length + j];\n        connectome.edges.push({\n          first: i,\n          second: j,\n          colorValue\n        });\n      }\n    }\n    return connectome;\n  }\n  static convertFreeSurferConnectome(json, colormap = \"warm\") {\n    let isValid = true;\n    if (!(\"data_type\" in json)) {\n      isValid = false;\n    } else if (json.data_type !== \"fs_pointset\") {\n      isValid = false;\n    }\n    if (!(\"points\" in json)) {\n      isValid = false;\n    }\n    if (!isValid) {\n      throw Error(\"not a valid FreeSurfer json pointset\");\n    }\n    const nodes = json.points.map((p) => ({\n      name: Array.isArray(p.comments) && p.comments.length > 0 && \"text\" in p.comments[0] ? p.comments[0].text : \"\",\n      x: p.coordinates.x,\n      y: p.coordinates.y,\n      z: p.coordinates.z,\n      colorValue: 1,\n      sizeValue: 1,\n      metadata: p.comments\n    }));\n    const connectome = {\n      ...defaultOptions,\n      nodeColormap: colormap,\n      edgeColormap: colormap,\n      nodes,\n      edges: []\n    };\n    return connectome;\n  }\n  updateLabels() {\n    const nodes = this.nodes;\n    if (nodes && nodes.length > 0) {\n      const largest = nodes.reduce((a, b) => a.sizeValue > b.sizeValue ? a : b).sizeValue;\n      let min, max;\n      if (typeof this.nodeMinColor !== \"undefined\" && isFinite(this.nodeMinColor)) {\n        min = this.nodeMinColor;\n      } else {\n        min = nodes[0].colorValue;\n        for (let i = 1; i < nodes.length; i++) {\n          if (nodes[i].colorValue < min) {\n            min = nodes[i].colorValue;\n          }\n        }\n      }\n      if (typeof this.nodeMaxColor !== \"undefined\" && isFinite(this.nodeMaxColor)) {\n        max = this.nodeMaxColor;\n      } else {\n        max = nodes[0].colorValue;\n        for (let i = 1; i < nodes.length; i++) {\n          if (nodes[i].colorValue > max) {\n            max = nodes[i].colorValue;\n          }\n        }\n      }\n      const lut = cmapper.colormap(this.nodeColormap, this.colormapInvert);\n      const lutNeg = cmapper.colormap(this.nodeColormapNegative, this.colormapInvert);\n      const hasNeg = \"nodeColormapNegative\" in this;\n      let legendLineThickness = this.legendLineThickness ? this.legendLineThickness : 0;\n      if (this.showLegend === false) {\n        legendLineThickness = 0;\n      }\n      for (let i = 0; i < nodes.length; i++) {\n        let color = nodes[i].colorValue;\n        let isNeg = false;\n        if (hasNeg && color < 0) {\n          isNeg = true;\n          color = -color;\n        }\n        if (min < max) {\n          if (color < min) {\n            log.warn(\"color value lower than min\");\n            continue;\n          }\n          color = (color - min) / (max - min);\n        } else {\n          color = 1;\n        }\n        color = Math.round(Math.max(Math.min(255, color * 255))) * 4;\n        let rgba = [lut[color], lut[color + 1], lut[color + 2], 255];\n        if (isNeg) {\n          rgba = [lutNeg[color], lutNeg[color + 1], lutNeg[color + 2], 255];\n        }\n        rgba = rgba.map((c) => c / 255);\n        log.debug(\"adding label for \", nodes[i]);\n        nodes[i].label = new NVLabel3D(\n          nodes[i].name,\n          {\n            textColor: rgba,\n            bulletScale: nodes[i].sizeValue / largest,\n            bulletColor: rgba,\n            lineWidth: legendLineThickness,\n            lineColor: rgba,\n            textScale: 1,\n            textAlignment: \"left\" /* LEFT */,\n            lineTerminator: \"none\" /* NONE */\n          },\n          [nodes[i].x, nodes[i].y, nodes[i].z]\n        );\n        log.debug(\"label for node:\", nodes[i].label);\n      }\n    }\n  }\n  addConnectomeNode(node) {\n    log.debug(\"adding node\", node);\n    if (!this.nodes) {\n      throw new Error(\"nodes not defined\");\n    }\n    ;\n    this.nodes.push(node);\n    this.updateLabels();\n    this.nodesChanged.dispatchEvent(new CustomEvent(\"nodeAdded\", { detail: { node } }));\n  }\n  deleteConnectomeNode(node) {\n    const index = this.nodes.indexOf(node);\n    const edges = this.edges;\n    if (edges) {\n      this.edges = edges.filter((e) => e.first !== index && e.second !== index);\n    }\n    this.nodes = this.nodes.filter((n) => n !== node);\n    this.updateLabels();\n    this.updateConnectome(this.gl);\n    this.nodesChanged.dispatchEvent(new CustomEvent(\"nodeDeleted\", { detail: { node } }));\n  }\n  updateConnectomeNodeByIndex(index, updatedNode) {\n    ;\n    this.nodes[index] = updatedNode;\n    this.updateLabels();\n    this.updateConnectome(this.gl);\n    this.nodesChanged.dispatchEvent(new CustomEvent(\"nodeChanged\", { detail: { node: updatedNode } }));\n  }\n  updateConnectomeNodeByPoint(point, updatedNode) {\n    const nodes = this.nodes;\n    if (!nodes) {\n      throw new Error(\"Node to update does not exist\");\n    }\n    const node = nodes.find((node2) => NVUtilities.arraysAreEqual([node2.x, node2.y, node2.z], point));\n    if (!node) {\n      throw new Error(`Node with point ${point} to update does not exist`);\n    }\n    const index = nodes.findIndex((n) => n === node);\n    this.updateConnectomeNodeByIndex(index, updatedNode);\n  }\n  addConnectomeEdge(first, second, colorValue) {\n    const edges = this.edges;\n    let edge = edges.find((f) => (f.first === first || f.second === first) && f.first + f.second === first + second);\n    if (edge) {\n      return edge;\n    }\n    edge = { first, second, colorValue };\n    edges.push(edge);\n    this.updateConnectome(this.gl);\n    return edge;\n  }\n  deleteConnectomeEdge(first, second) {\n    const edges = this.edges;\n    const edge = edges.find((f) => (f.first === first || f.first === second) && f.first + f.second === first + second);\n    if (edge) {\n      this.edges = edges.filter((e) => e !== edge);\n    } else {\n      throw new Error(`edge between ${first} and ${second} not found`);\n    }\n    this.updateConnectome(this.gl);\n    return edge;\n  }\n  findClosestConnectomeNode(point, distance) {\n    const nodes = this.nodes;\n    if (!nodes || nodes.length === 0) {\n      return null;\n    }\n    const closeNodes = nodes.map((n, i) => ({\n      node: n,\n      distance: Math.sqrt(Math.pow(n.x - point[0], 2) + Math.pow(n.y - point[1], 2) + Math.pow(n.z - point[2], 2)),\n      index: i\n    })).filter((n) => n.distance < distance).sort((a, b) => a.distance - b.distance);\n    if (closeNodes.length > 0) {\n      return closeNodes[0].node;\n    } else {\n      return null;\n    }\n  }\n  updateConnectome(gl) {\n    const tris = [];\n    const pts = [];\n    const rgba255 = [];\n    let lut = cmapper.colormap(this.nodeColormap, this.colormapInvert);\n    let lutNeg = cmapper.colormap(this.nodeColormapNegative, this.colormapInvert);\n    let hasNeg = \"nodeColormapNegative\" in this;\n    if (this.nodeMinColor === void 0) {\n      this.nodeMinColor = NaN;\n    }\n    if (this.nodeMaxColor === void 0) {\n      this.nodeMaxColor = NaN;\n    }\n    if (this.edgeMin === void 0) {\n      this.edgeMin = NaN;\n    }\n    if (this.edgeMax === void 0) {\n      this.edgeMax = NaN;\n    }\n    let min = this.nodeMinColor;\n    let max = this.nodeMaxColor;\n    if (!isFinite(min) || !isFinite(min)) {\n      const nodes2 = this.nodes;\n      min = nodes2[0].colorValue;\n      max = nodes2[0].colorValue;\n      for (let i = 0; i < nodes2.length; i++) {\n        min = Math.min(min, nodes2[i].colorValue);\n        max = Math.max(max, nodes2[i].colorValue);\n      }\n    }\n    const nodes = this.nodes;\n    const nNode = nodes.length;\n    for (let i = 0; i < nNode; i++) {\n      const radius = nodes[i].sizeValue * this.nodeScale;\n      if (radius <= 0) {\n        continue;\n      }\n      let color = nodes[i].colorValue;\n      let isNeg = false;\n      if (hasNeg && color < 0) {\n        isNeg = true;\n        color = -color;\n      }\n      if (min < max) {\n        if (color < min) {\n          continue;\n        }\n        color = (color - min) / (max - min);\n      } else {\n        color = 1;\n      }\n      color = Math.round(Math.max(Math.min(255, color * 255))) * 4;\n      let rgba = [lut[color], lut[color + 1], lut[color + 2], 255];\n      if (isNeg) {\n        rgba = [lutNeg[color], lutNeg[color + 1], lutNeg[color + 2], 255];\n      }\n      const pt = vec310.fromValues(nodes[i].x, nodes[i].y, nodes[i].z);\n      NiivueObject3D.makeColoredSphere(pts, tris, rgba255, radius, pt, rgba);\n    }\n    lut = cmapper.colormap(this.edgeColormap, this.colormapInvert);\n    lutNeg = cmapper.colormap(this.edgeColormapNegative, this.colormapInvert);\n    hasNeg = \"edgeColormapNegative\" in this;\n    const edges = this.edges;\n    if (edges !== void 0 && edges.length > 0) {\n      min = this.edgeMin;\n      max = this.edgeMax;\n      if (!isFinite(min) || !isFinite(min)) {\n        min = edges[0].colorValue;\n        max = edges[0].colorValue;\n        for (let i = 0; i < edges.length; i++) {\n          min = Math.min(min, edges[i].colorValue);\n          max = Math.max(max, edges[i].colorValue);\n        }\n      }\n      for (const edge of edges) {\n        let color = edge.colorValue;\n        const isNeg = hasNeg && color < 0;\n        if (isNeg) {\n          color = -color;\n        }\n        const radius = color * this.edgeScale;\n        if (radius <= 0) {\n          continue;\n        }\n        if (min < max) {\n          if (color < min) {\n            continue;\n          }\n          color = (color - min) / (max - min);\n        } else {\n          color = 1;\n        }\n        color = Math.round(Math.max(Math.min(255, color * 255))) * 4;\n        let rgba = [lut[color], lut[color + 1], lut[color + 2], 255];\n        if (isNeg) {\n          rgba = [lutNeg[color], lutNeg[color + 1], lutNeg[color + 2], 255];\n        }\n        const pti = vec310.fromValues(nodes[edge.first].x, nodes[edge.first].y, nodes[edge.first].z);\n        const ptj = vec310.fromValues(nodes[edge.second].x, nodes[edge.second].y, nodes[edge.second].z);\n        NiivueObject3D.makeColoredCylinder(pts, tris, rgba255, pti, ptj, radius, rgba);\n      }\n    }\n    const pts32 = new Float32Array(pts);\n    const tris32 = new Uint32Array(tris);\n    const obj = NVMeshUtilities.getExtents(pts32);\n    this.furthestVertexFromOrigin = obj.mxDx;\n    this.extentsMin = obj.extentsMin;\n    this.extentsMax = obj.extentsMax;\n    const posNormClr = this.generatePosNormClr(pts32, tris32, new Uint8Array(rgba255));\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, Uint32Array.from(tris32), gl.STATIC_DRAW);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, Float32Array.from(posNormClr), gl.STATIC_DRAW);\n    this.indexCount = tris.length;\n  }\n  updateMesh(gl) {\n    this.updateConnectome(gl);\n    this.updateLabels();\n  }\n  json() {\n    const json = {};\n    for (const prop in this) {\n      if (prop in defaultOptions || prop === \"nodes\" || prop === \"edges\") {\n        json[prop] = this[prop];\n      }\n    }\n    return json;\n  }\n  /**\n   * Factory method to create connectome from options\n   */\n  static async loadConnectomeFromUrl(gl, url) {\n    const response = await fetch(url);\n    const json = await response.json();\n    return new _NVConnectome(gl, json);\n  }\n};\n\n// src/nvimage/RenderingUtils.ts\nimport { vec3 as vec311 } from \"gl-matrix\";\nfunction toNiivueObject3D(nvImage, id, gl) {\n  if (!nvImage.dimsRAS || !nvImage.matRAS || !nvImage.pixDimsRAS || !nvImage.vox2mm) {\n    throw new Error(\"Cannot create NiivueObject3D: Missing required RAS properties or vox2mm access on NVImage.\");\n  }\n  const dimsRAS = nvImage.dimsRAS;\n  const matRAS = nvImage.matRAS;\n  const pixDimsRAS = nvImage.pixDimsRAS;\n  const L = -0.5;\n  const P = -0.5;\n  const I = -0.5;\n  const R = dimsRAS[1] - 1 + 0.5;\n  const A = dimsRAS[2] - 1 + 0.5;\n  const S = dimsRAS[3] - 1 + 0.5;\n  const vox2mmFn = nvImage.vox2mm;\n  const LPI = vox2mmFn.call(nvImage, [L, P, I], matRAS);\n  const LAI = vox2mmFn.call(nvImage, [L, A, I], matRAS);\n  const LPS = vox2mmFn.call(nvImage, [L, P, S], matRAS);\n  const LAS = vox2mmFn.call(nvImage, [L, A, S], matRAS);\n  const RPI = vox2mmFn.call(nvImage, [R, P, I], matRAS);\n  const RAI = vox2mmFn.call(nvImage, [R, A, I], matRAS);\n  const RPS = vox2mmFn.call(nvImage, [R, P, S], matRAS);\n  const RAS = vox2mmFn.call(nvImage, [R, A, S], matRAS);\n  const posTex = [\n    // Superior face vertices (Indices 0-3)\n    ...LPS,\n    ...[0, 0, 1],\n    // 0\n    ...RPS,\n    ...[1, 0, 1],\n    // 1\n    ...RAS,\n    ...[1, 1, 1],\n    // 2\n    ...LAS,\n    ...[0, 1, 1],\n    // 3\n    // Inferior face vertices (Indices 4-7)\n    ...LPI,\n    ...[0, 0, 0],\n    // 4\n    ...LAI,\n    ...[0, 1, 0],\n    // 5\n    ...RAI,\n    ...[1, 1, 0],\n    // 6\n    ...RPI,\n    ...[1, 0, 0]\n    // 7\n  ];\n  const indexBuffer = gl.createBuffer();\n  if (!indexBuffer) {\n    throw new Error(\"Failed to create GL index buffer\");\n  }\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n  const indices = [\n    0,\n    3,\n    2,\n    2,\n    1,\n    0,\n    // Top\n    4,\n    7,\n    6,\n    6,\n    5,\n    4,\n    // Bottom\n    5,\n    6,\n    2,\n    2,\n    3,\n    5,\n    // Front -> Corresponds to LAI(5), RAI(6), RAS(2) / RAS(2), LAS(3), LAI(5)\n    4,\n    0,\n    1,\n    1,\n    7,\n    4,\n    // Back -> Corresponds to LPI(4), LPS(0), RPS(1) / RPS(1), RPI(7), LPI(4)\n    7,\n    1,\n    2,\n    2,\n    6,\n    7,\n    // Right -> Corresponds to RPI(7), RPS(1), RAS(2) / RAS(2), RAI(6), RPI(7)\n    4,\n    5,\n    3,\n    3,\n    0,\n    4\n    // Left -> Corresponds to LPI(4), LAI(5), LAS(3) / LAS(3), LPS(0), LPI(4)\n  ];\n  gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);\n  const posTexBuffer = gl.createBuffer();\n  if (!posTexBuffer) {\n    throw new Error(\"Failed to create GL vertex buffer\");\n  }\n  gl.bindBuffer(gl.ARRAY_BUFFER, posTexBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(posTex), gl.STATIC_DRAW);\n  const vao = gl.createVertexArray();\n  if (!vao) {\n    throw new Error(\"Failed to create GL VAO\");\n  }\n  gl.bindVertexArray(vao);\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n  gl.bindBuffer(gl.ARRAY_BUFFER, posTexBuffer);\n  const stride = 24;\n  gl.enableVertexAttribArray(0);\n  gl.vertexAttribPointer(0, 3, gl.FLOAT, false, stride, 0);\n  gl.enableVertexAttribArray(1);\n  gl.vertexAttribPointer(1, 3, gl.FLOAT, false, stride, 12);\n  gl.bindVertexArray(null);\n  const obj3D = new NiivueObject3D(id, posTexBuffer, gl.TRIANGLES, indices.length, indexBuffer, vao);\n  const allCorners = [...LPS, ...RPS, ...RAS, ...LAS, ...LPI, ...LAI, ...RAI, ...RPI];\n  const extents = getExtents(allCorners);\n  obj3D.extentsMin = extents.min.slice();\n  obj3D.extentsMax = extents.max.slice();\n  obj3D.furthestVertexFromOrigin = extents.furthestVertexFromOrigin;\n  obj3D.originNegate = vec311.clone(extents.origin);\n  vec311.negate(obj3D.originNegate, obj3D.originNegate);\n  obj3D.fieldOfViewDeObliqueMM = [dimsRAS[1] * pixDimsRAS[1], dimsRAS[2] * pixDimsRAS[2], dimsRAS[3] * pixDimsRAS[3]];\n  return obj3D;\n}\n\n// src/drawing/rle.ts\nfunction encodeRLE(data) {\n  const dl = data.length;\n  let dp = 0;\n  const r = new Uint8Array(dl + Math.ceil(0.01 * dl));\n  const rI = new Int8Array(r.buffer);\n  let rp = 0;\n  while (dp < dl) {\n    let v = data[dp];\n    dp++;\n    let rl = 1;\n    while (rl < 129 && dp < dl && data[dp] === v) {\n      dp++;\n      rl++;\n    }\n    if (rl > 1) {\n      rI[rp] = -rl + 1;\n      rp++;\n      r[rp] = v;\n      rp++;\n      continue;\n    }\n    while (dp < dl) {\n      if (rl > 127) {\n        break;\n      }\n      if (dp + 2 < dl) {\n        if (v !== data[dp] && data[dp + 2] === data[dp] && data[dp + 1] === data[dp]) {\n          break;\n        }\n      }\n      v = data[dp];\n      dp++;\n      rl++;\n    }\n    r[rp] = rl - 1;\n    rp++;\n    for (let i = 0; i < rl; i++) {\n      r[rp] = data[dp - rl + i];\n      rp++;\n    }\n  }\n  log.debug(\"PackBits \" + dl + \" -> \" + rp + \" bytes (x\" + dl / rp + \")\");\n  return r.slice(0, rp);\n}\nfunction decodeRLE(rle, decodedlen) {\n  const r = new Uint8Array(rle.buffer);\n  const rI = new Int8Array(r.buffer);\n  let rp = 0;\n  const d = new Uint8Array(decodedlen);\n  let dp = 0;\n  while (rp < r.length) {\n    const hdr = rI[rp];\n    rp++;\n    if (hdr < 0) {\n      const v = rI[rp];\n      rp++;\n      for (let i = 0; i < 1 - hdr; i++) {\n        d[dp] = v;\n        dp++;\n      }\n    } else {\n      for (let i = 0; i < hdr + 1; i++) {\n        d[dp] = rI[rp];\n        rp++;\n        dp++;\n      }\n    }\n  }\n  return d;\n}\n\n// src/drawing/undo.ts\nvar drawUndo = ({\n  drawUndoBitmaps,\n  currentDrawUndoBitmap,\n  drawBitmap\n}) => {\n  const len = drawUndoBitmaps.length;\n  if (len < 1) {\n    log.debug(\"undo bitmaps not loaded\");\n    return;\n  }\n  currentDrawUndoBitmap--;\n  if (currentDrawUndoBitmap < 0) {\n    currentDrawUndoBitmap = len - 1;\n  }\n  if (currentDrawUndoBitmap >= len) {\n    currentDrawUndoBitmap = 0;\n  }\n  if (drawUndoBitmaps[currentDrawUndoBitmap].length < 2) {\n    log.debug(\"drawUndo is misbehaving\");\n    return;\n  }\n  drawBitmap = decodeRLE(drawUndoBitmaps[currentDrawUndoBitmap], drawBitmap.length);\n  return { drawBitmap, currentDrawUndoBitmap };\n};\n\n// src/drawing/masks.ts\nfunction findBoundarySlices(sliceType, drawBitmap, dims) {\n  const { dimX, dimY, dimZ } = dims;\n  let axisSize;\n  if (sliceType === 0 /* AXIAL */) {\n    axisSize = dimZ;\n  } else if (sliceType === 1 /* CORONAL */) {\n    axisSize = dimY;\n  } else if (sliceType === 2 /* SAGITTAL */) {\n    axisSize = dimX;\n  } else {\n    return null;\n  }\n  let firstSliceWithData = -1;\n  let lastSliceWithData = -1;\n  for (let slice2 = 0; slice2 < axisSize; slice2++) {\n    let hasData = false;\n    if (sliceType === 0 /* AXIAL */) {\n      const offset = slice2 * dimX * dimY;\n      for (let i = 0; i < dimX * dimY; i++) {\n        if (drawBitmap[offset + i] > 0) {\n          hasData = true;\n          break;\n        }\n      }\n    } else if (sliceType === 1 /* CORONAL */) {\n      for (let z = 0; z < dimZ; z++) {\n        for (let x = 0; x < dimX; x++) {\n          const idx = x + slice2 * dimX + z * dimX * dimY;\n          if (drawBitmap[idx] > 0) {\n            hasData = true;\n            break;\n          }\n        }\n        if (hasData) {\n          break;\n        }\n      }\n    } else if (sliceType === 2 /* SAGITTAL */) {\n      for (let z = 0; z < dimZ; z++) {\n        for (let y = 0; y < dimY; y++) {\n          const idx = slice2 + y * dimX + z * dimX * dimY;\n          if (drawBitmap[idx] > 0) {\n            hasData = true;\n            break;\n          }\n        }\n        if (hasData) {\n          break;\n        }\n      }\n    }\n    if (hasData) {\n      if (firstSliceWithData === -1) {\n        firstSliceWithData = slice2;\n      }\n      lastSliceWithData = slice2;\n    }\n  }\n  if (firstSliceWithData === -1 || lastSliceWithData === -1) {\n    return null;\n  }\n  return { first: firstSliceWithData, last: lastSliceWithData };\n}\nfunction extractSlice(sliceIndex, sliceType, drawBitmap, dims) {\n  const { dimX, dimY, dimZ } = dims;\n  let sliceData;\n  if (sliceType === 0 /* AXIAL */) {\n    sliceData = new Float32Array(dimX * dimY);\n    const offset = sliceIndex * dimX * dimY;\n    for (let i = 0; i < dimX * dimY; i++) {\n      sliceData[i] = drawBitmap[offset + i];\n    }\n  } else if (sliceType === 1 /* CORONAL */) {\n    sliceData = new Float32Array(dimX * dimZ);\n    for (let z = 0; z < dimZ; z++) {\n      for (let x = 0; x < dimX; x++) {\n        const srcIdx = x + sliceIndex * dimX + z * dimX * dimY;\n        const dstIdx = x + z * dimX;\n        sliceData[dstIdx] = drawBitmap[srcIdx];\n      }\n    }\n  } else if (sliceType === 2 /* SAGITTAL */) {\n    sliceData = new Float32Array(dimY * dimZ);\n    for (let z = 0; z < dimZ; z++) {\n      for (let y = 0; y < dimY; y++) {\n        const srcIdx = sliceIndex + y * dimX + z * dimX * dimY;\n        const dstIdx = y + z * dimY;\n        sliceData[dstIdx] = drawBitmap[srcIdx];\n      }\n    }\n  } else {\n    throw new Error(\"Invalid slice type\");\n  }\n  return sliceData;\n}\nfunction extractIntensitySlice(sliceIndex, sliceType, imageData, dims, maxVal) {\n  const { dimX, dimY, dimZ } = dims;\n  let sliceData;\n  if (sliceType === 0 /* AXIAL */) {\n    sliceData = new Float32Array(dimX * dimY);\n    const offset = sliceIndex * dimX * dimY;\n    for (let i = 0; i < dimX * dimY; i++) {\n      sliceData[i] = imageData[offset + i] / maxVal;\n    }\n  } else if (sliceType === 1 /* CORONAL */) {\n    sliceData = new Float32Array(dimX * dimZ);\n    for (let z = 0; z < dimZ; z++) {\n      for (let x = 0; x < dimX; x++) {\n        const srcIdx = x + sliceIndex * dimX + z * dimX * dimY;\n        const dstIdx = x + z * dimX;\n        sliceData[dstIdx] = imageData[srcIdx] / maxVal;\n      }\n    }\n  } else if (sliceType === 2 /* SAGITTAL */) {\n    sliceData = new Float32Array(dimY * dimZ);\n    for (let z = 0; z < dimZ; z++) {\n      for (let y = 0; y < dimY; y++) {\n        const srcIdx = sliceIndex + y * dimX + z * dimX * dimY;\n        const dstIdx = y + z * dimY;\n        sliceData[dstIdx] = imageData[srcIdx] / maxVal;\n      }\n    }\n  } else {\n    throw new Error(\"Invalid slice type\");\n  }\n  return sliceData;\n}\nfunction insertColorMask(mask, sliceIndex, sliceType, drawBitmap, dims, binaryThreshold, color) {\n  const { dimX, dimY, dimZ } = dims;\n  if (sliceType === 0 /* AXIAL */) {\n    const offset = sliceIndex * dimX * dimY;\n    for (let i = 0; i < mask.length; i++) {\n      if (mask[i] >= binaryThreshold) {\n        drawBitmap[offset + i] = color;\n      }\n    }\n  } else if (sliceType === 1 /* CORONAL */) {\n    for (let z = 0; z < dimZ; z++) {\n      for (let x = 0; x < dimX; x++) {\n        const srcIdx = x + z * dimX;\n        const dstIdx = x + sliceIndex * dimX + z * dimX * dimY;\n        if (mask[srcIdx] >= binaryThreshold) {\n          drawBitmap[dstIdx] = color;\n        }\n      }\n    }\n  } else if (sliceType === 2 /* SAGITTAL */) {\n    for (let z = 0; z < dimZ; z++) {\n      for (let y = 0; y < dimY; y++) {\n        const srcIdx = y + z * dimY;\n        const dstIdx = sliceIndex + y * dimX + z * dimX * dimY;\n        if (mask[srcIdx] >= binaryThreshold) {\n          drawBitmap[dstIdx] = color;\n        }\n      }\n    }\n  } else {\n    throw new Error(\"Invalid slice type\");\n  }\n}\nfunction smoothSlice(slice2, width, height) {\n  if (width < 3 || height < 3) {\n    return;\n  }\n  const temp = new Float32Array(slice2.length);\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      const idx = x + y * width;\n      if (x === 0 || x === width - 1) {\n        temp[idx] = slice2[idx];\n      } else {\n        temp[idx] = (slice2[idx - 1] + 2 * slice2[idx] + slice2[idx + 1]) * 0.25;\n      }\n    }\n  }\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      const idx = x + y * width;\n      if (y === 0 || y === height - 1) {\n        slice2[idx] = temp[idx];\n      } else {\n        slice2[idx] = (temp[idx - width] + 2 * temp[idx] + temp[idx + width]) * 0.25;\n      }\n    }\n  }\n}\nfunction calculateIntensityWeight(intensity1, intensity2, targetIntensity, intensitySigma) {\n  const diff1 = Math.abs(targetIntensity - intensity1);\n  const diff2 = Math.abs(targetIntensity - intensity2);\n  const weight1 = Math.exp(-diff1 * diff1 / (2 * intensitySigma * intensitySigma));\n  const weight2 = Math.exp(-diff2 * diff2 / (2 * intensitySigma * intensitySigma));\n  const totalWeight = weight1 + weight2;\n  if (totalWeight < 1e-6) {\n    return 0.5;\n  }\n  return weight1 / totalWeight;\n}\nfunction doGeometricInterpolation(sliceLow, sliceHigh, z, sliceIndexLow, sliceIndexHigh, interpolatedSlice) {\n  const fracHigh = (z - sliceIndexLow) / (sliceIndexHigh - sliceIndexLow);\n  const fracLow = 1 - fracHigh;\n  for (let i = 0; i < sliceLow.length; i++) {\n    interpolatedSlice[i] = sliceLow[i] * fracLow + sliceHigh[i] * fracHigh;\n  }\n}\nfunction doIntensityGuidedInterpolation(sliceLow, sliceHigh, z, sliceIndexLow, sliceIndexHigh, interpolatedSlice, opts, intensityLow, intensityHigh, targetIntensity) {\n  const baseFracHigh = (z - sliceIndexLow) / (sliceIndexHigh - sliceIndexLow);\n  const baseFracLow = 1 - baseFracHigh;\n  for (let i = 0; i < sliceLow.length; i++) {\n    if (sliceLow[i] > 0 || sliceHigh[i] > 0) {\n      const intensityWeight = calculateIntensityWeight(\n        intensityLow[i],\n        intensityHigh[i],\n        targetIntensity[i],\n        opts.intensitySigma\n      );\n      const alpha = opts.intensityWeight;\n      const combinedWeightLow = alpha * intensityWeight + (1 - alpha) * baseFracLow;\n      const combinedWeightHigh = 1 - combinedWeightLow;\n      interpolatedSlice[i] = sliceLow[i] * combinedWeightLow + sliceHigh[i] * combinedWeightHigh;\n    } else {\n      interpolatedSlice[i] = sliceLow[i] * baseFracLow + sliceHigh[i] * baseFracHigh;\n    }\n  }\n}\nfunction interpolateMaskSlices(drawBitmap, dims, imageData, maxVal, sliceIndexLow, sliceIndexHigh, options, refreshDrawingCallback) {\n  const { dimX, dimY, dimZ } = dims;\n  const sliceType = options.sliceType ?? 0 /* AXIAL */;\n  let sliceWidth, sliceHeight, maxSliceIndex;\n  if (sliceType === 0 /* AXIAL */) {\n    sliceWidth = dimX;\n    sliceHeight = dimY;\n    maxSliceIndex = dimZ - 1;\n  } else if (sliceType === 1 /* CORONAL */) {\n    sliceWidth = dimX;\n    sliceHeight = dimZ;\n    maxSliceIndex = dimY - 1;\n  } else if (sliceType === 2 /* SAGITTAL */) {\n    sliceWidth = dimY;\n    sliceHeight = dimZ;\n    maxSliceIndex = dimX - 1;\n  } else {\n    throw new Error(\"Invalid slice type. Must be AXIAL, CORONAL, or SAGITTAL\");\n  }\n  const opts = {\n    intensityWeight: options.intensityWeight ?? 0.7,\n    binaryThreshold: options.binaryThreshold ?? 0.375,\n    intensitySigma: options.intensitySigma ?? 0.1,\n    applySmoothingToSlices: options.applySmoothingToSlices ?? true,\n    useIntensityGuided: options.useIntensityGuided ?? true\n  };\n  if (sliceIndexLow !== void 0 && sliceIndexHigh !== void 0) {\n    if (sliceIndexLow >= sliceIndexHigh) {\n      throw new Error(\"Low slice index must be less than high slice index\");\n    }\n    if (sliceIndexLow < 0 || sliceIndexHigh > maxSliceIndex) {\n      throw new Error(`Slice indices out of bounds [0, ${maxSliceIndex}]`);\n    }\n  }\n  const colorRanges = /* @__PURE__ */ new Map();\n  for (let sliceIdx = 0; sliceIdx <= maxSliceIndex; sliceIdx++) {\n    const slice2 = extractSlice(sliceIdx, sliceType, drawBitmap, dims);\n    for (let i = 0; i < slice2.length; i++) {\n      const color = slice2[i];\n      if (color > 0) {\n        if (!colorRanges.has(color)) {\n          colorRanges.set(color, { min: sliceIdx, max: sliceIdx });\n        } else {\n          const range = colorRanges.get(color);\n          range.min = Math.min(range.min, sliceIdx);\n          range.max = Math.max(range.max, sliceIdx);\n        }\n      }\n    }\n  }\n  for (const [color, range] of colorRanges) {\n    const colorSliceLow = sliceIndexLow !== void 0 ? Math.max(sliceIndexLow, range.min) : range.min;\n    const colorSliceHigh = sliceIndexHigh !== void 0 ? Math.min(sliceIndexHigh, range.max) : range.max;\n    if (colorSliceLow >= colorSliceHigh || colorSliceHigh - colorSliceLow < 2) {\n      continue;\n    }\n    const sliceLow = extractSlice(colorSliceLow, sliceType, drawBitmap, dims);\n    const sliceHigh = extractSlice(colorSliceHigh, sliceType, drawBitmap, dims);\n    const colorMaskLow = new Float32Array(sliceLow.length);\n    const colorMaskHigh = new Float32Array(sliceHigh.length);\n    for (let i = 0; i < sliceLow.length; i++) {\n      colorMaskLow[i] = sliceLow[i] === color ? 1 : 0;\n      colorMaskHigh[i] = sliceHigh[i] === color ? 1 : 0;\n    }\n    if (opts.applySmoothingToSlices) {\n      smoothSlice(colorMaskLow, sliceWidth, sliceHeight);\n      smoothSlice(colorMaskHigh, sliceWidth, sliceHeight);\n    }\n    for (let z = colorSliceLow + 1; z < colorSliceHigh; z++) {\n      const colorInterpolated = new Float32Array(sliceWidth * sliceHeight);\n      if (opts.useIntensityGuided && imageData) {\n        const intensityLow = extractIntensitySlice(colorSliceLow, sliceType, imageData, dims, maxVal);\n        const intensityHigh = extractIntensitySlice(colorSliceHigh, sliceType, imageData, dims, maxVal);\n        const targetIntensity = extractIntensitySlice(z, sliceType, imageData, dims, maxVal);\n        doIntensityGuidedInterpolation(\n          colorMaskLow,\n          colorMaskHigh,\n          z,\n          colorSliceLow,\n          colorSliceHigh,\n          colorInterpolated,\n          opts,\n          intensityLow,\n          intensityHigh,\n          targetIntensity\n        );\n      } else {\n        doGeometricInterpolation(colorMaskLow, colorMaskHigh, z, colorSliceLow, colorSliceHigh, colorInterpolated);\n      }\n      insertColorMask(colorInterpolated, z, sliceType, drawBitmap, dims, opts.binaryThreshold, color);\n    }\n  }\n  refreshDrawingCallback();\n}\n\n// src/shader-srcs.ts\nvar vertRenderShader = `#version 300 es\n#line 4\nlayout(location=0) in vec3 pos;\nlayout(location=1) in vec3 texCoords;\nuniform mat4 mvpMtx;\nout vec3 vColor;\nvoid main(void) {\n\tgl_Position = mvpMtx * vec4(pos, 1.0);\n\tvColor = texCoords;\n}`;\nvar kDrawFunc = `\n\tvec4 drawColor(float scalar, float drawOpacity) {\n\t\tfloat nlayer = float(textureSize(colormap, 0).y);\n\t\tfloat layer = (nlayer - 0.5) / nlayer;\n\t\tvec4 dcolor = texture(colormap, vec2((scalar * 255.0)/256.0 + 0.5/256.0, layer)).rgba;\n\t\tdcolor.a *= drawOpacity;\n\t\treturn dcolor;\n}`;\nvar kRenderFunc = `vec3 GetBackPosition(vec3 startPositionTex) {\n\tvec3 startPosition = startPositionTex * volScale;\n\tvec3 invR = 1.0 / rayDir;\n\tvec3 tbot = invR * (vec3(0.0)-startPosition);\n\tvec3 ttop = invR * (volScale-startPosition);\n\tvec3 tmax = max(ttop, tbot);\n\tvec2 t = min(tmax.xx, tmax.yz);\n\tvec3 endPosition = startPosition + (rayDir * min(t.x, t.y));\n\t//convert world position back to texture position:\n\tendPosition = endPosition / volScale;\n\treturn endPosition;\n}\n\nfloat distance2Plane(in vec4 samplePos, in vec4 clipPlane) {\n\t// treat clipPlane.a > 1 as \"no clip\" sentinel (keeps existing behavior)\n\tif (clipPlane.a > 1.0) {\n\t\t\treturn 1000.0; // sentinel large distance\n\t}\n\tvec3 n = clipPlane.xyz;\n\tconst float EPS = 1e-6;\n\tfloat nlen = length(n);\n\tif (nlen < EPS) {\n\t\t\treturn 1000.0; // invalid plane normal\n\t}\n\t// signed plane value: dot(n, p-0.5) + a\n\tfloat signedDist = dot(n, samplePos.xyz - 0.5) + clipPlane.a;\n\t// perpendicular (Euclidean) distance is |signedDist| / |n|\n\treturn abs(signedDist) / nlen;\n}\n\n// see if clip plane trims ray sampling range sampleStartEnd.x..y\nvoid clipSampleRange(in vec3 dir, in vec4 rayStart, in vec4 clipPlane, inout vec2 sampleStartEnd, inout bool hasClip) {\n\tconst float CSR_EPS = 1e-6;\n\t// quick exit: no clip plane\n\tif (clipPlane.a > 1.0)\n\t\t\treturn;\n\thasClip = true;\n\t// quick exit: empty range\n\tif ((sampleStartEnd.y - sampleStartEnd.x) <= CSR_EPS)\n\t\t\treturn;\n\t// Which side does the ray start on? (plane eqn: dot(n, p-0.5) + a = 0)\n\tfloat sampleSide = dot(clipPlane.xyz, rayStart.xyz - 0.5) + clipPlane.a;\n\tbool startsFront = (sampleSide < 0.0);\n\tfloat dis = - 1.0;\n\t// plane normal dot ray direction\n\tfloat cdot = dot(dir, clipPlane.xyz);\n\t// avoid division by 0 for near-parallel plne\n\tif (abs(cdot) >= CSR_EPS)\n\t\tdis = (-clipPlane.a - dot(clipPlane.xyz, rayStart.xyz - 0.5)) / cdot;\n\tif (dis < 0.0 || dis > sampleStartEnd.y + CSR_EPS) {\n\t\t\tif (startsFront)\n\t\t\t\tsampleStartEnd = vec2(0.0, 0.0);\n\t\t\treturn;\n\t}\n\tbool frontface = (cdot > 0.0);\n\tif (frontface)\n\t\tsampleStartEnd.x = max(sampleStartEnd.x, dis);\n\telse\n\t\tsampleStartEnd.y = min(sampleStartEnd.y, dis);\n\t// if nothing remains, mark empty\n\tif (sampleStartEnd.y - sampleStartEnd.x <= CSR_EPS)\n\t\tsampleStartEnd = vec2(0.0, 0.0);\n}\n\nbool skipSample (float pos, vec2 sampleRange) {\n\treturn (pos < sampleRange.x || pos > sampleRange.y);\n}\n\nfloat frac2ndc(vec3 frac) {\n//https://stackoverflow.com/questions/7777913/how-to-render-depth-linearly-in-modern-opengl-with-gl-fragcoord-z-in-fragment-sh\n\tvec4 pos = vec4(frac.xyz, 1.0); //fraction\n\tvec4 dim = vec4(vec3(textureSize(volume, 0)), 1.0);\n\tpos = pos * dim;\n\tvec4 shim = vec4(-0.5, -0.5, -0.5, 0.0);\n\tpos += shim;\n\tvec4 mm = transpose(matRAS) * pos;\n\tfloat z_ndc = (mvpMtx * vec4(mm.xyz, 1.0)).z;\n\treturn (z_ndc + 1.0) / 2.0;\n}` + kDrawFunc;\nvar kRenderInit = `void main() {\n\tif (fColor.x > 2.0) {\n\t\tfColor = vec4(1.0, 0.0, 0.0, 0.5);\n\t\treturn;\n\t}\n\tfColor = vec4(0.0,0.0,0.0,0.0);\n\tvec4 clipPlaneColorX = clipPlaneColor;\n\t//if (clipPlaneColor.a < 0.0)\n\t//\tclipPlaneColorX.a = - 1.0;\n\tbool isColorPlaneInVolume = false;\n\tif (clipPlaneColorX.a < 0.0) {\n\t\tisColorPlaneInVolume = true;\n\t\tclipPlaneColorX.a = 0.0;\n\t}\n\t//fColor = vec4(vColor.rgb, 1.0); return;\n\tvec3 start = vColor;\n\tgl_FragDepth = 1.0;\n\tvec3 backPosition = GetBackPosition(start);\n\t// fColor = vec4(backPosition, 1.0); return;\n\tvec3 dir = normalize(backPosition - start);\n\t//clipVolumeStart(start, backPosition);\n\tdir = normalize(dir);\n\tfloat len = length(backPosition - start);\n\tfloat lenVox = length((texVox * start) - (texVox * backPosition));\n\tif ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays\n\t\treturn;\n\t}\n\tfloat sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube\n\tfloat stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples\n\tfloat opacityCorrection = stepSize/sliceSize;\n\tvec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);\n\tvec4 samplePos = vec4(start.xyz, 0.0); //ray position\n\n\tvec2 sampleRange = vec2(0.0, len);\n\tbool hasClip = false;\n\tfor (int i = 0; i < MAX_CLIP_PLANES; i++)\n\t\tclipSampleRange(dir, samplePos, clipPlanes[i], sampleRange, hasClip);\n\tbool isClip = (sampleRange.x > 0.0) || ((sampleRange.y < len) && (sampleRange.y > 0.0));\n\tfloat stepSizeFast = sliceSize * 1.9;\n\tvec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);\n\tif ((isClipCutaway) && (sampleRange.x <= 0.0) && (sampleRange.y >= len)) {\n\t\t//completely clipped, but ray does not intersect plane\n\t\tif (hasClip)\n\t\t\tsamplePos.a = len + 1.0;\n\t\telse\n\t\t\tsampleRange = vec2(0.0, 0.0);\n\t}\n\tif ((!isClipCutaway) && (sampleRange.x >= sampleRange.y))\n\t\tsamplePos.a = len + 1.0;\n\twhile (samplePos.a <= len) {\n\t\tif (skipSample(samplePos.a, sampleRange) ^^ isClipCutaway) {\n\t\t\tsamplePos += deltaDirFast;\n\t\t\tcontinue;\n\t\t}\n\t\tfloat val = texture(volume, samplePos.xyz).a;\n\t\tif (val > 0.01)\n\t\t\tbreak;\n\t\tsamplePos += deltaDirFast; //advance ray position\n\t}\n\tfloat drawOpacityA = renderDrawAmbientOcclusionXY.y;\n\tif ((samplePos.a >= len) && (((overlays < 1.0) && (drawOpacityA <= 0.0) ) || (backgroundMasksOverlays > 0)))  {\n\t\tif (isClip)\n\t\t\tfColor += clipPlaneColorX;\n\t\treturn;\n\t}\n\tfColor = vec4(1.0, 1.0, 1.0, 1.0);\n\t//gl_FragDepth = frac2ndc(samplePos.xyz); //crude due to fast pass resolution\n\tif (samplePos.a > deltaDirFast.a )\n\t\tsamplePos -= deltaDirFast;\n\t//end: fast pass\n\tvec4 colAcc = vec4(0.0,0.0,0.0,0.0);\n\tvec4 firstHit = vec4(0.0,0.0,0.0,2.0 * len);\n\tconst float earlyTermination = 0.95;\n\tfloat backNearest = len; //assume no hit\n\tfloat ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);\n\t// clip planes create steep gradients: reduce aliasing with more jitter\n\tif (isClip)\n\t\tsamplePos += deltaDir * ran * 1.41; //jitter ray\n\telse\n\t\tsamplePos += deltaDir * ran; //jitter ray\n`;\nvar kRenderTail = `\n\tif (firstHit.a < len) {\n\t\tgl_FragDepth = frac2ndc(firstHit.xyz);\n\t\tvec4 paqdSample = texture(paqd, samplePos.xyz);\n\t\tif (paqdSample.a > 0.0) {\n\t\t\t//colAcc.rgb = paqdSample.rgb;\n\t\t\tfloat a = max(abs(paqdUniforms[2]), abs(paqdUniforms[3]));\n\t\t\tcolAcc.rgb = mix(colAcc.rgb, paqdSample.rgb, 0.5 * paqdSample.a * a);\n\t\t}\n\t\tif (isClip) {\n\t\t\t//shade voxels with clip color\n\t\t\tif (clipPlaneColor.a < 0.0) {\n\t\t\t\t\tfloat thresh = 4.0 * sliceSize;\n\t\t\t\t\tfloat firstHit1 = firstHit.a + deltaDir.a;\n\t\t\t\tif (isClipCutaway) {\n\t\t\t\t\tfloat min1 = abs(firstHit1 - sampleRange.y);\n\t\t\t\t\tfloat dx = samplePos.a - firstHit1;\n\t\t\t\t\tif (min1 < thresh)\n\t\t\t\t\t\tcolAcc.rgb = mix(colAcc.rgb, clipPlaneColorX.rgb, abs(clipPlaneColor.a));\n\t\t\t\t\telse if (( colAcc.a > earlyTermination ) && (dx > thresh)) {\n\t\t\t\t\t\tmin1 = abs(firstHit1 - sampleRange.x);\n\t\t\t\t\t\tif (min1 < (thresh * 0.5)) {\n\t\t\t\t\t\t\tcolAcc.rgb = mix(colAcc.rgb , clipPlaneColorX.rgb, abs(clipPlaneColor.a)*0.5);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (abs(firstHit1 - sampleRange.x) < thresh)\n\t\t\t\t\t\tcolAcc.rgb = mix(colAcc.rgb, clipPlaneColorX.rgb, abs(clipPlaneColor.a));\n\t\t\t\t} // clipPlaneColor.a < 0.0\n\t\t\t}\n\t\t\t//ambient occlusion: make creases dark\n\t\t\tfloat min1 = 1000.0;\n\t\t\tfloat min2 = 1000.0;\n\t\t\t// find smallest and second-smallest distances\n\t\t\tvec4 firstHit1 = firstHit - deltaDir;\n\t\t\tfor (int i = 0; i < MAX_CLIP_PLANES; i++) {\n\t\t\t\tfloat d = distance2Plane(firstHit1, clipPlanes[i]);\n\t\t\t\tif (d < min1) {\n\t\t\t\t\t\tmin2 = min1;\n\t\t\t\t\t\tmin1 = d;\n\t\t\t\t} else if (d < min2) {\n\t\t\t\t\t\tmin2 = d;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfloat thresh = 1.2 * sliceSize;\n\t\t\tif ((isClipCutaway) && (min2 < thresh) && (sampleRange.x > 0.0)) {\n\t\t\t\tif ((abs(sampleRange.x - firstHit.a) > ( 2.0 * thresh)) && ((abs(sampleRange.y - firstHit.a) > (2.0 * thresh))))\n\t\t\t\t\tmin2 = thresh; \n\t\t\t}\n\t\t\t// if second is 0 -> factor 0 (black), if second >= sliceSize -> factor 1 (unchanged)\n\t\t\tconst float aoFrac = 0.5;\n\t\t\tfloat factor = (1.0 - aoFrac) + aoFrac * clamp(min2 / thresh, 0.0, 1.0);\n\t\t\t// linear darkening: multiply color by factor (or use mix(vec3(0), colAcc.rgb, factor))\n\t\t\tcolAcc.rgb *= factor;\n\t\t}\n\t}\n\tcolAcc.a = (colAcc.a / earlyTermination) * backOpacity;\n\tfColor = colAcc;\n\tfloat renderDrawAmbientOcclusionX = renderDrawAmbientOcclusionXY.x;\n\tfloat drawOpacity = renderDrawAmbientOcclusionXY.y;\n\tif ((overlays < 1.0) && (drawOpacity <= 0.0))\n\t\treturn;\n\t//overlay pass\n\tsamplePos = vec4(start.xyz, 0.0); //ray position\n\t//start: OPTIONAL fast pass: rapid traversal until first hit\n\tstepSizeFast = sliceSize * 1.0;\n\tdeltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);\n\twhile (samplePos.a <= len) {\n\t\tfloat val = texture(overlay, samplePos.xyz).a;\n\t\tif (drawOpacity > 0.0)\n\t\t\tval = max(val, texture(drawing, samplePos.xyz).r);\n\t\tif (val > 0.001)\n\t\t\tbreak;\n\t\tsamplePos += deltaDirFast; //advance ray position\n\t}\n\tif (samplePos.a >= len) {\n\t\tif (isClip && (fColor.a == 0.0))\n\t\t\t\tfColor += clipPlaneColorX;\n\t\t\treturn;\n\t}\n\tsamplePos -= deltaDirFast;\n\tif (samplePos.a < 0.0)\n\t\tvec4 samplePos = vec4(start.xyz, 0.0); //ray position\n\t//end: fast pass\n\tfloat overFarthest = len;\n\tcolAcc = vec4(0.0, 0.0, 0.0, 0.0);\n\n\tsamplePos += deltaDir * ran; //jitter ray\n\tvec4 overFirstHit = vec4(0.0,0.0,0.0,2.0 * len);\n\tif (backgroundMasksOverlays > 0)\n\t\tsamplePos = firstHit;\n\tbool firstDraw = true;\n\twhile (samplePos.a <= len) {\n\t\tvec4 colorSample = texture(overlay, samplePos.xyz);\n\t\tif ((colorSample.a < 0.01) && (drawOpacity > 0.0)) {\n\t\t\tfloat val = texture(drawing, samplePos.xyz).r;\n\t\t\tvec4 draw = drawColor(val, drawOpacity);\n\t\t\tif ((draw.a > 0.0) && (firstDraw)) {\n\t\t\t\tfirstDraw = false;\n\t\t\t\tfloat sum = 0.0;\n\t\t\t\tconst float mn = 1.0 / 256.0;\n\t\t\t\tconst float sampleRadius = 1.1;\n\t\t\t\tfloat dx = sliceSize * sampleRadius;\n\t\t\t\tvec3 center = samplePos.xyz;\n\t\t\t\t//six neighbors that share a face\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,+dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,-dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,0.0), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,0.0), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,0.0), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,0.0), dir)).r, mn);\n\t\t\t\t//float proportion = (sum / mn) / 6.0;\n\t\t\t\t\n\t\t\t\t//12 neighbors that share an edge\n\t\t\t\tdx = sliceSize * sampleRadius * sqrt(2.0) * 0.5;\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,+dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,+dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(+dx,+dx,0.0), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,-dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,-dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(-dx,-dx,0.0), dir)).r, mn);\n\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,-dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,-dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(+dx,-dx,0.0), dir)).r, mn);\n\t\t\t\t\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,+dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,+dx), dir)).r, mn);\n\t\t\t\tsum += min(texture(drawing, center.xyz + cross(vec3(-dx,+dx,0.0), dir)).r, mn);\n\t\t\t\tfloat proportion = (sum / mn) / 18.0; //proportion of six neighbors is non-zero\n\t\t\t\t\n\t\t\t\t//a high proportion of hits means crevice\n\t\t\t\t//since the AO term adds shadows that darken most voxels, it will result in dark surfaces\n\t\t\t\t//the term brighten adds a little illumination to balance this\n\t\t\t\t// without brighten, only the most extreme ridges will not be darker\n\t\t\t\tconst float brighten = 1.2;\n\t\t\t\tvec3 ao = draw.rgb * (1.0 - proportion) * brighten;\n\t\t\t\tdraw.rgb = mix (draw.rgb, ao , renderDrawAmbientOcclusionX);\n\t\t\t}\n\t\t\tcolorSample = draw;\n\t\t}\n\t\tsamplePos += deltaDir; //advance ray position\n\t\tif (colorSample.a >= 0.01) {\n\t\t\tif (overFirstHit.a > len)\n\t\t\t\toverFirstHit = samplePos;\n\t\t\tcolorSample.a *= renderOverlayBlend;\n\t\t\tcolorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);\n\t\t\tcolorSample.rgb *= colorSample.a;\n\t\t\tcolAcc= (1.0 - colAcc.a) * colorSample + colAcc;\n\t\t\toverFarthest = samplePos.a;\n\t\t\tif ( colAcc.a > earlyTermination )\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t//if (samplePos.a >= len) {\n\tif (colAcc.a <= 0.0) {\n\t\tif (isClip && (fColor.a == 0.0))\n\t\t\tfColor += clipPlaneColorX;\n\t\treturn;\n\t}\n\tif (overFirstHit.a < firstHit.a)\n\t\tgl_FragDepth = frac2ndc(overFirstHit.xyz);\n\tfloat overMix = colAcc.a;\n\tfloat overlayDepth = 0.3;\n\tif (fColor.a <= 0.0)\n\t\toverMix = 1.0;\n\telse if (((overFarthest) > backNearest)) {\n\t\tfloat dx = (overFarthest - backNearest)/1.73;\n\t\tdx = fColor.a * pow(dx, overlayDepth);\n\t\toverMix *= 1.0 - dx;\n\t}\n\tfColor.rgb = mix(fColor.rgb, colAcc.rgb, overMix);\n\tfColor.a = max(fColor.a, colAcc.a);\n}`;\nvar fragRenderSliceShader = `#version 300 es\n#line 215\n#define MAX_CLIP_PLANES 6\nprecision highp int;\nprecision highp float;\nuniform vec3 rayDir;\nuniform vec3 texVox;\nuniform int backgroundMasksOverlays;\nuniform vec3 volScale;\nuniform vec4 clipPlane;\nuniform vec4 clipPlanes[MAX_CLIP_PLANES];\nuniform highp sampler3D volume, overlay;\nuniform highp sampler3D paqd;\nuniform vec4 paqdUniforms;\nuniform float overlays;\nuniform float backOpacity;\nuniform mat4 mvpMtx;\nuniform mat4 matRAS;\nuniform vec4 clipPlaneColor;\nuniform float renderOverlayBlend;\nuniform highp sampler3D drawing;\nuniform highp sampler2D colormap;\nuniform vec2 renderDrawAmbientOcclusionXY;\nin vec3 vColor;\nout vec4 fColor;\n` + kRenderFunc + `\n\tvoid main() {\n\tvec3 start = vColor;\n\tgl_FragDepth = 1.0;\n\tvec3 backPosition = GetBackPosition(start);\n\tvec3 dir = normalize(backPosition - start);\n\t//clipVolumeStart(start, backPosition);\n\tfloat len = length(backPosition - start);\n\tfloat lenVox = length((texVox * start) - (texVox * backPosition));\n\tif ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays\n\t\tfColor = vec4(0.0,0.0,0.0,0.0);\n\t\treturn;\n\t}\n\tfloat sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube\n\tfloat stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples\n\tfloat opacityCorrection = stepSize/sliceSize;\n\tvec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);\n\tvec4 samplePos = vec4(start.xyz, 0.0); //ray position\n\tvec4 colAcc = vec4(0.0,0.0,0.0,0.0);\n\tvec4 firstHit = vec4(0.0,0.0,0.0,2.0 * len);\n\tconst float earlyTermination = 0.95;\n\tfloat backNearest = len; //assume no hit\n\tfloat dis = len;\n\t//check if axial plane is closest\n\tvec4 aClip = vec4(0.0, 0.0, 1.0, (1.0- clipPlane.z) - 0.5);\n\tfloat adis = (-aClip.a - dot(aClip.xyz, samplePos.xyz-0.5)) / dot(dir,aClip.xyz);\n\tif (adis > 0.0)\n\t\tdis = min(adis, dis);\n\t//check of coronal plane is closest\n\tvec4 cClip = vec4(0.0, 1.0, 0.0, (1.0- clipPlane.y) - 0.5);\n\tfloat cdis = (-cClip.a - dot(cClip.xyz, samplePos.xyz-0.5)) / dot(dir,cClip.xyz);\n\tif (cdis > 0.0)\n\t\tdis = min(cdis, dis);\n\t//check if coronal slice is closest\n\tvec4 sClip = vec4(1.0, 0.0, 0.0, (1.0- clipPlane.x) - 0.5);\n\tfloat sdis = (-sClip.a - dot(sClip.xyz, samplePos.xyz-0.5)) / dot(dir,sClip.xyz);\n\tif (sdis > 0.0)\n\t\tdis = min(sdis, dis);\n\tif ((dis > 0.0) && (dis < len)) {\n\t\tsamplePos = vec4(samplePos.xyz+dir * dis, dis);\n\t\tcolAcc = texture(volume, samplePos.xyz);\n\t\tcolAcc.a = earlyTermination;\n\t\tfirstHit = samplePos;\n\t\tbackNearest = min(backNearest, samplePos.a);\n\t}\n\t//the following are only used by overlays\n\tvec4 clipPlaneColorX = clipPlaneColor;\n\tbool isColorPlaneInVolume = false;\n\tbool isClip = false;\n\tbool isClipCutaway = false;\n\tvec2 sampleRange;\n\t// vec4 clipPos = applyClip(dir, samplePos, len, isClip);\n\tfloat stepSizeFast = sliceSize * 1.9;\n\tvec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);\n\tif (samplePos.a < 0.0)\n\t\tvec4 samplePos = vec4(start.xyz, 0.0); //ray position\n\tfloat ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);\n\tsamplePos += deltaDir * ran; //jitter ray\n` + kRenderTail;\nvar fragRenderShader = `#version 300 es\n#line 215\n#define MAX_CLIP_PLANES 6\nprecision highp int;\nprecision highp float;\nuniform vec3 rayDir;\nuniform vec3 texVox;\nuniform int backgroundMasksOverlays;\nuniform vec3 volScale;\nuniform vec4 clipPlane;\nuniform vec4 clipPlanes[MAX_CLIP_PLANES];\nuniform bool isClipCutaway;\nuniform highp sampler3D volume, overlay;\nuniform highp sampler3D paqd;\nuniform vec4 paqdUniforms;\nuniform float overlays;\nuniform float backOpacity;\nuniform mat4 mvpMtx;\nuniform mat4 matRAS;\nuniform vec4 clipPlaneColor;\nuniform float renderOverlayBlend;\nuniform highp sampler3D drawing;\nuniform highp sampler2D colormap;\nuniform vec2 renderDrawAmbientOcclusionXY;\nin vec3 vColor;\nout vec4 fColor;\n` + kRenderFunc + kRenderInit + `while (samplePos.a <= len) {\n\t\tif (skipSample(samplePos.a, sampleRange) ^^ isClipCutaway) {\n\t\t\tsamplePos += deltaDirFast;\n\t\t\tcontinue;\n\t\t}\n\t\tvec4 colorSample = texture(volume, samplePos.xyz);\n\t\tsamplePos += deltaDir; //advance ray position\n\t\tif (colorSample.a >= 0.01) {\n\t\t\tif (firstHit.a > len)\n\t\t\t\tfirstHit = samplePos;\n\t\t\t// backNearest = min(backNearest, samplePos.a);\n\t\t\tcolorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);\n\t\t\tcolorSample.rgb *= colorSample.a;\n\t\t\tcolAcc= (1.0 - colAcc.a) * colorSample + colAcc;\n\t\t\tif ( colAcc.a > earlyTermination )\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tif (firstHit.a < len)\n\t\tbackNearest = firstHit.a;\n` + kRenderTail;\nvar gradientOpacityLutCount = 192;\nvar kFragRenderGradientDecl = `#version 300 es\n#line 215\n#define MAX_CLIP_PLANES 6\nprecision highp int;\nprecision highp float;\nuniform vec3 rayDir;\nuniform vec3 texVox;\nuniform int backgroundMasksOverlays;\nuniform vec3 volScale;\nuniform vec4 clipPlane;\nuniform vec4 clipPlanes[MAX_CLIP_PLANES];\nuniform bool isClipCutaway;\nuniform highp sampler3D volume, overlay;\nuniform highp sampler3D paqd;\nuniform vec4 paqdUniforms;\nuniform float overlays;\nuniform float backOpacity;\nuniform mat4 mvpMtx;\nuniform mat4 normMtx;\nuniform mat4 matRAS;\nuniform vec4 clipPlaneColor;\nuniform float renderOverlayBlend;\nuniform highp sampler3D drawing, gradient;\nuniform highp sampler2D colormap;\nuniform highp sampler2D matCap;\nuniform vec2 renderDrawAmbientOcclusionXY;\nuniform float gradientAmount;\nuniform float silhouettePower;\nuniform float gradientOpacity[${gradientOpacityLutCount}];\nin vec3 vColor;\nout vec4 fColor;\n`;\nvar fragRenderGradientShader = kFragRenderGradientDecl + kRenderFunc + kRenderInit + `\n\tfloat startPos = samplePos.a;\n\tfloat clipCloseThresh = 5.0 * deltaDir.a;\n\tfloat clipClose = sampleRange.x;\n\tif (isClipCutaway)\n\t\tclipClose = sampleRange.y;\n\tif (!isClip)\n\t\tclipClose = -1.0;\n\tfloat brighten = 2.0; //modulating makes average intensity darker 0.5 * 0.5 = 0.25\n\t//vec4 prevGrad = vec4(0.0);\n\tfloat silhouetteThreshold = 1.0 - silhouettePower;\n\twhile (samplePos.a <= len) {\n\t\tif (skipSample(samplePos.a, sampleRange) ^^ isClipCutaway) {\n\t\t\tsamplePos += deltaDirFast;\n\t\t\tcontinue;\n\t\t}\n\t\tvec4 colorSample = texture(volume, samplePos.xyz);\n\t\tif (colorSample.a >= 0.0) {\n\t\t\tvec4 grad = texture(gradient, samplePos.xyz);\n\t\t\tgrad.rgb = normalize(grad.rgb*2.0 - 1.0);\n\t\t\t//if (grad.a < prevGrad.a)\n\t\t\t//\tgrad.rgb = prevGrad.rgb;\n\t\t\t//prevGrad = grad;\n\t\t\tvec3 n = mat3(normMtx) * grad.rgb;\n\t\t\tn.y = - n.y;\n\t\t\tvec4 mc = vec4(texture(matCap, n.xy * 0.5 + 0.5).rgb, 1.0) * brighten;\n\t\t\tmc = mix(vec4(1.0), mc, gradientAmount);\n\t\t\tif (abs(samplePos.a - clipClose) > clipCloseThresh)\n\t\t\t\tcolorSample.rgb *= mc.rgb;\n\t\t\tif (firstHit.a > len)\n\t\t\t\tfirstHit = samplePos;\n\t\t\tbackNearest = min(backNearest, samplePos.a);\n\t\t\tcolorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);\n\t\t\tint gradIdx = int(grad.a * ${gradientOpacityLutCount}.0);\n\t\t\tcolorSample.a *= gradientOpacity[gradIdx];\n\t\t\tfloat lightNormDot = dot(grad.rgb, rayDir);\n\t\t\t// n.b. \"lightNormDor\" is cosTheta, \"silhouettePower\" is Fresnel effect exponent\n \t\t\tcolorSample.a *= pow(1.0 - abs(lightNormDot), silhouettePower);\n \t\t\tfloat viewAlign = abs(lightNormDot); // 0 = perpendicular, 1 = aligned\n \t\t\t// linearly map silhouettePower (0..1) to a threshold range, e.g., [1.0, 0.0]\n \t\t\t// Cull voxels that are too aligned with the view direction\n \t\t\tif (viewAlign > silhouetteThreshold)\n \t\t\t\tcolorSample.a = 0.0;\n\t\t\tcolorSample.rgb *= colorSample.a;\n\t\t\tcolAcc= (1.0 - colAcc.a) * colorSample + colAcc;\n\t\t\tif ( colAcc.a > earlyTermination )\n\t\t\t\tbreak;\n\t\t}\n\t\tsamplePos += deltaDir; //advance ray position\n\t}\n` + kRenderTail;\nvar fragRenderGradientValuesShader = kFragRenderGradientDecl + kRenderFunc + kRenderInit + `\n\tfloat startPos = samplePos.a;\n\t//float clipClose = clipPos.a + 3.0 * deltaDir.a; //do not apply gradients near clip plane\n\tfloat brighten = 2.0; //modulating makes average intensity darker 0.5 * 0.5 = 0.25\n\t//vec4 prevGrad = vec4(0.0);\n\twhile (samplePos.a <= len) {\n\t\tvec4 colorSample = texture(volume, samplePos.xyz);\n\t\tif (colorSample.a >= 0.0) {\n\t\t\tvec4 grad = texture(gradient, samplePos.xyz);\n\t\t\tcolorSample.rgb = abs(normalize(grad.rgb*2.0 - 1.0));\n\t\t\tif (firstHit.a > len)\n\t\t\t\tfirstHit = samplePos;\n\t\t\tbackNearest = min(backNearest, samplePos.a);\n\t\t\tcolorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);\n\t\t\tcolorSample.rgb *= colorSample.a;\n\t\t\tcolAcc= (1.0 - colAcc.a) * colorSample + colAcc;\n\t\t\tif ( colAcc.a > earlyTermination )\n\t\t\t\tbreak;\n\t\t}\n\t\tsamplePos += deltaDir; //advance ray position\n\t}\n` + kRenderTail;\nvar vertSliceMMShader = `#version 300 es\n#line 392\nlayout(location=0) in vec3 pos;\nuniform int axCorSag;\nuniform mat4 mvpMtx;\nuniform mat4 frac2mm;\nuniform float slice;\nout vec3 texPos;\nvoid main(void) {\n\ttexPos = vec3(pos.x, pos.y, slice);\n\tif (axCorSag > 1)\n\t\ttexPos = vec3(slice, pos.x, pos.y);\n\telse if (axCorSag > 0)\n\t\ttexPos = vec3(pos.x, slice, pos.y);\n\tvec4 mm = frac2mm * vec4(texPos, 1.0);\n\tgl_Position = mvpMtx * mm;\n}`;\nvar kFragSliceHead = `#version 300 es\n#line 411\nprecision highp int;\nprecision highp float;\nuniform highp sampler3D volume, overlay;\nuniform highp sampler3D paqd;\nuniform vec4 paqdUniforms;\nuniform int backgroundMasksOverlays;\nuniform float overlayOutlineWidth;\nuniform float overlayAlphaShader;\nuniform int axCorSag;\nuniform float overlays;\nuniform float opacity;\nuniform float drawOpacity;\nuniform float drawRimOpacity;\nuniform bool isAlphaClipDark;\nuniform highp sampler3D drawing;\nuniform highp sampler2D colormap;\nin vec3 texPos;\nout vec4 color;\n` + kDrawFunc + `\nvec4 blendRGBA(vec4 foreground, vec4 background) {\n  float alphaOut = foreground.a + background.a * (1.0 - foreground.a);\n  vec3 colorOut = (foreground.rgb * foreground.a + background.rgb * background.a * (1.0 - foreground.a)) / alphaOut;\n  return vec4(colorOut, alphaOut);\n}\nfloat paqdEaseAlpha(float alpha) {\n  // t are alpha transitions\n  // <t0 -> y0\n  // t0..t1  -> mix between y0..y1\n  // t1..t2 -> mix between y1..y2\n  // >t2 -> y2\n  float t0 = paqdUniforms[0]; // 0.3;\n  float t1 = 0.5 * (paqdUniforms[0] + paqdUniforms[1]); // 0.4;\n  float t2 = paqdUniforms[1]; // 0.9;\n  float y0 = 0.0;\n  float y1 = abs(paqdUniforms[2]); // 1.0;\n  float y2 = abs(paqdUniforms[3]); //0.25;\n  if (alpha <= t0) {\n    return y0;\n  } else if (alpha <= t1) {\n    return mix(y0, y1, (alpha - t0) / (t1 - t0)); // LERP 0.0 \\u2192 1.0\n  } else if (alpha <= t2) {\n    return mix(y1, y2, (alpha - t1) / (t2 - t1)); // LERP 1.0 \\u2192 0.2\n  } else {\n    return y2;\n  }\n}\n\nvoid main() {\n\t//color = vec4(1.0, 0.0, 1.0, 1.0);return;\n\tvec4 background = texture(volume, texPos);\n\tcolor = vec4(background.rgb, opacity);\n\tif ((isAlphaClipDark) && (background.a == 0.0)) color.a = 0.0; //FSLeyes clipping range\n\tvec4 ocolor = vec4(0.0);\n\tfloat overlayAlpha = overlayAlphaShader;\n\tif (overlays > 0.0) {\n\t\tocolor = texture(overlay, texPos);\n\t\t//dFdx for \"boxing\" issue 435 has aliasing on some implementations (coarse vs fine)\n\t\t//however, this only identifies 50% of the edges due to aliasing effects\n\t\t// http://www.aclockworkberry.com/shader-derivative-functions/\n\t\t// https://bgolus.medium.com/distinctive-derivative-differences-cce38d36797b\n\t\t//if ((ocolor.a >= 1.0) && ((dFdx(ocolor.a) != 0.0) || (dFdy(ocolor.a) != 0.0)  ))\n\t\t//\tocolor.rbg = vec3(0.0, 0.0, 0.0);\n\t\tbool isOutlineBelowNotAboveThreshold = true;\n\t\tif (isOutlineBelowNotAboveThreshold) {\n\t\t\tif ((overlayOutlineWidth > 0.0) && (ocolor.a < 1.0)) { //check voxel neighbors for edge\n\t\t\t\tvec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));\n\t\t\t\t//6 voxel neighbors that share a face\n\t\t\t\tvec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);\n\t\t\t\tvec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);\n\t\t\t\tvec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);\n\t\t\t\tvec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);\n\t\t\t\tvec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);\n\t\t\t\tvec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);\n\t\t\t\tfloat a = 0.0;\n\t\t\t\tif (axCorSag != 2) {\n\t\t\t\t\ta = max(a, texture(overlay, vxR).a);\n\t\t\t\t\ta = max(a, texture(overlay, vxL).a);\n\t\t\t\t}\n\t\t\t\tif (axCorSag != 1) {\n\t\t\t\t\ta = max(a, texture(overlay, vxA).a);\n\t\t\t\t\ta = max(a, texture(overlay, vxP).a);\n\t\t\t\t}\n\t\t\t\tif (axCorSag != 0) {\n\t\t\t\t\ta = max(a, texture(overlay, vxS).a);\n\t\t\t\t\ta = max(a, texture(overlay, vxI).a);\n\t\t\t\t}\n\t\t\t\tbool isCheckCorners = true;\n\t\t\t\tif (isCheckCorners) {\n\t\t\t\t\t//12 voxel neighbors that share an edge\n\t\t\t\t\tvec3 vxRA = vec3(texPos.x+vx.x, texPos.y+vx.y, texPos.z);\n\t\t\t\t\tvec3 vxLA = vec3(texPos.x-vx.x, texPos.y+vx.y, texPos.z);\n\t\t\t\t\tvec3 vxRP = vec3(texPos.x+vx.x, texPos.y-vx.y, texPos.z);\n\t\t\t\t\tvec3 vxLP = vec3(texPos.x-vx.x, texPos.y-vx.y, texPos.z);\n\t\t\t\t\tvec3 vxRS = vec3(texPos.x+vx.x, texPos.y, texPos.z+vx.z);\n\t\t\t\t\tvec3 vxLS = vec3(texPos.x-vx.x, texPos.y, texPos.z+vx.z);\n\t\t\t\t\tvec3 vxRI = vec3(texPos.x+vx.x, texPos.y, texPos.z-vx.z);\n\t\t\t\t\tvec3 vxLI = vec3(texPos.x-vx.x, texPos.y, texPos.z-vx.z);\n\t\t\t\t\tvec3 vxAS = vec3(texPos.x, texPos.y+vx.y, texPos.z+vx.z);\n\t\t\t\t\tvec3 vxPS = vec3(texPos.x, texPos.y-vx.y, texPos.z+vx.z);\n\t\t\t\t\tvec3 vxAI = vec3(texPos.x, texPos.y+vx.y, texPos.z-vx.z);\n\t\t\t\t\tvec3 vxPI = vec3(texPos.x, texPos.y-vx.y, texPos.z-vx.z);\n\n\t\t\t\t\tif (axCorSag == 0) { //axial corners\n\t\t\t\t\t\ta = max(a, texture(overlay, vxRA).a);\n\t\t\t\t\t\ta = max(a, texture(overlay, vxLA).a);\n\t\t\t\t\t\ta = max(a, texture(overlay, vxRP).a);\n\t\t\t\t\t\ta = max(a, texture(overlay, vxLP).a);\n\t\t\t\t\t}\n\t\t\t\t\tif (axCorSag == 1) { //coronal corners\n\t\t\t\t\t\ta = max(a, texture(overlay, vxRS).a);\n\t\t\t\t\t\ta = max(a, texture(overlay, vxLS).a);\n\t\t\t\t\t\ta = max(a, texture(overlay, vxRI).a);\n\t\t\t\t\t\ta = max(a, texture(overlay, vxLI).a);\n\t\t\t\t\t}\n\t\t\t\t\tif (axCorSag == 2) { //sagittal corners\n\t\t\t\t\t\ta = max(a, texture(overlay, vxAS).a);\n\t\t\t\t\t\ta = max(a, texture(overlay, vxPS).a);\n\t\t\t\t\t\ta = max(a, texture(overlay, vxAI).a);\n\t\t\t\t\t\ta = max(a, texture(overlay, vxPI).a);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (a >= 1.0) {\n\t\t\t\t\tocolor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\toverlayAlpha = 1.0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tif ((overlayOutlineWidth > 0.0) && (ocolor.a >= 1.0)) { //check voxel neighbors for edge\n\t\t\t\tvec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));\n\t\t\t\tvec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);\n\t\t\t\tvec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);\n\t\t\t\tvec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);\n\t\t\t\tvec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);\n\t\t\t\tvec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);\n\t\t\t\tvec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);\n\t\t\t\tfloat a = 1.0;\n\t\t\t\tif (axCorSag != 2) {\n\t\t\t\t\ta = min(a, texture(overlay, vxR).a);\n\t\t\t\t\ta = min(a, texture(overlay, vxL).a);\n\t\t\t\t}\n\t\t\t\tif (axCorSag != 1) {\n\t\t\t\t\ta = min(a, texture(overlay, vxA).a);\n\t\t\t\t\ta = min(a, texture(overlay, vxP).a);\n\t\t\t\t}\n\t\t\t\tif (axCorSag != 0) {\n\t\t\t\t\ta = min(a, texture(overlay, vxS).a);\n\t\t\t\t\ta = min(a, texture(overlay, vxI).a);\n\t\t\t\t}\n\t\t\t\tif (a < 1.0) {\n\t\t\t\t\tocolor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t\t\t\toverlayAlpha = 1.0;\n\t\t\t\t}\n\t\t\t}\n\t\t} //outline above threshold\n\t}\n\n`;\nvar fragSlice2DShader = `#version 300 es\n#line 411\nprecision highp int;\nprecision highp float;\nuniform highp sampler2D volume, overlay;\nuniform int backgroundMasksOverlays;\nuniform float overlayOutlineWidth;\nuniform float overlayAlphaShader;\nuniform int axCorSag;\nuniform float overlays;\nuniform float opacity;\nuniform float drawOpacity;\nuniform bool isAlphaClipDark;\nuniform highp sampler2D drawing;\nuniform highp sampler2D colormap;\nin vec3 texPos;\nout vec4 color;` + kDrawFunc + `void main() {\n\t//color = vec4(1.0, 0.0, 1.0, 1.0);return;\n\tvec4 background = texture(volume, texPos.xy);\n\tcolor = vec4(background.rgb, opacity);\n\tif ((isAlphaClipDark) && (background.a == 0.0)) color.a = 0.0; //FSLeyes clipping range\n\tvec4 dcolor = drawColor(texture(drawing, texPos.xy).r, drawOpacity);\n\tif (dcolor.a > 0.0) {\n\t\tcolor.rgb = mix(color.rgb, dcolor.rgb, dcolor.a);\n\t\tcolor.a = max(drawOpacity, color.a);\n\t}\n}`;\nvar kFragSliceTail = `\tocolor.a *= overlayAlpha;\n\tfloat drawV = texture(drawing, texPos).r;\n\tvec4 dcolor = drawColor(drawV, drawOpacity);\n\tif (dcolor.a > 0.0) {\n\t\tif (drawRimOpacity >= 0.0) {\n\t\t\tvec3 vx = 1.0 / vec3(textureSize(drawing, 0));\n\t\t\t//6 voxel neighbors that share a face\n\t\t\tvec3 offsetX = dFdx(texPos); // left-right spacing\n\t\t\tvec3 offsetY = dFdy(texPos); // up-down spacing\n\t\t\tfloat L = texture(drawing, texPos - offsetX).r;\n\t\t\tfloat R = texture(drawing, texPos + offsetX).r;\n\t\t\tfloat T = texture(drawing, texPos - offsetY).r;\n\t\t\tfloat B = texture(drawing, texPos + offsetY).r;\n\t\t\tif (L != drawV || R != drawV || T != drawV || B != drawV)\n\t\t\t\tdcolor.a = drawRimOpacity;\n\t\t}\n\t\tcolor.rgb = mix(color.rgb, dcolor.rgb, dcolor.a);\n\t\tcolor.a = max(drawOpacity, color.a);\n\t}\n\tvec4 pcolor = texture(paqd, texPos);\n\tif (pcolor.a > 0.0) {\n\t\tpcolor.a = paqdEaseAlpha(pcolor.a);\n\t\tif (pcolor.a > 0.0) {\n\t\t\tif (paqdUniforms[3] < 0.0)\n\t\t\t\tocolor = blendRGBA(pcolor, ocolor);\n\t\t\telse\n\t\t\t\tocolor = blendRGBA(ocolor, pcolor);\n\t\t}\n\t}\n\tif ((backgroundMasksOverlays > 0) && (background.a == 0.0))\n\t\treturn;\n\tfloat a = color.a + ocolor.a * (1.0 - color.a); // premultiplied alpha\n\tif (a == 0.0) return;\n\tcolor.rgb = mix(color.rgb, ocolor.rgb, ocolor.a / a);\n\tcolor.a = a;\n}`;\nvar fragSliceMMShader = kFragSliceHead + kFragSliceTail;\nvar fragSliceV1Shader = kFragSliceHead + `\tif (ocolor.a > 0.0) {\n\t\t//https://gamedev.stackexchange.com/questions/102889/is-it-possible-to-convert-vec4-to-int-in-glsl-using-opengl-es\n\t\tuint alpha = uint(ocolor.a * 255.0);\n\t\tvec3 xyzFlip = vec3(float((uint(1) & alpha) > uint(0)), float((uint(2) & alpha) > uint(0)), float((uint(4) & alpha) > uint(0)));\n\t\t//convert from 0 and 1 to -1 and 1\n\t\txyzFlip = (xyzFlip * 2.0) - 1.0;\n\t\t//https://math.stackexchange.com/questions/1905533/find-perpendicular-distance-from-point-to-line-in-3d\n\t\t//v1 principle direction of tensor for this voxel\n\t\tvec3 v1 = ocolor.rgb;\n\t\t//flips encode polarity to convert from 0..1 to -1..1 (27 bits vs 24 bit precision)\n\t\tv1 = normalize( v1 * xyzFlip);\n\t\tvec3 vxl = fract(texPos * vec3(textureSize(volume, 0))) - 0.5;\n\t\t//vxl coordinates now -0.5..+0.5 so 0,0,0 is origin\n\t\tvxl.x = -vxl.x;\n\t\tfloat t = dot(vxl,v1);\n\t\tvec3 P = t * v1;\n\t\tfloat dx = length(P-vxl);\n\t\tocolor.a = 1.0 - smoothstep(0.2,0.25, dx);\n\t\t//if modulation was applied, use that to scale alpha not color:\n\t\tocolor.a *= length(ocolor.rgb);\n\t\tocolor.rgb = normalize(ocolor.rgb);\n\t\t//compute distance one half voxel closer to viewer:\n\t\tfloat pan = 0.5;\n\t\tif (axCorSag == 0)\n\t\t\tvxl.z -= pan;\n\t\tif (axCorSag == 1)\n\t\t\tvxl.y -= pan;\n\t\tif (axCorSag == 2)\n\t\t\tvxl.x += pan;\n\t\tt = dot(vxl,v1);\n\t\tP = t * v1;\n\t\tfloat dx2 = length(P-vxl);\n\t\tocolor.rgb += (dx2-dx-(0.5 * pan)) * 1.0;\n\t}\n` + kFragSliceTail;\nvar fragRectShader = `#version 300 es\n#line 480\nprecision highp int;\nprecision highp float;\nuniform vec4 lineColor;\nout vec4 color;\nvoid main() {\n\tcolor = lineColor;\n}`;\nvar fragRectOutlineShader = `#version 300 es\n#line 723\nprecision highp int;\nprecision highp float;\n\nuniform vec4 lineColor;\nuniform vec4 leftTopWidthHeight;\nuniform float thickness; // line thickness in pixels\nuniform vec2 canvasWidthHeight;\n\nout vec4 color;\n\nvoid main() {\n    // fragment position in screen coordinates\n    vec2 fragCoord = gl_FragCoord.xy;\n\n    // canvas height\n    float canvasHeight = canvasWidthHeight.y;\n\n    // 'top' and 'bottom' to match gl_FragCoord.y coordinate system\n    float top = canvasHeight - leftTopWidthHeight.y;\n    float bottom = top - leftTopWidthHeight.w;\n\n    // left and right edges\n    float left = leftTopWidthHeight.x;\n    float right = left + leftTopWidthHeight.z;\n\n    bool withinLeft = fragCoord.x >= left && fragCoord.x <= left + thickness;\n    bool withinRight = fragCoord.x <= right && fragCoord.x >= right - thickness;\n    bool withinTop = fragCoord.y <= top && fragCoord.y >= top - thickness;\n    bool withinBottom = fragCoord.y >= bottom && fragCoord.y <= bottom + thickness;\n\n    bool isOutline = withinLeft || withinRight || withinTop || withinBottom;\n\n    if (isOutline) {\n        color = lineColor;\n    } else {\n        discard; \n    }\n}`;\nvar vertColorbarShader = `#version 300 es\n#line 490\nlayout(location=0) in vec3 pos;\nuniform vec2 canvasWidthHeight;\nuniform vec4 leftTopWidthHeight;\nout vec2 vColor;\nvoid main(void) {\n\t//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1\n\tvec2 frac;\n\tfrac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1\n\tfrac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0\n\tfrac = (frac * 2.0) - 1.0;\n\tgl_Position = vec4(frac, 0.0, 1.0);\n\tvColor = pos.xy;\n}`;\nvar fragColorbarShader = `#version 300 es\n#line 506\nprecision highp int;\nprecision highp float;\nuniform highp sampler2D colormap;\nuniform float layer;\nin vec2 vColor;\nout vec4 color;\nvoid main() {\n\tfloat nlayer = float(textureSize(colormap, 0).y);\n\tfloat fmap = (0.5 + layer) / nlayer;\n\tcolor = vec4(texture(colormap, vec2(vColor.x, fmap)).rgb, 1.0);\n}`;\nvar vertRectShader = `#version 300 es\n#line 520\nlayout(location=0) in vec3 pos;\nuniform vec2 canvasWidthHeight;\nuniform vec4 leftTopWidthHeight;\nvoid main(void) {\n\t//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1\n\tvec2 frac;\n\tfrac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1\n\tfrac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0\n\tfrac = (frac * 2.0) - 1.0;\n\tgl_Position = vec4(frac, 0.0, 1.0);\n}`;\nvar vertLineShader = `#version 300 es\n#line 534\nlayout(location=0) in vec3 pos;\nuniform vec2 canvasWidthHeight;\nuniform float thickness;\nuniform vec4 startXYendXY;\nvoid main(void) {\n\tvec2 posXY = mix(startXYendXY.xy, startXYendXY.zw, pos.x);\n\tvec2 dir = normalize(startXYendXY.xy - startXYendXY.zw);\n\tposXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);\n\tposXY.x = (posXY.x) / canvasWidthHeight.x; //0..1\n\tposXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0\n\tgl_Position = vec4((posXY * 2.0) - 1.0, 0.0, 1.0);\n}`;\nvar vertLine3DShader = `#version 300 es\n#line 534\nlayout(location=0) in vec3 pos;\nuniform vec2 canvasWidthHeight;\nuniform float thickness;\nuniform vec2 startXY;\nuniform vec3 endXYZ; // transformed XYZ point\nvoid main(void) {\t\n\tvec2 posXY = mix(startXY.xy, endXYZ.xy, pos.x);\n\tvec2 startDiff = endXYZ.xy - startXY.xy;\n\tfloat startDistance = length(startDiff);\n\tvec2 diff = endXYZ.xy - posXY;\n\tfloat currentDistance = length(diff);\n\tvec2 dir = normalize(startXY.xy - endXYZ.xy);\n\tposXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);\n\tposXY.x = (posXY.x) / canvasWidthHeight.x; //0..1\n\tposXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0\t\n\tfloat z = endXYZ.z * ( 1.0 - abs(currentDistance/startDistance)); \n\tgl_Position = vec4((posXY * 2.0) - 1.0, z, 1.0);\n}`;\nvar vertBmpShader = `#version 300 es\n#line 549\nlayout(location=0) in vec3 pos;\nuniform vec2 canvasWidthHeight;\nuniform vec4 leftTopWidthHeight;\nout vec2 vUV;\nvoid main(void) {\n\t//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1\n\tvec2 frac;\n\tfrac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1\n\tfrac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0\n\tfrac = (frac * 2.0) - 1.0;\n\tgl_Position = vec4(frac, 0.0, 1.0);\n\tvUV = vec2(pos.x, 1.0 - pos.y);\n}`;\nvar fragBmpShader = `#version 300 es\n#line 565\nprecision highp int;\nprecision highp float;\nuniform highp sampler2D bmpTexture;\nin vec2 vUV;\nout vec4 color;\nvoid main() {\n\tcolor = texture(bmpTexture, vUV);\n}`;\nvar vertFontShader = `#version 300 es\n#line 576\nlayout(location=0) in vec3 pos;\nuniform vec2 canvasWidthHeight;\nuniform vec4 leftTopWidthHeight;\nuniform vec4 uvLeftTopWidthHeight;\nout vec2 vUV;\nvoid main(void) {\n\t//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1\n\tvec2 frac;\n\tfrac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1\n\tfrac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0\n\tfrac = (frac * 2.0) - 1.0;\n\tgl_Position = vec4(frac, 0.0, 1.0);\n\tvUV = vec2(uvLeftTopWidthHeight.x + (pos.x * uvLeftTopWidthHeight.z), uvLeftTopWidthHeight.y  + ((1.0 - pos.y) * uvLeftTopWidthHeight.w) );\n}`;\nvar fragFontShader = `#version 300 es\n#line 593\nprecision highp int;\nprecision highp float;\nuniform highp sampler2D fontTexture;\nuniform vec4 fontColor;\nuniform float screenPxRange;\nin vec2 vUV;\nout vec4 color;\nfloat median(float r, float g, float b) {\n\treturn max(min(r, g), min(max(r, g), b));\n}\nvoid main() {\n\tvec3 msd = texture(fontTexture, vUV).rgb;\n\tfloat sd = median(msd.r, msd.g, msd.b);\n\tfloat screenPxDistance = screenPxRange*(sd - 0.5);\n\tfloat opacity = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n\tcolor = vec4(fontColor.rgb , fontColor.a * opacity);\n}`;\nvar vertCircleShader = `#version 300 es\nlayout(location=0) in vec3 pos;\nuniform vec2 canvasWidthHeight;\nuniform vec4 leftTopWidthHeight;\nuniform vec4 uvLeftTopWidthHeight;\nout vec2 vUV;\nvoid main(void) {\n\t//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1\n\tvec2 frac;\n\tfrac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1\n\tfrac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0\n\tfrac = (frac * 2.0) - 1.0;\n\tgl_Position = vec4(frac, 0.0, 1.0);\n\tvUV = pos.xy;\n}`;\nvar fragCircleShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform vec4 circleColor;\nuniform float fillPercent;\nin vec2 vUV;\nout vec4 color;\nvoid main() {\n\t/* Check if the pixel is inside the circle\n\t\t and color it with a gradient. Otherwise, color it \n\t\t transparent   */\n\tfloat distance = length(vUV-vec2(0.5,0.5));\n\tif ( distance < 0.5 && distance >= (1.0 - fillPercent) / 2.0){\n\t\t\tcolor = vec4(circleColor.r,circleColor.g,circleColor.b,circleColor.a) ;\t\t\t\n\t}else{\n\t\t\tcolor = vec4(0.0,0.0,0.0,0.0);\n\t}\n}\n`;\nvar vertOrientShader = `#version 300 es\n#line 613\nprecision highp int;\nprecision highp float;\nin vec3 vPos;\nout vec2 TexCoord;\nvoid main() {\n\tTexCoord = vPos.xy;\n\tgl_Position = vec4( (vPos.xy-vec2(0.5,0.5)) * 2.0, 0.0, 1.0);\n}`;\nvar fragOrientShaderU = `#version 300 es\nuniform highp usampler3D intensityVol;\n`;\nvar fragOrientShaderI = `#version 300 es\nuniform highp isampler3D intensityVol;\n`;\nvar fragOrientShaderF = `#version 300 es\nuniform highp sampler3D intensityVol;\n`;\nvar fragOrientShaderAtlas = `#line 1042\nprecision highp int;\nprecision highp float;\nin vec2 TexCoord;\nout vec4 FragColor;\nuniform bool isAdditiveBlend;\nuniform float coordZ;\nuniform float layer;\nuniform highp sampler2D colormap;\nuniform lowp sampler3D blend3D;\nuniform float opacity;\nuniform uint activeIndex;\nuniform vec4 xyzaFrac;\nuniform mat4 mtx;\nfloat textureWidth;\nfloat nlayer;\nfloat layerY;\n\nvec4 scalar2color(uint idx) {\n\tfloat fx = (float(idx) + 0.5) / textureWidth;\n\tvec4 clr = texture(colormap, vec2(fx, layerY)).rgba;\n\tif (clr.a > 0.0)\n\t\tclr.a = 1.0;\n\tclr.a *= opacity;\n\treturn clr;\n}\nvoid main(void) {\n\tvec4 vx = vec4(TexCoord.x, TexCoord.y, coordZ, 1.0) * mtx;\n\tuint idx = uint(texture(intensityVol, vx.xyz).r);\n\tif (idx == uint(0)) {\n\t\tif (layer < 1.0) {\n\t\t\tFragColor = vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\treturn;\n\t\t}\n\t\tFragColor = texture(blend3D, vec3(TexCoord.xy, coordZ));\n\t\treturn;\n\t}\n\ttextureWidth = float(textureSize(colormap, 0).x);\n\tnlayer = float(textureSize(colormap, 0).y);\n\tlayerY = ((2.0 * layer) + 1.5) / nlayer;\n\t//idx = ((idx - uint(1)) % uint(100))+uint(1);\n\tFragColor = scalar2color(idx);\n\tbool isBorder = false;\n\tvx = vec4(TexCoord.x+xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;\n\tuint R = uint(texture(intensityVol, vx.xyz).r);\n\tvx = vec4(TexCoord.x-xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;\n\tuint L = uint(texture(intensityVol, vx.xyz).r);\n\tvx = vec4(TexCoord.x, TexCoord.y+xyzaFrac.y, coordZ, 1.0) * mtx;\n\tuint A = uint(texture(intensityVol, vx.xyz).r);\n\tvx = vec4(TexCoord.x, TexCoord.y-xyzaFrac.y, coordZ, 1.0) * mtx;\n\tuint P = uint(texture(intensityVol, vx.xyz).r);\n\tvx = vec4(TexCoord.x, TexCoord.y, coordZ+xyzaFrac.z, 1.0) * mtx;\n\tuint S = uint(texture(intensityVol, vx.xyz).r);\n\tvx = vec4(TexCoord.x, TexCoord.y, coordZ-xyzaFrac.z, 1.0) * mtx;\n\tuint I = uint(texture(intensityVol, vx.xyz).r);\n\tvec4 centerColor = FragColor;\n\tFragColor.a += scalar2color(R).a;\n\tFragColor.a += scalar2color(L).a;\n\tFragColor.a += scalar2color(A).a;\n\tFragColor.a += scalar2color(P).a;\n\tFragColor.a += scalar2color(S).a;\n\tFragColor.a += scalar2color(I).a;\n\tFragColor.a /= 7.0;\n\tif ((!isBorder) &&(idx == activeIndex)) {\n\t\tif (centerColor.a > 0.5)\n\t\t\tFragColor.a *= 0.4;\n\t\telse\n\t\t\tFragColor.a =0.8;\n\t}\n\tif (xyzaFrac.a != 0.0) { //outline\n\t\tif ((idx != R) || (idx != L) || (idx != A) || (idx != P) || (idx != S) || (idx != I)) {\n\t\t\tisBorder = true;\n\t\t\tif (xyzaFrac.a > 0.0)\n\t\t\t\tFragColor.a = xyzaFrac.a;\n\t\t\telse\n\t\t\t\tFragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\t\t}\n\t}\n\tif (layer < 1.0) return;\n\t\tvec4 prevColor = texture(blend3D, vec3(TexCoord.xy, coordZ));\n\t\t// https://en.wikipedia.org/wiki/Alpha_compositing\n\t\tfloat aout = FragColor.a + (1.0 - FragColor.a) * prevColor.a;\n\t\tif (aout <= 0.0) return;\n\t\tif (isAdditiveBlend)\n\t\t\tFragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a)) / aout;\n\t\telse\n\t\t\tFragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a * (1.0 - FragColor.a))) / aout;\n\t\tFragColor.a = aout;\n}`;\nvar fragOrientShader = `#line 691\nprecision highp int;\nprecision highp float;\nin vec2 TexCoord;\nout vec4 FragColor;\nuniform float coordZ;\nuniform float layer;\nuniform float scl_slope;\nuniform float scl_inter;\nuniform float cal_max;\nuniform float cal_min;\nuniform float cal_maxNeg;\nuniform float cal_minNeg;\nuniform bool isAlphaThreshold;\nuniform bool isColorbarFromZero;\nuniform bool isAdditiveBlend;\nuniform highp sampler2D colormap;\nuniform lowp sampler3D blend3D;\nuniform int modulation;\nuniform highp sampler3D modulationVol;\nuniform float opacity;\nuniform mat4 mtx;\nvoid main(void) {\n\tvec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;\n\tif ((vx.x < 0.0) || (vx.x > 1.0) || (vx.y < 0.0) || (vx.y > 1.0) || (vx.z < 0.0) || (vx.z > 1.0)) {\n\t\t//set transparent if out of range\n\t\t//https://webglfundamentals.org/webgl/webgl-3d-textures-repeat-clamp.html\n\t\tFragColor = texture(blend3D, vec3(TexCoord.xy, coordZ));\n\t\treturn;\n\t}\n\tfloat f = (scl_slope * float(texture(intensityVol, vx.xyz).r)) + scl_inter;\n\tfloat mn = cal_min;\n\tfloat mx = cal_max;\n\tif ((isAlphaThreshold) || (isColorbarFromZero))\n\t\tmn = 0.0;\n\tfloat r = max(0.00001, abs(mx - mn));\n\tmn = min(mn, mx);\n\tfloat txl = mix(0.0, 1.0, (f - mn) / r);\n\tif (f > mn) { //issue1139: survives threshold, so round up to opaque voxel\n\t\ttxl = max(txl, 2.0/256.0);\n\t}\n\t//https://stackoverflow.com/questions/5879403/opengl-texture-coordinates-in-pixel-space\n\tfloat nlayer = float(textureSize(colormap, 0).y);\n\t//each volume has two color maps:\n\t// (layer*2) = negative and (layer * 2) + 1 = positive\n\tfloat y = ((2.0 * layer) + 1.5)/nlayer;\n\tFragColor = texture(colormap, vec2(txl, y)).rgba;\n\t//negative colors\n\tmn = cal_minNeg;\n\tmx = cal_maxNeg;\n\tif ((isAlphaThreshold) || (isColorbarFromZero))\n\t\tmx = 0.0;\n\t//if ((!isnan(cal_minNeg)) && ( f < mx)) {\n\tif ((cal_minNeg < cal_maxNeg) && ( f < mx)) {\n\t\tr = max(0.00001, abs(mx - mn));\n\t\tmn = min(mn, mx);\n\t\ttxl = 1.0 - mix(0.0, 1.0, (f - mn) / r);\n\t\t//issue1139: survives threshold, so round up to opaque voxel\n\t\ttxl = max(txl, 2.0/256.0);\n\t\ty = ((2.0 * layer) + 0.5)/nlayer;\n\t\tFragColor = texture(colormap, vec2(txl, y));\n\t}\n\tif (layer > 0.7)\n\t\tFragColor.a = step(0.00001, FragColor.a);\n\t//if (modulation > 10)\n\t//\tFragColor.a *= texture(modulationVol, vx.xyz).r;\n\t//\tFragColor.rgb *= texture(modulationVol, vx.xyz).r;\n\tif (isAlphaThreshold) {\n\t\tif ((cal_minNeg != cal_maxNeg) && ( f < 0.0) && (f > cal_maxNeg))\n\t\t\tFragColor.a = pow(-f / -cal_maxNeg, 2.0);\n\t\telse if ((f > 0.0) && (cal_min > 0.0))\n\t\t\tFragColor.a *= pow(f / cal_min, 2.0); //issue435:  A = (V/X)**2\n\t\t//FragColor.g = 0.0;\n\t} else if (isColorbarFromZero) {\n\t\tif ((cal_minNeg != cal_maxNeg) && ( f < 0.0) && (f > cal_maxNeg))\n\t\t\tFragColor.a = 0.0;\n\t\telse if ((f > 0.0) && (cal_min > 0.0) && (f < cal_min))\n\t\t\tFragColor.a *= 0.0;\n\n\t}\n\tif (modulation == 1) {\n\t\tFragColor.rgb *= texture(modulationVol, vx.xyz).r;\n\t} else if (modulation == 2) {\n\t\tFragColor.a = texture(modulationVol, vx.xyz).r;\n\t}\n\tFragColor.a *= opacity;\n\tif (layer < 1.0) return;\n\tvec4 prevColor = texture(blend3D, vec3(TexCoord.xy, coordZ));\n\t// https://en.wikipedia.org/wiki/Alpha_compositing\n\tfloat aout = FragColor.a + (1.0 - FragColor.a) * prevColor.a;\n\tif (aout <= 0.0) return;\n\tif (isAdditiveBlend)\n\t\tFragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a)) / aout;\n\telse\n\t\tFragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a * (1.0 - FragColor.a))) / aout;\n\tFragColor.a = aout;\n}`;\nvar fragPAQDOrientShader = `#line 773\nprecision highp int;\nprecision highp float;\nin vec2 TexCoord;\nout vec4 FragColor;\nuniform float coordZ;\nuniform float layer;\nuniform float scl_slope;\nuniform float scl_inter;\nuniform float cal_max;\nuniform float cal_min;\nuniform highp sampler2D colormap;\nuniform lowp sampler3D blend3D;\nuniform float opacity;\nuniform mat4 mtx;\nuniform bool hasAlpha;\nuniform int modulation;\nuniform highp sampler3D modulationVol;\nfloat textureWidth;\nfloat nlayer;\nfloat layerY;\n\nvec4 scalar2color(uint idx) {\n\tfloat fx = (float(idx) + 0.5) / textureWidth;\n\tvec4 clr = texture(colormap, vec2(fx, layerY)).rgba;\n\tif (clr.a > 0.0)\n\t\tclr.a = 1.0;\n\tclr.a *= opacity;\n\treturn clr;\n}\n\nvec4 paqd2color(uvec4 rgba) {\n  // paqd r: max prob index, g: 2nd index, b: max prob a: 2nd prob\n  float prob1 = float(rgba.b)/255.0;\n  float prob2 = float(rgba.a)/255.0;\n  vec4 clr1 = scalar2color(rgba.r);\n  vec4 clr2 = scalar2color(rgba.g);\n  float total = prob1 + prob2;\n  vec4 clr = vec4(clr1.rgb, total);\n  // vec4 clr = vec4(clr1.rgb, prob1);\n  if (total > 0.0) {\n    clr.rgb = mix(clr2.rgb, clr1.rgb, prob1 / total);\n  }\n  return clr;\n}\nvoid main(void) {\n\tvec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;\n\tivec3 voxelCoord = ivec3(vx.xyz * vec3(textureSize(intensityVol, 0)));\n\tuvec4 rgba = texelFetch(intensityVol, voxelCoord, 0);\n\tFragColor = vec4(0.0, 0.0, 0.0, 0.0);\n\tif (rgba.r > uint(0)) {\n\t\ttextureWidth = float(textureSize(colormap, 0).x);\n\t\tnlayer = float(textureSize(colormap, 0).y);\n\t\tlayerY = ((2.0 * layer) + 1.5) / nlayer;\n\t\tFragColor = paqd2color(rgba);\n\t\treturn;\n\t}\n\t// if (layer > 2.0) return;\n\t// FragColor = texture(blend3D, vec3(TexCoord.xy, coordZ));\n}`;\nvar fragRGBOrientShader = `#line 773\nprecision highp int;\nprecision highp float;\nin vec2 TexCoord;\nout vec4 FragColor;\nuniform float coordZ;\nuniform float layer;\nuniform float scl_slope;\nuniform float scl_inter;\nuniform float cal_max;\nuniform float cal_min;\nuniform highp sampler2D colormap;\nuniform lowp sampler3D blend3D;\nuniform float opacity;\nuniform mat4 mtx;\nuniform bool hasAlpha;\nuniform int modulation;\nuniform highp sampler3D modulationVol;\nvoid main(void) {\n\tvec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;\n\tuvec4 aColor = texture(intensityVol, vx.xyz);\n\tFragColor = vec4(float(aColor.r) / 255.0, float(aColor.g) / 255.0, float(aColor.b) / 255.0, float(aColor.a) / 255.0);\n\tif (modulation == 1)\n\t\tFragColor.rgb *= texture(modulationVol, vx.xyz).r;\n\tif (!hasAlpha) {\n\t\tFragColor.a = (FragColor.r * 0.21 + FragColor.g * 0.72 + FragColor.b * 0.07);\n\t\t//next line: we could binarize alpha, but see rendering of visible human\n\t\t//FragColor.a = step(0.01, FragColor.a);\n\t}\n\tif (modulation == 2)\n\t\tFragColor.a = texture(modulationVol, vx.xyz).r;\n\tFragColor.a *= opacity;\n\tif (layer < 1.0) return;\n\tvec4 prevColor = texture(blend3D, vec3(TexCoord.xy, coordZ));\n\t// https://en.wikipedia.org/wiki/Alpha_compositing\n\tfloat aout = FragColor.a + (1.0 - FragColor.a) * prevColor.a;\n\tif (aout <= 0.0) return;\n\tFragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a * (1.0 - FragColor.a))) / aout;\n\tFragColor.a = aout;\n}`;\nvar vertGrowCutShader = `#version 300 es\n#line 808\nprecision highp int;\nprecision highp float;\nin vec3 vPos;\nout vec2 TexCoord;\nvoid main() {\n\tTexCoord = vPos.xy;\n\tgl_Position = vec4((vPos.x - 0.5) * 2.0, (vPos.y - 0.5) * 2.0, 0.0, 1.0);\n}`;\nvar fragGrowCutShader = `#version 300 es\n#line 829\n\tprecision highp float;\n\tprecision highp int;\n\tprecision highp isampler3D;\n\tlayout(location = 0) out int label;\n\tlayout(location = 1) out int strength;\n\tin vec2 TexCoord;\n\tuniform int finalPass;\n\tuniform float coordZ;\n\tuniform lowp sampler3D in3D;\n\tuniform highp isampler3D backTex; // background\n\tuniform highp isampler3D labelTex; // label\n\tuniform highp isampler3D strengthTex; // strength\nvoid main(void) {\n\tvec3 interpolatedTextureCoordinate = vec3(TexCoord.xy, coordZ);\n\tivec3 size = textureSize(backTex, 0);\n\tivec3 texelIndex = ivec3(floor(interpolatedTextureCoordinate * vec3(size)));\n\tint background = texelFetch(backTex, texelIndex, 0).r;\n\tlabel = texelFetch(labelTex, texelIndex, 0).r;\n\tstrength = texelFetch(strengthTex, texelIndex, 0).r;\n\tfor (int k = -1; k <= 1; k++) {\n\t\tfor (int j = -1; j <= 1; j++) {\n\t\t\tfor (int i = -1; i <= 1; i++) {\n\t\t\t\tif (i != 0 && j != 0 && k != 0) {\n\t\t\t\t\tivec3 neighborIndex = texelIndex + ivec3(i,j,k);\n\t\t\t\t\tint neighborBackground = texelFetch(backTex, neighborIndex, 0).r;\n\t\t\t\t\tint neighborStrength = texelFetch(strengthTex, neighborIndex, 0).r;\n\t\t\t\t\tint strengthCost = abs(neighborBackground - background);\n\t\t\t\t\tint takeoverStrength = neighborStrength - strengthCost;\n\t\t\t\t\tif (takeoverStrength > strength) {\n\t\t\t\t\t\tstrength = takeoverStrength;\n\t\t\t\t\t\tlabel = texelFetch(labelTex, neighborIndex, 0).r;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (finalPass < 1)\n\t\treturn;\n\tint ok = 1;\n\tivec4 labelCount = ivec4(0,0,0,0);\n\tfor (int k = -1; k <= 1; k++)\n\t\tfor (int j = -1; j <= 1; j++)\n\t\t\tfor (int i = -1; i <= 1; i++) {\n\t\t\t\tivec3 neighborIndex = texelIndex + ivec3(i,j,k);\n\t\t\t\tint ilabel = texelFetch(labelTex, neighborIndex, 0).r;\n\t\t\t\tif ((ilabel < 0) || (ilabel > 3))\n\t\t\t\t\tok = 0;\n\t\t\t\telse\n\t\t\t\t\tlabelCount[ilabel]++;\n\t\t\t}\n\tif (ok != 1) {\n\t\treturn;\n\t}\n\tint maxIdx = 0;\n\tfor (int i = 1; i < 4; i++) {\n\t\tif (labelCount[i] > labelCount[maxIdx])\n\t\t\tmaxIdx = i;\n\t}\n\tlabel = maxIdx;\n}`;\nvar vertSurfaceShader = `#version 300 es\nlayout(location=0) in vec3 pos;\nuniform mat4 mvpMtx;\nvoid main(void) {\n\tgl_Position = mvpMtx * vec4(pos, 1.0);\n}`;\nvar fragSurfaceShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform vec4 surfaceColor;\nout vec4 color;\nvoid main() {\n\tcolor = surfaceColor;\n}`;\nvar vertFiberShader = `#version 300 es\nlayout(location=0) in vec3 pos;\nlayout(location=1) in vec4 clr;\nout vec4 vClr;\nuniform mat4 mvpMtx;\nvoid main(void) {\n\tgl_Position = mvpMtx * vec4(pos, 1.0);\n\tvClr = clr;\n}`;\nvar fragFiberShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nin vec4 vClr;\nout vec4 color;\nuniform float opacity;\nvoid main() {\n\tcolor = vec4(vClr.rgb, opacity);\n}`;\nvar vertMeshShader = `#version 300 es\nlayout(location=0) in vec3 pos;\nlayout(location=1) in vec4 norm;\nlayout(location=2) in vec4 clr;\nuniform mat4 mvpMtx;\n//uniform mat4 modelMtx;\nuniform mat4 normMtx;\nout vec4 vClr;\nout vec3 vN;\nout vec4 vP;\nout vec4 vPc;\nvoid main(void) {\n\tvec3 lightPosition = vec3(0.0, 0.0, -10.0);\n\tvP = vec4(pos, 1.0);\n\tvPc = mvpMtx * vec4(pos, 1.0);\n\tgl_Position = vPc;\n\tvN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);\n\t//vV = -vec3(modelMtx*vec4(pos,1.0));\n\tvClr = clr;\n}`;\nvar fragMeshDepthShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nout vec4 color;\nvec4 packFloatToVec4i(const float value) {\n\tconst vec4 bitSh = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\n\tconst vec4 bitMsk = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\n\tvec4 res = fract(value * bitSh);\n\tres -= res.xxyz * bitMsk;\n\treturn res;\n}\nvoid main() {\n\tcolor = packFloatToVec4i(gl_FragCoord.z);\n}`;\nvar fragMeshToonShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nfloat stepmix(float edge0, float edge1, float E, float x){\n\tfloat T = clamp(0.5 * (x - edge0 + E) / E, 0.0, 1.0);\n\treturn mix(edge0, edge1, T);\n}\nvoid main() {\n\tvec3 r = vec3(0.0, 0.0, 1.0);\n\tfloat ambient = 0.3;\n\tfloat diffuse = 0.6;\n\tfloat specular = 0.5;\n\tfloat shininess = 50.0;\n\tvec3 n = normalize(vN);\n\tvec3 lightPosition = vec3(0.0, 10.0, -5.0);\n\tvec3 l = normalize(lightPosition);\n\tfloat df = max(0.0, dot(n, l));\n\tfloat sf = pow(max(dot(reflect(l, n), r), 0.0), shininess);\n\tconst float A = 0.1;\n\tconst float B = 0.3;\n\tconst float C = 0.6;\n\tconst float D = 1.0;\n\tfloat E = fwidth(df);\n\tif (df > A - E && df < A + E) df = stepmix(A, B, E, df);\n\telse if (df > B - E && df < B + E) df = stepmix(B, C, E, df);\n\telse if (df > C - E && df < C + E) df = stepmix(C, D, E, df);\n\telse if (df < A) df = 0.0;\n\telse if (df < B) df = B;\n\telse if (df < C) df = C;\n\telse df = D;\n\tE = fwidth(sf);\n\tif (sf > 0.5 - E && sf < 0.5 + E)\n\t\tsf = smoothstep(0.5 - E, 0.5 + E, sf);\n\telse\n\t\tsf = step(0.5, sf);\n\tvec3 a = vClr.rgb * ambient;\n\tvec3 d = max(df, 0.0) * vClr.rgb * diffuse;\n\tcolor.rgb = a + d + (specular * sf);\n\tcolor.a = opacity;\n}`;\nvar fragMeshOutlineShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nvoid main() {\n\tvec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)\n\tfloat ambient = 0.3;\n\tfloat diffuse = 0.6;\n\tfloat specular = 0.25;\n\tfloat shininess = 10.0;\n\tfloat PenWidth = 0.6;\n\tvec3 n = normalize(vN);\n\tvec3 lightPosition = vec3(0.0, 10.0, -5.0);\n\tvec3 l = normalize(lightPosition);\n\tfloat lightNormDot = dot(n, l);\n\tfloat view = abs(dot(n,r)); //with respect to viewer\n\tif (PenWidth < view) discard;\n\tvec3 a = vClr.rgb * ambient;\n\tvec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;\n\tfloat s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);\n\tcolor.rgb = a + d + s;\n\tcolor.a = opacity;\n}`;\nvar fragMeshRimShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nvoid main() {\n\tconst float thresh = 0.4;\n\tconst vec3 viewDir = vec3(0.0, 0.0, -1.0);\n\tvec3 n = normalize(vN);\n\t// use abs() for two-sided lighting, max() for one sided\n\tfloat cosTheta = abs(dot(n, viewDir));\n\t// float cosTheta = max(dot(n, viewDir), 0.0);\n\t// optional fresnel equation - adjust exponent\n\t// cosTheta = 1.0 - pow(1.0 - cosTheta, 2.0);\n\t// use step for binary edges, smoothstep for feathered edges\n\t// vec3 d = step(thresh, cosTheta) * vClr.rgb;\n\tvec3 d = smoothstep(thresh - 0.05, thresh + 0.05, cosTheta) * vClr.rgb;\n\tcolor = vec4(d, opacity);\n}`;\nvar fragMeshContourShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nvoid main() {\n  const float edge0 = 0.1;\n  const float edge1 = 0.25;\n  const vec3 viewDir = vec3(0.0, 0.0, -1.0);\n  vec3 n = normalize(vN);\n  float cosTheta = abs(dot(n, viewDir));\n  float alpha = 1.0 - smoothstep(edge0, edge1, cosTheta);\n  if (alpha <= 0.0) {\n    discard;\n  }\n  color = vec4(0.0, 0.0, 0.0, opacity * alpha);\n}`;\nvar fragMeshEdgeShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nvoid main() {\n\tvec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)\n\tfloat diffuse = 1.0;\n\tfloat specular = 0.2;\n\tfloat shininess = 10.0;\n\tvec3 n = normalize(vN);\n\tvec3 lightPosition = vec3(0.0, 0.0, -5.0);\n\tvec3 l = normalize(lightPosition);\n\tfloat lightNormDot = max(dot(n, l), 0.0);\n\tvec3 d = lightNormDot * vClr.rgb * diffuse;\n\tfloat s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);\n\tcolor = vec4(d + s, opacity);\n}`;\nvar fragMeshDiffuseEdgeShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nvoid main() {\n\tfloat diffuse = 1.4;\n\tvec3 l = vec3(0.0, 0.0, -1.0);\n\tfloat lightNormDot = max(dot(normalize(vN), l), 0.0);\n\tcolor = vec4(lightNormDot * vClr.rgb * diffuse, opacity);\n}`;\nvar fragMeshSpecularEdgeShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nvoid main() {\n\tfloat specularRGB = 0.7;\n\tfloat specularWhite = 0.3;\n\tfloat shininess = 10.0;\n\tfloat diffuse = 1.0;\n\tvec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)\n\tvec3 n = normalize(vN);\n\tvec3 l = vec3(0.0, 0.0, -1.0);\n\tfloat lightNormDot = max(dot(n, l), 0.0);\n\tvec3 d3 = lightNormDot * vClr.rgb * diffuse;\n\tfloat s = pow(max(dot(reflect(l, n), r), 0.0), shininess);\n\tvec3 s3 = specularRGB * s * vClr.rgb;\n\ts *= specularWhite;\n\tcolor = vec4(d3 + s3 + s, opacity);\n}`;\nvar fragMeshShaderCrevice = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nin vec4 vPc;\nout vec4 color;\nvoid main() {\n\tvec3 n = normalize(vN);\n\t// Compute curvature\n\tvec3 dx = dFdx(n);\n\tvec3 dy = dFdy(n);\n\tvec3 xneg = n - dx;\n\tvec3 xpos = n + dx;\n\tvec3 yneg = n - dy;\n\tvec3 ypos = n + dy;\n\tfloat depth = length(vPc.xyz);\n\tfloat curv = (cross(xneg, xpos).y - cross(yneg, ypos).x) / depth;\n\t//at this stage 0.5 for flat, with valleys dark and ridges bright\n\tcurv = 1.0 - (curv + 0.5);\n\t//clamp\n\tcurv =  min(max(curv, 0.0), 1.0);\n\t// easing function\n\tcurv = pow(curv, 0.5);\n\t//modulate ambient and diffuse with curvature\n\tvec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)\n\tfloat ambient = 0.6;\n\tfloat diffuse = 0.6;\n\tfloat specular = 0.2;\n\tfloat shininess = 10.0;\n\tvec3 lightPosition = vec3(0.0, 10.0, -2.0);\n\tvec3 l = normalize(lightPosition);\n\tfloat lightNormDot = dot(n, l);\n\tvec3 a = vClr.rgb * ambient * curv;\n\tvec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;\n\tfloat s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);\n\tcolor = vec4(a + d + s, opacity);\n}`;\nvar fragCrosscutMeshShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform vec4 sliceMM;\nuniform float thickMM ;\nin vec4 vClr;\nin vec4 vP;  // vertex position in mm\nout vec4 color;\nvoid main() {\n    const float LINE_WIDTH_PX = 4.0;   // target thickness in pixels\n    //const float LINE_THRESH_MM = 1.5;   // target thickness in pixels\n    const float TILT_STRENGTH = 1.0;   // >0 shrinks ribbon for oblique triangles\n    // --- signed distances to each orthogonal plane (object space) ---\n    vec3 d = vP.xyz - sliceMM.xyz;\n    vec3 ad = abs(d);\n    // --- derivatives to get pixel-consistent widths (per-axis) ---\n    vec3 fd = fwidth(vP.xyz);\n    //minDist is in mm not pixels\n    float minDist = min(ad.x, min(ad.y, ad.z));\n    if (minDist >  sliceMM.w) discard;\n    // --- per-plane obliqueness: use the two in-plane components' fwidth ---\n    float tiltX = length(fd.yz); // for plane with normal X\n    float tiltY = length(fd.xz); // for plane with normal Y\n    float tiltZ = length(fd.xy); // for plane with normal Z\n    float tfX = clamp(1.0 / (1.0 + TILT_STRENGTH * tiltX), 0.0, 1.0);\n    float tfY = clamp(1.0 / (1.0 + TILT_STRENGTH * tiltY), 0.0, 1.0);\n    float tfZ = clamp(1.0 / (1.0 + TILT_STRENGTH * tiltZ), 0.0, 1.0);\n    // --- half-widths for each plane (apply per-axis tilt factor) ---\n    vec3 halfWidth;\n    halfWidth.x = (LINE_WIDTH_PX * 0.5) * fd.x * tfX;\n    halfWidth.y = (LINE_WIDTH_PX * 0.5) * fd.y * tfY;\n    halfWidth.z = (LINE_WIDTH_PX * 0.5) * fd.z * tfZ;\n    // --- smooth alpha for each plane ---\n    vec3 edgeA = 1.0 - smoothstep(vec3(0.0), halfWidth, ad);\n    // combine planes (max of X,Y,Z ribbons)\n    float edgeAlpha = max(edgeA.x, max(edgeA.y, edgeA.z));\n    if (edgeAlpha <= 1e-4) discard; // outside ribbons\n    color = vec4(vClr.rgb, vClr.a * edgeAlpha);\n}`;\nvar fragMeshShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nvoid main() {\n\tvec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)\n\tfloat ambient = 0.35;\n\tfloat diffuse = 0.5;\n\tfloat specular = 0.2;\n\tfloat shininess = 10.0;\n\tvec3 n = normalize(vN);\n\tvec3 lightPosition = vec3(0.0, 10.0, -5.0);\n\tvec3 l = normalize(lightPosition);\n\tfloat lightNormDot = dot(n, l);\n\tvec3 a = vClr.rgb * ambient;\n\tvec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;\n\tfloat s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);\n\tcolor = vec4(a + d + s, opacity);\n}`;\nvar fragMeshMatcapShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nuniform sampler2D matCap;\nout vec4 color;\nvoid main() {\n\tvec3 n = normalize(vN);\n\tvec2 uv = n.xy * 0.5 + 0.5;\n\tuv.y = 1.0 - uv.y;\n\tvec3 clr = texture(matCap,uv.xy).rgb * vClr.rgb;\n\tcolor = vec4(clr, opacity);\n}`;\nvar fragMeshMatteShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nvoid main() {\n\tfloat ambient = 0.35;\n\tfloat diffuse = 0.6;\n\tvec3 n = normalize(vN);\n\tvec3 lightPosition = vec3(0.0, 10.0, -5.0);\n\tvec3 l = normalize(lightPosition);\n\tfloat lightNormDot = dot(n, l);\n\tvec3 a = vClr.rgb * ambient;\n\tvec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;\n\tcolor = vec4(a + d, opacity);\n}`;\nvar fragMeshHemiShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\nvoid main() {\n\tvec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)\n\tfloat ambient = 0.35;\n\tfloat diffuse = 0.5;\n\tfloat specular = 0.2;\n\tfloat shininess = 10.0;\n\tvec3 n = normalize(vN);\n\tvec3 lightPosition = vec3(0.0, 10.0, -5.0);\n\tvec3 l = normalize(lightPosition);\n\tfloat lightNormDot = dot(n, l);\n\tvec3 up = vec3(0.0, 1.0, 0.0);\n\tfloat ax = dot(n, up) * 0.5 + 0.5;  //Shreiner et al. (2013) OpenGL Programming Guide, 8th Ed., p 388. ISBN-10: 0321773039\n\tvec3 upClr = vec3(1.0, 1.0, 0.95);\n\tvec3 downClr = vec3(0.4, 0.4, 0.6);\n\tvec3 a = vClr.rgb * ambient;\n\ta *= mix(downClr, upClr, ax);\n\tvec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;\n\tfloat s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);\n\tcolor = vec4(a + d + s, opacity);\n}`;\nvar fragMeshShaderSHBlue = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nin vec3 vN;\nout vec4 color;\n//Spherical harmonics constants\nconst float C1 = 0.429043;\nconst float C2 = 0.511664;\nconst float C3 = 0.743125;\nconst float C4 = 0.886227;\nconst float C5 = 0.247708;\n//Spherical harmonics coefficients\n// Ramamoorthi, R., and P. Hanrahan. 2001b. \"An Efficient Representation for Irradiance Environment Maps.\" In Proceedings of SIGGRAPH 2001, pp. 497\\u2013500.\n// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl\n// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl\n// Constants for Eucalyptus Grove lighting\nconst vec3 L00  = vec3( 0.3783264,  0.4260425,  0.4504587);\nconst vec3 L1m1 = vec3( 0.2887813,  0.3586803,  0.4147053);\nconst vec3 L10  = vec3( 0.0379030,  0.0295216,  0.0098567);\nconst vec3 L11  = vec3(-0.1033028, -0.1031690, -0.0884924);\nconst vec3 L2m2 = vec3(-0.0621750, -0.0554432, -0.0396779);\nconst vec3 L2m1 = vec3( 0.0077820, -0.0148312, -0.0471301);\nconst vec3 L20  = vec3(-0.0935561, -0.1254260, -0.1525629);\nconst vec3 L21  = vec3(-0.0572703, -0.0502192, -0.0363410);\nconst vec3 L22  = vec3( 0.0203348, -0.0044201, -0.0452180);\nvec3 SH(vec3 vNormal) {\n\tvNormal = vec3(vNormal.x,vNormal.z,vNormal.y);\n\tvec3 diffuseColor = C1 * L22 * (vNormal.x * vNormal.x - vNormal.y * vNormal.y) +\n\tC3 * L20 * vNormal.z * vNormal.z +\n\tC4 * L00 -\n\tC5 * L20 +\n\t2.0 * C1 * L2m2 * vNormal.x * vNormal.y +\n\t2.0 * C1 * L21  * vNormal.x * vNormal.z +\n\t2.0 * C1 * L2m1 * vNormal.y * vNormal.z +\n\t2.0 * C2 * L11  * vNormal.x +\n\t2.0 * C2 * L1m1 * vNormal.y +\n\t2.0 * C2 * L10  * vNormal.z;\n\treturn diffuseColor;\n}\nvoid main() {\n\tvec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)\n\tfloat ambient = 0.3;\n\tfloat diffuse = 0.6;\n\tfloat specular = 0.1;\n\tfloat shininess = 10.0;\n\tvec3 n = normalize(vN);\n\tvec3 lightPosition = vec3(0.0, 10.0, -5.0);\n\tvec3 l = normalize(lightPosition);\n\tfloat s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);\n\tvec3 a = vClr.rgb * ambient;\n\tvec3 d = vClr.rgb * diffuse * SH(-reflect(n, vec3(l.x, l.y, -l.z)) );\n\tcolor = vec4(a + d + s, opacity);\n}`;\nvar vertFlatMeshShader = `#version 300 es\nlayout(location=0) in vec3 pos;\nlayout(location=1) in vec4 norm;\nlayout(location=2) in vec4 clr;\nuniform mat4 mvpMtx;\n//uniform mat4 modelMtx;\nuniform mat4 normMtx;\nout vec4 vClr;\nflat out vec3 vN;\nvoid main(void) {\n\tgl_Position = mvpMtx * vec4(pos, 1.0);\n\tvN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);\n\t//vV = -vec3(modelMtx*vec4(pos,1.0));\n\tvClr = clr;\n}`;\nvar fragFlatMeshShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nuniform float opacity;\nin vec4 vClr;\nflat in vec3 vN;\nout vec4 color;\nvoid main() {\n\tvec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)\n\tfloat ambient = 0.35;\n\tfloat diffuse = 0.5;\n\tfloat specular = 0.2;\n\tfloat shininess = 10.0;\n\tvec3 n = normalize(vN);\n\tvec3 lightPosition = vec3(0.0, 10.0, -5.0);\n\tvec3 l = normalize(lightPosition);\n\tfloat lightNormDot = dot(n, l);\n\tvec3 a = vClr.rgb * ambient;\n\tvec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;\n\tfloat s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);\n\tcolor = vec4(a + d + s, opacity);\n}`;\nvar fragVolumePickingShader = `#version 300 es\n#line 1260\n#define MAX_CLIP_PLANES 6\n//precision highp int;\nprecision highp float;\nuniform vec3 rayDir;\nuniform vec3 volScale;\nuniform vec3 texVox;\nuniform vec4 clipPlane;\nuniform vec4 clipPlanes[MAX_CLIP_PLANES];\nuniform bool isClipCutaway;\nuniform highp sampler3D volume, overlay;\nuniform highp sampler3D paqd;\nuniform vec4 paqdUniforms;\nuniform float overlays;\nuniform mat4 matRAS;\nuniform mat4 mvpMtx;\nuniform float drawOpacity, renderOverlayBlend;\nuniform highp sampler3D drawing;\nuniform highp sampler2D colormap;\nuniform int backgroundMasksOverlays;\nin vec3 vColor;\nout vec4 fColor;\n` + kRenderFunc + `\nvoid main() {\n\tint id = 254;\n\tvec3 start = vColor;\n\tgl_FragDepth = 1.0;\n\tfColor = vec4(0.0, 0.0, 0.0, 0.0); //assume no hit: ID = 0\n\tfloat fid = float(id & 255)/ 255.0;\n\tvec3 backPosition = GetBackPosition(start);\n\tvec3 dir = normalize(backPosition - start);\n\t//clipVolumeStart(start, backPosition);\n\tfloat len = length(backPosition - start);\n\tfloat lenVox = length((texVox * start) - (texVox * backPosition));\n\tif ((lenVox < 0.5) || (len > 3.0)) return;//discard; //length limit for parallel rays\n\tfloat sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube\n\tfloat stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples\n\tfloat opacityCorrection = stepSize/sliceSize;\n\tdir = normalize(dir);\n\tvec4 samplePos = vec4(start.xyz, 0.0); //ray position\n\tbool hasClip = false;\n\tvec2 sampleRange = vec2(0.0, len);\n\tfor (int i = 0; i < MAX_CLIP_PLANES; i++)\n\t\tclipSampleRange(dir, samplePos, clipPlanes[i], sampleRange, hasClip);\n\tbool isClip = (sampleRange.x > 0.0) || ((sampleRange.y < len) && (sampleRange.y > 0.0));\n\t//vec4 clipPos = applyClip(dir, samplePos, len, isClip);\n\tif (isClip) fColor = vec4(samplePos.xyz, 253.0 / 255.0); //assume no hit: ID = 0\n\tif ((isClipCutaway) && (sampleRange.x <= 0.0) && (sampleRange.y >= len)) {\n\t\t//completely clipped, but ray does not intersect plane\n\t\tif (hasClip)\n\t\t\tsamplePos.a = len + 1.0;\n\t\telse\n\t\t\tsampleRange = vec2(0.0, 0.0);\n\t}\n\t//start: OPTIONAL fast pass: rapid traversal until first hit\n\tfloat stepSizeFast = sliceSize * 1.9;\n\tvec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);\n\twhile (samplePos.a <= len) {\n\t\tif (skipSample(samplePos.a, sampleRange) ^^ isClipCutaway) {\n\t\t\tsamplePos += deltaDirFast;\n\t\t\tcontinue;\n\t\t}\n\t\tfloat val = texture(volume, samplePos.xyz).a;\n\t\tif (val > 0.01) {\n\t\t\tfColor = vec4(samplePos.rgb, fid);\n\t\t\tgl_FragDepth = frac2ndc(samplePos.xyz);\n\t\t\tbreak;\n\t\t}\n\t\tsamplePos += deltaDirFast; //advance ray position\n\t}\n\t//end: fast pass\n\tif ((overlays < 1.0) || (backgroundMasksOverlays > 0)) {\n\t\treturn; //background hit, no overlays\n\t}\n\t//overlay pass\n\tlen = min(len, samplePos.a); //only find overlay closer than background\n\tsamplePos = vec4(start.xyz, 0.0); //ray position\n\twhile (samplePos.a <= len) {\n\t\tfloat val = texture(overlay, samplePos.xyz).a;\n\t\tif (val > 0.01) {\n\t\t\tfColor = vec4(samplePos.rgb, fid);\n\t\t\tgl_FragDepth = frac2ndc(samplePos.xyz);\n\t\t\treturn;\n\t\t}\n\t\tsamplePos += deltaDirFast; //advance ray position\n\t}\n\t//if (fColor.a == 0.0) discard; //no hit in either background or overlays\n\t//you only get here if there is a hit with the background that is closer than any overlay\n}`;\nvar vertOrientCubeShader = `#version 300 es\n// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nlayout(location=0)  in vec3 a_position;\nlayout(location=1)  in vec3 a_color;\n// A matrix to transform the positions by\nuniform mat4 u_matrix;\nout vec3 vColor;\n// all shaders have a main function\nvoid main() {\n\t// Multiply the position by the matrix.\n\tvec4 pos = vec4(a_position, 1.0);\n\tgl_Position = u_matrix * vec4(pos);\n\tvColor = a_color;\n}\n`;\nvar fragOrientCubeShader = `#version 300 es\nprecision highp float;\nuniform vec4 u_color;\nin vec3 vColor;\nout vec4 outColor;\nvoid main() {\n\toutColor = vec4(vColor, 1.0);\n}`;\nvar vertPassThroughShader = `#version 300 es\n#line 1359\nprecision highp int;\nprecision highp float;\nin vec3 vPos;\nout vec2 TexCoord;\nvoid main() {\n\tTexCoord = vPos.xy;\n\tvec2 viewCoord = (vPos.xy - 0.5) * 2.0;\n\tgl_Position = vec4((vPos.xy - 0.5) * 2.0, 0.0, 1.0);\n}`;\nvar fragPassThroughShader = `#version 300 es\nprecision highp int;\nprecision highp float;\nin vec2 TexCoord;\nout vec4 FragColor;\nuniform float coordZ;\nuniform lowp sampler3D in3D;\nvoid main(void) {\n FragColor = texture(in3D, vec3(TexCoord.xy, coordZ));\n}`;\nvar blurVertShader = `#version 300 es\n#line 286\nprecision highp int;\nprecision highp float;\nin vec3 vPos;\nout vec2 TexCoord;\nvoid main() {\n    TexCoord = vPos.xy;\n    gl_Position = vec4( (vPos.xy-vec2(0.5,0.5))* 2.0, 0.0, 1.0);\n}`;\nvar blurFragShader = `#version 300 es\n#line 298\nprecision highp int;\nprecision highp float;\nin vec2 TexCoord;\nout vec4 FragColor;\nuniform float coordZ;\nuniform float dX;\nuniform float dY;\nuniform float dZ;\nuniform highp sampler3D intensityVol;\nvoid main(void) {\n vec3 vx = vec3(TexCoord.xy, coordZ);\n vec4 samp = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));\n samp += texture(intensityVol,vx+vec3(+dX,+dY,-dZ));\n samp += texture(intensityVol,vx+vec3(+dX,-dY,+dZ));\n samp += texture(intensityVol,vx+vec3(+dX,-dY,-dZ));\n samp += texture(intensityVol,vx+vec3(-dX,+dY,+dZ));\n samp += texture(intensityVol,vx+vec3(-dX,+dY,-dZ));\n samp += texture(intensityVol,vx+vec3(-dX,-dY,+dZ));\n samp += texture(intensityVol,vx+vec3(-dX,-dY,-dZ));\n FragColor = samp*0.125;\n}`;\nvar sobelBlurFragShader = `#version 300 es\n#line 298\nprecision highp int;\nprecision highp float;\nin vec2 TexCoord;\nout vec4 FragColor;\nuniform float coordZ;\nuniform float dX;\nuniform float dY;\nuniform float dZ;\nuniform highp sampler3D intensityVol;\nvoid main(void) {\n vec3 vx = vec3(TexCoord.xy, coordZ);\n vec4 XYZ = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));\n vec4 OYZ = texture(intensityVol,vx+vec3(0.0,+dY,+dZ));\n vec4 xYZ = texture(intensityVol,vx+vec3(-dX,+dY,+dZ));\n vec4 XOZ = texture(intensityVol,vx+vec3(+dX,0.0,+dZ));\n vec4 OOZ = texture(intensityVol,vx+vec3(0.0,0.0,+dZ));\n vec4 xOZ = texture(intensityVol,vx+vec3(-dX,0.0,+dZ));\n vec4 XyZ = texture(intensityVol,vx+vec3(+dX,-dY,+dZ));\n vec4 OyZ = texture(intensityVol,vx+vec3(0.0,-dY,+dZ));\n vec4 xyZ = texture(intensityVol,vx+vec3(-dX,-dY,+dZ));\n\n vec4 XYO = texture(intensityVol,vx+vec3(+dX,+dY,0.0));\n vec4 OYO = texture(intensityVol,vx+vec3(0.0,+dY,0.0));\n vec4 xYO = texture(intensityVol,vx+vec3(-dX,+dY,0.0));\n vec4 XOO = texture(intensityVol,vx+vec3(+dX,0.0,0.0));\n vec4 OOO = texture(intensityVol,vx+vec3(0.0,0.0,0.0));\n vec4 xOO = texture(intensityVol,vx+vec3(-dX,0.0,0.0));\n vec4 XyO = texture(intensityVol,vx+vec3(+dX,-dY,0.0));\n vec4 OyO = texture(intensityVol,vx+vec3(0.0,-dY,0.0));\n vec4 xyO = texture(intensityVol,vx+vec3(-dX,-dY,0.0));\n\n vec4 XYz = texture(intensityVol,vx+vec3(+dX,+dY,-dZ));\n vec4 OYz = texture(intensityVol,vx+vec3(0.0,+dY,-dZ));\n vec4 xYz = texture(intensityVol,vx+vec3(-dX,+dY,-dZ));\n vec4 XOz = texture(intensityVol,vx+vec3(+dX,0.0,-dZ));\n vec4 OOz = texture(intensityVol,vx+vec3(0.0,0.0,-dZ));\n vec4 xOz = texture(intensityVol,vx+vec3(-dX,0.0,-dZ));\n vec4 Xyz = texture(intensityVol,vx+vec3(+dX,-dY,-dZ));\n vec4 Oyz = texture(intensityVol,vx+vec3(0.0,-dY,-dZ));\n vec4 xyz = texture(intensityVol,vx+vec3(-dX,-dY,-dZ));\n\n vec4 blurred = vec4 (0.0, 0.0, 0.0, 0.0);\n blurred.r = 2.0*(xOz.r +xOZ.r +xyO.r +xYO.r +xOO.r +XOz.r +XOZ.r +XyO.r +XYO.r +XOO.r) +xyz.r +xyZ.r +xYz.r +xYZ.r +Xyz.r +XyZ.r +XYz.r +XYZ.r;\n blurred.g = 2.0*(Oyz.r +OyZ.r +xyO.r +XyO.r +OyO.r +OYz.r +OYZ.r +xYO.r +XYO.r +OYO.r) +xyz.r +Xyz.r +xyZ.r +XyZ.r +xYz.r +XYz.r +xYZ.r +XYZ.r;\n blurred.b = 2.0*(Oyz.r +OYz.r +xOz.r +XOz.r +OOz.r +OyZ.r +OYZ.r +xOZ.r +XOZ.r +OOZ.r) +xyz.r +Xyz.r +xYz.r +XYz.r +xyZ.r +XyZ.r +XyZ.r +XYZ.r;\n blurred.a = 0.32*(abs(blurred.r)+abs(blurred.g)+abs(blurred.b));\n // 0.0357 = 1/28 to account for weights, rescale to 2**16,\n FragColor = 0.0357*blurred;\n}`;\nvar kGradientMagnitude = `\n  gradientSample.a = log2(gradientSample.r*gradientSample.r + gradientSample.g*gradientSample.g + gradientSample.b*gradientSample.b + 1.922337562475971e-06) + 18.988706873717717;\n`;\nvar sobelFirstOrderFragShader = `#version 300 es\n#line 323\nprecision highp int;\nprecision highp float;\nin vec2 TexCoord;\nout vec4 FragColor;\nuniform float coordZ;\nuniform float dX;\nuniform float dY;\nuniform float dZ;\nuniform highp sampler3D intensityVol;\nvoid main(void) {\n  vec3 vx = vec3(TexCoord.xy, coordZ);\n  //Neighboring voxels 'T'op/'B'ottom, 'A'nterior/'P'osterior, 'R'ight/'L'eft\n  float TAR = texture(intensityVol,vx+vec3(+dX,+dY,+dZ)).r;\n  float TAL = texture(intensityVol,vx+vec3(+dX,+dY,-dZ)).r;\n  float TPR = texture(intensityVol,vx+vec3(+dX,-dY,+dZ)).r;\n  float TPL = texture(intensityVol,vx+vec3(+dX,-dY,-dZ)).r;\n  float BAR = texture(intensityVol,vx+vec3(-dX,+dY,+dZ)).r;\n  float BAL = texture(intensityVol,vx+vec3(-dX,+dY,-dZ)).r;\n  float BPR = texture(intensityVol,vx+vec3(-dX,-dY,+dZ)).r;\n  float BPL = texture(intensityVol,vx+vec3(-dX,-dY,-dZ)).r;\n  vec4 gradientSample = vec4 (0.0, 0.0, 0.0, 0.0);\n  gradientSample.r = BAR+BAL+BPR+BPL -TAR-TAL-TPR-TPL;\n  gradientSample.g = TPR+TPL+BPR+BPL -TAR-TAL-BAR-BAL;\n  gradientSample.b = TAL+TPL+BAL+BPL -TAR-TPR-BAR-BPR;\n${kGradientMagnitude}\n\t// 0.04242020977371934 = 1/(log2(3*8) - log2(1/(255**2*8))) // 3*8 -> max for 1st order gradient\n\tgradientSample.a *= 0.04242020977371934;\n  gradientSample.rgb = normalize(gradientSample.rgb);\n  gradientSample.rgb = (gradientSample.rgb * 0.5)+0.5;\n  FragColor = gradientSample;\n}`;\nvar sobelSecondOrderFragShader = `#version 300 es\n#line 323\nprecision highp int;\nprecision highp float;\nin vec2 TexCoord;\nout vec4 FragColor;\nuniform float coordZ;\nuniform float dX;\nuniform float dY;\nuniform float dZ;\nuniform float dX2;\nuniform float dY2;\nuniform float dZ2;\nuniform highp sampler3D intensityVol;\nvoid main(void) {\n  vec3 vx = vec3(TexCoord.xy, coordZ);\n  //Neighboring voxels 'T'op/'B'ottom, 'A'nterior/'P'osterior, 'R'ight/'L'eft\n  vec4 TAR = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));\n  vec4 TAL = texture(intensityVol,vx+vec3(+dX,+dY,-dZ));\n  vec4 TPR = texture(intensityVol,vx+vec3(+dX,-dY,+dZ));\n  vec4 TPL = texture(intensityVol,vx+vec3(+dX,-dY,-dZ));\n  vec4 BAR = texture(intensityVol,vx+vec3(-dX,+dY,+dZ));\n  vec4 BAL = texture(intensityVol,vx+vec3(-dX,+dY,-dZ));\n  vec4 BPR = texture(intensityVol,vx+vec3(-dX,-dY,+dZ));\n  vec4 BPL = texture(intensityVol,vx+vec3(-dX,-dY,-dZ));\n  vec4 T = texture(intensityVol,vx+vec3(+dX2,0.0,0.0));\n  vec4 A = texture(intensityVol,vx+vec3(0.0,+dY2,0.0));\n  vec4 R = texture(intensityVol,vx+vec3(0.0,0.0,+dZ2));\n  vec4 B = texture(intensityVol,vx+vec3(-dX2,0.0,0.0));\n  vec4 P = texture(intensityVol,vx+vec3(0.0,-dY2,0.0));\n  vec4 L = texture(intensityVol,vx+vec3(0.0,0.0,-dZ2));\n  vec4 gradientSample = vec4 (0.0, 0.0, 0.0, 0.0);\n  gradientSample.r = -4.0*B.r +8.0*(BAR.r+BAL.r+BPR.r+BPL.r) -8.0*(TAR.r+TAL.r+TPR.r+TPL.r) +4.0*T.r;\n  gradientSample.g = -4.0*P.g +8.0*(TPR.g+TPL.g+BPR.g+BPL.g) -8.0*(TAR.g+TAL.g+BAR.g+BAL.g) +4.0*A.g;\n  gradientSample.b = -4.0*L.b +8.0*(TAL.b+TPL.b+BAL.b+BPL.b) -8.0*(TAR.b+TPR.b+BAR.b+BPR.b) +4.0*R.b;\n${kGradientMagnitude}\n\tgradientSample.a *= 0.0325;\n  gradientSample.rgb = normalize(gradientSample.rgb);\n  gradientSample.rgb =  (gradientSample.rgb * 0.5)+0.5;\n  FragColor = gradientSample;\n}`;\n\n// src/shader.ts\nvar compileShader = function(gl, vert, frag) {\n  const vs = gl.createShader(gl.VERTEX_SHADER);\n  gl.shaderSource(vs, vert);\n  gl.compileShader(vs);\n  const fs = gl.createShader(gl.FRAGMENT_SHADER);\n  gl.shaderSource(fs, frag);\n  gl.compileShader(fs);\n  const program = gl.createProgram();\n  gl.attachShader(program, vs);\n  gl.attachShader(program, fs);\n  gl.linkProgram(program);\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    console.log(gl.getProgramInfoLog(program));\n    if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS)) {\n      console.log(\"Vertex shader compilation error:\", gl.getShaderInfoLog(vs));\n    }\n    if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS)) {\n      console.log(\"Fragment shader compilation error:\", gl.getShaderInfoLog(fs));\n    }\n    log.error(gl.getProgramInfoLog(program));\n    throw new Error(\"Shader failed to link, see console for log\");\n  }\n  return program;\n};\nvar Shader = class {\n  constructor(gl, vertexSrc, fragmentSrc) {\n    __publicField(this, \"program\");\n    __publicField(this, \"uniforms\", {});\n    __publicField(this, \"isMatcap\");\n    __publicField(this, \"isCrosscut\");\n    this.program = compileShader(gl, vertexSrc, fragmentSrc);\n    const regexUniform = /uniform[^;]+[ ](\\w+);/g;\n    const matchUniformName = /uniform[^;]+[ ](\\w+);/;\n    const vertexUnifs = vertexSrc.match(regexUniform);\n    const fragUnifs = fragmentSrc.match(regexUniform);\n    if (vertexUnifs) {\n      vertexUnifs.forEach((unif) => {\n        const m = unif.match(matchUniformName);\n        this.uniforms[m[1]] = -1;\n      });\n    }\n    if (fragUnifs) {\n      fragUnifs.forEach((unif) => {\n        const m = unif.match(matchUniformName);\n        this.uniforms[m[1]] = -1;\n      });\n    }\n    for (const unif in this.uniforms) {\n      this.uniforms[unif] = gl.getUniformLocation(this.program, unif);\n    }\n  }\n  use(gl) {\n    gl.useProgram(this.program);\n  }\n};\n\n// src/utils/nice.ts\nvar nice = (x, round) => {\n  const exp = Math.floor(Math.log(x) / Math.log(10));\n  const f = x / Math.pow(10, exp);\n  let nf;\n  if (round) {\n    if (f < 1.5) {\n      nf = 1;\n    } else if (f < 3) {\n      nf = 2;\n    } else if (f < 7) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  } else {\n    if (f <= 1) {\n      nf = 1;\n    } else if (f <= 2) {\n      nf = 2;\n    } else if (f <= 5) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  }\n  return nf * Math.pow(10, exp);\n};\n\n// src/utils/file-utils.ts\nfunction readFileAsDataURL(input) {\n  return new Promise((resolve, reject) => {\n    let filePromise;\n    if (input instanceof File) {\n      filePromise = Promise.resolve(input);\n    } else {\n      filePromise = new Promise((resolve2, reject2) => {\n        input.file(resolve2, reject2);\n      });\n    }\n    filePromise.then((file) => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (typeof reader.result === \"string\") {\n          resolve(reader.result);\n        } else {\n          reject(new Error(\"Expected a string from FileReader.result\"));\n        }\n      };\n      reader.onerror = () => {\n        reject(reader.error ?? new Error(\"Unknown FileReader error\"));\n      };\n      reader.readAsDataURL(file);\n    }).catch((err) => reject(err));\n  });\n}\n\n// src/utils/image-utils.ts\nfunction img2ras16(volume) {\n  const dims = volume.hdr.dims;\n  const perm = volume.permRAS;\n  const vx = dims[1] * dims[2] * dims[3];\n  const img16 = new Int16Array(vx);\n  const layout = [0, 0, 0];\n  for (let i = 0; i < 3; i++) {\n    for (let j2 = 0; j2 < 3; j2++) {\n      if (Math.abs(perm[i]) - 1 !== j2) {\n        continue;\n      }\n      layout[j2] = i * Math.sign(perm[i]);\n    }\n  }\n  let stride = 1;\n  const instride = [1, 1, 1];\n  const inflip = [false, false, false];\n  for (let i = 0; i < layout.length; i++) {\n    for (let j2 = 0; j2 < layout.length; j2++) {\n      const a = Math.abs(layout[j2]);\n      if (a !== i) {\n        continue;\n      }\n      instride[j2] = stride;\n      if (layout[j2] < 0 || Object.is(layout[j2], -0)) {\n        inflip[j2] = true;\n      }\n      stride *= dims[j2 + 1];\n    }\n  }\n  let xlut = NVUtilities.range(0, dims[1] - 1, 1);\n  if (inflip[0]) {\n    xlut = NVUtilities.range(dims[1] - 1, 0, -1);\n  }\n  for (let i = 0; i < dims[1]; i++) {\n    xlut[i] *= instride[0];\n  }\n  let ylut = NVUtilities.range(0, dims[2] - 1, 1);\n  if (inflip[1]) {\n    ylut = NVUtilities.range(dims[2] - 1, 0, -1);\n  }\n  for (let i = 0; i < dims[2]; i++) {\n    ylut[i] *= instride[1];\n  }\n  let zlut = NVUtilities.range(0, dims[3] - 1, 1);\n  if (inflip[2]) {\n    zlut = NVUtilities.range(dims[3] - 1, 0, -1);\n  }\n  for (let i = 0; i < dims[3]; i++) {\n    zlut[i] *= instride[2];\n  }\n  let j = 0;\n  for (let z = 0; z < dims[3]; z++) {\n    for (let y = 0; y < dims[2]; y++) {\n      for (let x = 0; x < dims[1]; x++) {\n        img16[xlut[x] + ylut[y] + zlut[z]] = volume.img[j];\n        j++;\n      }\n    }\n  }\n  return img16;\n}\nfunction unpackFloatFromVec4i(val) {\n  const bitSh = [1 / (256 * 256 * 256), 1 / (256 * 256), 1 / 256, 1];\n  return (val[0] * bitSh[0] + val[1] * bitSh[1] + val[2] * bitSh[2] + val[3] * bitSh[3]) / 255;\n}\nfunction intensityRaw2Scaled(hdr, raw) {\n  if (hdr.scl_slope === 0) {\n    hdr.scl_slope = 1;\n  }\n  return raw * hdr.scl_slope + hdr.scl_inter;\n}\n\n// src/utils/math-utils.ts\nfunction loose_label(min, max, ntick = 4) {\n  const range = nice(max - min, false);\n  const d = nice(range / (ntick - 1), true);\n  const graphmin = Math.floor(min / d) * d;\n  const graphmax = Math.ceil(max / d) * d;\n  const perfect = graphmin === min && graphmax === max;\n  return [d, graphmin, graphmax, perfect];\n}\nfunction tickSpacing(mn, mx) {\n  let v = loose_label(mn, mx, 3);\n  if (!v[3]) {\n    v = loose_label(mn, mx, 5);\n  }\n  if (!v[3]) {\n    v = loose_label(mn, mx, 4);\n  }\n  if (!v[3]) {\n    v = loose_label(mn, mx, 3);\n  }\n  if (!v[3]) {\n    v = loose_label(mn, mx, 5);\n  }\n  return [v[0], v[1], v[2]];\n}\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\nfunction negMinMax(min, max, minNeg, maxNeg) {\n  let mn = -min;\n  let mx = -max;\n  if (isFinite(minNeg) && isFinite(maxNeg)) {\n    mn = minNeg;\n    mx = maxNeg;\n  }\n  if (mn > mx) {\n    ;\n    [mn, mx] = [mx, mn];\n  }\n  return [mn, mx];\n}\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\n// src/utils/webgl-utils.ts\nimport { mat4 as mat48, vec3 as vec312, vec4 as vec48 } from \"gl-matrix\";\nfunction swizzleVec3(vec, order = [0, 1, 2]) {\n  const vout = vec312.create();\n  vout[0] = vec[order[0]];\n  vout[1] = vec[order[1]];\n  vout[2] = vec[order[2]];\n  return vout;\n}\nfunction isRadiological(mtx) {\n  const vRight = vec48.fromValues(1, 0, 0, 0);\n  const vRotated = vec48.create();\n  vec48.transformMat4(vRotated, vRight, mtx);\n  return vRotated[0];\n}\nfunction unProject(winX, winY, winZ, mvpMatrix) {\n  const inp = vec48.fromValues(winX, winY, winZ, 1);\n  const finalMatrix = mat48.clone(mvpMatrix);\n  mat48.invert(finalMatrix, finalMatrix);\n  inp[0] = inp[0] * 2 - 1;\n  inp[1] = inp[1] * 2 - 1;\n  inp[2] = inp[2] * 2 - 1;\n  const out = vec48.create();\n  vec48.transformMat4(out, inp, finalMatrix);\n  if (out[3] === 0) {\n    return out;\n  }\n  out[0] /= out[3];\n  out[1] /= out[3];\n  out[2] /= out[3];\n  return out;\n}\n\n// src/niivue/index.ts\nvar { version } = package_default;\nvar MESH_EXTENSIONS = [\n  \"ASC\",\n  \"BYU\",\n  \"DFS\",\n  \"FSM\",\n  \"PIAL\",\n  \"ORIG\",\n  \"INFLATED\",\n  \"SMOOTHWM\",\n  \"SPHERE\",\n  \"WHITE\",\n  \"G\",\n  \"GEO\",\n  \"GII\",\n  \"ICO\",\n  \"MZ3\",\n  \"NV\",\n  \"OBJ\",\n  \"OFF\",\n  \"PLY\",\n  \"SRF\",\n  \"STL\",\n  \"TCK\",\n  \"TRACT\",\n  \"TRI\",\n  \"TRK\",\n  \"TT\",\n  \"TRX\",\n  \"VTK\",\n  \"WRL\",\n  \"X3D\",\n  \"JCON\",\n  \"JSON\"\n];\nvar LEFT_MOUSE_BUTTON = 0;\nvar CENTER_MOUSE_BUTTON = 1;\nvar RIGHT_MOUSE_BUTTON = 2;\nvar TEXTURE0_BACK_VOL = 33984;\nvar TEXTURE1_COLORMAPS = 33985;\nvar TEXTURE2_OVERLAY_VOL = 33986;\nvar TEXTURE3_FONT = 33987;\nvar TEXTURE4_THUMBNAIL = 33988;\nvar TEXTURE5_MATCAP = 33989;\nvar TEXTURE6_GRADIENT = 33990;\nvar TEXTURE7_DRAW = 33991;\nvar TEXTURE8_PAQD = 33992;\nvar TEXTURE8_GRADIENT_TEMP = 33992;\nvar TEXTURE9_ORIENT = 33993;\nvar TEXTURE10_BLEND = 33994;\nvar TEXTURE11_GC_BACK = 33995;\nvar TEXTURE12_GC_STRENGTH0 = 33996;\nvar TEXTURE13_GC_STRENGTH1 = 33997;\nvar TEXTURE14_GC_LABEL0 = 33998;\nvar TEXTURE15_GC_LABEL1 = 33999;\nvar defaultSaveImageOptions = {\n  filename: \"\",\n  isSaveDrawing: false,\n  volumeByIndex: 0\n};\nvar _eventsController;\nvar Niivue = class {\n  /**\n   * @param options  - options object to set modifiable Niivue properties\n   */\n  constructor(options = DEFAULT_OPTIONS) {\n    __publicField(this, \"loaders\", {});\n    // create a dicom loader\n    __publicField(this, \"dicomLoader\", null);\n    // {\n    //   loader: (data: DicomLoaderInput) => {\n    //     return new Promise<{name: string; data: ArrayBuffer}[]>((resolve, reject) => {\n    //       reject('No DICOM loader provided')\n    //     })\n    //   },\n    //   toExt: 'nii'\n    // }\n    __publicField(this, \"canvas\", null);\n    // the reference to the canvas element on the page\n    __publicField(this, \"_gl\", null);\n    // the gl context\n    __publicField(this, \"isBusy\", false);\n    // flag to indicate if the scene is busy drawing\n    __publicField(this, \"needsRefresh\", false);\n    // flag to indicate if the scene needs to be redrawn\n    __publicField(this, \"colormapTexture\", null);\n    // the GPU memory storage of the colormap\n    __publicField(this, \"colormapLists\", []);\n    // one entry per colorbar: min, max, tic\n    __publicField(this, \"volumeTexture\", null);\n    // the GPU memory storage of the volume\n    __publicField(this, \"gradientTexture\", null);\n    // 3D texture for volume rendering lighting\n    __publicField(this, \"gradientTextureAmount\", 0);\n    __publicField(this, \"useCustomGradientTexture\", false);\n    // flag to indicate if a custom gradient texture is used\n    __publicField(this, \"renderGradientValues\", false);\n    __publicField(this, \"drawTexture\", null);\n    // the GPU memory storage of the drawing\n    __publicField(this, \"paqdTexture\", null);\n    // the GPU memory storage of the probabilistic atlas\n    __publicField(this, \"drawUndoBitmaps\", []);\n    // array of drawBitmaps for undo\n    __publicField(this, \"drawLut\", cmapper.makeDrawLut(\"$itksnap\"));\n    // the color lookup table for drawing\n    __publicField(this, \"drawOpacity\", 0.8);\n    // opacity of drawing (default)\n    __publicField(this, \"drawRimOpacity\", -1);\n    // opacity of pixels at edge of drawing (negative value to use drawOpacity)\n    __publicField(this, \"clickToSegmentIsGrowing\", false);\n    // flag to indicate if the clickToSegment flood fill growing is in progress with left mouse down + drag\n    __publicField(this, \"clickToSegmentGrowingBitmap\", null);\n    // the bitmap of the growing flood fill\n    __publicField(this, \"clickToSegmentXY\", [0, 0]);\n    // the x,y location of the clickToSegment flood fill\n    __publicField(this, \"renderDrawAmbientOcclusion\", 0.4);\n    __publicField(this, \"colorbarHeight\", 0);\n    // height in pixels, set when colorbar is drawn\n    __publicField(this, \"drawPenLocation\", [NaN, NaN, NaN]);\n    __publicField(this, \"drawPenAxCorSag\", -1);\n    // do not allow pen to drag between Sagittal/Coronal/Axial\n    __publicField(this, \"drawFillOverwrites\", true);\n    // if true, fill overwrites existing drawing\n    __publicField(this, \"drawPenFillPts\", []);\n    // store mouse points for filled pen\n    __publicField(this, \"drawShapeStartLocation\", [NaN, NaN, NaN]);\n    // start location for rectangle/ellipse drawing\n    __publicField(this, \"drawShapePreviewBitmap\", null);\n    // preview bitmap for shape drawing\n    __publicField(this, \"overlayTexture\", null);\n    __publicField(this, \"overlayTextureID\", null);\n    __publicField(this, \"sliceMMShader\");\n    __publicField(this, \"slice2DShader\");\n    __publicField(this, \"sliceV1Shader\");\n    __publicField(this, \"orientCubeShader\");\n    __publicField(this, \"orientCubeShaderVAO\", null);\n    __publicField(this, \"rectShader\");\n    __publicField(this, \"rectOutlineShader\");\n    __publicField(this, \"renderShader\");\n    __publicField(this, \"lineShader\");\n    __publicField(this, \"line3DShader\");\n    __publicField(this, \"passThroughShader\");\n    __publicField(this, \"renderGradientShader\");\n    __publicField(this, \"renderGradientValuesShader\");\n    __publicField(this, \"renderSliceShader\");\n    __publicField(this, \"renderVolumeShader\");\n    __publicField(this, \"pickingMeshShader\");\n    __publicField(this, \"pickingImageShader\");\n    __publicField(this, \"colorbarShader\");\n    __publicField(this, \"customSliceShader\", null);\n    __publicField(this, \"fontShader\", null);\n    __publicField(this, \"fiberShader\");\n    __publicField(this, \"fontTexture\", null);\n    __publicField(this, \"circleShader\");\n    __publicField(this, \"matCapTexture\", null);\n    __publicField(this, \"bmpShader\", null);\n    __publicField(this, \"bmpTexture\", null);\n    // thumbnail WebGLTexture object\n    __publicField(this, \"thumbnailVisible\", false);\n    __publicField(this, \"bmpTextureWH\", 1);\n    // thumbnail width/height ratio\n    __publicField(this, \"growCutShader\");\n    __publicField(this, \"orientShaderAtlasU\", null);\n    __publicField(this, \"orientShaderAtlasI\", null);\n    __publicField(this, \"orientShaderU\", null);\n    __publicField(this, \"orientShaderI\", null);\n    __publicField(this, \"orientShaderF\", null);\n    __publicField(this, \"orientShaderRGBU\", null);\n    __publicField(this, \"orientShaderPAQD\", null);\n    __publicField(this, \"surfaceShader\", null);\n    __publicField(this, \"blurShader\", null);\n    __publicField(this, \"sobelBlurShader\", null);\n    __publicField(this, \"sobelFirstOrderShader\", null);\n    __publicField(this, \"sobelSecondOrderShader\", null);\n    __publicField(this, \"genericVAO\", null);\n    // used for 2D slices, 2D lines, 2D Fonts\n    __publicField(this, \"unusedVAO\", null);\n    __publicField(this, \"crosshairs3D\", null);\n    __publicField(this, \"DEFAULT_FONT_GLYPH_SHEET\", Roboto_Regular_default);\n    // \"/fonts/Roboto-Regular.png\";\n    __publicField(this, \"DEFAULT_FONT_METRICS\", Roboto_Regular_default2);\n    // \"/fonts/Roboto-Regular.json\";\n    __publicField(this, \"fontMetrics\");\n    __publicField(this, \"fontMets\", null);\n    __publicField(this, \"fontPx\", 12);\n    __publicField(this, \"legendFontScaling\", 1);\n    __publicField(this, \"backgroundMasksOverlays\", 0);\n    __publicField(this, \"overlayOutlineWidth\", 0);\n    // float, 0 for none\n    __publicField(this, \"overlayAlphaShader\", 1);\n    // float, 1 for opaque\n    __publicField(this, \"position\");\n    __publicField(this, \"extentsMin\");\n    __publicField(this, \"extentsMax\");\n    // ResizeObserver\n    __publicField(this, \"resizeObserver\", null);\n    __publicField(this, \"resizeEventListener\", null);\n    __publicField(this, \"canvasObserver\", null);\n    // syncOpts: Record<string, unknown> = {}\n    __publicField(this, \"syncOpts\", {\n      \"3d\": false,\n      // legacy option\n      \"2d\": false,\n      // legacy option\n      zoomPan: false,\n      cal_min: false,\n      cal_max: false,\n      clipPlane: false,\n      gamma: false,\n      sliceType: false,\n      crosshair: false\n    });\n    __publicField(this, \"readyForSync\", false);\n    // UI Data\n    __publicField(this, \"uiData\", {\n      mousedown: false,\n      touchdown: false,\n      mouseButtonLeftDown: false,\n      mouseButtonCenterDown: false,\n      mouseButtonRightDown: false,\n      mouseDepthPicker: false,\n      clickedTile: -1,\n      pan2DxyzmmAtMouseDown: [0, 0, 0, 1],\n      prevX: 0,\n      prevY: 0,\n      currX: 0,\n      currY: 0,\n      currentTouchTime: 0,\n      lastTouchTime: 0,\n      touchTimer: null,\n      doubleTouch: false,\n      isDragging: false,\n      dragStart: [0, 0],\n      dragEnd: [0, 0],\n      dragClipPlaneStartDepthAziElev: [0, 0, 0],\n      lastTwoTouchDistance: 0,\n      multiTouchGesture: false,\n      windowX: 0,\n      windowY: 0,\n      activeDragMode: null,\n      activeDragButton: null,\n      angleFirstLine: [0, 0, 0, 0],\n      angleState: \"none\",\n      activeClipPlaneIndex: 0\n    });\n    __privateAdd(this, _eventsController, null);\n    __publicField(this, \"back\", null);\n    // base layer; defines image space to work in. Defined as this.volumes[0] in Niivue.loadVolumes\n    __publicField(this, \"overlays\", []);\n    // layers added on top of base image (e.g. masks or stat maps). Essentially everything after this.volumes[0] is an overlay. So is necessary?\n    __publicField(this, \"deferredVolumes\", []);\n    __publicField(this, \"deferredMeshes\", []);\n    __publicField(this, \"furthestVertexFromOrigin\", 100);\n    __publicField(this, \"volScale\", []);\n    __publicField(this, \"vox\", []);\n    __publicField(this, \"mousePos\", [0, 0]);\n    __publicField(this, \"screenSlices\", []);\n    // empty array\n    __publicField(this, \"cuboidVertexBuffer\");\n    __publicField(this, \"otherNV\", null);\n    // another niivue instance that we wish to sync position with\n    __publicField(this, \"volumeObject3D\", null);\n    __publicField(this, \"pivot3D\", [0, 0, 0]);\n    // center for rendering rotation\n    __publicField(this, \"furthestFromPivot\", 10);\n    // most distant point from pivot\n    __publicField(this, \"currentClipPlaneIndex\", 0);\n    __publicField(this, \"lastCalled\", (/* @__PURE__ */ new Date()).getTime());\n    __publicField(this, \"selectedObjectId\", -1);\n    __publicField(this, \"CLIP_PLANE_ID\", 1);\n    __publicField(this, \"VOLUME_ID\", 254);\n    __publicField(this, \"DISTANCE_FROM_CAMERA\", -0.54);\n    __publicField(this, \"graph\", {\n      LTWH: [0, 0, 640, 480],\n      opacity: 0,\n      vols: [0],\n      // e.g. timeline for background volume only, e.g. [0,2] for first and third volumes\n      autoSizeMultiplanar: false,\n      normalizeValues: false,\n      isRangeCalMinMax: false\n    });\n    __publicField(this, \"customLayout\", []);\n    __publicField(this, \"meshShaders\", [\n      {\n        Name: \"Phong\",\n        Frag: fragMeshShader\n      },\n      {\n        Name: \"Matte\",\n        Frag: fragMeshMatteShader\n      },\n      {\n        Name: \"Harmonic\",\n        Frag: fragMeshShaderSHBlue\n      },\n      {\n        Name: \"Hemispheric\",\n        Frag: fragMeshHemiShader\n      },\n      {\n        Name: \"Crevice\",\n        Frag: fragMeshShaderCrevice\n      },\n      {\n        Name: \"Edge\",\n        Frag: fragMeshEdgeShader\n      },\n      {\n        Name: \"Diffuse\",\n        Frag: fragMeshDiffuseEdgeShader\n      },\n      {\n        Name: \"Outline\",\n        Frag: fragMeshOutlineShader\n      },\n      {\n        Name: \"Specular\",\n        Frag: fragMeshSpecularEdgeShader\n      },\n      {\n        Name: \"Toon\",\n        Frag: fragMeshToonShader\n      },\n      {\n        Name: \"Flat\",\n        Frag: fragFlatMeshShader\n      },\n      {\n        Name: \"Matcap\",\n        Frag: fragMeshMatcapShader\n      },\n      {\n        Name: \"Rim\",\n        Frag: fragMeshRimShader\n      },\n      {\n        Name: \"Silhouette\",\n        Frag: fragMeshContourShader\n      },\n      {\n        Name: \"Crosscut\",\n        Frag: fragCrosscutMeshShader\n      }\n    ]);\n    // TODO just let users use DRAG_MODE instead\n    __publicField(this, \"dragModes\", {\n      contrast: 1 /* contrast */,\n      measurement: 2 /* measurement */,\n      angle: 7 /* angle */,\n      none: 0 /* none */,\n      pan: 3 /* pan */,\n      slicer3D: 4 /* slicer3D */,\n      callbackOnly: 5 /* callbackOnly */\n    });\n    // TODO just let users use SLICE_TYPE instead\n    __publicField(this, \"sliceTypeAxial\", 0 /* AXIAL */);\n    __publicField(this, \"sliceTypeCoronal\", 1 /* CORONAL */);\n    __publicField(this, \"sliceTypeSagittal\", 2 /* SAGITTAL */);\n    __publicField(this, \"sliceTypeMultiplanar\", 3 /* MULTIPLANAR */);\n    __publicField(this, \"sliceTypeRender\", 4 /* RENDER */);\n    // Event listeners\n    /**\n     * callback function to run when the right mouse button is released after dragging\n     * @example\n     * niivue.onDragRelease = () => {\n     *   console.log('drag ended')\n     * }\n     */\n    __publicField(this, \"onDragRelease\", () => {\n    });\n    // function to call when contrast drag is released by default. Can be overridden by user\n    /**\n     * callback function to run when the left mouse button is released\n     * @example\n     * niivue.onMouseUp = () => {\n     *   console.log('mouse up')\n     * }\n     */\n    __publicField(this, \"onMouseUp\", () => {\n    });\n    /**\n     * callback function to run when the crosshair location changes\n     * @example\n     * niivue.onLocationChange = (data) => {\n     * console.log('location changed')\n     * console.log('mm: ', data.mm)\n     * console.log('vox: ', data.vox)\n     * console.log('frac: ', data.frac)\n     * console.log('values: ', data.values)\n     * }\n     */\n    __publicField(this, \"onLocationChange\", () => {\n    });\n    /**\n     * callback function to run when the user changes the intensity range with the selection box action (right click)\n     * @example\n     * niivue.onIntensityChange = (volume) => {\n     * console.log('intensity changed')\n     * console.log('volume: ', volume)\n     * }\n     */\n    __publicField(this, \"onIntensityChange\", () => {\n    });\n    /**\n     * callback function when clickToSegment is enabled and the user clicks on the image. data contains the volume of the segmented region in mm3 and mL\n     * @example\n     * niivue.onClickToSegment = (data) => {\n     * console.log('clicked to segment')\n     * console.log('volume mm3: ', data.mm3)\n     * console.log('volume mL: ', data.mL)\n     * }\n     */\n    __publicField(this, \"onClickToSegment\", () => {\n    });\n    /**\n     * callback function to run when a new volume is loaded\n     * @example\n     * niivue.onImageLoaded = (volume) => {\n     * console.log('volume loaded')\n     * console.log('volume: ', volume)\n     * }\n     */\n    __publicField(this, \"onImageLoaded\", () => {\n    });\n    /**\n     * callback function to run when a new mesh is loaded\n     * @example\n     * niivue.onMeshLoaded = (mesh) => {\n     * console.log('mesh loaded')\n     * console.log('mesh: ', mesh)\n     * }\n     */\n    __publicField(this, \"onMeshLoaded\", () => {\n    });\n    /**\n     * callback function to run when the user changes the volume when a 4D image is loaded\n     * @example\n     * niivue.onFrameChange = (volume, frameNumber) => {\n     * console.log('frame changed')\n     * console.log('volume: ', volume)\n     * console.log('frameNumber: ', frameNumber)\n     * }\n     */\n    __publicField(this, \"onFrameChange\", () => {\n    });\n    /**\n     * callback function to run when niivue reports an error\n     * @example\n     * niivue.onError = (error) => {\n     * console.log('error: ', error)\n     * }\n     */\n    __publicField(this, \"onError\", () => {\n    });\n    /// TODO was undocumented\n    __publicField(this, \"onColormapChange\", () => {\n    });\n    /**\n     * callback function to run when niivue reports detailed info\n     * @example\n     * niivue.onInfo = (info) => {\n     * console.log('info: ', info)\n     * }\n     */\n    __publicField(this, \"onInfo\", () => {\n    });\n    /**\n     * callback function to run when niivue reports a warning\n     * @example\n     * niivue.onWarn = (warn) => {\n     * console.log('warn: ', warn)\n     * }\n     */\n    __publicField(this, \"onWarn\", () => {\n    });\n    /**\n     * callback function to run when niivue reports a debug message\n     * @example\n     * niivue.onDebug = (debug) => {\n     * console.log('debug: ', debug)\n     * }\n     */\n    __publicField(this, \"onDebug\", () => {\n    });\n    /**\n     * callback function to run when a volume is added from a url\n     * @example\n     * niivue.onVolumeAddedFromUrl = (imageOptions, volume) => {\n     * console.log('volume added from url')\n     * console.log('imageOptions: ', imageOptions)\n     * console.log('volume: ', volume)\n     * }\n     */\n    __publicField(this, \"onVolumeAddedFromUrl\", () => {\n    });\n    __publicField(this, \"onVolumeWithUrlRemoved\", () => {\n    });\n    /**\n     * callback function to run when updateGLVolume is called (most users will not need to use\n     * @example\n     * niivue.onVolumeUpdated = () => {\n     * console.log('volume updated')\n     * }\n     */\n    __publicField(this, \"onVolumeUpdated\", () => {\n    });\n    /**\n     * callback function to run when a mesh is added from a url\n     * @example\n     * niivue.onMeshAddedFromUrl = (meshOptions, mesh) => {\n     * console.log('mesh added from url')\n     * console.log('meshOptions: ', meshOptions)\n     * console.log('mesh: ', mesh)\n     * }\n     */\n    __publicField(this, \"onMeshAddedFromUrl\", () => {\n    });\n    // TODO seems redundant with onMeshLoaded\n    __publicField(this, \"onMeshAdded\", () => {\n    });\n    __publicField(this, \"onMeshWithUrlRemoved\", () => {\n    });\n    // not implemented anywhere...\n    __publicField(this, \"onZoom3DChange\", () => {\n    });\n    /**\n     * callback function to run when the user changes the rotation of the 3D rendering\n     * @example\n     * niivue.onAzimuthElevationChange = (azimuth, elevation) => {\n     * console.log('azimuth: ', azimuth)\n     * console.log('elevation: ', elevation)\n     * }\n     */\n    __publicField(this, \"onAzimuthElevationChange\", () => {\n    });\n    /**\n     * callback function to run when the user changes the clip plane\n     * @example\n     * niivue.onClipPlaneChange = (clipPlane) => {\n     * console.log('clipPlane: ', clipPlane)\n     * }\n     */\n    __publicField(this, \"onClipPlaneChange\", () => {\n    });\n    __publicField(this, \"onCustomMeshShaderAdded\", () => {\n    });\n    __publicField(this, \"onMeshShaderChanged\", () => {\n    });\n    __publicField(this, \"onMeshPropertyChanged\", () => {\n    });\n    __publicField(this, \"onDicomLoaderFinishedWithImages\", () => {\n    });\n    /**\n     * callback function to run when the user loads a new NiiVue document\n     * @example\n     * niivue.onDocumentLoaded = (document) => {\n     * console.log('document: ', document)\n     * }\n     */\n    __publicField(this, \"onDocumentLoaded\", () => {\n    });\n    /**\n     * Callback for when any configuration option changes.\n     * @param propertyName - The name of the option that changed.\n     * @param newValue - The new value of the option.\n     * @param oldValue - The previous value of the option.\n     */\n    __publicField(this, \"onOptsChange\", () => {\n    });\n    __publicField(this, \"document\", new NVDocument());\n    __publicField(this, \"mediaUrlMap\", /* @__PURE__ */ new Map());\n    __publicField(this, \"initialized\", false);\n    __publicField(this, \"currentDrawUndoBitmap\");\n    for (const name in options) {\n      if (typeof options[name] === \"function\") {\n        this[name] = options[name];\n      } else {\n        this.opts[name] = DEFAULT_OPTIONS[name] === void 0 ? DEFAULT_OPTIONS[name] : options[name];\n      }\n    }\n    if (this.opts.forceDevicePixelRatio === 0) {\n      this.uiData.dpr = window.devicePixelRatio || 1;\n    } else if (this.opts.forceDevicePixelRatio < 0) {\n      this.uiData.dpr = 1;\n    } else {\n      this.uiData.dpr = this.opts.forceDevicePixelRatio;\n    }\n    this.currentDrawUndoBitmap = this.opts.maxDrawUndoBitmaps;\n    if (this.opts.drawingEnabled) {\n      this.createEmptyDrawing();\n    }\n    if (this.opts.thumbnail.length > 0) {\n      this.thumbnailVisible = true;\n    }\n    log.setLogLevel(this.opts.logLevel);\n    this.document.setOptsChangeCallback((propertyName, newValue, oldValue) => {\n      this.onOptsChange(propertyName, newValue, oldValue);\n    });\n  }\n  /** Get the current scene configuration. */\n  get scene() {\n    return this.document.scene;\n  }\n  /** Get the current visualization options. */\n  get opts() {\n    return this.document.opts;\n  }\n  /** Get the slice mosaic layout string. */\n  get sliceMosaicString() {\n    return this.document.opts.sliceMosaicString || \"\";\n  }\n  /** Set the slice mosaic layout string. */\n  set sliceMosaicString(newSliceMosaicString) {\n    this.document.opts.sliceMosaicString = newSliceMosaicString;\n  }\n  /**\n   * Get whether voxels below minimum intensity are drawn as dark or transparent.\n   * @returns {boolean} True if dark voxels are opaque, false if transparent.\n   */\n  get isAlphaClipDark() {\n    return this.document.opts.isAlphaClipDark;\n  }\n  /**\n   * Set whether voxels below minimum intensity are drawn as dark or transparent.\n   * @param {boolean} newVal - True to make dark voxels opaque, false for transparent.\n   * @see {@link https://niivue.com/demos/features/segment.html | live demo usage}\n   */\n  set isAlphaClipDark(newVal) {\n    this.document.opts.isAlphaClipDark = newVal;\n  }\n  /**\n   * Clean up event listeners and observers\n   * Call this when the Niivue instance is no longer needed.\n   * This will be called when the canvas is detached from the DOM\n   * @example niivue.cleanup();\n   */\n  cleanup() {\n    if (this.resizeEventListener) {\n      window.removeEventListener(\"resize\", this.resizeEventListener);\n      this.resizeEventListener = null;\n    }\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n      this.resizeObserver = null;\n    }\n    if (this.canvasObserver) {\n      this.canvasObserver.disconnect();\n      this.canvasObserver = null;\n    }\n    if (__privateGet(this, _eventsController)) {\n      __privateGet(this, _eventsController).abort();\n      __privateSet(this, _eventsController, null);\n    }\n    this.document.removeOptsChangeCallback();\n  }\n  get volumes() {\n    return this.document.volumes;\n  }\n  set volumes(volumes) {\n    this.document.volumes = volumes;\n  }\n  get meshes() {\n    return this.document.meshes;\n  }\n  set meshes(meshes) {\n    this.document.meshes = meshes;\n  }\n  get drawBitmap() {\n    return this.document.drawBitmap;\n  }\n  set drawBitmap(drawBitmap) {\n    this.document.drawBitmap = drawBitmap;\n  }\n  get volScaleMultiplier() {\n    return this.scene.volScaleMultiplier;\n  }\n  set volScaleMultiplier(scale) {\n    this.setScale(scale);\n  }\n  /**\n   * save webgl2 canvas as png format bitmap\n   * @param filename - filename for screen capture\n   * @example niivue.saveScene('test.png');\n   * @see {@link https://niivue.com/demos/features/ui.html | live demo usage}\n   */\n  async saveScene(filename = \"niivue.png\") {\n    function saveBlob(blob, name) {\n      const a = document.createElement(\"a\");\n      document.body.appendChild(a);\n      a.style.display = \"none\";\n      const url = window.URL.createObjectURL(blob);\n      a.href = url;\n      a.download = name;\n      a.click();\n      a.remove();\n    }\n    const canvas = this.canvas;\n    if (!canvas) {\n      throw new Error(\"canvas not defined\");\n    }\n    this.drawScene();\n    canvas.toBlob((blob) => {\n      if (!blob) {\n        return;\n      }\n      if (filename === \"\") {\n        filename = `niivue-screenshot-${(/* @__PURE__ */ new Date()).toString()}.png`;\n        filename = filename.replace(/\\s/g, \"_\");\n      }\n      saveBlob(blob, filename);\n    });\n  }\n  /**\n   * attach the Niivue instance to the webgl2 canvas by element id\n   * @param id - the id of an html canvas element\n   * @param isAntiAlias - determines if anti-aliasing is requested (if not specified, AA usage depends on hardware)\n   * @example niivue = new Niivue().attachTo('gl')\n   * @example await niivue.attachTo('gl')\n   * @see {@link https://niivue.com/demos/features/basic.multiplanar.html | live demo usage}\n   */\n  async attachTo(id, isAntiAlias = null) {\n    await this.attachToCanvas(document.getElementById(id), isAntiAlias);\n    log.debug(\"attached to element with id: \", id);\n    return this;\n  }\n  /**\n   * attach the Niivue instance to a canvas element directly\n   * @param canvas - the canvas element reference\n   * @example\n   * niivue = new Niivue()\n   * await niivue.attachToCanvas(document.getElementById(id))\n   * @see {@link https://niivue.com/demos/features/dsistudio.html | live demo usage}\n   */\n  async attachToCanvas(canvas, isAntiAlias = null) {\n    this.canvas = canvas;\n    if (isAntiAlias === null) {\n      isAntiAlias = navigator.hardwareConcurrency > 6;\n      log.debug(\"AntiAlias \", isAntiAlias, \" Threads \", navigator.hardwareConcurrency);\n    }\n    this.gl = this.canvas.getContext(\"webgl2\", {\n      alpha: true,\n      antialias: isAntiAlias\n    });\n    this.uiData.max2D = this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE);\n    this.uiData.max3D = this.gl.getParameter(this.gl.MAX_3D_TEXTURE_SIZE);\n    log.info(\"NIIVUE VERSION \", version);\n    log.debug(`Max texture size 2D: ${this.uiData.max2D} 3D: ${this.uiData.max3D}`);\n    this.canvas.parentElement.style.backgroundColor = \"black\";\n    if (this.opts.isResizeCanvas) {\n      this.canvas.style.width = \"100%\";\n      this.canvas.style.height = \"100%\";\n      this.canvas.style.display = \"block\";\n      this.canvas.width = this.canvas.offsetWidth;\n      this.canvas.height = this.canvas.offsetHeight;\n      this.resizeEventListener = () => {\n        requestAnimationFrame(() => {\n          this.resizeListener();\n        });\n      };\n      window.addEventListener(\"resize\", this.resizeEventListener);\n      this.resizeObserver = new ResizeObserver(() => {\n        requestAnimationFrame(() => {\n          this.resizeListener();\n        });\n      });\n      this.resizeObserver.observe(this.canvas.parentElement);\n      this.canvasObserver = new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n          if (mutation.type === \"childList\" && mutation.removedNodes.length > 0 && Array.from(mutation.removedNodes).includes(this.canvas)) {\n            this.cleanup();\n            break;\n          }\n        }\n      });\n      this.canvasObserver.observe(this.canvas.parentElement, { childList: true });\n    }\n    if (this.opts.interactive) {\n      this.registerInteractions();\n    }\n    await this.init();\n    this.drawScene();\n    return this;\n  }\n  /**\n   * Sync the scene controls (orientation, crosshair location, etc.) from one Niivue instance to another. useful for using one canvas to drive another.\n   * @param otherNV - the other Niivue instance that is the main controller\n   * @example\n   * niivue1 = new Niivue()\n   * niivue2 = new Niivue()\n   * niivue2.syncWith(niivue1)\n   * @deprecated use broadcastTo instead\n   * @see {@link https://niivue.com/demos/features/sync.mesh.html | live demo usage}\n   */\n  syncWith(otherNV, syncOpts = { \"2d\": true, \"3d\": true }) {\n    if (!(otherNV instanceof Array)) {\n      otherNV = [otherNV];\n    }\n    this.otherNV = otherNV;\n    this.syncOpts = { ...syncOpts };\n  }\n  /**\n   * Sync the scene controls (orientation, crosshair location, etc.) from one Niivue instance to others. useful for using one canvas to drive another.\n   * @param otherNV - the other Niivue instance(s)\n   * @example\n   * niivue1 = new Niivue()\n   * niivue2 = new Niivue()\n   * niivue3 = new Niivue()\n   * niivue1.broadcastTo(niivue2)\n   * niivue1.broadcastTo([niivue2, niivue3])\n   * @see {@link https://niivue.com/demos/features/sync.mesh.html | live demo usage}\n   */\n  broadcastTo(otherNV, syncOpts = { \"2d\": true, \"3d\": true }) {\n    if (!(otherNV instanceof Array)) {\n      otherNV = [otherNV];\n    }\n    this.otherNV = otherNV;\n    this.syncOpts = syncOpts;\n  }\n  /**\n   * Synchronizes 3D view settings (azimuth, elevation, scale) with another Niivue instance.\n   * @internal\n   */\n  doSync3d(otherNV) {\n    otherNV.scene.renderAzimuth = this.scene.renderAzimuth;\n    otherNV.scene.renderElevation = this.scene.renderElevation;\n    otherNV.scene.volScaleMultiplier = this.scene.volScaleMultiplier;\n  }\n  /**\n   * Synchronizes 2D crosshair position and pan settings with another Niivue instance.\n   * @internal\n   */\n  doSync2d(otherNV) {\n    const thisMM = this.frac2mm(this.scene.crosshairPos);\n    otherNV.scene.crosshairPos = otherNV.mm2frac(thisMM);\n    otherNV.scene.pan2Dxyzmm = vec49.clone(this.scene.pan2Dxyzmm);\n  }\n  doSyncGamma(otherNV) {\n    const thisGamma = this.scene.gamma;\n    const otherGamma = otherNV.scene.gamma;\n    if (thisGamma !== otherGamma) {\n      otherNV.setGamma(thisGamma);\n    }\n  }\n  /**\n   * Synchronizes gamma correction setting with another Niivue instance.\n   * @internal\n   */\n  doSyncZoomPan(otherNV) {\n    otherNV.scene.pan2Dxyzmm = vec49.clone(this.scene.pan2Dxyzmm);\n  }\n  /**\n   * Synchronizes crosshair position with another Niivue instance.\n   * @internal\n   */\n  doSyncCrosshair(otherNV) {\n    const thisMM = this.frac2mm(this.scene.crosshairPos);\n    otherNV.scene.crosshairPos = otherNV.mm2frac(thisMM);\n  }\n  /**\n   * Synchronizes cal_min with another Niivue instance, updating GPU volume only if needed.\n   * @internal\n   */\n  doSyncCalMin(otherNV) {\n    if (this.volumes[0].cal_min !== otherNV.volumes[0].cal_min) {\n      otherNV.volumes[0].cal_min = this.volumes[0].cal_min;\n      otherNV.updateGLVolume();\n    }\n  }\n  /**\n   * Synchronizes cal_max with another Niivue instance, updating GPU volume only if needed.\n   * @internal\n   */\n  doSyncCalMax(otherNV) {\n    if (this.volumes[0].cal_max !== otherNV.volumes[0].cal_max) {\n      otherNV.volumes[0].cal_max = this.volumes[0].cal_max;\n      otherNV.updateGLVolume();\n    }\n  }\n  /**\n   * Synchronizes slice view type with another Niivue instance.\n   * @internal\n   */\n  doSyncSliceType(otherNV) {\n    otherNV.setSliceType(this.opts.sliceType);\n  }\n  /**\n   * Synchronizes clip plane settings with another Niivue instance.\n   * @internal\n   */\n  doSyncClipPlane(otherNV) {\n    otherNV.setClipPlane(this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex]);\n  }\n  /**\n   * Sync the scene controls (orientation, crosshair location, etc.) from one Niivue instance to another. useful for using one canvas to drive another.\n   * @internal\n   * @example\n   * niivue1 = new Niivue()\n   * niivue2 = new Niivue()\n   * niivue2.syncWith(niivue1)\n   * niivue2.sync()\n   */\n  sync() {\n    if (!this.gl || !this.otherNV || typeof this.otherNV === \"undefined\") {\n      return;\n    }\n    if (!this.gl.canvas.matches(\":focus\")) {\n      return;\n    }\n    for (let i = 0; i < this.otherNV.length; i++) {\n      if (this.otherNV[i] === this) {\n        continue;\n      }\n      if (this.syncOpts.gamma) {\n        this.doSyncGamma(this.otherNV[i]);\n      }\n      if (this.syncOpts.crosshair) {\n        this.doSyncCrosshair(this.otherNV[i]);\n      }\n      if (this.syncOpts.zoomPan) {\n        this.doSyncZoomPan(this.otherNV[i]);\n      }\n      if (this.syncOpts.sliceType) {\n        this.doSyncSliceType(this.otherNV[i]);\n      }\n      if (this.syncOpts.cal_min) {\n        this.doSyncCalMin(this.otherNV[i]);\n      }\n      if (this.syncOpts.cal_max) {\n        this.doSyncCalMax(this.otherNV[i]);\n      }\n      if (this.syncOpts.clipPlane) {\n        this.doSyncClipPlane(this.otherNV[i]);\n      }\n      if (this.syncOpts[\"2d\"]) {\n        this.doSync2d(this.otherNV[i]);\n      }\n      if (this.syncOpts[\"3d\"]) {\n        this.doSync3d(this.otherNV[i]);\n      }\n      if (this.otherNV[i].canvas !== this.canvas) {\n        this.otherNV[i].drawScene();\n      }\n      this.otherNV[i].createOnLocationChange();\n    }\n  }\n  /** Not documented publicly for now\n   * @internal\n   * test if two arrays have equal values for each element\n   * @param a - the first array\n   * @param b - the second array\n   * @example Niivue.arrayEquals(a, b)\n   *\n   * TODO this should maybe just use array-equal from NPM\n   */\n  arrayEquals(a, b) {\n    return Array.isArray(a) && Array.isArray(b) && a.length === b.length && a.every((val, index) => val === b[index]);\n  }\n  /**\n   * @internal\n   * Compute point size for screen text that scales with resolution and screen size.\n   * - Keeps physical font size consistent across different DPIs.\n   * - Uses fontSizeScaling to scale with canvas size above a reference threshold.\n   */\n  textSizePoints() {\n    if (this.opts.textHeight >= 0) {\n      log.warn(`textHeight is deprecated (use fontMinPx and fontSizeScaling)`);\n      this.opts.fontMinPx = this.opts.textHeight * 217;\n      this.opts.fontSizeScaling = 0.4;\n      this.opts.textHeight = -1;\n    }\n    const dpi = this.uiData.dpr || 1;\n    const basePointSize = this.opts.fontMinPx;\n    const screenWidthPts = this.gl.canvas.width / dpi;\n    const screenHeightPts = this.gl.canvas.height / dpi;\n    const screenAreaPts = screenWidthPts * screenHeightPts;\n    const refAreaPts = 800 * 600;\n    const normalizedArea = Math.max(screenAreaPts / refAreaPts, 1);\n    const scale = Math.pow(normalizedArea, this.opts.fontSizeScaling);\n    const fontPx = basePointSize * scale * dpi;\n    this.fontPx = fontPx;\n    log.debug(\n      `${screenWidthPts.toFixed(0)}x${screenHeightPts.toFixed(0)} pts (dpi=${dpi}) => areaScale=${normalizedArea.toFixed(2)}, scale=${scale.toFixed(2)}, minPx=${this.opts.fontMinPx} fontScale=${this.opts.fontSizeScaling} fontPx=${fontPx.toFixed(2)}`\n    );\n  }\n  /**\n   * callback function to handle resize window events, redraws the scene.\n   * @internal\n   */\n  resizeListener() {\n    if (!this.canvas || !this.gl) {\n      return;\n    }\n    if (!this.opts.isResizeCanvas) {\n      if (this.opts.forceDevicePixelRatio >= 0) {\n        log.warn(\"this.opts.forceDevicePixelRatio requires isResizeCanvas\");\n      }\n      this.drawScene();\n      return;\n    }\n    this.canvas.style.width = \"100%\";\n    this.canvas.style.height = \"100%\";\n    this.canvas.style.display = \"block\";\n    if (this.opts.forceDevicePixelRatio === 0) {\n      this.uiData.dpr = window.devicePixelRatio || 1;\n    } else if (this.opts.forceDevicePixelRatio < 0) {\n      this.uiData.dpr = 1;\n    } else {\n      this.uiData.dpr = this.opts.forceDevicePixelRatio;\n    }\n    log.debug(\"devicePixelRatio: \" + this.uiData.dpr);\n    if (\"width\" in this.canvas.parentElement) {\n      this.canvas.width = this.canvas.parentElement.width * this.uiData.dpr;\n      this.canvas.height = this.canvas.parentElement.height * this.uiData.dpr;\n    } else {\n      this.canvas.width = this.canvas.offsetWidth * this.uiData.dpr;\n      this.canvas.height = this.canvas.offsetHeight * this.uiData.dpr;\n    }\n    this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n    this.textSizePoints();\n    this.drawScene();\n  }\n  /**\n   * callback to handle mouse move events relative to the canvas\n   * @internal\n   * @returns the mouse position relative to the canvas\n   */\n  getRelativeMousePosition(event, target) {\n    target = target || event.target;\n    if (!target) {\n      return;\n    }\n    const rect = target.getBoundingClientRect();\n    return {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    };\n  }\n  /**\n   * Returns mouse position relative to the canvas, excluding padding and borders.\n   * @internal\n   */\n  getNoPaddingNoBorderCanvasRelativeMousePosition(event, target) {\n    target = target || event.target;\n    const pos = this.getRelativeMousePosition(event, target);\n    return pos;\n  }\n  /**\n   * Disables the default context menu to allow custom right-click behavior.\n   * @internal\n   */\n  mouseContextMenuListener(e) {\n    e.preventDefault();\n  }\n  /**\n   * Handles mouse down events for interaction, segmentation, and connectome label selection.\n   * Routes to appropriate button handler based on click type.\n   * @internal\n   */\n  mouseDownListener(e) {\n    this.uiData.mousedown = true;\n    if (!this.eventInBounds(e)) {\n      this.opts.showBoundsBorder = false;\n      this.drawScene();\n      return;\n    } else if (this.opts.bounds) {\n      this.opts.showBoundsBorder = true;\n    }\n    e.preventDefault();\n    this.drawPenLocation = [NaN, NaN, NaN];\n    this.drawPenAxCorSag = -1;\n    this.drawShapeStartLocation = [NaN, NaN, NaN];\n    const pos = this.getNoPaddingNoBorderCanvasRelativeMousePosition(e, this.gl.canvas);\n    if (!(this.opts.dragMode === 7 /* angle */ && this.uiData.angleState === \"drawing_second_line\")) {\n      this.setDragStart(pos.x, pos.y);\n      this.setDragEnd(pos.x, pos.y);\n    }\n    log.debug(\"mouse down\");\n    log.debug(e);\n    if (!pos) {\n      return;\n    }\n    const [x, y] = [pos.x * this.uiData.dpr, pos.y * this.uiData.dpr];\n    if (this.opts.clickToSegment) {\n      this.clickToSegmentXY = [x, y];\n    }\n    const label = this.getLabelAtPoint([x, y]);\n    if (label) {\n      if (label.onClick) {\n        label.onClick(label, e);\n        return;\n      }\n      for (const mesh of this.meshes) {\n        if (mesh.type !== \"connectome\" /* CONNECTOME */) {\n          if (Array.isArray(label.points) && label.points.length === 3 && label.points.every(Number.isFinite)) {\n            const [x2, y2, z] = label.points;\n            this.scene.crosshairPos = this.mm2frac([x2, y2, z]);\n            this.updateGLVolume();\n          }\n          continue;\n        }\n        for (const node of mesh.nodes) {\n          if (node.label === label) {\n            this.scene.crosshairPos = this.mm2frac([node.x, node.y, node.z]);\n            this.updateGLVolume();\n          }\n        }\n      }\n    }\n    this.uiData.clickedTile = this.tileIndex(x, y);\n    if (e.button === LEFT_MOUSE_BUTTON && e.shiftKey) {\n      this.uiData.mouseButtonCenterDown = true;\n      this.setActiveDragMode(LEFT_MOUSE_BUTTON, true, e.ctrlKey);\n      this.handleMouseAction(this.uiData.activeDragMode, e, pos);\n    } else if (e.button === LEFT_MOUSE_BUTTON) {\n      this.uiData.mouseButtonLeftDown = true;\n      this.setActiveDragMode(LEFT_MOUSE_BUTTON, false, e.ctrlKey);\n      this.handleMouseAction(this.uiData.activeDragMode, e, pos);\n    } else if (e.button === RIGHT_MOUSE_BUTTON) {\n      this.uiData.mouseButtonRightDown = true;\n      this.setActiveDragMode(RIGHT_MOUSE_BUTTON, e.shiftKey, e.ctrlKey);\n      this.handleMouseAction(this.uiData.activeDragMode, e, pos);\n    } else if (e.button === CENTER_MOUSE_BUTTON) {\n      this.uiData.mouseButtonCenterDown = true;\n      this.setActiveDragMode(CENTER_MOUSE_BUTTON, e.shiftKey, e.ctrlKey);\n      this.handleMouseAction(this.uiData.activeDragMode, e, pos);\n    }\n    this.drawScene();\n  }\n  /**\n   * Gets the appropriate drag mode for a mouse button based on configuration.\n   * @internal\n   */\n  getMouseButtonDragMode(button, shiftKey, ctrlKey) {\n    const mouseConfig = this.opts.mouseEventConfig;\n    if (button === LEFT_MOUSE_BUTTON) {\n      if (mouseConfig?.leftButton) {\n        if (shiftKey && mouseConfig.leftButton.withShift !== void 0) {\n          return mouseConfig.leftButton.withShift;\n        }\n        if (ctrlKey && mouseConfig.leftButton.withCtrl !== void 0) {\n          return mouseConfig.leftButton.withCtrl;\n        }\n        return mouseConfig.leftButton.primary;\n      }\n      return ctrlKey ? 8 /* crosshair */ : this.opts.dragModePrimary;\n    } else if (button === RIGHT_MOUSE_BUTTON) {\n      if (mouseConfig?.rightButton !== void 0) {\n        return mouseConfig.rightButton;\n      }\n      return this.opts.dragMode;\n    } else if (button === CENTER_MOUSE_BUTTON) {\n      if (mouseConfig?.centerButton !== void 0) {\n        return mouseConfig.centerButton;\n      }\n      return this.opts.dragMode;\n    }\n    return this.opts.dragMode;\n  }\n  /**\n   * Gets the appropriate drag mode for touch events based on configuration.\n   * @internal\n   */\n  getTouchDragMode(isDoubleTouch) {\n    const touchConfig = this.opts.touchEventConfig;\n    if (isDoubleTouch) {\n      return touchConfig?.doubleTouch ?? this.opts.dragMode;\n    }\n    return touchConfig?.singleTouch ?? this.opts.dragModePrimary;\n  }\n  /**\n   * Sets the active drag mode for the current interaction.\n   * @internal\n   */\n  setActiveDragMode(button, shiftKey, ctrlKey) {\n    this.uiData.activeDragMode = this.getMouseButtonDragMode(button, shiftKey, ctrlKey);\n    this.uiData.activeDragButton = button;\n  }\n  /**\n   * Gets the currently active drag mode, or falls back to configured defaults.\n   * @internal\n   */\n  getCurrentDragMode() {\n    if (this.uiData.activeDragMode !== null) {\n      return this.uiData.activeDragMode;\n    }\n    return this.opts.dragMode;\n  }\n  /**\n   * Clears the active drag mode.\n   * @internal\n   */\n  clearActiveDragMode() {\n    this.uiData.activeDragMode = null;\n    this.uiData.activeDragButton = null;\n  }\n  /**\n   * Unified handler for mouse actions based on drag mode.\n   * @internal\n   */\n  handleMouseAction(dragMode, e, pos) {\n    if (dragMode === 8 /* crosshair */) {\n      this.mouseDown(pos.x, pos.y);\n      this.mouseClick(pos.x, pos.y);\n    } else if (dragMode === 9 /* windowing */) {\n      this.uiData.windowX = e.x;\n      this.uiData.windowY = e.y;\n    } else {\n      this.mousePos = [pos.x * this.uiData.dpr, pos.y * this.uiData.dpr];\n      if (dragMode === 0 /* none */) {\n        return;\n      }\n      if (dragMode === 7 /* angle */) {\n        if (this.uiData.angleState === \"none\") {\n          this.uiData.angleState = \"drawing_first_line\";\n        } else if (this.uiData.angleState === \"drawing_second_line\") {\n          const finalClickPos = [pos.x * this.uiData.dpr, pos.y * this.uiData.dpr];\n          const tileIdx = this.tileIndex(finalClickPos[0], finalClickPos[1]);\n          let sliceInfo = { sliceIndex: -1, sliceType: 0 /* AXIAL */, slicePosition: 0 };\n          if (tileIdx >= 0 && tileIdx < this.screenSlices.length) {\n            const sliceType = this.screenSlices[tileIdx].axCorSag;\n            let slicePosition = 0;\n            if (sliceType === 0 /* AXIAL */) {\n              slicePosition = this.scene.crosshairPos[2];\n            } else if (sliceType === 1 /* CORONAL */) {\n              slicePosition = this.scene.crosshairPos[1];\n            } else if (sliceType === 2 /* SAGITTAL */) {\n              slicePosition = this.scene.crosshairPos[0];\n            }\n            sliceInfo = {\n              sliceIndex: tileIdx,\n              sliceType,\n              slicePosition\n            };\n          }\n          const secondLine = [\n            this.uiData.angleFirstLine[2],\n            // start from end of first line\n            this.uiData.angleFirstLine[3],\n            finalClickPos[0],\n            // to final click position\n            finalClickPos[1]\n          ];\n          const firstLineStartFrac = this.canvasPos2frac([this.uiData.angleFirstLine[0], this.uiData.angleFirstLine[1]]);\n          const firstLineEndFrac = this.canvasPos2frac([this.uiData.angleFirstLine[2], this.uiData.angleFirstLine[3]]);\n          const secondLineStartFrac = this.canvasPos2frac([secondLine[0], secondLine[1]]);\n          const secondLineEndFrac = this.canvasPos2frac([secondLine[2], secondLine[3]]);\n          if (firstLineStartFrac[0] >= 0 && firstLineEndFrac[0] >= 0 && secondLineStartFrac[0] >= 0 && secondLineEndFrac[0] >= 0) {\n            const firstLineStartMM = this.frac2mm(firstLineStartFrac);\n            const firstLineEndMM = this.frac2mm(firstLineEndFrac);\n            const secondLineStartMM = this.frac2mm(secondLineStartFrac);\n            const secondLineEndMM = this.frac2mm(secondLineEndFrac);\n            const angleToSave = {\n              firstLineMM: {\n                start: vec313.fromValues(firstLineStartMM[0], firstLineStartMM[1], firstLineStartMM[2]),\n                end: vec313.fromValues(firstLineEndMM[0], firstLineEndMM[1], firstLineEndMM[2])\n              },\n              secondLineMM: {\n                start: vec313.fromValues(secondLineStartMM[0], secondLineStartMM[1], secondLineStartMM[2]),\n                end: vec313.fromValues(secondLineEndMM[0], secondLineEndMM[1], secondLineEndMM[2])\n              },\n              sliceIndex: sliceInfo.sliceIndex,\n              sliceType: sliceInfo.sliceType,\n              slicePosition: sliceInfo.slicePosition,\n              angle: this.calculateAngleBetweenLines(this.uiData.angleFirstLine, secondLine)\n            };\n            this.document.completedAngles.push(angleToSave);\n          }\n          this.resetAngleMeasurement();\n          this.uiData.angleState = \"complete\";\n          this.drawScene();\n          return;\n        } else if (this.uiData.angleState === \"complete\") {\n          this.resetAngleMeasurement();\n          this.uiData.angleState = \"drawing_first_line\";\n        }\n      }\n      this.setDragStart(pos.x, pos.y);\n      if (!this.uiData.isDragging) {\n        this.uiData.pan2DxyzmmAtMouseDown = vec49.clone(this.scene.pan2Dxyzmm);\n      }\n      this.uiData.isDragging = true;\n      this.uiData.dragClipPlaneStartDepthAziElev = this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex];\n    }\n  }\n  /**\n   * calculate the the min and max voxel indices from an array of two values (used in selecting intensities with the selection box)\n   * @internal\n   * @param array - an array of two values\n   * @returns an array of two values representing the min and max voxel indices\n   */\n  calculateMinMaxVoxIdx(array) {\n    if (array.length > 2) {\n      throw new Error(\"array must not contain more than two values\");\n    }\n    return [Math.floor(Math.min(array[0], array[1])), Math.floor(Math.max(array[0], array[1]))];\n  }\n  /**\n   * Updates cal_min and cal_max based on intensity range within the drag-selected voxel region.\n   * Skips if no drag occurred, volume is missing, or selection has no variation.\n   * @internal\n   */\n  calculateNewRange({ volIdx = 0 } = {}) {\n    if (this.opts.sliceType === 4 /* RENDER */ && this.sliceMosaicString.length < 1) {\n      return;\n    }\n    if (this.uiData.dragStart[0] === this.uiData.dragEnd[0] && this.uiData.dragStart[1] === this.uiData.dragEnd[1]) {\n      return;\n    }\n    let frac = this.canvasPos2frac([this.uiData.dragStart[0], this.uiData.dragStart[1]]);\n    if (frac[0] < 0) {\n      return;\n    }\n    const startVox = this.frac2vox(frac, volIdx);\n    frac = this.canvasPos2frac([this.uiData.dragEnd[0], this.uiData.dragEnd[1]]);\n    if (frac[0] < 0) {\n      return;\n    }\n    const endVox = this.frac2vox(frac, volIdx);\n    let hi = -Number.MAX_VALUE;\n    let lo = Number.MAX_VALUE;\n    const xrange = this.calculateMinMaxVoxIdx([startVox[0], endVox[0]]);\n    const yrange = this.calculateMinMaxVoxIdx([startVox[1], endVox[1]]);\n    const zrange = this.calculateMinMaxVoxIdx([startVox[2], endVox[2]]);\n    if (startVox[0] - endVox[0] === 0) {\n      xrange[1] = startVox[0] + 1;\n    } else if (startVox[1] - endVox[1] === 0) {\n      yrange[1] = startVox[1] + 1;\n    } else if (startVox[2] - endVox[2] === 0) {\n      zrange[1] = startVox[2] + 1;\n    }\n    const hdr = this.volumes[volIdx].hdr;\n    const img = this.volumes[volIdx].img;\n    if (!hdr || !img) {\n      return;\n    }\n    const xdim = hdr.dims[1];\n    const ydim = hdr.dims[2];\n    for (let z = zrange[0]; z < zrange[1]; z++) {\n      const zi = z * xdim * ydim;\n      for (let y = yrange[0]; y < yrange[1]; y++) {\n        const yi = y * xdim;\n        for (let x = xrange[0]; x < xrange[1]; x++) {\n          const index = zi + yi + x;\n          if (lo > img[index]) {\n            lo = img[index];\n          }\n          if (hi < img[index]) {\n            hi = img[index];\n          }\n        }\n      }\n    }\n    if (lo >= hi) {\n      return;\n    }\n    const mnScale = intensityRaw2Scaled(hdr, lo);\n    const mxScale = intensityRaw2Scaled(hdr, hi);\n    this.volumes[volIdx].cal_min = mnScale;\n    this.volumes[volIdx].cal_max = mxScale;\n    this.onIntensityChange(this.volumes[volIdx]);\n  }\n  /**\n   * Triggers a drag-release callback with voxel, mm, and tile info from the drag gesture.\n   * @internal\n   */\n  generateMouseUpCallback(fracStart, fracEnd) {\n    const tileStart = this.tileIndex(this.uiData.dragStart[0], this.uiData.dragStart[1]);\n    const tileEnd = this.tileIndex(this.uiData.dragEnd[0], this.uiData.dragEnd[1]);\n    let tileIdx = -1;\n    if (tileStart === tileEnd) {\n      tileIdx = tileEnd;\n    }\n    let axCorSag = -1;\n    if (tileIdx >= 0) {\n      axCorSag = this.screenSlices[tileIdx].axCorSag;\n    }\n    const mmStart = this.frac2mm(fracStart);\n    const mmEnd = this.frac2mm(fracEnd);\n    const v = vec313.create();\n    vec313.sub(v, vec313.fromValues(mmStart[0], mmStart[1], mmStart[2]), vec313.fromValues(mmEnd[0], mmEnd[1], mmEnd[2]));\n    const mmLength = vec313.len(v);\n    const voxStart = this.frac2vox(fracStart);\n    const voxEnd = this.frac2vox(fracEnd);\n    this.onDragRelease({\n      fracStart,\n      fracEnd,\n      voxStart,\n      voxEnd,\n      mmStart,\n      mmEnd,\n      mmLength,\n      tileIdx,\n      axCorSag\n    });\n  }\n  /**\n   * Handles mouse up events, finalizing drag actions, invoking callbacks, and updating contrast if needed.\n   * @internal\n   */\n  mouseUpListener() {\n    this.uiData.mousedown = false;\n    function isFunction(test) {\n      return Object.prototype.toString.call(test).indexOf(\"Function\") > -1;\n    }\n    const uiData = {\n      mouseButtonRightDown: this.uiData.mouseButtonRightDown,\n      mouseButtonCenterDown: this.uiData.mouseButtonCenterDown,\n      isDragging: this.uiData.isDragging,\n      mousePos: this.mousePos,\n      fracPos: this.canvasPos2frac(this.mousePos)\n      // xyzMM: this.frac2mm(fracPos),\n    };\n    this.uiData.mouseButtonRightDown = false;\n    const wasCenterDown = this.uiData.mouseButtonCenterDown;\n    this.uiData.mouseButtonCenterDown = false;\n    this.uiData.mouseButtonLeftDown = false;\n    const currentDragMode = this.getCurrentDragMode();\n    if (this.drawPenFillPts.length > 0) {\n      this.drawPenFilled();\n    } else if (this.opts.drawingEnabled && !isNaN(this.drawPenLocation[0])) {\n      this.drawAddUndoBitmap();\n    } else if (this.opts.drawingEnabled && !isNaN(this.drawShapeStartLocation[0]) && (this.opts.penType === 1 /* RECTANGLE */ || this.opts.penType === 2 /* ELLIPSE */)) {\n      if (this.opts.penValue === 0) {\n        this.drawAddUndoBitmap();\n      } else {\n        this.drawAddUndoBitmap(this.drawFillOverwrites);\n      }\n      this.drawShapePreviewBitmap = null;\n    }\n    this.drawPenLocation = [NaN, NaN, NaN];\n    this.drawPenAxCorSag = -1;\n    this.drawShapeStartLocation = [NaN, NaN, NaN];\n    if (this.drawShapePreviewBitmap) {\n      this.drawBitmap = this.drawShapePreviewBitmap;\n      this.drawShapePreviewBitmap = null;\n      this.refreshDrawing(true, false);\n    }\n    if (isFunction(this.onMouseUp)) {\n      this.onMouseUp(uiData);\n    }\n    if (this.uiData.isDragging) {\n      this.uiData.isDragging = false;\n      if (currentDragMode === 7 /* angle */) {\n        if (this.uiData.angleState === \"drawing_first_line\") {\n          this.uiData.angleFirstLine = [\n            this.uiData.dragStart[0],\n            this.uiData.dragStart[1],\n            this.uiData.dragEnd[0],\n            this.uiData.dragEnd[1]\n          ];\n          this.uiData.angleState = \"drawing_second_line\";\n          this.uiData.isDragging = true;\n          this.drawScene();\n          return;\n        }\n        if (this.uiData.angleState === \"drawing_second_line\") {\n          this.uiData.angleState = \"complete\";\n          this.clearActiveDragMode();\n          this.drawScene();\n          return;\n        }\n      }\n      if (currentDragMode === 5 /* callbackOnly */) {\n        this.drawScene();\n      }\n      const fracStart = this.canvasPos2frac([this.uiData.dragStart[0], this.uiData.dragStart[1]]);\n      const fracEnd = this.canvasPos2frac([this.uiData.dragEnd[0], this.uiData.dragEnd[1]]);\n      this.generateMouseUpCallback(fracStart, fracEnd);\n      if (currentDragMode === 6 /* roiSelection */) {\n        this.clearActiveDragMode();\n        return;\n      }\n      if (currentDragMode === 1 /* contrast */) {\n        if (wasCenterDown) {\n          this.clearActiveDragMode();\n          return;\n        }\n        if (this.uiData.dragStart[0] === this.uiData.dragEnd[0] && this.uiData.dragStart[1] === this.uiData.dragEnd[1]) {\n          this.clearActiveDragMode();\n          return;\n        }\n        this.calculateNewRange({ volIdx: 0 });\n        this.refreshLayers(this.volumes[0], 0);\n      }\n      if (currentDragMode === 2 /* measurement */) {\n        const sliceInfo = this.getCurrentSliceInfo();\n        const startFrac = this.canvasPos2frac([this.uiData.dragStart[0], this.uiData.dragStart[1]]);\n        const endFrac = this.canvasPos2frac([this.uiData.dragEnd[0], this.uiData.dragEnd[1]]);\n        if (startFrac[0] >= 0 && endFrac[0] >= 0) {\n          const startMM = this.frac2mm(startFrac);\n          const endMM = this.frac2mm(endFrac);\n          this.document.completedMeasurements.push({\n            startMM: vec313.fromValues(startMM[0], startMM[1], startMM[2]),\n            endMM: vec313.fromValues(endMM[0], endMM[1], endMM[2]),\n            sliceIndex: sliceInfo.sliceIndex,\n            sliceType: sliceInfo.sliceType,\n            slicePosition: sliceInfo.slicePosition,\n            distance: vec313.distance(\n              vec313.fromValues(startMM[0], startMM[1], startMM[2]),\n              vec313.fromValues(endMM[0], endMM[1], endMM[2])\n            )\n          });\n        }\n        this.clearActiveDragMode();\n        this.drawScene();\n        return;\n      }\n    }\n    this.clearActiveDragMode();\n    this.drawScene();\n  }\n  /**\n   * Handles initial touch event to simulate mouse click if not in a multi-touch gesture.\n   * @internal\n   */\n  checkMultitouch(e) {\n    if (this.uiData.touchdown && !this.uiData.multiTouchGesture) {\n      const rect = this.canvas.getBoundingClientRect();\n      this.mouseDown(e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top);\n      this.mouseClick(e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top);\n    }\n  }\n  /**\n   * Handles touch start events, detecting double taps and preparing for gesture or contrast reset.\n   * @internal\n   */\n  touchStartListener(e) {\n    e.preventDefault();\n    if (!this.uiData.touchTimer) {\n      this.uiData.touchTimer = setTimeout(() => {\n        this.resetBriCon(e);\n      }, this.opts.longTouchTimeout);\n    }\n    this.uiData.touchdown = true;\n    this.uiData.currentTouchTime = (/* @__PURE__ */ new Date()).getTime();\n    const timeSinceTouch = this.uiData.currentTouchTime - this.uiData.lastTouchTime;\n    if (timeSinceTouch < this.opts.doubleTouchTimeout && timeSinceTouch > 0) {\n      this.uiData.doubleTouch = true;\n      this.setDragStart(\n        e.targetTouches[0].clientX - e.target.getBoundingClientRect().left,\n        e.targetTouches[0].clientY - e.target.getBoundingClientRect().top\n      );\n      this.resetBriCon(e);\n      this.uiData.lastTouchTime = this.uiData.currentTouchTime;\n      return;\n    } else {\n      this.uiData.doubleTouch = false;\n      this.setDragStart(0, 0);\n      this.setDragEnd(0, 0);\n      this.uiData.lastTouchTime = this.uiData.currentTouchTime;\n    }\n    if (this.uiData.touchdown && e.touches.length < 2) {\n      this.uiData.multiTouchGesture = false;\n    } else {\n      this.uiData.multiTouchGesture = true;\n    }\n    setTimeout(this.checkMultitouch.bind(this), 1, e);\n  }\n  /**\n   * Handles touch end events, finalizing gestures and contrast adjustments, then triggers mouse up logic.\n   * @internal\n   */\n  touchEndListener(e) {\n    e.preventDefault();\n    this.uiData.touchdown = false;\n    this.uiData.lastTwoTouchDistance = 0;\n    this.uiData.multiTouchGesture = false;\n    if (this.uiData.touchTimer) {\n      clearTimeout(this.uiData.touchTimer);\n      this.uiData.touchTimer = null;\n    }\n    if (this.uiData.isDragging) {\n      this.uiData.isDragging = false;\n      if (this.getCurrentDragMode() === 1 /* contrast */) {\n        this.calculateNewRange();\n        this.refreshLayers(this.volumes[0], 0);\n      }\n      const fracStart = this.canvasPos2frac([this.uiData.dragStart[0], this.uiData.dragStart[1]]);\n      const fracEnd = this.canvasPos2frac([this.uiData.dragEnd[0], this.uiData.dragEnd[1]]);\n      this.generateMouseUpCallback(fracStart, fracEnd);\n    }\n    this.mouseUpListener();\n  }\n  /**\n   * Adjusts window/level (cal_min and cal_max) based on mouse or touch drag direction.\n   * @internal\n   */\n  windowingHandler(x, y, volIdx = 0) {\n    const wx = this.uiData.windowX;\n    const wy = this.uiData.windowY;\n    let mn = this.volumes[0].cal_min;\n    let mx = this.volumes[0].cal_max;\n    const gmn = this.volumes[0].global_min;\n    const gmx = this.volumes[0].global_max;\n    if (y < wy) {\n      mn += 1;\n      mx += 1;\n    } else if (y > wy) {\n      mn -= 1;\n      mx -= 1;\n    }\n    if (x > wx) {\n      mn -= 1;\n      mx += 1;\n    } else if (x < wx) {\n      mn += 1;\n      mx -= 1;\n    }\n    if (mx - mn < 1) {\n      mx = mn + 1;\n    }\n    if (mn < gmn) {\n      mn = gmn;\n    }\n    if (mx > gmx) {\n      mx = gmx;\n    }\n    if (mn > mx) {\n      mn = mx - 1;\n    }\n    this.volumes[volIdx].cal_min = mn;\n    this.volumes[volIdx].cal_max = mx;\n    this.refreshLayers(this.volumes[volIdx], 0);\n    this.uiData.windowX = x;\n    this.uiData.windowY = y;\n  }\n  /**\n   * Handles mouse leaving the canvas, resetting segmentation, drawing, and drag states.\n   * @internal\n   */\n  mouseLeaveListener() {\n    if (this.clickToSegmentIsGrowing) {\n      log.debug(\"Mouse left canvas, stopping clickToSegment preview.\");\n      this.clickToSegmentIsGrowing = false;\n      this.refreshDrawing(true, false);\n    }\n    if (this.opts.drawingEnabled && !isNaN(this.drawPenLocation[0])) {\n      log.debug(\"Mouse left canvas during drawing, resetting pen state.\");\n      this.drawPenLocation = [NaN, NaN, NaN];\n      this.drawPenAxCorSag = -1;\n      this.drawPenFillPts = [];\n    }\n    if (this.opts.drawingEnabled && !isNaN(this.drawShapeStartLocation[0])) {\n      log.debug(\"Mouse left canvas during shape drawing, resetting shape state.\");\n      this.drawShapeStartLocation = [NaN, NaN, NaN];\n      if (this.drawShapePreviewBitmap) {\n        this.drawBitmap = this.drawShapePreviewBitmap;\n        this.drawShapePreviewBitmap = null;\n        this.refreshDrawing(true, false);\n      }\n    }\n    if (this.uiData.isDragging || this.uiData.mousedown) {\n      log.debug(\"Mouse left canvas during drag, resetting drag state.\");\n      this.uiData.isDragging = false;\n      this.uiData.mouseButtonLeftDown = false;\n      this.uiData.mouseButtonCenterDown = false;\n      this.uiData.mouseButtonRightDown = false;\n      this.uiData.mousedown = false;\n      this.drawScene();\n    }\n    this.mousePos = [-1, -1];\n  }\n  /**\n   * Handles mouse move events for dragging, crosshair movement, windowing, and click-to-segment preview.\n   * @internal\n   */\n  mouseMoveListener(e) {\n    if (this.uiData.mousedown) {\n      this.drawScene();\n    }\n    const pos = this.getNoPaddingNoBorderCanvasRelativeMousePosition(e, this.gl.canvas);\n    if (!pos) {\n      return;\n    }\n    if (!this.eventInBounds(e)) {\n      this.updateMousePos(pos.x, pos.y);\n      return;\n    }\n    if (this.uiData.mousedown) {\n      const x = pos.x * this.uiData.dpr;\n      const y = pos.y * this.uiData.dpr;\n      const tile = this.tileIndex(x, y);\n      if (tile !== this.uiData.clickedTile) {\n        return;\n      }\n      const activeDragMode = this.getCurrentDragMode();\n      if (activeDragMode === 8 /* crosshair */) {\n        this.mouseMove(pos.x, pos.y);\n        this.mouseClick(pos.x, pos.y);\n        this.drawScene();\n        this.uiData.prevX = this.uiData.currX;\n        this.uiData.prevY = this.uiData.currY;\n        return;\n      }\n      if (activeDragMode === 9 /* windowing */) {\n        this.windowingHandler(pos.x, pos.y);\n        this.drawScene();\n        this.uiData.prevX = this.uiData.currX;\n        this.uiData.prevY = this.uiData.currY;\n        return;\n      }\n      this.setDragEnd(pos.x, pos.y);\n      this.drawScene();\n      this.uiData.prevX = this.uiData.currX;\n      this.uiData.prevY = this.uiData.currY;\n    } else if (this.getCurrentDragMode() === 7 /* angle */ && this.uiData.angleState === \"drawing_second_line\") {\n      const pos2 = this.getNoPaddingNoBorderCanvasRelativeMousePosition(e, this.gl.canvas);\n      if (!pos2) {\n        return;\n      }\n      this.setDragEnd(pos2.x, pos2.y);\n      this.drawScene();\n    } else if (!this.uiData.mousedown && this.opts.clickToSegment) {\n      const pos2 = this.getNoPaddingNoBorderCanvasRelativeMousePosition(e, this.gl.canvas);\n      if (!pos2) {\n        return;\n      }\n      const x = pos2.x * this.uiData.dpr;\n      const y = pos2.y * this.uiData.dpr;\n      this.mousePos = [x, y];\n      const tileIdx = this.tileIndex(x, y);\n      if (tileIdx >= 0 && this.opts.drawingEnabled) {\n        const axCorSag = this.screenSlices[tileIdx].axCorSag;\n        if (axCorSag <= 2 /* SAGITTAL */) {\n          this.clickToSegmentXY = [x, y];\n          this.clickToSegmentIsGrowing = true;\n          this.doClickToSegment({\n            x,\n            // Screen X\n            y,\n            // Screen Y\n            tileIndex: tileIdx\n          });\n        }\n      }\n    }\n  }\n  /**\n   * Resets brightness and contrast to robust min/max unless in render mode or during interaction.\n   * @internal\n   */\n  resetBriCon(msg = null) {\n    if (this.uiData.isDragging) {\n      return;\n    }\n    if (!this.eventInBounds(msg)) {\n      this.opts.showBoundsBorder = false;\n      return;\n    }\n    let isRender = false;\n    if (this.opts.sliceType === 4 /* RENDER */) {\n      isRender = true;\n    }\n    let x = 0;\n    let y = 0;\n    if (msg !== null) {\n      if (\"targetTouches\" in msg) {\n        x = msg.targetTouches[0].clientX - msg.target.getBoundingClientRect().left;\n        y = msg.targetTouches[0].clientY - msg.target.getBoundingClientRect().top;\n      } else {\n        x = msg.offsetX;\n        y = msg.offsetY;\n      }\n      x *= this.uiData.dpr;\n      y *= this.uiData.dpr;\n      if (this.inRenderTile(x, y) >= 0) {\n        isRender = true;\n      }\n    }\n    if (isRender) {\n      this.uiData.mouseDepthPicker = true;\n      this.drawScene();\n      this.drawScene();\n      return;\n    }\n    if (this.getCurrentDragMode() === 4 /* slicer3D */) {\n      return;\n    }\n    if (this.volumes.length < 1) {\n      return;\n    }\n    if (this.uiData.doubleTouch) {\n      return;\n    }\n    this.volumes[0].cal_min = this.volumes[0].robust_min;\n    this.volumes[0].cal_max = this.volumes[0].robust_max;\n    this.onIntensityChange(this.volumes[0]);\n    this.refreshLayers(this.volumes[0], 0);\n    this.drawScene();\n  }\n  /**\n   * Sets the drag start position in canvas coordinates.\n   * @internal\n   */\n  setDragStart(x, y) {\n    x *= this.uiData.dpr;\n    y *= this.uiData.dpr;\n    this.uiData.dragStart[0] = x;\n    this.uiData.dragStart[1] = y;\n  }\n  /**\n   * Sets the drag end position in canvas coordinates.\n   * @internal\n   */\n  setDragEnd(x, y) {\n    x *= this.uiData.dpr;\n    y *= this.uiData.dpr;\n    this.uiData.dragEnd[0] = x;\n    this.uiData.dragEnd[1] = y;\n  }\n  /**\n   * Handles touch movement for crosshair, windowing, and pinch-to-zoom interactions.\n   * @internal\n   */\n  touchMoveListener(e) {\n    if (this.uiData.touchdown && e.touches.length < 2) {\n      const rect = this.canvas.getBoundingClientRect();\n      if (!this.uiData.isDragging) {\n        this.uiData.pan2DxyzmmAtMouseDown = vec49.clone(this.scene.pan2Dxyzmm);\n      }\n      this.uiData.isDragging = true;\n      if (this.uiData.doubleTouch && this.uiData.isDragging) {\n        this.setDragEnd(\n          e.targetTouches[0].clientX - e.target.getBoundingClientRect().left,\n          e.targetTouches[0].clientY - e.target.getBoundingClientRect().top\n        );\n        this.drawScene();\n        return;\n      }\n      const dragMode = this.getTouchDragMode(false);\n      if (dragMode === 8 /* crosshair */) {\n        this.mouseClick(e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top);\n        this.mouseMove(e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top);\n      } else if (dragMode === 9 /* windowing */) {\n        this.windowingHandler(e.touches[0].pageX, e.touches[0].pageY);\n        this.drawScene();\n      }\n    } else {\n      this.handlePinchZoom(e);\n    }\n  }\n  /**\n   * Handles pinch-to-zoom gestures for scrolling 2D slices.\n   * @internal\n   */\n  handlePinchZoom(e) {\n    if (e.targetTouches.length === 2 && e.changedTouches.length === 2) {\n      const dist = Math.hypot(e.touches[0].pageX - e.touches[1].pageX, e.touches[0].pageY - e.touches[1].pageY);\n      const rect = this.canvas.getBoundingClientRect();\n      this.mousePos = [e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top];\n      if (dist < this.uiData.lastTwoTouchDistance) {\n        this.sliceScroll2D(-0.01, e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top);\n      } else {\n        this.sliceScroll2D(0.01, e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top);\n      }\n      this.uiData.lastTwoTouchDistance = dist;\n    }\n  }\n  /**\n   * Cycles active clip plane\n   * @internal\n   * @returns active clip plane index\n   */\n  cycleActiveClipPlane() {\n    const n = this.scene.clipPlanes.length || 6;\n    if (this.uiData.activeClipPlaneIndex == null) {\n      this.uiData.activeClipPlaneIndex = 0;\n    } else {\n      this.uiData.activeClipPlaneIndex = (this.uiData.activeClipPlaneIndex + 1) % n;\n    }\n    const idx = this.uiData.activeClipPlaneIndex;\n    if (!this.scene.clipPlanes[idx]) {\n      this.scene.clipPlanes[idx] = [0, 0, 0, 2];\n    }\n    if (!this.scene.clipPlaneDepthAziElevs[idx]) {\n      this.scene.clipPlaneDepthAziElevs[idx] = [2, 0, 0];\n    }\n    return idx;\n  }\n  /**\n   * Handles keyboard shortcuts for toggling clip planes and slice view modes with debounce logic.\n   * @internal\n   */\n  keyUpListener(e) {\n    if (!this.cursorInBounds()) {\n      this.opts.showBoundsBorder = false;\n      this.drawScene();\n      return;\n    }\n    const now = (/* @__PURE__ */ new Date()).getTime();\n    const elapsed = now - this.lastCalled;\n    if (e.code === this.opts.cycleClipPlaneHotKey) {\n      if (elapsed > this.opts.keyDebounceTime) {\n        const idx = this.cycleActiveClipPlane();\n        console.log(\"Active clip plane cycled to:\", idx);\n        console.log(\"clip planes\", this.scene.clipPlanes);\n        this.lastCalled = now;\n      }\n    }\n    if (e.code === this.opts.clipPlaneHotKey) {\n      if (elapsed > this.opts.keyDebounceTime) {\n        this.currentClipPlaneIndex = (this.currentClipPlaneIndex + 1) % 7;\n        switch (this.currentClipPlaneIndex) {\n          case 0:\n            this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex] = [2, 0, 0];\n            break;\n          case 1:\n            this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex] = [0, 270, 0];\n            break;\n          case 2:\n            this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex] = [0, 90, 0];\n            break;\n          case 3:\n            this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex] = [0, 0, 0];\n            break;\n          case 4:\n            this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex] = [0, 180, 0];\n            break;\n          case 5:\n            this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex] = [0, 0, -90];\n            break;\n          case 6:\n            this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex] = [0, 0, 90];\n            break;\n        }\n        this.setClipPlane(this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex]);\n      }\n      this.lastCalled = now;\n    } else if (e.code === this.opts.viewModeHotKey) {\n      const now2 = (/* @__PURE__ */ new Date()).getTime();\n      const elapsed2 = now2 - this.lastCalled;\n      if (elapsed2 > this.opts.keyDebounceTime) {\n        this.setSliceType((this.opts.sliceType + 1) % 5);\n        this.lastCalled = now2;\n      }\n    }\n    this.drawScene();\n  }\n  /**\n   * Handles key down events for navigation, rendering controls, slice movement, and mode switching.\n   * @internal\n   */\n  keyDownListener(e) {\n    if (!this.cursorInBounds()) {\n      this.opts.showBoundsBorder = false;\n      this.drawScene();\n      return;\n    }\n    if (e.code === \"KeyH\" && this.opts.sliceType === 4 /* RENDER */) {\n      this.setRenderAzimuthElevation(this.scene.renderAzimuth - 1, this.scene.renderElevation);\n    } else if (e.code === \"KeyL\" && this.opts.sliceType === 4 /* RENDER */) {\n      this.setRenderAzimuthElevation(this.scene.renderAzimuth + 1, this.scene.renderElevation);\n    } else if (e.code === \"KeyJ\" && this.opts.sliceType === 4 /* RENDER */) {\n      this.setRenderAzimuthElevation(this.scene.renderAzimuth, this.scene.renderElevation + 1);\n    } else if (e.code === \"KeyK\" && this.opts.sliceType === 4 /* RENDER */) {\n      this.setRenderAzimuthElevation(this.scene.renderAzimuth, this.scene.renderElevation - 1);\n    } else if (e.code === \"KeyH\" && this.opts.sliceType !== 4 /* RENDER */) {\n      this.moveCrosshairInVox(-1, 0, 0);\n    } else if (e.code === \"KeyL\" && this.opts.sliceType !== 4 /* RENDER */) {\n      this.moveCrosshairInVox(1, 0, 0);\n    } else if (e.code === \"KeyU\" && this.opts.sliceType !== 4 /* RENDER */ && e.ctrlKey) {\n      this.moveCrosshairInVox(0, 0, 1);\n    } else if (e.code === \"KeyD\" && this.opts.sliceType !== 4 /* RENDER */ && e.ctrlKey) {\n      this.moveCrosshairInVox(0, 0, -1);\n    } else if (e.code === \"KeyJ\" && this.opts.sliceType !== 4 /* RENDER */) {\n      this.moveCrosshairInVox(0, -1, 0);\n    } else if (e.code === \"KeyK\" && this.opts.sliceType !== 4 /* RENDER */) {\n      this.moveCrosshairInVox(0, 1, 0);\n    } else if (e.code === \"KeyM\" && this.opts.sliceType !== 4 /* RENDER */) {\n      this.opts.dragMode++;\n      if (this.opts.dragMode >= 4 /* slicer3D */) {\n        this.opts.dragMode = 0 /* none */;\n      }\n      log.info(\"drag mode changed to \", DRAG_MODE[this.opts.dragMode]);\n    } else if (e.code === \"ArrowLeft\") {\n      this.setFrame4D(this.volumes[0].id, this.volumes[0].frame4D - 1);\n    } else if (e.code === \"ArrowRight\") {\n      this.setFrame4D(this.volumes[0].id, this.volumes[0].frame4D + 1);\n    } else if (e.code === \"Slash\" && e.shiftKey) {\n      alert(`NIIVUE VERSION: ${version}`);\n    }\n    this.drawScene();\n  }\n  /**\n   * Handles scroll wheel events for slice scrolling, ROI box resizing, zooming, or segmentation thresholding.\n   * @internal\n   */\n  wheelListener(e) {\n    if (this.thumbnailVisible) {\n      return;\n    }\n    if (this.opts.sliceMosaicString.length > 0) {\n      return;\n    }\n    if (!this.eventInBounds(e)) {\n      this.opts.showBoundsBorder = false;\n      this.drawScene();\n      return;\n    } else if (this.opts.bounds) {\n      this.opts.showBoundsBorder = true;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n    const dragStartSum = this.uiData.dragStart.reduce((a, b) => a + b, 0);\n    const dragEndSum = this.uiData.dragEnd.reduce((a, b) => a + b, 0);\n    const validDrag = dragStartSum > 0 && dragEndSum > 0;\n    if (this.getCurrentDragMode() === 6 /* roiSelection */ && validDrag) {\n      const delta = e.deltaY > 0 ? 1 : -1;\n      if (this.uiData.dragStart[0] < this.uiData.dragEnd[0]) {\n        this.uiData.dragStart[0] -= delta;\n        this.uiData.dragEnd[0] += delta;\n      } else {\n        this.uiData.dragStart[0] += delta;\n        this.uiData.dragEnd[0] -= delta;\n      }\n      if (this.uiData.dragStart[1] < this.uiData.dragEnd[1]) {\n        this.uiData.dragStart[1] -= delta;\n        this.uiData.dragEnd[1] += delta;\n      } else {\n        this.uiData.dragStart[1] += delta;\n        this.uiData.dragEnd[1] -= delta;\n      }\n      this.uiData.isDragging = true;\n      this.drawScene();\n      this.uiData.isDragging = false;\n      const tileIdx = this.tileIndex(this.uiData.dragStart[0], this.uiData.dragStart[1]);\n      if (tileIdx >= 0) {\n        this.generateMouseUpCallback(\n          this.screenXY2TextureFrac(this.uiData.dragStart[0], this.uiData.dragStart[1], tileIdx),\n          this.screenXY2TextureFrac(this.uiData.dragEnd[0], this.uiData.dragEnd[1], tileIdx)\n        );\n      } else {\n        log.warn(\"Could not generate drag release callback for ROI selection: Invalid tile index.\");\n      }\n      return;\n    }\n    let scrollAmount = e.deltaY < 0 ? -0.01 : 0.01;\n    if (this.opts.invertScrollDirection) {\n      scrollAmount = -scrollAmount;\n    }\n    if (this.opts.clickToSegment) {\n      if (scrollAmount < 0) {\n        this.opts.clickToSegmentPercent -= 0.01;\n        this.opts.clickToSegmentPercent = Math.max(this.opts.clickToSegmentPercent, 0);\n      } else {\n        this.opts.clickToSegmentPercent += 0.01;\n        this.opts.clickToSegmentPercent = Math.min(this.opts.clickToSegmentPercent, 1);\n      }\n      const x2 = this.clickToSegmentXY[0];\n      const y2 = this.clickToSegmentXY[1];\n      const tileIdx = this.tileIndex(x2, y2);\n      if (tileIdx >= 0 && this.screenSlices[tileIdx].axCorSag <= 2 /* SAGITTAL */) {\n        log.debug(`Adjusting clickToSegment threshold: ${this.opts.clickToSegmentPercent.toFixed(3)}`);\n        this.clickToSegmentIsGrowing = true;\n        this.doClickToSegment({ x: x2, y: y2, tileIndex: tileIdx });\n      }\n      return;\n    }\n    const rect = this.canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    if (this.getCurrentDragMode() === 3 /* pan */ && this.inRenderTile(this.uiData.dpr * x, this.uiData.dpr * y) === -1) {\n      const zoomDirection = scrollAmount < 0 ? 1 : -1;\n      let zoom = this.scene.pan2Dxyzmm[3] * (1 + 10 * (0.01 * zoomDirection));\n      zoom = Math.round(zoom * 10) / 10;\n      const zoomChange = this.scene.pan2Dxyzmm[3] - zoom;\n      if (this.opts.yoke3Dto2DZoom) {\n        this.scene.volScaleMultiplier = zoom;\n      }\n      this.scene.pan2Dxyzmm[3] = zoom;\n      const mm = this.frac2mm(this.scene.crosshairPos);\n      this.scene.pan2Dxyzmm[0] += zoomChange * mm[0];\n      this.scene.pan2Dxyzmm[1] += zoomChange * mm[1];\n      this.scene.pan2Dxyzmm[2] += zoomChange * mm[2];\n      this.drawScene();\n      this.canvas.focus();\n      this.sync();\n      return;\n    }\n    this.sliceScroll2D(scrollAmount, x, y);\n  }\n  /**\n   * Registers all mouse, touch, keyboard, and drag event listeners for canvas interaction.\n   * n.b. any event listeners registered here should also be removed in `cleanup()`\n   * @internal\n   */\n  registerInteractions() {\n    if (!this.canvas) {\n      throw new Error(\"canvas undefined\");\n    }\n    __privateSet(this, _eventsController, new AbortController());\n    const { signal } = __privateGet(this, _eventsController);\n    this.canvas.addEventListener(\"mousedown\", this.mouseDownListener.bind(this), { signal });\n    this.canvas.addEventListener(\"mouseup\", this.mouseUpListener.bind(this), { signal });\n    this.canvas.addEventListener(\"mousemove\", this.mouseMoveListener.bind(this), { signal });\n    this.canvas.addEventListener(\"mouseleave\", this.mouseLeaveListener.bind(this), { signal });\n    this.canvas.addEventListener(\"touchstart\", this.touchStartListener.bind(this), { signal });\n    this.canvas.addEventListener(\"touchend\", this.touchEndListener.bind(this), { signal });\n    this.canvas.addEventListener(\"touchmove\", this.touchMoveListener.bind(this), { signal });\n    this.canvas.addEventListener(\"wheel\", this.wheelListener.bind(this), { signal });\n    this.canvas.addEventListener(\"contextmenu\", this.mouseContextMenuListener.bind(this), { signal });\n    this.canvas.addEventListener(\"dblclick\", this.resetBriCon.bind(this), { signal });\n    this.canvas.addEventListener(\"dragenter\", this.dragEnterListener.bind(this), { signal });\n    this.canvas.addEventListener(\"dragover\", this.dragOverListener.bind(this), { signal });\n    this.canvas.addEventListener(\n      \"drop\",\n      (event) => {\n        this.dropListener(event).catch(console.error);\n      },\n      { signal }\n    );\n    this.canvas.setAttribute(\"tabindex\", \"0\");\n    this.canvas.addEventListener(\"keyup\", this.keyUpListener.bind(this), { signal });\n    this.canvas.addEventListener(\"keydown\", this.keyDownListener.bind(this), { signal });\n  }\n  /**\n   * Prevents default behavior when a dragged item enters the canvas.\n   * @internal\n   */\n  dragEnterListener(e) {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n  /**\n   * Prevents default behavior when a dragged item is over the canvas.\n   * @internal\n   */\n  dragOverListener(e) {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n  /**\n   * Extracts and normalizes the file extension, handling special cases like .gz and .cbor.\n   * @internal\n   */\n  getFileExt(fullname, upperCase = true) {\n    log.debug(\"fullname: \", fullname);\n    const re = /(?:\\.([^.]+))?$/;\n    let ext = re.exec(fullname)[1];\n    ext = ext.toUpperCase();\n    if (ext === \"GZ\") {\n      ext = re.exec(fullname.slice(0, -3))[1];\n      ext = ext.toUpperCase();\n    } else if (ext === \"CBOR\") {\n      const endExt = ext;\n      ext = re.exec(fullname.slice(0, -5))[1];\n      ext = ext.toUpperCase();\n      ext = `${ext}.${endExt}`;\n    }\n    return upperCase ? ext : ext.toLowerCase();\n  }\n  /**\n   * Add an image and notify subscribers\n   * @see {@link https://niivue.com/demos/features/document.3d.html | live demo usage}\n   */\n  async addVolumeFromUrl(imageOptions) {\n    const volume = await NVImage.loadFromUrl(imageOptions);\n    this.document.addImageOptions(volume, imageOptions);\n    volume.onColormapChange = this.onColormapChange;\n    this.mediaUrlMap.set(volume, imageOptions.url);\n    if (this.onVolumeAddedFromUrl) {\n      this.onVolumeAddedFromUrl(imageOptions, volume);\n    }\n    this.addVolume(volume);\n    return volume;\n  }\n  async addVolumesFromUrl(imageOptionsArray) {\n    const promises = imageOptionsArray.map(async (imageItem) => {\n      const ext = this.getFileExt(imageItem.name || imageItem.url);\n      if (ext === \"DCM\") {\n        throw new Error(\"DICOM files must be loaded using useDicomLoader\");\n      }\n      if (this.loaders[ext]) {\n        let itemToLoad = imageItem.url;\n        const toExt = this.loaders[ext].toExt;\n        let name = imageItem.name || imageItem.url;\n        name = name.split(\"/\").pop();\n        if (typeof imageItem.url === \"string\") {\n          const url = imageItem.url;\n          try {\n            const response = await fetch(url);\n            if (!response.ok) {\n              throw new Error(`Failed to load file: ${response.statusText}`);\n            }\n            itemToLoad = await response.arrayBuffer();\n          } catch (error) {\n            throw new Error(`Failed to load url ${url}: ${error}`);\n          }\n        }\n        const buffer = await this.loaders[ext].loader(itemToLoad);\n        imageItem.url = buffer;\n        imageItem.name = `${name}.${toExt}`;\n      }\n      const imageOptions = {\n        url: imageItem.url,\n        headers: imageItem.headers,\n        name: imageItem.name,\n        colormap: imageItem.colormap ? imageItem.colormap : imageItem.colorMap,\n        colormapNegative: imageItem.colormapNegative ? imageItem.colormapNegative : imageItem.colorMapNegative,\n        opacity: imageItem.opacity,\n        urlImgData: imageItem.urlImgData,\n        cal_min: imageItem.cal_min,\n        cal_max: imageItem.cal_max,\n        trustCalMinMax: this.opts.trustCalMinMax,\n        isManifest: imageItem.isManifest,\n        frame4D: imageItem.frame4D,\n        limitFrames4D: imageItem.limitFrames4D || this.opts.limitFrames4D,\n        colorbarVisible: imageItem.colorbarVisible\n      };\n      const volume = await NVImage.loadFromUrl(imageOptions);\n      this.document.addImageOptions(volume, imageOptions);\n      volume.onColormapChange = this.onColormapChange;\n      this.mediaUrlMap.set(volume, imageOptions.url);\n      if (this.onVolumeAddedFromUrl) {\n        this.onVolumeAddedFromUrl(imageOptions, volume);\n      }\n      return volume;\n    });\n    const volumes = await Promise.all(promises);\n    for (let i = 0; i < volumes.length; i++) {\n      this.addVolume(volumes[i]);\n    }\n    return volumes;\n  }\n  /**\n   * Returns the media object associated with the given URL, if any.\n   * @internal\n   */\n  getMediaByUrl(url) {\n    return [...this.mediaUrlMap.entries()].filter((v) => v[1] === url).map((v) => v[0]).pop();\n  }\n  /**\n   * Remove volume by url\n   * @param url - Volume added by url to remove\n   * @see {@link https://niivue.com/demos/features/document.3d.html | live demo usage}\n   */\n  removeVolumeByUrl(url) {\n    const volume = this.getMediaByUrl(url);\n    if (volume) {\n      this.removeVolume(volume);\n    } else {\n      throw new Error(\"No volume with URL present\");\n    }\n  }\n  /**\n   * Recursively traverses a file tree, populating file paths for directory uploads.\n   * Adds `_webkitRelativePath` to each file for compatibility with tools like dcm2niix.\n   * @internal\n   */\n  async traverseFileTree(item, path = \"\", fileArray) {\n    return new Promise((resolve) => {\n      if (item.isFile) {\n        item.file((file) => {\n          file.fullPath = path + file.name;\n          file._webkitRelativePath = path + file.name;\n          fileArray.push(file);\n          resolve(fileArray);\n        });\n      } else if (item.isDirectory) {\n        const dirReader = item.createReader();\n        const readAllEntries = () => {\n          dirReader.readEntries((entries) => {\n            if (entries.length > 0) {\n              const promises = [];\n              for (const entry of entries) {\n                promises.push(this.traverseFileTree(entry, path + item.name + \"/\", fileArray));\n              }\n              Promise.all(promises).then(readAllEntries).catch((e) => {\n                throw e;\n              });\n            } else {\n              resolve(fileArray);\n            }\n          });\n        };\n        readAllEntries();\n      }\n    });\n  }\n  /**\n   * Recursively reads a directory and logs the File objects contained within.\n   * Used for processing dropped folders via drag-and-drop.\n   * @internal\n   */\n  readDirectory(directory) {\n    const reader = directory.createReader();\n    let allEntiresInDir = [];\n    const getFileObjects = async (fileSystemEntries) => {\n      const allFileObects = [];\n      const getFile = async (fileEntry) => {\n        return new Promise((resolve, reject) => fileEntry.file(resolve, reject));\n      };\n      for (let i = 0; i < fileSystemEntries.length; i++) {\n        allFileObects.push(await getFile(fileSystemEntries[i]));\n      }\n      return allFileObects;\n    };\n    const readEntries = () => {\n      reader.readEntries((entries) => {\n        if (entries.length) {\n          allEntiresInDir = allEntiresInDir.concat(entries);\n          readEntries();\n        } else {\n          getFileObjects(allEntiresInDir).then(async () => {\n          }).catch((e) => {\n            throw e;\n          });\n        }\n      });\n    };\n    readEntries();\n    return allEntiresInDir;\n  }\n  /**\n   * Returns boolean: true if filename ends with mesh extension (TRK, pial, etc)\n   * @param url - filename\n   * @internal\n   */\n  isMeshExt(url) {\n    const ext = this.getFileExt(url);\n    log.debug(\"dropped ext\");\n    log.debug(ext);\n    return MESH_EXTENSIONS.includes(ext);\n  }\n  /**\n   * Load an image or mesh from an array buffer\n   * @param buffer - ArrayBuffer with the entire contents of a mesh or volume\n   * @param name - string of filename, extension used to infer type (NIfTI, MGH, MZ3, etc)\n   * @see {@link http://192.168.0.150:8080/features/draganddrop.html | live demo usage}\n   */\n  async loadFromArrayBuffer(buffer, name) {\n    const ext = this.getFileExt(name);\n    if (MESH_EXTENSIONS.includes(ext)) {\n      await this.addMeshFromUrl({ url: name, buffer });\n      return;\n    }\n    const imageOptions = NVImageFromUrlOptions(name);\n    imageOptions.buffer = buffer;\n    imageOptions.name = name;\n    await this.addVolumeFromUrl(imageOptions);\n  }\n  /**\n   * Load a mesh or image volume from a File object\n   * @param file - File object selected by the user (e.g. from an HTML input element)\n   * @returns a Promise that resolves when the file has been loaded and added to the scene\n   * @see {@link https://niivue.com/demos/features/selectfont.html | live demo usage}\n   */\n  async loadFromFile(file) {\n    const ext = this.getFileExt(file.name);\n    if (MESH_EXTENSIONS.includes(ext)) {\n      await NVMesh3.loadFromFile({ file, gl: this.gl, name: file.name }).then((mesh) => {\n        this.addMesh(mesh);\n      });\n      return;\n    }\n    await NVImage.loadFromFile({\n      file,\n      name: file.name\n    }).then((volume) => {\n      this.addVolume(volume);\n    });\n  }\n  /**\n   * Registers a custom external file loader for handling specific file types in Niivue.\n   *\n   * This method allows you to define how certain file extensions are handled when loaded into Niivue.\n   * The provided `loader` function should return an object containing an `ArrayBuffer` of the file's contents\n   * and the file extension (used for inferring how Niivue should process the data).\n   *\n   * Optionally, `positions` and `indices` can be returned to support loading mesh data (e.g. `.mz3` format).\n   *\n   * @example\n   * const myCustomLoader = async (file) => {\n   *   const arrayBuffer = await file.arrayBuffer()\n   *   return {\n   *     arrayBuffer,\n   *     fileExt: 'iwi.cbor',\n   *     positions: new Float32Array(...),\n   *     indices: new Uint32Array(...)\n   *   }\n   * }\n   *\n   * nv.useLoader(myCustomLoader, 'iwi.cbor', 'nii')\n   *\n   * @param loader - A function that accepts a `File` or `ArrayBuffer` and returns an object with `arrayBuffer` and `fileExt` properties. May also return `positions` and `indices` for meshes.\n   * @param fileExt - The original file extension (e.g. 'iwi.cbor') to associate with this loader.\n   * @param toExt - The target file extension Niivue should treat the file as (e.g. 'nii' or 'mz3').\n   */\n  useLoader(loader, fileExt, toExt) {\n    this.loaders = {\n      ...this.loaders,\n      [fileExt.toUpperCase()]: {\n        loader,\n        toExt\n      }\n    };\n  }\n  /**\n   * Set a custom loader for handling DICOM files.\n   */\n  useDicomLoader(loader) {\n    this.dicomLoader = loader;\n  }\n  /**\n   * Get the currently assigned DICOM loader.\n   */\n  getDicomLoader() {\n    return this.dicomLoader;\n  }\n  // dicom loading is a special case because it can take a list\n  // of files (e.g. from a user supplied DICOM directory) or a single file.\n  // Our preferred DICOM loader is the WASM port of dcm2niix (implemented in a separate niivue loader module).\n  // useDicomLoader(loader: unknown, toExt: string) {\n  //   this.loaders = {\n  //     ...this.loaders,\n  //     ['DCM']: {\n  //       loader,\n  //       toExt,\n  //     },\n  //   }\n  // }\n  /**\n   * Handles file and URL drag-and-drop events on the canvas.\n   * Supports loading of volumes, meshes, NVD documents, and DICOM directories.\n   * Honors modifier keys (e.g., Shift to replace, Alt for drawing overlays).\n   * @internal\n   */\n  async dropListener(e) {\n    if (!this.eventInBounds(e)) {\n      this.opts.showBoundsBorder = false;\n      return;\n    } else if (this.opts.bounds) {\n      this.opts.showBoundsBorder = true;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    if (!this.opts.dragAndDropEnabled) {\n      return;\n    }\n    const urlsToLoad = [];\n    const files = [];\n    const dt = e.dataTransfer;\n    if (!dt) {\n      return;\n    }\n    const url = dt.getData(\"text/uri-list\");\n    if (url) {\n      urlsToLoad.push(url);\n      const imageOptions = NVImageFromUrlOptions(url);\n      const ext = this.getFileExt(url);\n      log.debug(\"dropped ext\");\n      log.debug(ext);\n      if (MESH_EXTENSIONS.includes(ext)) {\n        this.addMeshFromUrl({ url }).catch((e2) => {\n          throw e2;\n        });\n      } else if (ext === \"NVD\") {\n        this.loadDocumentFromUrl(url).catch((e2) => {\n          throw e2;\n        });\n      } else {\n        this.addVolumeFromUrl(imageOptions).catch((e2) => {\n          throw e2;\n        });\n      }\n    } else {\n      const items = dt.items;\n      if (items.length > 0) {\n        if (!e.shiftKey && !e.altKey) {\n          this.volumes = [];\n          this.overlays = [];\n          this.meshes = [];\n        }\n        this.closeDrawing();\n        this.closePAQD();\n        for (const item of Array.from(items)) {\n          const entry = item.webkitGetAsEntry();\n          log.debug(entry);\n          if (!entry) {\n            throw new Error(\"could not get entry from file\");\n          }\n          if (entry.isFile) {\n            const ext = this.getFileExt(entry.name);\n            let pairedImageData;\n            if (entry.name.lastIndexOf(\"HEAD\") !== -1) {\n              for (const pairedItem of Array.from(items)) {\n                const pairedEntry = pairedItem.webkitGetAsEntry();\n                if (!pairedEntry) {\n                  throw new Error(\"could not get paired entry\");\n                }\n                const fileBaseName = entry.name.substring(0, entry.name.lastIndexOf(\"HEAD\"));\n                const pairedItemBaseName = pairedEntry.name.substring(0, pairedEntry.name.lastIndexOf(\"BRIK\"));\n                if (fileBaseName === pairedItemBaseName) {\n                  pairedImageData = pairedEntry;\n                }\n              }\n            }\n            if (entry.name.toUpperCase().lastIndexOf(\"HDR\") !== -1) {\n              for (const pairedItem of Array.from(items)) {\n                const pairedEntry = pairedItem.webkitGetAsEntry();\n                if (!pairedEntry) {\n                  throw new Error(\"could not get paired entry\");\n                }\n                const fileBaseName = entry.name.substring(0, entry.name.toUpperCase().lastIndexOf(\"HDR\"));\n                const pairedItemBaseName = pairedEntry.name.substring(\n                  0,\n                  pairedEntry.name.toUpperCase().lastIndexOf(\"IMG\")\n                );\n                if (fileBaseName === pairedItemBaseName) {\n                  pairedImageData = pairedEntry;\n                }\n              }\n            }\n            if (entry.name.lastIndexOf(\"BRIK\") !== -1 || entry.name.toUpperCase().lastIndexOf(\"IMG\") !== -1) {\n              continue;\n            }\n            if (this.loaders[ext]) {\n              const dataUrl = await readFileAsDataURL(entry);\n              await this.loadImages([\n                {\n                  url: dataUrl,\n                  name: `${entry.name}`\n                }\n              ]);\n              continue;\n            }\n            if (MESH_EXTENSIONS.includes(ext)) {\n              ;\n              entry.file((file) => {\n                ;\n                (async () => {\n                  try {\n                    const mesh = await NVMesh3.loadFromFile({\n                      file,\n                      gl: this.gl,\n                      name: file.name\n                    });\n                    this.addMesh(mesh);\n                  } catch (e2) {\n                    console.error(\"Error loading mesh:\", e2);\n                  }\n                })().catch((err) => console.error(err));\n              });\n              continue;\n            } else if (ext === \"NVD\") {\n              ;\n              entry.file((file) => {\n                ;\n                (async () => {\n                  try {\n                    const nvdoc = await NVDocument.loadFromFile(file);\n                    await this.loadDocument(nvdoc);\n                    log.debug(\"loaded document\");\n                  } catch (e2) {\n                    console.error(e2);\n                  }\n                })().catch((err) => console.error(err));\n              });\n              break;\n            }\n            ;\n            entry.file((file) => {\n              ;\n              (async () => {\n                try {\n                  if (pairedImageData) {\n                    ;\n                    pairedImageData.file((imgfile) => {\n                      ;\n                      (async () => {\n                        try {\n                          const volume = await NVImage.loadFromFile({\n                            file,\n                            urlImgData: imgfile,\n                            limitFrames4D: this.opts.limitFrames4D\n                          });\n                          this.addVolume(volume);\n                        } catch (e2) {\n                          console.error(e2);\n                        }\n                      })().catch(console.error);\n                    });\n                  } else {\n                    const volume = await NVImage.loadFromFile({\n                      file,\n                      urlImgData: pairedImageData,\n                      limitFrames4D: this.opts.limitFrames4D\n                    });\n                    if (e.altKey) {\n                      log.debug(\"alt key detected: assuming this is a drawing overlay\");\n                      this.drawClearAllUndoBitmaps();\n                      this.loadDrawing(volume);\n                    } else {\n                      this.addVolume(volume);\n                    }\n                  }\n                } catch (e2) {\n                  console.error(e2);\n                }\n              })().catch(console.error);\n            });\n          } else if (entry.isDirectory) {\n            this.traverseFileTree(entry, \"\", files).then((files2) => {\n              const loader = this.getDicomLoader().loader;\n              if (!loader) {\n                throw new Error(\"No loader for DICOM files\");\n              }\n              loader(files2).then(async (fileArrayBuffers) => {\n                const promises = fileArrayBuffers.map(\n                  (loaderImage) => NVImage.loadFromUrl({\n                    url: loaderImage.data,\n                    name: loaderImage.name,\n                    limitFrames4D: this.opts.limitFrames4D\n                  })\n                );\n                Promise.all(promises).then(async (loadedNvImages) => {\n                  await this.onDicomLoaderFinishedWithImages(loadedNvImages);\n                }).catch((e2) => {\n                  throw e2;\n                });\n              }).catch((error) => {\n                console.error(\"Error loading DICOM files:\", error);\n              });\n            }).catch((e2) => {\n              throw e2;\n            });\n          }\n        }\n      }\n    }\n    this.drawScene();\n  }\n  /**\n   * insert a gap between slices of a mutliplanar view.\n   * @param pixels - spacing between tiles of multiplanar view\n   * @example niivue.setMultiplanarPadPixels(4)\n   * @see {@link https://niivue.com/demos/features/atlas.html | live demo usage}\n   */\n  setMultiplanarPadPixels(pixels) {\n    this.opts.multiplanarPadPixels = pixels;\n    this.drawScene();\n  }\n  /**\n   * control placement of 2D slices.\n   * @param layout - AUTO: 0, COLUMN: 1, GRID: 2, ROW: 3,\n   * @example niivue.setMultiplanarLayout(2)\n   * @see {@link https://niivue.com/demos/features/layout.html | live demo usage}\n   */\n  setMultiplanarLayout(layout) {\n    if (typeof layout === \"string\") {\n      layout = parseInt(layout);\n    }\n    this.opts.multiplanarLayout = layout;\n    this.drawScene();\n  }\n  /**\n   * determine if text appears at corner (true) or sides of 2D slice.\n   * @param isCornerOrientationText - controls position of text\n   * @example niivue.setCornerOrientationText(true)\n   * @see {@link https://niivue.com/demos/features/worldspace2.html | live demo usage}\n   */\n  setCornerOrientationText(isCornerOrientationText) {\n    this.opts.isCornerOrientationText = isCornerOrientationText;\n    this.updateGLVolume();\n  }\n  /**\n   * Show or hide orientation labels (e.g., L/R, A/P) in 2D slice views\n   * @param isOrientationTextVisible - whether orientation text should be displayed\n   * @example niivue.setIsOrientationTextVisible(false)\n   * @see {@link https://niivue.com/demos/features/basic.multiplanar.html | live demo usage}\n   */\n  setIsOrientationTextVisible(isOrientationTextVisible) {\n    this.opts.isOrientationTextVisible = isOrientationTextVisible;\n    this.drawScene();\n  }\n  /**\n   * Show or hide all four orientation labels (e.g., L/R, A/P, S/I) in 2D slice views\n   * @param showAllOrientationMarkers - whether all four orientation markers should be displayed\n   * @example niivue.setShowAllOrientationMarkers(true)\n   */\n  setShowAllOrientationMarkers(showAllOrientationMarkers) {\n    this.opts.showAllOrientationMarkers = showAllOrientationMarkers;\n    this.drawScene();\n  }\n  /**\n   * determine proportion of screen real estate devoted to rendering in multiplanar view.\n   * @param fraction - proportion of screen devoted to primary (hero) image (0 to disable)\n   * @example niivue.setHeroImage(0.5)\n   * @see {@link https://niivue.com/demos/features/layout.html | live demo usage}\n   */\n  setHeroImage(fraction) {\n    this.opts.heroImageFraction = fraction;\n    this.drawScene();\n  }\n  /**\n   * Set a custom slice layout. This overrides the built-in layouts.\n   * @param layout - Array of layout specifications for each slice view\n   * @example\n   * niivue.setCustomLayout([\n   *     // Left 50% - Sag\n   *     {sliceType: 2, position: [0, 0, 0.5, 1.0]},\n   *     // Top right - Cor\n   *     {sliceType: 1, position: [0.5, 0, 0.5, 0.5]},\n   *     // Bottom right - Ax\n   *     {sliceType: 0, position: [0.5, 0.5, 0.5, 0.5]}\n   *   ])\n   *\n   * produces:\n   * +----------------+----------------+\n   * |                |                |\n   * |                |     coronal    |\n   * |                |                |\n   * |                |                |\n   * |   sagittal     +----------------+\n   * |                |                |\n   * |                |     axial      |\n   * |                |                |\n   * |                |                |\n   * +----------------+----------------+\n   */\n  setCustomLayout(layout) {\n    for (let i = 0; i < layout.length; i++) {\n      const [left1, top1, width1, height1] = layout[i].position;\n      const right1 = left1 + width1;\n      const bottom1 = top1 + height1;\n      for (let j = i + 1; j < layout.length; j++) {\n        const [left2, top2, width2, height2] = layout[j].position;\n        const right2 = left2 + width2;\n        const bottom2 = top2 + height2;\n        const horizontallyOverlaps = left1 < right2 && right1 > left2;\n        const verticallyOverlaps = top1 < bottom2 && bottom1 > top2;\n        if (horizontallyOverlaps && verticallyOverlaps) {\n          throw new Error(`Custom layout is invalid. Tile ${i} overlaps with tile ${j}.`);\n        }\n      }\n    }\n    this.customLayout = layout;\n    this.drawScene();\n  }\n  /**\n   * Clear custom layout and rely on built-in layouts\n   */\n  clearCustomLayout() {\n    this.customLayout = null;\n    this.drawScene();\n  }\n  /**\n   * Get the current custom layout if set\n   * @returns The current custom layout or null if using built-in layouts\n   */\n  getCustomLayout() {\n    return this.customLayout;\n  }\n  /**\n   * control whether 2D slices use radiological or neurological convention.\n   * @param isRadiologicalConvention - new display convention\n   * @example niivue.setRadiologicalConvention(true)\n   * @see {@link https://niivue.com/demos/features/worldspace.html | live demo usage}\n   */\n  setRadiologicalConvention(isRadiologicalConvention) {\n    this.opts.isRadiologicalConvention = isRadiologicalConvention;\n    this.updateGLVolume();\n  }\n  /**\n   * Reset scene to default settings.\n   * @param options - @see NiiVueOptions\n   * @param resetBriCon - also reset contrast (default false).\n   * @example niivue.nv1.setDefaults(opts, true);\n   * @see {@link https://niivue.com/demos/features/connectome.html | live demo usage}\n   */\n  setDefaults(options = {}, resetBriCon = false) {\n    this.document.opts = { ...DEFAULT_OPTIONS };\n    this.scene.sceneData = { ...INITIAL_SCENE_DATA };\n    for (const name in options) {\n      if (typeof options[name] === \"function\") {\n        this[name] = options[name];\n      } else {\n        this.opts[name] = DEFAULT_OPTIONS[name] === void 0 ? DEFAULT_OPTIONS[name] : options[name];\n      }\n    }\n    this.scene.pan2Dxyzmm = [0, 0, 0, 1];\n    if (resetBriCon && this.volumes && this.volumes.length > 0) {\n      for (let i = 0; i < this.volumes.length; i++) {\n        this.volumes[i].cal_min = this.volumes[i].robust_min;\n        this.volumes[i].cal_max = this.volumes[i].robust_max;\n      }\n    }\n    this.updateGLVolume();\n  }\n  /**\n   * Limit visibility of mesh in front of a 2D image. Requires world-space mode.\n   * @param meshThicknessOn2D - distance from voxels for clipping mesh. Use Infinity to show entire mesh or 0.0 to hide mesh.\n   * @example niivue.setMeshThicknessOn2D(42)\n   * @see {@link https://niivue.com/demos/features/worldspace2.html | live demo usage}\n   */\n  setMeshThicknessOn2D(meshThicknessOn2D) {\n    this.opts.meshThicknessOn2D = meshThicknessOn2D;\n    this.updateGLVolume();\n  }\n  /**\n   * Create a custom multi-slice mosaic (aka lightbox, montage) view.\n   * @param str - description of mosaic.\n   * @example niivue.setSliceMosaicString(\"A 0 20 C 30 S 42\")\n   * @see {@link https://niivue.com/demos/features/mosaics.html | live demo usage}\n   */\n  setSliceMosaicString(str) {\n    this.sliceMosaicString = str;\n    this.updateGLVolume();\n  }\n  /**\n   * control 2D slice view mode.\n   * @param isSliceMM - control whether 2D slices use world space (true) or voxel space (false). Beware that voxel space mode limits properties like panning, zooming and mesh visibility.\n   * @example niivue.setSliceMM(true)\n   * @see {@link https://niivue.com/demos/features/worldspace2.html | live demo usage}\n   */\n  setSliceMM(isSliceMM) {\n    this.opts.isSliceMM = isSliceMM;\n    this.updateGLVolume();\n  }\n  /**\n   * control whether voxel overlays are combined using additive (emission) or traditional (transmission) blending.\n   * @param isAdditiveBlend - emission (true) or transmission (false) mixing\n   * @example niivue.isAdditiveBlend(true)\n   * @see {@link https://niivue.com/demos/features/additive.voxels.html | live demo usage}\n   */\n  setAdditiveBlend(isAdditiveBlend) {\n    this.opts.isAdditiveBlend = isAdditiveBlend;\n    this.updateGLVolume();\n  }\n  /**\n   * Detect if display is using radiological or neurological convention.\n   * @returns radiological convention status\n   * @example let rc = niivue.getRadiologicalConvention()\n   */\n  getRadiologicalConvention() {\n    return this.opts.isRadiologicalConvention;\n  }\n  /**\n   * Force WebGL canvas to use high resolution display, regardless of browser defaults.\n   * @param forceDevicePixelRatio - -1: block high DPI; 0= allow high DPI: >0 use specified pixel ratio\n   * @example niivue.setHighResolutionCapable(true);\n   * @see {@link https://niivue.com/demos/features/sync.mesh.html | live demo usage}\n   */\n  setHighResolutionCapable(forceDevicePixelRatio) {\n    if (typeof forceDevicePixelRatio === \"boolean\") {\n      forceDevicePixelRatio = forceDevicePixelRatio ? 0 : -1;\n    }\n    this.opts.forceDevicePixelRatio = forceDevicePixelRatio;\n    this.resizeListener();\n    this.drawScene();\n  }\n  /**\n   * Start watching for changes to configuration options.\n   * This is a convenience method that sets up the onOptsChange callback.\n   * @param callback - Function to call when any option changes\n   * @example\n   * niivue.watchOptsChanges((propertyName, newValue, oldValue) => {\n   *   console.log(`Option ${propertyName} changed from ${oldValue} to ${newValue}`)\n   * })\n   * @see {@link https://niivue.com/demos/ | live demo usage}\n   */\n  watchOptsChanges(callback) {\n    this.onOptsChange = callback;\n  }\n  /**\n   * Stop watching for changes to configuration options.\n   * This removes the current onOptsChange callback.\n   * @example niivue.unwatchOptsChanges()\n   * @see {@link https://niivue.com/demos/ | live demo usage}\n   */\n  unwatchOptsChanges() {\n    this.onOptsChange = () => {\n    };\n  }\n  /**\n   * add a new volume to the canvas\n   * @param volume - the new volume to add to the canvas\n   * @example\n   * niivue = new Niivue()\n   * niivue.addVolume(NVImage.loadFromUrl({url:'../someURL.nii.gz'}))\n   * @see {@link https://niivue.com/demos/features/conform.html | live demo usage}\n   */\n  addVolume(volume) {\n    this.volumes.push(volume);\n    const idx = this.volumes.length === 1 ? 0 : this.volumes.length - 1;\n    this.setVolume(volume, idx);\n    this.onImageLoaded(volume);\n    log.debug(\"loaded volume\", volume.name);\n    log.debug(volume);\n  }\n  /**\n   * add a new mesh to the canvas\n   * @param mesh - the new mesh to add to the canvas\n   * @example\n   * niivue = new Niivue()\n   * niivue.addMesh(NVMesh.loadFromUrl({url:'../someURL.gii'}))\n   * @see {@link https://niivue.com/demos/features/document.3d.html | live demo usage}\n   */\n  addMesh(mesh) {\n    this.meshes.push(mesh);\n    const idx = this.meshes.length === 1 ? 0 : this.meshes.length - 1;\n    this.setMesh(mesh, idx);\n    this.onMeshLoaded(mesh);\n  }\n  /**\n   * get the index of a volume by its unique id. unique ids are assigned to the NVImage.id property when a new NVImage is created.\n   * @param id - the id string to search for\n   * @example\n   * niivue = new Niivue()\n   * niivue.getVolumeIndexByID(someVolume.id)\n   */\n  getVolumeIndexByID(id) {\n    const n = this.volumes.length;\n    for (let i = 0; i < n; i++) {\n      const id_i = this.volumes[i].id;\n      if (id_i === id) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  /**\n   * Saves the current drawing state as an RLE-compressed bitmap for undo history.\n   * Uses a circular buffer to limit undo memory usage.\n   * @internal\n   */\n  drawAddUndoBitmap(drawFillOverwrites = true) {\n    if (!this.drawBitmap || this.drawBitmap.length < 1) {\n      log.debug(\"drawAddUndoBitmap error: No drawing open\");\n      return;\n    }\n    if (!drawFillOverwrites && this.drawUndoBitmaps.length > 0) {\n      const len = this.drawBitmap.length;\n      const bmp = decodeRLE(this.drawUndoBitmaps[this.currentDrawUndoBitmap], len);\n      for (let i = 0; i < len; i++) {\n        if (bmp[i] > 0) {\n          this.drawBitmap[i] = bmp[i];\n        }\n      }\n      this.refreshDrawing(false);\n    }\n    this.currentDrawUndoBitmap++;\n    if (this.currentDrawUndoBitmap >= this.opts.maxDrawUndoBitmaps) {\n      this.currentDrawUndoBitmap = 0;\n    }\n    this.drawUndoBitmaps[this.currentDrawUndoBitmap] = encodeRLE(this.drawBitmap);\n  }\n  /**\n   * Clears all stored drawing undo bitmaps and resets the undo index.\n   * @internal\n   */\n  drawClearAllUndoBitmaps() {\n    this.currentDrawUndoBitmap = this.opts.maxDrawUndoBitmaps;\n    if (!this.drawUndoBitmaps || this.drawUndoBitmaps.length < 1) {\n      return;\n    }\n    for (let i = this.drawUndoBitmaps.length - 1; i >= 0; i--) {\n      this.drawUndoBitmaps[i] = new Uint8Array();\n    }\n  }\n  /**\n   * Restore drawing to previous state\n   * @example niivue.drawUndo();\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  drawUndo() {\n    const { drawBitmap, currentDrawUndoBitmap } = drawUndo({\n      drawUndoBitmaps: this.drawUndoBitmaps,\n      currentDrawUndoBitmap: this.currentDrawUndoBitmap,\n      drawBitmap: this.drawBitmap\n    });\n    this.drawBitmap = drawBitmap;\n    this.currentDrawUndoBitmap = currentDrawUndoBitmap;\n    this.refreshDrawing(true);\n  }\n  /**\n   * Loads a drawing overlay and aligns it with the current background image.\n   * Converts the input image to match the background's orientation and stores it as a drawable bitmap.\n   * Initializes the undo history and prepares the drawing texture.\n   *\n   * @param drawingBitmap - A `NVImage` object representing the drawing to load. Must match the dimensions of the background image.\n   * @returns `true` if the drawing was successfully loaded and aligned; `false` if dimensions are incompatible.\n   */\n  loadDrawing(drawingBitmap) {\n    if (this.drawBitmap) {\n      log.debug(\"Overwriting open drawing!\");\n    }\n    if (!this.back) {\n      throw new Error(\"back undefined\");\n    }\n    this.drawClearAllUndoBitmaps();\n    const dims = drawingBitmap.hdr.dims;\n    if (dims[1] !== this.back.hdr.dims[1] || dims[2] !== this.back.hdr.dims[2] || dims[3] !== this.back.hdr.dims[3]) {\n      log.debug(\"drawing dimensions do not match background image\");\n      return false;\n    }\n    if (drawingBitmap.img.constructor !== Uint8Array) {\n      log.debug(\"Drawings should be UINT8\");\n    }\n    const perm = drawingBitmap.permRAS;\n    const vx = dims[1] * dims[2] * dims[3];\n    this.drawBitmap = new Uint8Array(vx);\n    if (this.opts.is2DSliceShader) {\n      this.drawTexture = this.r8Tex2D(this.drawTexture, TEXTURE7_DRAW, this.back.dims, true);\n    } else {\n      this.drawTexture = this.r8Tex(this.drawTexture, TEXTURE7_DRAW, this.back.dims, true);\n    }\n    const layout = [0, 0, 0];\n    for (let i = 0; i < 3; i++) {\n      for (let j2 = 0; j2 < 3; j2++) {\n        if (Math.abs(perm[i]) - 1 !== j2) {\n          continue;\n        }\n        layout[j2] = i * Math.sign(perm[i]);\n      }\n    }\n    let stride = 1;\n    const instride = [1, 1, 1];\n    const inflip = [false, false, false];\n    for (let i = 0; i < layout.length; i++) {\n      for (let j2 = 0; j2 < layout.length; j2++) {\n        const a = Math.abs(layout[j2]);\n        if (a !== i) {\n          continue;\n        }\n        instride[j2] = stride;\n        if (layout[j2] < 0 || Object.is(layout[j2], -0)) {\n          inflip[j2] = true;\n        }\n        stride *= dims[j2 + 1];\n      }\n    }\n    let xlut = NVUtilities.range(0, dims[1] - 1, 1);\n    if (inflip[0]) {\n      xlut = NVUtilities.range(dims[1] - 1, 0, -1);\n    }\n    for (let i = 0; i < dims[1]; i++) {\n      xlut[i] *= instride[0];\n    }\n    let ylut = NVUtilities.range(0, dims[2] - 1, 1);\n    if (inflip[1]) {\n      ylut = NVUtilities.range(dims[2] - 1, 0, -1);\n    }\n    for (let i = 0; i < dims[2]; i++) {\n      ylut[i] *= instride[1];\n    }\n    let zlut = NVUtilities.range(0, dims[3] - 1, 1);\n    if (inflip[2]) {\n      zlut = NVUtilities.range(dims[3] - 1, 0, -1);\n    }\n    for (let i = 0; i < dims[3]; i++) {\n      zlut[i] *= instride[2];\n    }\n    const inVs = drawingBitmap.img;\n    const outVs = this.drawBitmap;\n    let j = 0;\n    for (let z = 0; z < dims[3]; z++) {\n      for (let y = 0; y < dims[2]; y++) {\n        for (let x = 0; x < dims[1]; x++) {\n          outVs[xlut[x] + ylut[y] + zlut[z]] = inVs[j];\n          j++;\n        }\n      }\n    }\n    this.drawAddUndoBitmap();\n    this.refreshDrawing(false);\n    this.drawScene();\n    return true;\n  }\n  /**\n   * Binarize a volume by converting all non-zero voxels to 1\n   * @param volume - the image volume to modify in place\n   * @see {@link https://niivue.com/demos/features/clusterize.html | live demo usage}\n   */\n  binarize(volume) {\n    const dims = volume.hdr.dims;\n    const vx = dims[1] * dims[2] * dims[3];\n    const img = new Uint8Array(vx);\n    for (let i = 0; i < vx; i++) {\n      if (volume.img[i] !== 0) {\n        img[i] = 1;\n      }\n    }\n    volume.img = img;\n    volume.hdr.datatypeCode = 2 /* DT_UINT8 */;\n    volume.hdr.cal_min = 0;\n    volume.hdr.cal_max = 1;\n  }\n  /**\n   * Open drawing\n   * @param fnm - filename of NIfTI format drawing\n   * @param isBinarize - if true will force drawing voxels to be either 0 or 1.\n   * @example niivue.loadDrawingFromUrl(\"../images/lesion.nii.gz\");\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  async loadDrawingFromUrl(fnm, isBinarize = false) {\n    if (this.drawBitmap) {\n      log.debug(\"Overwriting open drawing!\");\n    }\n    this.drawClearAllUndoBitmaps();\n    let ok = false;\n    try {\n      const volume = await NVImage.loadFromUrl(NVImageFromUrlOptions(fnm));\n      if (isBinarize) {\n        await this.binarize(volume);\n      }\n      ok = this.loadDrawing(volume);\n    } catch (err) {\n      log.error(\"loadDrawingFromUrl() failed to load \" + fnm);\n      this.drawClearAllUndoBitmaps();\n    }\n    return ok;\n  }\n  /**\n   * Computes one or more Otsu threshold levels for the primary volume.\n   * Returns raw intensity values corresponding to bin-based thresholds.\n   * @internal\n   */\n  findOtsu(mlevel = 2) {\n    if (this.volumes.length < 1) {\n      return [];\n    }\n    const img = this.volumes[0].img;\n    const nvox = img.length;\n    if (nvox < 1) {\n      return [];\n    }\n    const nBin = 256;\n    const maxBin = nBin - 1;\n    const h = new Array(nBin).fill(0);\n    const mn = this.volumes[0].cal_min;\n    const mx = this.volumes[0].cal_max;\n    if (mx <= mn) {\n      return [];\n    }\n    const scale2raw = (mx - mn) / nBin;\n    function bin2raw(bin) {\n      return bin * scale2raw + mn;\n    }\n    const scale2bin = (nBin - 1) / Math.abs(mx - mn);\n    const inter = this.volumes[0].hdr.scl_inter;\n    const slope = this.volumes[0].hdr.scl_slope;\n    for (let v = 0; v < nvox; v++) {\n      let val = img[v] * slope + inter;\n      val = Math.min(Math.max(val, mn), mx);\n      val = Math.round((val - mn) * scale2bin);\n      h[val]++;\n    }\n    const P = Array(nBin).fill(0).map(() => Array(nBin).fill(0));\n    const S = Array(nBin).fill(0).map(() => Array(nBin).fill(0));\n    for (let i = 1; i < nBin; ++i) {\n      P[i][i] = h[i];\n      S[i][i] = i * h[i];\n    }\n    for (let i = 1; i < nBin - 1; ++i) {\n      P[1][i + 1] = P[1][i] + h[i + 1];\n      S[1][i + 1] = S[1][i] + (i + 1) * h[i + 1];\n    }\n    for (let i = 2; i < nBin; i++) {\n      for (let j = i + 1; j < nBin; j++) {\n        P[i][j] = P[1][j] - P[1][i - 1];\n        S[i][j] = S[1][j] - S[1][i - 1];\n      }\n    }\n    for (let i = 1; i < nBin; ++i) {\n      for (let j = i + 1; j < nBin; j++) {\n        if (P[i][j] !== 0) {\n          P[i][j] = S[i][j] * S[i][j] / P[i][j];\n        }\n      }\n    }\n    let max = 0;\n    const t = [Infinity, Infinity, Infinity];\n    if (mlevel > 3) {\n      for (let l = 0; l < nBin - 3; l++) {\n        for (let m = l + 1; m < nBin - 2; m++) {\n          for (let h2 = m + 1; h2 < nBin - 1; h2++) {\n            const v = P[0][l] + P[l + 1][m] + P[m + 1][h2] + P[h2 + 1][maxBin];\n            if (v > max) {\n              t[0] = l;\n              t[1] = m;\n              t[2] = h2;\n              max = v;\n            }\n          }\n        }\n      }\n    } else if (mlevel === 3) {\n      for (let l = 0; l < nBin - 2; l++) {\n        for (let h2 = l + 1; h2 < nBin - 1; h2++) {\n          const v = P[0][l] + P[l + 1][h2] + P[h2 + 1][maxBin];\n          if (v > max) {\n            t[0] = l;\n            t[1] = h2;\n            max = v;\n          }\n        }\n      }\n    } else {\n      for (let i = 0; i < nBin - 1; i++) {\n        const v = P[0][i] + P[i + 1][maxBin];\n        if (v > max) {\n          t[0] = i;\n          max = v;\n        }\n      }\n    }\n    return [bin2raw(t[0]), bin2raw(t[1]), bin2raw(t[2])];\n  }\n  /**\n   * remove dark voxels in air\n   * @param levels - (2-4) segment brain into this many types. For example drawOtsu(2) will create a binary drawing where bright voxels are colored and dark voxels are clear.\n   * @example niivue.drawOtsu(3);\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  drawOtsu(levels = 2) {\n    if (this.volumes.length === 0) {\n      return;\n    }\n    const nvox = this.volumes[0].img.length;\n    const thresholds = this.findOtsu(levels);\n    if (thresholds.length < 3) {\n      return;\n    }\n    if (!this.drawBitmap) {\n      this.createEmptyDrawing();\n    }\n    const drawImg = this.drawBitmap;\n    const img = this.volumes[0].img;\n    for (let i = 0; i < nvox; i++) {\n      if (drawImg[i] !== 0) {\n        continue;\n      }\n      const v = img[i];\n      if (v > thresholds[0]) {\n        drawImg[i] = 1;\n      }\n      if (v > thresholds[1]) {\n        drawImg[i] = 2;\n      }\n      if (v > thresholds[2]) {\n        drawImg[i] = 3;\n      }\n    }\n    this.drawAddUndoBitmap();\n    this.refreshDrawing(true);\n  }\n  /**\n   * remove dark voxels in air\n   * @param level - (1-5) larger values for more preserved voxels\n   * @param volIndex - volume to dehaze\n   * @example niivue.removeHaze(3, 0);\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  removeHaze(level = 5, volIndex = 0) {\n    const img = this.volumes[volIndex].img;\n    const hdr = this.volumes[volIndex].hdr;\n    const nvox = img.length;\n    let otsu = 2;\n    if (level === 5 || level === 1) {\n      otsu = 4;\n    }\n    if (level === 4 || level === 2) {\n      otsu = 3;\n    }\n    const thresholds = this.findOtsu(otsu);\n    if (thresholds.length < 3) {\n      return;\n    }\n    let threshold = thresholds[0];\n    if (level === 1) {\n      threshold = thresholds[2];\n    }\n    if (level === 2) {\n      threshold = thresholds[1];\n    }\n    const inter = hdr.scl_inter;\n    const slope = hdr.scl_slope;\n    const mn = this.volumes[volIndex].global_min;\n    for (let v = 0; v < nvox; v++) {\n      const val = img[v] * slope + inter;\n      if (val < threshold) {\n        img[v] = mn;\n      }\n    }\n    this.refreshLayers(this.volumes[volIndex], 0);\n    this.drawScene();\n  }\n  /**\n   * Save voxel-based image to disk.\n   *\n   * @param options - configuration object with the following fields:\n   *   - `filename`: name of the NIfTI image to create\n   *   - `isSaveDrawing`: whether to save the drawing layer or the background image\n   *   - `volumeByIndex`: which image layer to save (0 for background)\n   * @returns `true` if successful when writing to disk, or a `Uint8Array` if exported as binary data\n   *\n   * @example\n   * niivue.saveImage({ filename: \"myimage.nii.gz\", isSaveDrawing: true });\n   * niivue.saveImage({ filename: \"myimage.nii.gz\", isSaveDrawing: true });\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  async saveImage(options = defaultSaveImageOptions) {\n    const saveOptions = {\n      ...defaultSaveImageOptions,\n      ...options\n    };\n    const { filename, isSaveDrawing, volumeByIndex } = saveOptions;\n    log.debug(\"saveImage\", filename, isSaveDrawing, volumeByIndex);\n    if (this.back?.dims === void 0) {\n      log.debug(\"No voxelwise image open\");\n      return false;\n    }\n    if (isSaveDrawing) {\n      if (!this.drawBitmap) {\n        log.debug(\"No drawing open\");\n        return false;\n      }\n      const img2 = await this.volumes[0].saveToDisk(filename, this.drawBitmap);\n      return img2;\n    }\n    log.debug(\"saving image\");\n    const img = this.volumes[volumeByIndex].saveToDisk(filename);\n    return img;\n  }\n  /**\n   * Returns the index of a mesh given its ID or index.\n   *\n   * @param id - The mesh ID as a string, or an index number.\n   * @returns The mesh index, or -1 if not found or out of range.\n   */\n  getMeshIndexByID(id) {\n    if (typeof id === \"number\") {\n      if (id >= this.meshes.length) {\n        return -1;\n      }\n      return id;\n    }\n    const n = this.meshes.length;\n    for (let i = 0; i < n; i++) {\n      const id_i = this.meshes[i].id;\n      if (id_i === id) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  /**\n   * change property of mesh, tractogram or connectome\n   * @param id - identity of mesh to change\n   * @param key - attribute to change\n   * @param val - for attribute\n   * @example niivue.setMeshProperty(niivue.meshes[0].id, 'fiberLength', 42)\n   * @see {@link https://niivue.com/demos/features/meshes.html | live demo usage}\n   */\n  setMeshProperty(id, key, val) {\n    const idx = this.getMeshIndexByID(id);\n    if (idx < 0) {\n      log.warn(\"setMeshProperty() id not loaded\", id);\n      return;\n    }\n    this.meshes[idx].setProperty(key, val, this.gl);\n    this.updateGLVolume();\n    this.onMeshPropertyChanged(idx, key, val);\n  }\n  /**\n   * returns the index of the mesh vertex that is closest to the provided coordinates\n   * @param mesh - identity of mesh to change\n   * @param Xmm - location in left/right dimension\n   * @param Ymm - location in posterior/anterior dimension\n   * @param Zmm - location in foot/head dimension\n   * @returns the an array where ret[0] is the mesh index and ret[1] is distance from vertex to coordinates\n   * @example niivue.indexNearestXYZmm(niivue.meshes[0].id, -22, 42, 13)\n   * @see {@link https://niivue.com/demos/features/clipplanes.html | live demo usage}\n   */\n  indexNearestXYZmm(mesh, Xmm, Ymm, Zmm) {\n    const idx = this.getMeshIndexByID(mesh);\n    if (idx < 0) {\n      log.warn(\"indexNearestXYZmm() id not loaded\", mesh);\n      return [NaN, NaN];\n    }\n    return this.meshes[idx].indexNearestXYZmm(Xmm, Ymm, Zmm);\n  }\n  /**\n   * reduce complexity of FreeSurfer mesh\n   * @param mesh - identity of mesh to change\n   * @param order - decimation order 0..6\n   * @example niivue.decimateHierarchicalMesh(niivue.meshes[0].id, 4)\n   * @returns boolean false if mesh is not hierarchical or of lower order\n   * @see {@link https://niivue.com/demos/features/meshes.html | live demo usage}\n   */\n  decimateHierarchicalMesh(mesh, order = 3) {\n    const idx = this.getMeshIndexByID(mesh);\n    if (idx < 0) {\n      log.warn(\"reverseFaces() id not loaded\", mesh);\n      return;\n    }\n    const ret = this.meshes[idx].decimateHierarchicalMesh(this.gl, order);\n    this.updateGLVolume();\n    return ret;\n  }\n  /**\n   * reverse triangle winding of mesh (swap front and back faces)\n   * @param mesh - identity of mesh to change\n   * @example niivue.reverseFaces(niivue.meshes[0].id)\n   * @see {@link https://niivue.com/demos/features/meshes.html | live demo usage}\n   */\n  reverseFaces(mesh) {\n    const idx = this.getMeshIndexByID(mesh);\n    if (idx < 0) {\n      log.warn(\"reverseFaces() id not loaded\", mesh);\n      return;\n    }\n    this.meshes[idx].reverseFaces(this.gl);\n    this.updateGLVolume();\n  }\n  /**\n   * reverse triangle winding of mesh (swap front and back faces)\n   * @param mesh - identity of mesh to change\n   * @param layer - selects the mesh overlay (e.g. GIfTI or STC file)\n   * @param key - attribute to change\n   * @param val - value for attribute\n   * @example niivue.setMeshLayerProperty(niivue.meshes[0].id, 0, 'frame4D', 22)\n   * @see {@link https://niivue.com/demos/features/mesh.4D.html | live demo usage}\n   */\n  async setMeshLayerProperty(mesh, layer, key, val) {\n    const idx = this.getMeshIndexByID(mesh);\n    if (idx < 0) {\n      log.warn(\"setMeshLayerProperty() id not loaded\", mesh);\n      return;\n    }\n    await this.meshes[idx].setLayerProperty(layer, key, val, this.gl);\n    this.updateGLVolume();\n  }\n  /**\n   * adjust offset position and scale of 2D sliceScale\n   * @param xyzmmZoom - first three components are spatial, fourth is scaling\n   * @example niivue.setPan2Dxyzmm([5,-4, 2, 1.5])\n   */\n  setPan2Dxyzmm(xyzmmZoom) {\n    this.scene.pan2Dxyzmm = xyzmmZoom;\n    if (this.opts.yoke3Dto2DZoom) {\n      this.scene.volScaleMultiplier = xyzmmZoom[3];\n    }\n    this.drawScene();\n  }\n  /**\n   * set rotation of 3D render view\n   * @example niivue.setRenderAzimuthElevation(45, 15)\n   * @see {@link https://niivue.com/demos/features/mask.html | live demo usage}\n   */\n  setRenderAzimuthElevation(a, e) {\n    this.scene.renderAzimuth = a;\n    this.scene.renderElevation = e;\n    this.onAzimuthElevationChange(a, e);\n    this.drawScene();\n  }\n  /**\n   * get the index of an overlay by its unique id. unique ids are assigned to the NVImage.id property when a new NVImage is created.\n   * @param id - the id string to search for\n   * @see NiiVue#getVolumeIndexByID\n   * @example\n   * niivue = new Niivue()\n   * niivue.getOverlayIndexByID(someVolume.id)\n   */\n  getOverlayIndexByID(id) {\n    const n = this.overlays.length;\n    for (let i = 0; i < n; i++) {\n      const id_i = this.overlays[i].id;\n      if (id_i === id) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  /**\n   * set the index of a volume. This will change it's ordering and appearance if there are multiple volumes loaded.\n   * @param volume - the volume to update\n   * @param toIndex - the index to move the volume to. The default is the background (0 index)\n   * @example\n   * niivue = new Niivue()\n   * niivue.setVolume(someVolume, 1) // move it to the second position in the array of loaded volumes (0 is the first position)\n   */\n  setVolume(volume, toIndex = 0) {\n    const numberOfLoadedImages = this.volumes.length;\n    if (toIndex > numberOfLoadedImages) {\n      return;\n    }\n    const volIndex = this.getVolumeIndexByID(volume.id);\n    if (toIndex === 0) {\n      this.volumes.splice(volIndex, 1);\n      this.volumes.unshift(volume);\n      this.back = this.volumes[0];\n      this.overlays = this.volumes.slice(1);\n    } else if (toIndex < 0) {\n      this.volumes.splice(this.getVolumeIndexByID(volume.id), 1);\n      this.back = this.volumes[0];\n      if (this.volumes.length > 1) {\n        this.overlays = this.volumes.slice(1);\n      } else {\n        this.overlays = [];\n      }\n    } else {\n      this.volumes.splice(volIndex, 1);\n      this.volumes.splice(toIndex, 0, volume);\n      this.overlays = this.volumes.slice(1);\n      this.back = this.volumes[0];\n    }\n    this.updateGLVolume();\n  }\n  /**\n   * Reorders a mesh within the internal mesh list.\n   *\n   * @param mesh - The `NVMesh` instance to reposition.\n   * @param toIndex - Target index to move the mesh to.\n   *   - If `0`, moves mesh to the front.\n   *   - If `< 0`, removes the mesh.\n   *   - If within bounds, inserts mesh at the specified index.\n   */\n  setMesh(mesh, toIndex = 0) {\n    this.meshes.forEach((m) => {\n      log.debug(\"MESH: \", m.name);\n    });\n    const numberOfLoadedMeshes = this.meshes.length;\n    if (toIndex > numberOfLoadedMeshes) {\n      return;\n    }\n    const meshIndex = this.getMeshIndexByID(mesh.id);\n    if (toIndex === 0) {\n      this.meshes.splice(meshIndex, 1);\n      this.meshes.unshift(mesh);\n    } else if (toIndex < 0) {\n      this.meshes.splice(this.getMeshIndexByID(mesh.id), 1);\n    } else {\n      this.meshes.splice(meshIndex, 1);\n      this.meshes.splice(toIndex, 0, mesh);\n    }\n    this.updateGLVolume();\n    this.meshes.forEach((m) => {\n      log.debug(m.name);\n    });\n  }\n  /**\n   * Remove a volume\n   * @param volume - volume to delete\n   * @example\n   * niivue = new Niivue()\n   * niivue.removeVolume(this.volumes[3])\n   * @see {@link https://niivue.com/demos/features/document.3d.html | live demo usage}\n   */\n  removeVolume(volume) {\n    this.setVolume(volume, -1);\n    if (this.mediaUrlMap.has(volume)) {\n      const url = this.mediaUrlMap.get(volume);\n      this.onVolumeWithUrlRemoved(url);\n      this.mediaUrlMap.delete(volume);\n    }\n    this.drawScene();\n  }\n  /**\n   * Remove a volume from the scene by its index\n   * @param index - index of the volume to remove\n   * @throws if the index is out of bounds\n   * @see {@link https://niivue.com/demos/features/clusterize.html | live demo usage}\n   */\n  removeVolumeByIndex(index) {\n    if (index >= this.volumes.length) {\n      throw new Error(\"Index of volume out of bounds\");\n    }\n    this.removeVolume(this.volumes[index]);\n  }\n  /**\n   * Remove a triangulated mesh, connectome or tractogram\n   * @param mesh - mesh to delete\n   * @example\n   * niivue = new Niivue()\n   * niivue.removeMesh(this.meshes[3])\n   * @see {@link https://niivue.com/demos/features/connectome.html | live demo usage}\n   */\n  removeMesh(mesh) {\n    mesh.unloadMesh(this.gl);\n    this.setMesh(mesh, -1);\n    if (this.mediaUrlMap.has(mesh)) {\n      const url = this.mediaUrlMap.get(mesh);\n      this.onMeshWithUrlRemoved(url);\n      this.mediaUrlMap.delete(mesh);\n    }\n  }\n  /**\n   * Remove a triangulated mesh, connectome or tractogram\n   * @param url - URL of mesh to delete\n   * @example\n   * niivue.removeMeshByUrl('../images/cit168.mz3')\n   */\n  removeMeshByUrl(url) {\n    const mesh = this.getMediaByUrl(url);\n    if (mesh) {\n      this.removeMesh(mesh);\n      this.mediaUrlMap.delete(mesh);\n      this.onMeshWithUrlRemoved(url);\n    }\n  }\n  /**\n   * Move a volume to the bottom of the stack of loaded volumes. The volume will become the background\n   * @param volume - the volume to move\n   * @example\n   * niivue = new Niivue()\n   * niivue.moveVolumeToBottom(this.volumes[3]) // move the 4th volume to the 0 position. It will be the new background\n   */\n  moveVolumeToBottom(volume) {\n    this.setVolume(volume, 0);\n  }\n  /**\n   * Move a volume up one index position in the stack of loaded volumes. This moves it up one layer\n   * @param volume - the volume to move\n   * @example\n   * niivue = new Niivue()\n   * niivue.moveVolumeUp(this.volumes[0]) // move the background image to the second index position (it was 0 index, now will be 1)\n   */\n  moveVolumeUp(volume) {\n    const volIdx = this.getVolumeIndexByID(volume.id);\n    this.setVolume(volume, volIdx + 1);\n  }\n  /**\n   * Move a volume down one index position in the stack of loaded volumes. This moves it down one layer\n   * @param volume - the volume to move\n   * @example\n   * niivue = new Niivue()\n   * niivue.moveVolumeDown(this.volumes[1]) // move the second image to the background position (it was 1 index, now will be 0)\n   */\n  moveVolumeDown(volume) {\n    const volIdx = this.getVolumeIndexByID(volume.id);\n    this.setVolume(volume, volIdx - 1);\n  }\n  /**\n   * Move a volume to the top position in the stack of loaded volumes. This will be the top layer\n   * @param volume - the volume to move\n   * @example\n   * niivue = new Niivue()\n   * niivue.moveVolumeToTop(this.volumes[0]) // move the background image to the top layer position\n   */\n  moveVolumeToTop(volume) {\n    this.setVolume(volume, this.volumes.length - 1);\n  }\n  /**\n   * Records the current mouse position in screen space (adjusted for device pixel ratio).\n   * @internal\n   */\n  mouseDown(x, y) {\n    x *= this.uiData.dpr;\n    y *= this.uiData.dpr;\n    this.mousePos = [x, y];\n  }\n  /**\n   * Updates mouse position\n   * @internal\n   */\n  updateMousePos(x, y) {\n    x *= this.uiData.dpr;\n    y *= this.uiData.dpr;\n    this.mousePos = [x, y];\n    return [x, y];\n  }\n  /**\n   *  and modifies 3D render view if the pointer is in the render tile.\n   *\n   * @internal\n   */\n  mouseMove(x, y) {\n    x *= this.uiData.dpr;\n    y *= this.uiData.dpr;\n    const dx = (x - this.mousePos[0]) / this.uiData.dpr;\n    const dy = (y - this.mousePos[1]) / this.uiData.dpr;\n    this.mousePos = [x, y];\n    if (this.inRenderTile(x, y) < 0) {\n      return;\n    }\n    if (Math.abs(dx) < 1 && Math.abs(dy) < 1) {\n      return;\n    }\n    this.scene.renderAzimuth += dx;\n    this.scene.renderElevation += dy;\n    this.drawScene();\n  }\n  /**\n   * convert spherical AZIMUTH, ELEVATION to Cartesian\n   * @param azimuth - azimuth number\n   * @param elevation - elevation number\n   * @returns the converted [x, y, z] coordinates\n   * @example\n   * niivue = new Niivue()\n   * xyz = niivue.sph2cartDeg(42, 42)\n   * @internal\n   */\n  sph2cartDeg(azimuth, elevation) {\n    const Phi = -elevation * (Math.PI / 180);\n    const Theta = (azimuth - 90) % 360 * (Math.PI / 180);\n    const ret = [Math.cos(Phi) * Math.cos(Theta), Math.cos(Phi) * Math.sin(Theta), Math.sin(Phi)];\n    const len = Math.sqrt(ret[0] * ret[0] + ret[1] * ret[1] + ret[2] * ret[2]);\n    if (len <= 0) {\n      return ret;\n    }\n    ret[0] /= len;\n    ret[1] /= len;\n    ret[2] /= len;\n    return ret;\n  }\n  /**\n   * Set multiple clip planes from their depth/azimuth/elevation definitions.\n   *\n   *  depth: distance of clip plane from center of volume, range 0..~1.73\n   *         (e.g. 2.0 for no clip plane)\n   *  azimuth: camera position in degrees around object, typically 0..360\n   *           (or -180..+180)\n   *  elevation: camera height in degrees, range -90..90\n   *\n   * This replaces the entire `clipPlanes` and `clipPlaneDepthAziElevs` arrays,\n   * ensuring they always have the same length.\n   *\n   * @param depthAziElevs - array of `[depth, azimuthDeg, elevationDeg]` values\n   * @see {@link https://niivue.com/demos/features/clipplanesmulti.html | live demo usage}\n   */\n  setClipPlanes(depthAziElevs) {\n    this.scene.clipPlanes = [];\n    this.scene.clipPlaneDepthAziElevs = [];\n    for (let i = 0; i < depthAziElevs.length; i++) {\n      const dae = depthAziElevs[i];\n      const n = this.sph2cartDeg(dae[1], dae[2]);\n      const d = -dae[0];\n      const plane = [n[0], n[1], n[2], d];\n      this.scene.clipPlanes.push(plane);\n      this.scene.clipPlaneDepthAziElevs.push(dae);\n    }\n    this.drawScene();\n  }\n  /**\n   * Update the clip plane orientation in 3D view mode.\n   * @param depthAzimuthElevation - a 3-component array:\n   *   - `depth`: distance of clip plane from center of volume (0 to ~1.73, or >2.0 to disable clipping)\n   *   - `azimuth`: camera angle around the object in degrees (0360 or -180180)\n   *   - `elevation`: camera height in degrees (-90 to 90)\n   * @example\n   * niivue = new Niivue()\n   * niivue.setClipPlane([42, 42])\n   * @see {@link https://niivue.com/demos/features/mask.html | live demo usage}\n   */\n  setClipPlane(depthAzimuthElevation) {\n    if (!depthAzimuthElevation || depthAzimuthElevation.length === 0) {\n      return;\n    }\n    const idx = this.uiData.activeClipPlaneIndex ?? 0;\n    if (!this.scene.clipPlanes) {\n      this.scene.clipPlanes = [];\n    }\n    if (!this.scene.clipPlaneDepthAziElevs) {\n      this.scene.clipPlaneDepthAziElevs = [];\n    }\n    while (this.scene.clipPlanes.length <= idx) {\n      this.scene.clipPlanes.push([0, 0, 0, 2]);\n    }\n    while (this.scene.clipPlaneDepthAziElevs.length <= idx) {\n      this.scene.clipPlaneDepthAziElevs.push([2, 0, 0]);\n    }\n    const v = this.sph2cartDeg(depthAzimuthElevation[1] + 180, depthAzimuthElevation[2]);\n    const plane = [v[0], v[1], v[2], depthAzimuthElevation[0]];\n    this.scene.clipPlanes[idx] = plane;\n    this.scene.clipPlaneDepthAziElevs[idx] = depthAzimuthElevation;\n    this.onClipPlaneChange(plane);\n    this.drawScene();\n  }\n  /**\n   * set the crosshair and colorbar outline color\n   * @param color - an RGBA array. values range from 0 to 1\n   * @example\n   * niivue = new Niivue()\n   * niivue.setCrosshairColor([0, 1, 0, 0.5]) // set crosshair to transparent green\n   * @see {@link https://niivue.com/demos/features/colormaps.html | live demo usage}\n   */\n  setCrosshairColor(color) {\n    this.opts.crosshairColor = color;\n    this.drawScene();\n  }\n  /**\n   * set thickness of crosshair\n   * @example niivue.crosshairWidth(2)\n   * @see {@link https://niivue.com/demos/features/colormaps.html | live demo usage}\n   */\n  setCrosshairWidth(crosshairWidth) {\n    this.opts.crosshairWidth = crosshairWidth;\n    if (this.crosshairs3D) {\n      this.crosshairs3D.mm[0] = NaN;\n    }\n    this.drawScene();\n  }\n  /*\n   * set colors and labels for different drawing values\n   * @param {array} cmap a structure mapping indices to colors and labels\n   * @example\n   * let cmap = {\n   *    R: [0, 255, 0],\n   *    G: [0, 20, 0],\n   *    B: [0, 20, 80],\n   *    A: [0, 255, 255],\n   *    labels: [\"\", \"white-matter\", \"delete T1\"],\n   *  };\n   *  nv.setDrawColormap(cmap);\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  setDrawColormap(name) {\n    this.drawLut = cmapper.makeDrawLut(name);\n    this.updateGLVolume();\n  }\n  /**\n   * does dragging over a 2D slice create a drawing?\n   * @param trueOrFalse - enabled (true) or not (false)\n   * @example niivue.setDrawingEnabled(true)\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  setDrawingEnabled(trueOrFalse) {\n    this.opts.drawingEnabled = trueOrFalse;\n    if (this.opts.drawingEnabled) {\n      if (!this.drawBitmap) {\n        this.createEmptyDrawing();\n      }\n    } else {\n      if (this.clickToSegmentIsGrowing) {\n        this.clickToSegmentIsGrowing = false;\n        this.refreshDrawing(true, false);\n      }\n      this.drawPenLocation = [NaN, NaN, NaN];\n      this.drawPenAxCorSag = -1;\n      this.drawPenFillPts = [];\n      this.drawShapeStartLocation = [NaN, NaN, NaN];\n      if (this.drawShapePreviewBitmap) {\n        this.drawBitmap = this.drawShapePreviewBitmap;\n        this.drawShapePreviewBitmap = null;\n      }\n    }\n    this.drawScene();\n  }\n  /**\n   * determine color and style of drawing\n   * @param penValue - sets the color of the pen\n   * @param isFilledPen - determines if dragging creates flood-filled shape\n   * @example niivue.setPenValue(1, true)\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  setPenValue(penValue, isFilledPen = false) {\n    this.opts.penValue = penValue;\n    this.opts.isFilledPen = isFilledPen;\n    this.drawScene();\n  }\n  /**\n   * control whether drawing is transparent (0), opaque (1) or translucent (between 0 and 1).\n   * @param opacity - translucency of drawing\n   * @example niivue.setDrawOpacity(0.7)\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  setDrawOpacity(opacity) {\n    this.drawOpacity = opacity;\n    this.drawScene();\n  }\n  /**\n   * set the selection box color. A selection box is drawn when you right click and drag to change image contrast\n   * @param color - an RGBA array. values range from 0 to 1\n   * @example\n   * niivue = new Niivue()\n   * niivue.setSelectionBoxColor([0, 1, 0, 0.5]) // set to transparent green\n   * @see {@link https://niivue.com/demos/features/colormaps.html | live demo usage}\n   */\n  setSelectionBoxColor(color) {\n    this.opts.selectionBoxColor = color;\n  }\n  /**\n   * Update the drawing bounds for this Niivue instance.\n   *\n   * @param bounds - [x1, y1, x2, y2] in normalized (01) coordinates.\n   *\n   * Example:\n   *   nv.setBounds([0,0,0.5,0.5])   // top-left quarter\n   *   nv.setBounds([0.5,0.5,1,1])   // bottom-right quarter\n   */\n  setBounds(bounds) {\n    if (!Array.isArray(bounds) || bounds.length !== 4) {\n      throw new Error(\"setBounds: expected [x1,y1,x2,y2] array\");\n    }\n    this.opts.bounds = [\n      [bounds[0], bounds[1]],\n      [bounds[2], bounds[3]]\n    ];\n    if (this.gl) {\n      this.drawScene();\n    }\n  }\n  /**\n   * Handles mouse wheel or trackpad scroll to change slices, zoom, or frame depending on context.\n   * @internal\n   */\n  sliceScroll2D(posChange, x, y, isDelta = true) {\n    if (this.opts.scrollRequiresFocus && this.canvas !== document.activeElement) {\n      log.warn(\"Canvas element does not have focus. Scroll events will not be processed.\");\n      return;\n    }\n    if (this.inGraphTile(x, y)) {\n      let vol = this.volumes[0].frame4D;\n      if (posChange > 0) {\n        vol++;\n      }\n      if (posChange < 0) {\n        vol--;\n      }\n      this.setFrame4D(this.volumes[0].id, vol);\n      return;\n    }\n    if (posChange !== 0 && this.opts.dragMode === 3 /* pan */ && this.inRenderTile(this.uiData.dpr * x, this.uiData.dpr * y) === -1) {\n      let zoom = this.scene.pan2Dxyzmm[3] * (1 + 10 * posChange);\n      zoom = Math.round(zoom * 10) / 10;\n      const zoomChange = this.scene.pan2Dxyzmm[3] - zoom;\n      if (this.opts.yoke3Dto2DZoom) {\n        this.scene.volScaleMultiplier = zoom;\n      }\n      this.scene.pan2Dxyzmm[3] = zoom;\n      const mm = this.frac2mm(this.scene.crosshairPos);\n      this.scene.pan2Dxyzmm[0] += zoomChange * mm[0];\n      this.scene.pan2Dxyzmm[1] += zoomChange * mm[1];\n      this.scene.pan2Dxyzmm[2] += zoomChange * mm[2];\n      this.drawScene();\n      this.canvas.focus();\n      this.sync();\n      return;\n    }\n    this.mouseClick(x, y, posChange, isDelta);\n  }\n  /**\n   * set the slice type. This changes the view mode\n   * @param st - sliceType is an enum of slice types to use\n   * @example\n   * niivue = new Niivue()\n   * niivue.setSliceType(Niivue.sliceTypeMultiplanar)\n   * @see {@link https://niivue.com/demos/features/basic.multiplanar.html | live demo usage}\n   */\n  setSliceType(st) {\n    this.opts.sliceType = st;\n    this.drawScene();\n    return this;\n  }\n  /**\n   * set the opacity of a volume given by volume index\n   * @param volIdx - the volume index of the volume to change\n   * @param newOpacity - the opacity value. valid values range from 0 to 1. 0 will effectively remove a volume from the scene\n   * @example\n   * niivue = new Niivue()\n   * niivue.setOpacity(0, 0.5) // make the first volume transparent\n   * @see {@link https://niivue.com/demos/features/atlas.html | live demo usage}\n   */\n  setOpacity(volIdx, newOpacity) {\n    this.volumes[volIdx].opacity = newOpacity;\n    this.updateGLVolume();\n  }\n  /**\n   * set the scale of the 3D rendering. Larger numbers effectively zoom.\n   * @param scale - the new scale value\n   * @example\n   * niivue.setScale(2) // zoom some\n   * @see {@link https://niivue.com/demos/features/shiny.volumes.html | live demo usage}\n   */\n  setScale(scale) {\n    this.scene.volScaleMultiplier = scale;\n    this.drawScene();\n  }\n  /**\n   * Set the color of the 3D clip plane.\n   * @param {number[]} color - An array of RGBA values.\n   *   - **R**, **G**, **B** components range from `0.0` to `1.0`.\n   *   - **A** (alpha) component ranges from `-1.0` to `1.0`, where:\n   *       - `0.01.0`  controls background translucency.\n   *       - `-1.00.0`  applies translucent shading to the volume instead of the background.\n   *\n   * @example\n   * niivue.setClipPlaneColor([1, 1, 1, 0.5]);   // white, translucent background\n   * niivue.setClipPlaneColor([1, 1, 1, -0.5]);  // white, translucent shading\n   * @see {@link https://niivue.com/demos/features/clipplanes.html | Live demo usage}\n   */\n  setClipPlaneColor(color) {\n    this.opts.clipPlaneColor = color;\n    this.renderShader.use(this.gl);\n    this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor, this.opts.clipPlaneColor);\n    this.drawScene();\n  }\n  /**\n   * @deprecated This method has been removed.\n   * Use {@link setClipPlanes} instead, which generalizes clip plane configuration\n   * @see {@link https://niivue.com/demos/features/clipplanesmulti.html | Multiple clip plane demo}\n   */\n  setClipPlaneThick(_thick) {\n    log.warn(\"setClipPlaneThick() has been removed. use setClipPlanes() instead.\");\n  }\n  /**\n   * @deprecated This method has been removed.\n   * Use {@link setClipPlanes} instead, which generalizes clip plane configuration\n   * @see {@link https://niivue.com/demos/features/clipplanesmulti.html | Multiple clip plane demo}\n   */\n  setClipVolume(_low, _high) {\n    log.warn(\"setClipVolume() has been removed. use setClipPlanes() instead.\");\n  }\n  /**\n   * set proportion of volume rendering influenced by selected matcap.\n   * @param gradientAmount - amount of matcap (NaN or 0..1), default 0 (matte, surface normal does not influence color). NaN renders the gradients.\n   * @example\n   * niivue.setVolumeRenderIllumination(0.6);\n   * @see {@link https://niivue.com/demos/features/shiny.volumes.html | live demo usage}\n   * @see {@link https://niivue.com/demos/features/gradient.order.html | live demo usage}\n   */\n  async setVolumeRenderIllumination(gradientAmount = 0) {\n    this.renderGradientValues = Number.isNaN(gradientAmount);\n    this.renderShader = this.renderVolumeShader;\n    if (this.renderGradientValues) {\n      this.renderShader = this.renderGradientValuesShader;\n    } else {\n      this.opts.gradientAmount = gradientAmount;\n      if (gradientAmount > 0 || this.opts.gradientOpacity > 0) {\n        this.renderShader = this.renderGradientShader;\n      } else if (gradientAmount < 0) {\n        this.renderShader = this.renderSliceShader;\n      }\n    }\n    await this.refreshLayers(this.volumes[0], 0);\n    this.initRenderShader(this.renderShader, gradientAmount);\n    this.renderShader.use(this.gl);\n    this.setClipPlaneColor(this.opts.clipPlaneColor);\n    if (Number.isNaN(gradientAmount)) {\n      this.gradientTextureAmount = 1;\n    } else {\n      this.gradientTextureAmount = gradientAmount;\n    }\n    if (this.volumes.length < 1) {\n      return;\n    }\n    this.drawScene();\n  }\n  /**\n   * set volume rendering opacity influence of the gradient magnitude\n   * @param gradientOpacity - amount of gradient magnitude influence on opacity (0..1), default 0 (no-influence)\n   * @param renderSilhouette - make core transparent to enhance rims (0..1), default 0 (no-influence)\n   * @example\n   * niivue.setGradientOpacity(0.6);\n   * @see {@link https://niivue.com/demos/features/gradient.opacity.html | live demo usage}\n   */\n  async setGradientOpacity(gradientOpacity = 0, renderSilhouette = 0) {\n    this.opts.gradientOpacity = gradientOpacity;\n    this.opts.renderSilhouette = renderSilhouette;\n    if (this.renderGradientValues) {\n      this.renderShader = this.renderGradientValuesShader;\n    } else if (this.gradientTextureAmount > 0 || gradientOpacity > 0) {\n      this.renderShader = this.renderGradientShader;\n    } else if (this.gradientTextureAmount < 0) {\n      this.renderShader = this.renderSliceShader;\n    }\n    this.initRenderShader(this.renderShader, this.gradientTextureAmount);\n    this.renderShader.use(this.gl);\n    if (this.gradientTextureAmount > 0) {\n      this.refreshLayers(this.volumes[0], 0);\n    }\n    this.drawScene();\n  }\n  /**\n   * Generates a placeholder RGBA overlay of a green sphere for testing purposes only.\n   * @internal\n   * @remarks Marked for future removal  creates a test sphere, not intended for production use.\n   */\n  overlayRGBA(volume) {\n    const hdr = volume.hdr;\n    const vox = hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n    const imgRGBA = new Uint8ClampedArray(vox * 4);\n    const radius = 0.2 * Math.min(Math.min(hdr.dims[1], hdr.dims[2]), hdr.dims[3]);\n    const halfX = 0.5 * hdr.dims[1];\n    const halfY = 0.5 * hdr.dims[2];\n    const halfZ = 0.5 * hdr.dims[3];\n    let j = 0;\n    for (let z = 0; z < hdr.dims[3]; z++) {\n      for (let y = 0; y < hdr.dims[2]; y++) {\n        for (let x = 0; x < hdr.dims[1]; x++) {\n          const dx = Math.abs(x - halfX);\n          const dy = Math.abs(y - halfY);\n          const dz = Math.abs(z - halfZ);\n          const dist = Math.sqrt(dx * dx + dy * dy + dz * dz);\n          let v = 0;\n          if (dist < radius) {\n            v = 255;\n          }\n          imgRGBA[j++] = 0;\n          imgRGBA[j++] = v;\n          imgRGBA[j++] = 0;\n          imgRGBA[j++] = v * 0.5;\n        }\n      }\n    }\n    return imgRGBA;\n  }\n  /**\n   * Convert voxel coordinates to millimeters using a transformation matrix.\n   * @internal\n   */\n  vox2mm(XYZ, mtx) {\n    return NVUtilities.vox2mm(XYZ, mtx);\n  }\n  /**\n   * clone a volume and return a new volume\n   * @param index - the index of the volume to clone\n   * @returns new volume to work with, but that volume is not added to the canvas\n   * @example\n   * niivue = new Niivue()\n   * niivue.cloneVolume(0)\n   */\n  cloneVolume(index) {\n    return this.volumes[index].clone();\n  }\n  /**\n   * Loads an NVDocument from a URL and integrates it into the scene.\n   */\n  async loadDocumentFromUrl(url) {\n    const document2 = await NVDocument.loadFromUrl(url);\n    await this.loadDocument(document2);\n  }\n  /**\n   * Loads an NVDocument\n   * @returns  Niivue instance\n   * @see {@link https://niivue.com/demos/features/document.load.html | live demo usage}\n   */\n  async loadDocument(document2) {\n    this.volumes = [];\n    this.meshes = [];\n    this.document = document2;\n    this.document.labels = this.document.labels ? this.document.labels : [];\n    const opts = { ...DEFAULT_OPTIONS, ...document2.opts };\n    this.scene.pan2Dxyzmm = document2.scene.pan2Dxyzmm ? document2.scene.pan2Dxyzmm : [0, 0, 0, 1];\n    this.document.opts = opts;\n    if (this.scene.clipPlaneDepthAziElevs) {\n      this.setClipPlane(this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex ?? 0]);\n    }\n    log.debug(\"load document\", document2);\n    this.mediaUrlMap.clear();\n    this.createEmptyDrawing();\n    const encodedImageBlobs = document2.encodedImageBlobs;\n    for (let i = 0; i < document2.imageOptionsArray.length; i++) {\n      const imageOptions = document2.imageOptionsArray[i];\n      const base64 = encodedImageBlobs[i];\n      if (base64) {\n        if (\"colorMap\" in imageOptions) {\n          imageOptions.colormap = imageOptions.colorMap;\n        }\n        const image = await NVImage.loadFromBase64({ base64, ...imageOptions });\n        if (image) {\n          if (image.colormapLabel) {\n            const length = Object.keys(image.colormapLabel.lut).length;\n            const uint8ClampedArray = new Uint8ClampedArray(length);\n            for (const key in image.colormapLabel.lut) {\n              uint8ClampedArray[key] = image.colormapLabel.lut[key];\n            }\n            image.colormapLabel.lut = uint8ClampedArray;\n          }\n          this.addVolume(image);\n        }\n      }\n    }\n    if (this.volumes.length > 0) {\n      this.back = this.volumes[0];\n    }\n    for (const meshDataObject of document2.meshDataObjects ?? []) {\n      const meshInit = { gl: this.gl, ...meshDataObject };\n      if (meshDataObject.offsetPt0) {\n        meshInit.rgba255[3] = 0;\n        meshInit.tris = new Uint32Array(meshDataObject.offsetPt0);\n      }\n      log.debug(meshInit);\n      const meshToAdd = new NVMesh3(\n        meshInit.pts,\n        meshInit.tris,\n        meshInit.name,\n        meshInit.rgba255,\n        meshInit.opacity,\n        meshInit.visible,\n        this.gl,\n        meshInit.connectome,\n        meshInit.dpg,\n        meshInit.dps,\n        meshInit.dpv\n      );\n      if (meshDataObject.offsetPt0) {\n        meshToAdd.fiberGroupColormap = meshDataObject.fiberGroupColormap;\n        meshToAdd.fiberColor = meshDataObject.fiberColor;\n        meshToAdd.fiberDither = meshDataObject.fiberDither;\n        meshToAdd.fiberRadius = meshDataObject.fiberRadius;\n        meshToAdd.colormap = meshDataObject.colormap;\n      }\n      meshToAdd.meshShaderIndex = meshInit.meshShaderIndex;\n      meshToAdd.layers = meshInit.layers;\n      meshToAdd.updateMesh(this.gl);\n      log.debug(meshToAdd);\n      this.addMesh(meshToAdd);\n    }\n    if (document2.data.connectomes) {\n      for (const connectomeString of document2.data.connectomes) {\n        const connectome = JSON.parse(connectomeString);\n        const meshToAdd = this.loadConnectomeAsMesh(connectome);\n        meshToAdd.updateMesh(this.gl);\n        this.addMesh(meshToAdd);\n      }\n    }\n    this.createEmptyDrawing();\n    const drawingBase64 = document2.encodedDrawingBlob;\n    if (drawingBase64) {\n      const drawingBitmap = await NVUtilities.b64toUint8(drawingBase64);\n      if (drawingBitmap) {\n        const dims = this.back.dims;\n        let expectedBytes = dims[1] * dims[2] * dims[3];\n        if (drawingBitmap.length - 352 === expectedBytes) {\n          expectedBytes += 352;\n        }\n        if (drawingBitmap.length !== expectedBytes) {\n          throw new Error(\n            `drawBitmap size does not match the texture dimensions (${dims[1]}\\xD7${dims[2]}\\xD7${dims[3]}) ${expectedBytes} != ${dims[1] * dims[2] * dims[3]}.`\n          );\n        }\n        this.drawBitmap = drawingBitmap;\n        this.refreshDrawing();\n      }\n    }\n    await this.setGradientOpacity(this.opts.gradientOpacity);\n    await this.setVolumeRenderIllumination(this.opts.gradientAmount);\n    this.updateGLVolume();\n    this.drawScene();\n    this.onDocumentLoaded(document2);\n    return this;\n  }\n  /**\n  * generates JavaScript to load the current scene as a document\n  * @param canvasId - id of canvas NiiVue will be attached to\n  * @param esm - bundled version of NiiVue\n  * @example\n  * const javascript = this.generateLoadDocumentJavaScript(\"gl1\");\n  * const html = `<html><body><canvas id=\"gl1\"></canvas><script type=\"module\" async>\n         ${javascript}<\\/script></body></html>`;\n  * @see {@link https://niivue.com/demos/features/save.custom.html.html | live demo usage}\n  */\n  async generateLoadDocumentJavaScript(canvasId, esm) {\n    const json = this.json();\n    const base64 = await NVUtilities.compressToBase64String(JSON.stringify(json));\n    const javascript = `\n        ${esm}\n\n        async function saveNiivueAsHtml(pageName) {\n          //get new docstring\n          const docString = nv1.json();\n          const html =\n          document.getElementsByTagName(\"html\")[0]\n              .innerHTML.replace(base64, await NVUtilities.compressToBase64String(JSON.stringify(docString)));\n          NVUtilities.download(html, pageName, \"application/html\");\n        }\n\n        var nv1 = new Niivue();\n        await nv1.attachTo(\"${canvasId}\");\n        var base64 = \"${base64}\";\n        NVUtilities.decompressBase64String(base64).then((jsonText) => {\n          var json = JSON.parse(jsonText); // string -> JSON\n          var doc = NVDocument.loadFromJSON(json);\n          nv1.loadDocument(doc);\n          nv1.updateGLVolume();\n        });\n\n      `;\n    return javascript;\n  }\n  /**\n   * generates HTML of current scene\n   * @param canvasId - id of canvas NiiVue will be attached to\n   * @param esm - bundled version of NiiVue\n   * @returns HTML with javascript of the current scene\n   * @example\n   * const template = `<html><body><canvas id=\"gl1\"></canvas><script type=\"module\" async>\n   *       %%javascript%%<\\/script></body></html>`;\n   * nv1.generateHTML(\"page.html\", esm);\n   */\n  async generateHTML(canvasId = \"gl1\", esm) {\n    const javascript = await this.generateLoadDocumentJavaScript(canvasId, esm);\n    const html = `<!DOCTYPE html>\n        <html lang=\"en\">\n          <head>\n            <meta charset=\"utf-8\" />\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n            <meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\" />\n            <title>Save as HTML</title>\n            <style>\n            html {\n              height: auto;\n              min-height: 100%;\n              margin: 0;\n            }\n            body {\n              display: flex;\n              flex-direction: column;\n              margin: 0;\n              min-height: 100%;\n              width: 100%;\n              position: absolute;\n              font-family: system-ui, Arial, Helvetica, sans-serif;\n              background: #ffffff;\n              color: black;\n              user-select: none; /* Standard syntax */\n            }\n            header {\n              margin: 10px;\n            }\n            main {\n              flex: 1;\n              background: #000000;\n              position: relative;\n            }\n            footer {\n              margin: 10px;\n            }\n            canvas {\n              position: absolute;\n              cursor: crosshair;\n            }\n            canvas:focus {\n              outline: 0px;\n            }\n            div {\n              display: table-row;\n              background-color: blue;\n            }\n            </style>\n          </head>\n          <body>\n            <noscript>niivue requires JavaScript.</noscript>\n            <header>\n            Save the current scene as HTML\n            <button id=\"save\">Save as HTML</button>\n            </header>\n            <main>\n              <canvas id=\"gl1\"></canvas>\n            </main>\n            <script type=\"module\" async>\n              ${javascript}\n              function saveAsHtml() {\n                saveNiivueAsHtml(\"page.html\");\n              }\n              // assign our event handler\n              var button = document.getElementById(\"save\");\n              button.onclick = saveAsHtml;\n            <\\/script>\n          </body>\n        </html>`;\n    return html;\n  }\n  /**\n   * Save the current scene as a standalone HTML file\n   * @param fileName - name of the HTML file to save (default: \"untitled.html\")\n   * @param canvasId - ID of the canvas element NiiVue will attach to\n   * @param esm - bundled ES module source for NiiVue\n   * @returns a Promise that resolves when the file is downloaded\n   * @see {@link https://niivue.com/demos/features/save.html.html | live demo usage}\n   */\n  async saveHTML(fileName = \"untitled.html\", canvasId = \"gl1\", esm) {\n    const html = await this.generateHTML(canvasId, esm);\n    return NVUtilities.download(html, fileName, \"application/html\");\n  }\n  /**\n   * Converts NiiVue scene to JSON\n   */\n  json() {\n    this.document.opts = this.opts;\n    this.document.scene = this.scene;\n    this.document.volumes = this.volumes;\n    this.document.meshes = this.meshes;\n    this.drawScene();\n    this.document.previewImageDataURL = this.canvas.toDataURL();\n    const json = this.document.json();\n    return json;\n  }\n  /**\n   * Save the current scene as an .nvd document.\n   *\n   * @param fileName  Name of the file to create (default \"untitled.nvd\")\n   * @param compress  If true, gzip-compress the JSON (default true)\n   * @param options   Fine-grained switches:\n   *                   embedImages   store encodedImageBlobs  (default true)\n   *                   embedPreview  store previewImageDataURL (default true)\n   *\n   * @example\n   * // smallest possible file  no preview, just metadata\n   * await nv.saveDocument('scene.nvd', true, { embedImages:false, embedPreview:false });\n   * @see {@link https://niivue.com/demos/features/document.3d.html | live demo usage}\n   */\n  async saveDocument(fileName = \"untitled.nvd\", compress = true, options = {}) {\n    const { embedImages = true, embedPreview = true } = options;\n    this.document.title = fileName;\n    this.document.volumes = this.volumes;\n    this.document.meshes = this.meshes;\n    if (embedPreview) {\n      this.drawScene();\n      this.document.previewImageDataURL = this.canvas.toDataURL();\n    } else {\n      this.document.previewImageDataURL = \"\";\n    }\n    await this.document.download(fileName, compress, { embedImages });\n  }\n  /**\n   * Load an array of image or mesh URLs using appropriate handlers\n   * @param images - array of image or mesh descriptors (with URL and optional name)\n   * @returns a Promise resolving to the current NiiVue instance after loading completes\n   * @remarks Automatically dispatches each item to either volume or mesh loader based on file extension or registered custom loader\n   * @see {@link https://niivue.com/demos/features/timeseries2.html | live demo usage}\n   */\n  async loadImages(images) {\n    const volumes = [];\n    const meshes = [];\n    for (const image of images) {\n      if (\"url\" in image) {\n        const ext = this.getFileExt(image.name ? image.name : image.url);\n        if (this.loaders[ext]) {\n          const toExt = this.loaders[ext].toExt.toUpperCase();\n          if (MESH_EXTENSIONS.includes(toExt)) {\n            meshes.push(image);\n          } else {\n            volumes.push(image);\n          }\n          continue;\n        }\n        if (MESH_EXTENSIONS.includes(ext.toUpperCase())) {\n          meshes.push(image);\n        } else {\n          volumes.push(image);\n        }\n      }\n    }\n    if (volumes.length > 0) {\n      await this.loadVolumes(volumes);\n    }\n    if (meshes.length > 0) {\n      await this.loadMeshes(meshes);\n    }\n    return this;\n  }\n  async loadDicoms(dicomList) {\n    if (!this.getDicomLoader()) {\n      throw new Error(\"No dicom loader set. Please set a dicom loader before loading dicoms\");\n    }\n    this.drawScene();\n    this.volumes = [];\n    const promises = dicomList.map(async (dicom) => {\n      let dicomData = null;\n      if (dicom.isManifest) {\n        dicomData = await NVImage.fetchDicomData(dicom.url);\n      } else {\n        const response = await fetch(dicom.url);\n        if (!response.ok) {\n          throw new Error(`Failed to load file: ${response.statusText}`);\n        }\n        const dicomArrayBuffer = await response.arrayBuffer();\n        const basename = dicom.url.split(\"/\").pop();\n        const data2 = dicomArrayBuffer;\n        dicomData = [{ name: basename, data: data2 }];\n      }\n      const dicomLoader = this.getDicomLoader().loader;\n      const convertedArrayBuffer = await dicomLoader(dicomData);\n      const name = convertedArrayBuffer[0].name;\n      const data = convertedArrayBuffer[0].data;\n      const image = await NVImage.loadFromUrl({ url: data, name });\n      return image;\n    });\n    const nvImages = await Promise.all(promises);\n    if (nvImages.length === 1) {\n      this.addVolume(nvImages[0]);\n    } else {\n      this.onDicomLoaderFinishedWithImages(nvImages);\n    }\n    return this;\n  }\n  /**\n   * load an array of volume objects\n   * @param volumeList - the array of objects to load. each object must have a resolvable \"url\" property at a minimum\n   * @returns returns the Niivue instance\n   * @example\n   * niivue = new Niivue()\n   * niivue.loadVolumes([{url: 'someImage.nii.gz}, {url: 'anotherImage.nii.gz'}])\n   * @see {@link https://niivue.com/demos/features/mask.html | live demo usage}\n   */\n  async loadVolumes(volumeList) {\n    this.drawScene();\n    if (this.thumbnailVisible) {\n      this.deferredVolumes = volumeList;\n      return this;\n    }\n    this.volumes = [];\n    this.closePAQD();\n    await this.addVolumesFromUrl(volumeList);\n    return this;\n  }\n  /**\n   * Add mesh and notify subscribers\n   */\n  async addMeshFromUrl(meshOptions) {\n    const ext = this.getFileExt(meshOptions.url);\n    if (ext === \"JCON\" || ext === \"JSON\") {\n      const response = await fetch(meshOptions.url, {});\n      const json = await response.json();\n      const mesh2 = this.loadConnectomeAsMesh(json);\n      this.mediaUrlMap.set(mesh2, meshOptions.url);\n      this.onMeshAddedFromUrl(meshOptions, mesh2);\n      this.addMesh(mesh2);\n      return mesh2;\n    }\n    const mesh = await NVMesh3.loadFromUrl({ ...meshOptions, gl: this.gl });\n    this.mediaUrlMap.set(mesh, meshOptions.url);\n    this.onMeshAddedFromUrl(meshOptions, mesh);\n    this.addMesh(mesh);\n    return mesh;\n  }\n  /**\n   * Add mesh and notify subscribers\n   */\n  async addMeshesFromUrl(meshOptions) {\n    const promises = meshOptions.map(async (meshItem) => {\n      const ext = this.getFileExt(meshItem.name || meshItem.url);\n      if (this.loaders[ext]) {\n        let itemToLoad = meshItem.url;\n        const toExt = this.loaders[ext].toExt;\n        let name = meshItem.name || meshItem.url;\n        name = name.split(\"/\").pop();\n        if (typeof meshItem.url === \"string\") {\n          const url = meshItem.url;\n          try {\n            const response = await fetch(url);\n            if (!response.ok) {\n              throw new Error(`Failed to load file: ${response.statusText}`);\n            }\n            itemToLoad = await response.arrayBuffer();\n          } catch (error) {\n            throw new Error(`Failed to load url ${url}: ${error}`);\n          }\n        }\n        const { positions, indices, colors = null } = await this.loaders[ext].loader(itemToLoad);\n        meshItem.name = `${name}.${toExt}`;\n        const mz3 = await NVMeshUtilities.createMZ3Async(positions, indices, false, colors);\n        meshItem.buffer = mz3;\n      }\n      if (ext === \"JCON\" || ext === \"JSON\") {\n        const response = await fetch(meshItem.url, {});\n        const json = await response.json();\n        const mesh2 = this.loadConnectomeAsMesh(json);\n        this.mediaUrlMap.set(mesh2, meshItem.url);\n        this.onMeshAddedFromUrl(meshItem, mesh2);\n        return mesh2;\n      }\n      const mesh = await NVMesh3.loadFromUrl({ ...meshItem, gl: this.gl });\n      this.mediaUrlMap.set(mesh, meshItem.url);\n      this.onMeshAddedFromUrl(meshItem, mesh);\n      return mesh;\n    });\n    const meshes = await Promise.all(promises);\n    for (let i = 0; i < meshes.length; i++) {\n      this.addMesh(meshes[i]);\n    }\n    return meshes;\n  }\n  /**\n   * load an array of meshes\n   * @param meshList - the array of objects to load. each object must have a resolvable \"url\" property at a minimum\n   * @returns Niivue instance\n   * @example\n   * niivue = new Niivue()\n   * niivue.loadMeshes([{url: 'someMesh.gii'}])\n   * @see {@link https://niivue.com/demos/features/meshes.html | live demo usage}\n   */\n  async loadMeshes(meshList) {\n    this.drawScene();\n    if (this.thumbnailVisible) {\n      this.deferredMeshes = meshList;\n      return this;\n    }\n    if (!this.initialized) {\n    }\n    this.meshes = [];\n    await this.addMeshesFromUrl(meshList);\n    this.updateGLVolume();\n    this.drawScene();\n    return this;\n  }\n  /**\n   * Load a connectome from a given URL and initialize it.\n   *\n   * @param url - the URL to a JSON-formatted connectome definition\n   * @param headers - optional HTTP headers to include with the request (e.g. for authorization)\n   * @returns the `Niivue` instance (for method chaining)\n   * @see {@link https://niivue.com/demos/features/connectome.html | live demo usage}\n   */\n  async loadConnectomeFromUrl(url, headers = {}) {\n    const response = await fetch(url, { headers });\n    const json = await response.json();\n    return this.loadConnectome(json);\n  }\n  /**\n   * Load a FreeSurfer-style connectome from a given URL and initialize it.\n   * @param url - the URL of the JSON-formatted connectome file\n   * @param headers - optional HTTP headers to include in the fetch request (e.g. for authorization)\n   * @returns the `Niivue` instance (for method chaining)\n   * @see {@link https://niivue.com/demos/features/connectome.html | live demo usage}\n   */\n  async loadFreeSurferConnectomeFromUrl(url, headers = {}) {\n    const response = await fetch(url, { headers });\n    const json = await response.json();\n    return this.loadFreeSurferConnectome(json);\n  }\n  /**\n   * load a connectome specified by json\n   * @param json - freesurfer model\n   * @returns Niivue instance\n   * @see {@link https://niivue.com/demos/features/connectome.html | live demo usage}\n   */\n  async loadFreeSurferConnectome(json) {\n    const connectome = NVConnectome.convertFreeSurferConnectome(json);\n    return this.loadConnectome(connectome);\n  }\n  /**\n   * Handles addition of a connectome node by adding a corresponding label and redrawing.\n   * @internal\n   */\n  handleNodeAdded(event) {\n    const node = event.detail.node;\n    const rgba = [1, 1, 1, 1];\n    this.addLabel(\n      node.name,\n      {\n        textColor: rgba,\n        bulletScale: 1,\n        bulletColor: rgba,\n        lineWidth: 0,\n        lineColor: rgba,\n        lineTerminator: \"none\" /* NONE */,\n        textScale: 1\n      },\n      [node.x, node.y, node.z]\n    );\n    this.drawScene();\n  }\n  /**\n   * Converts various connectome JSON formats to a standardized mesh representation.\n   *\n   * @param json - Connectome data in current or legacy format.\n   * @returns The connectome as an `NVMesh`.\n   * @internal\n   */\n  loadConnectomeAsMesh(json) {\n    let connectome = json;\n    if (\"data_type\" in json && json.data_type === \"fs_pointset\") {\n      connectome = NVConnectome.convertFreeSurferConnectome(json);\n      log.warn(\"converted FreeSurfer connectome\", connectome);\n    } else if (\"nodes\" in json) {\n      const nodes = json.nodes;\n      if (\"names\" in nodes && \"X\" in nodes && \"Y\" in nodes && \"Z\" in nodes && \"Color\" in nodes && \"Size\" in nodes) {\n        connectome = NVConnectome.convertLegacyConnectome(json);\n      }\n    } else {\n      throw new Error(\"not a known connectome format\");\n    }\n    return new NVConnectome(this.gl, connectome);\n  }\n  /**\n   * load a connectome specified by json\n   * @param json - connectome model\n   * @returns Niivue instance\n   * @see {@link https://niivue.com/demos/features/connectome.html | live demo usage}\n   */\n  loadConnectome(json) {\n    this.drawScene();\n    this.meshes = [];\n    const mesh = this.loadConnectomeAsMesh(json);\n    this.addMesh(mesh);\n    this.drawScene();\n    return this;\n  }\n  /**\n   * generate a blank canvas for the pen tool\n   * @example niivue.createEmptyDrawing()\n   * @see {@link https://niivue.com/demos/features/cactus.html | live demo usage}\n   */\n  createEmptyDrawing() {\n    if (this.back === null || !this.back.dims) {\n      return;\n    }\n    const mn = Math.min(Math.min(this.back.dims[1], this.back.dims[2]), this.back.dims[3]);\n    if (mn < 1) {\n      return;\n    }\n    const vx = this.back.dims[1] * this.back.dims[2] * this.back.dims[3];\n    this.drawBitmap = new Uint8Array(vx);\n    this.clickToSegmentGrowingBitmap = new Uint8Array(vx);\n    this.drawClearAllUndoBitmaps();\n    this.drawAddUndoBitmap();\n    if (this.opts.is2DSliceShader) {\n      this.drawTexture = this.r8Tex2D(this.drawTexture, TEXTURE7_DRAW, this.back.dims);\n    } else {\n      this.drawTexture = this.r8Tex(this.drawTexture, TEXTURE7_DRAW, this.back.dims, true);\n    }\n    this.refreshDrawing(false);\n  }\n  /**\n   * Creates or updates a 1-component 16-bit signed integer 3D texture on the GPU.\n   * @internal\n   */\n  r16Tex(texID, activeID, dims, img16) {\n    if (texID) {\n      this.gl.deleteTexture(texID);\n    }\n    texID = this.gl.createTexture();\n    this.gl.activeTexture(activeID);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, texID);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_R, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.R16I, dims[1], dims[2], dims[3]);\n    const nv = dims[1] * dims[2] * dims[3];\n    if (img16.length !== nv) {\n      img16 = new Int16Array(nv);\n    }\n    this.gl.texSubImage3D(\n      this.gl.TEXTURE_3D,\n      0,\n      0,\n      0,\n      0,\n      dims[1],\n      dims[2],\n      dims[3],\n      this.gl.RED_INTEGER,\n      this.gl.SHORT,\n      img16\n    );\n    return texID;\n  }\n  /**\n   * dilate drawing so all voxels are colored.\n   * works on drawing with multiple colors\n   * @example niivue.drawGrowCut();\n   * @see {@link https://niivue.com/demos/features/draw2.html | live demo usage}\n   */\n  drawGrowCut() {\n    if (!this.back || !this.back.dims) {\n      throw new Error(\"back not defined\");\n    }\n    const hdr = this.back.hdr;\n    const gl = this.gl;\n    const nv = hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n    if (!this.drawBitmap || this.drawBitmap.length !== nv) {\n      log.debug(\"bitmap dims are wrong\");\n      return;\n    }\n    const fb = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n    gl.disable(gl.CULL_FACE);\n    gl.viewport(0, 0, this.back.dims[1], this.back.dims[2]);\n    gl.disable(gl.BLEND);\n    let img16 = img2ras16(this.back);\n    const background = this.r16Tex(null, TEXTURE11_GC_BACK, this.back.dims, img16);\n    for (let i = 1; i < nv; i++) {\n      img16[i] = this.drawBitmap[i];\n    }\n    const label0 = this.r16Tex(null, TEXTURE14_GC_LABEL0, this.back.dims, img16);\n    const label1 = this.r16Tex(null, TEXTURE15_GC_LABEL1, this.back.dims, img16);\n    const kMAX_STRENGTH = 1e4;\n    for (let i = 1; i < nv; i++) {\n      if (img16[i] > 0) {\n        img16[i] = kMAX_STRENGTH;\n      }\n    }\n    const strength0 = this.r16Tex(null, TEXTURE12_GC_STRENGTH0, this.back.dims, img16);\n    const strength1 = this.r16Tex(null, TEXTURE13_GC_STRENGTH1, this.back.dims, img16);\n    gl.bindVertexArray(this.genericVAO);\n    const shader = this.growCutShader;\n    shader.use(gl);\n    const iterations = 128;\n    gl.uniform1i(shader.uniforms.finalPass, 0);\n    gl.uniform1i(shader.uniforms.backTex, 11);\n    for (let j = 0; j < iterations; j++) {\n      gl.uniform1i(shader.uniforms.labelTex, 14);\n      gl.uniform1i(shader.uniforms.strengthTex, 12);\n      for (let i = 0; i < this.back.dims[3]; i++) {\n        const coordZ = 1 / this.back.dims[3] * (i + 0.5);\n        gl.uniform1f(shader.uniforms.coordZ, coordZ);\n        gl.framebufferTextureLayer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, label1, 0, i);\n        gl.framebufferTextureLayer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT1, strength1, 0, i);\n        gl.drawBuffers([gl.COLOR_ATTACHMENT0, gl.COLOR_ATTACHMENT1]);\n        const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n        if (status !== gl.FRAMEBUFFER_COMPLETE) {\n          log.error(\"Incomplete framebuffer\");\n        }\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n      }\n      if (j === iterations - 1) {\n        gl.uniform1i(shader.uniforms.finalPass, 1);\n      }\n      gl.uniform1i(shader.uniforms.labelTex, 15);\n      gl.uniform1i(shader.uniforms.strengthTex, 13);\n      for (let i = 0; i < this.back.dims[3]; i++) {\n        const coordZ = 1 / this.back.dims[3] * (i + 0.5);\n        gl.uniform1f(shader.uniforms.coordZ, coordZ);\n        gl.framebufferTextureLayer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, label0, 0, i);\n        gl.framebufferTextureLayer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT1, strength0, 0, i);\n        gl.drawBuffers([gl.COLOR_ATTACHMENT0, gl.COLOR_ATTACHMENT1]);\n        const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n        if (status !== gl.FRAMEBUFFER_COMPLETE) {\n          log.error(\"Incomplete framebuffer\");\n        }\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n      }\n    }\n    gl.drawBuffers([gl.COLOR_ATTACHMENT0]);\n    const readAttach = gl.COLOR_ATTACHMENT1;\n    const readTex = label0;\n    gl.readBuffer(readAttach);\n    const format = gl.getParameter(gl.IMPLEMENTATION_COLOR_READ_FORMAT);\n    const type = gl.getParameter(gl.IMPLEMENTATION_COLOR_READ_TYPE);\n    if (format !== gl.RED_INTEGER || type !== gl.SHORT) {\n      log.debug(\"readPixels will fail.\");\n    }\n    img16 = new Int16Array();\n    const nv2D = this.back.dims[1] * this.back.dims[2];\n    const slice16 = new Int16Array(nv2D);\n    for (let i = 0; i < this.back.dims[3]; i++) {\n      gl.framebufferTextureLayer(\n        gl.FRAMEBUFFER,\n        readAttach,\n        // gl.COLOR_ATTACHMENT1,//COLOR_ATTACHMENT1\n        readTex,\n        // strength1,//strength0\n        0,\n        i\n      );\n      gl.readPixels(0, 0, this.back.dims[1], this.back.dims[2], format, type, slice16);\n      img16 = Int16Array.from([...img16, ...slice16]);\n    }\n    let mx = img16[0];\n    for (let i = 0; i < img16.length; i++) {\n      mx = Math.max(mx, img16[i]);\n    }\n    for (let i = 1; i < nv; i++) {\n      this.drawBitmap[i] = img16[i];\n    }\n    gl.deleteTexture(background);\n    gl.deleteTexture(strength0);\n    gl.deleteTexture(strength1);\n    gl.deleteTexture(label0);\n    gl.deleteTexture(label1);\n    gl.bindVertexArray(this.unusedVAO);\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.deleteFramebuffer(fb);\n    this.drawAddUndoBitmap();\n    this.refreshDrawing(true);\n  }\n  /**\n   * Sets the color value of a voxel and its neighbors in the drawing bitmap.\n   * @internal\n   */\n  drawPt(x, y, z, penValue, drawBitmap = null) {\n    if (drawBitmap === null) {\n      drawBitmap = this.drawBitmap;\n    }\n    if (!this.back?.dims) {\n      throw new Error(\"back.dims not set\");\n    }\n    const dx = this.back.dims[1];\n    const dy = this.back.dims[2];\n    const dz = this.back.dims[3];\n    x = Math.min(Math.max(x, 0), dx - 1);\n    y = Math.min(Math.max(y, 0), dy - 1);\n    z = Math.min(Math.max(z, 0), dz - 1);\n    drawBitmap[x + y * dx + z * dx * dy] = penValue;\n    const isAx = this.drawPenAxCorSag === 0;\n    const isCor = this.drawPenAxCorSag === 1;\n    const isSag = this.drawPenAxCorSag === 2;\n    if (this.opts.penSize > 1) {\n      const halfPenSize = Math.floor(this.opts.penSize / 2);\n      for (let i = -halfPenSize; i <= halfPenSize; i++) {\n        for (let j = -halfPenSize; j <= halfPenSize; j++) {\n          if (isAx) {\n            drawBitmap[x + i + (y + j) * dx + z * dx * dy] = penValue;\n          } else if (isCor) {\n            drawBitmap[x + i + y * dx + (z + j) * dx * dy] = penValue;\n          } else if (isSag) {\n            drawBitmap[x + (y + j) * dx + (z + i) * dx * dy] = penValue;\n          }\n        }\n      }\n    }\n  }\n  /**\n   * Draws a 3D line between two voxels in the drawing bitmap using Bresenham's algorithm.\n   * @internal\n   */\n  drawPenLine(ptA, ptB, penValue) {\n    const dx = Math.abs(ptA[0] - ptB[0]);\n    const dy = Math.abs(ptA[1] - ptB[1]);\n    const dz = Math.abs(ptA[2] - ptB[2]);\n    let xs = -1;\n    let ys = -1;\n    let zs = -1;\n    if (ptB[0] > ptA[0]) {\n      xs = 1;\n    }\n    if (ptB[1] > ptA[1]) {\n      ys = 1;\n    }\n    if (ptB[2] > ptA[2]) {\n      zs = 1;\n    }\n    let x1 = ptA[0];\n    let y1 = ptA[1];\n    let z1 = ptA[2];\n    const x2 = ptB[0];\n    const y2 = ptB[1];\n    const z2 = ptB[2];\n    if (dx >= dy && dx >= dz) {\n      let p1 = 2 * dy - dx;\n      let p2 = 2 * dz - dx;\n      while (x1 !== x2) {\n        x1 += xs;\n        if (p1 >= 0) {\n          y1 += ys;\n          p1 -= 2 * dx;\n        }\n        if (p2 >= 0) {\n          z1 += zs;\n          p2 -= 2 * dx;\n        }\n        p1 += 2 * dy;\n        p2 += 2 * dz;\n        this.drawPt(x1, y1, z1, penValue);\n      }\n    } else if (dy >= dx && dy >= dz) {\n      let p1 = 2 * dx - dy;\n      let p2 = 2 * dz - dy;\n      while (y1 !== y2) {\n        y1 += ys;\n        if (p1 >= 0) {\n          x1 += xs;\n          p1 -= 2 * dy;\n        }\n        if (p2 >= 0) {\n          z1 += zs;\n          p2 -= 2 * dy;\n        }\n        p1 += 2 * dx;\n        p2 += 2 * dz;\n        this.drawPt(x1, y1, z1, penValue);\n      }\n    } else {\n      let p1 = 2 * dy - dz;\n      let p2 = 2 * dx - dz;\n      while (z1 !== z2) {\n        z1 += zs;\n        if (p1 >= 0) {\n          y1 += ys;\n          p1 -= 2 * dz;\n        }\n        if (p2 >= 0) {\n          x1 += xs;\n          p2 -= 2 * dz;\n        }\n        p1 += 2 * dy;\n        p2 += 2 * dx;\n        this.drawPt(x1, y1, z1, penValue);\n      }\n    }\n  }\n  /**\n   * Draw a rectangle from point A to point B\n   * @internal\n   */\n  drawRectangleMask(ptA, ptB, penValue) {\n    if (!this.back?.dims) {\n      throw new Error(\"back.dims not set\");\n    }\n    const dx = this.back.dims[1];\n    const dy = this.back.dims[2];\n    const dz = this.back.dims[3];\n    const x1 = Math.min(Math.max(Math.min(ptA[0], ptB[0]), 0), dx - 1);\n    const y1 = Math.min(Math.max(Math.min(ptA[1], ptB[1]), 0), dy - 1);\n    const z1 = Math.min(Math.max(Math.min(ptA[2], ptB[2]), 0), dz - 1);\n    const x2 = Math.min(Math.max(Math.max(ptA[0], ptB[0]), 0), dx - 1);\n    const y2 = Math.min(Math.max(Math.max(ptA[1], ptB[1]), 0), dy - 1);\n    const z2 = Math.min(Math.max(Math.max(ptA[2], ptB[2]), 0), dz - 1);\n    for (let z = z1; z <= z2; z++) {\n      for (let y = y1; y <= y2; y++) {\n        for (let x = x1; x <= x2; x++) {\n          this.drawPt(x, y, z, penValue);\n        }\n      }\n    }\n  }\n  /**\n   * Draw an ellipse from point A to point B (treating them as opposite corners of bounding box)\n   * @internal\n   */\n  drawEllipseMask(ptA, ptB, penValue) {\n    if (!this.back?.dims) {\n      throw new Error(\"back.dims not set\");\n    }\n    const dx = this.back.dims[1];\n    const dy = this.back.dims[2];\n    const dz = this.back.dims[3];\n    const x1 = Math.min(Math.max(Math.min(ptA[0], ptB[0]), 0), dx - 1);\n    const y1 = Math.min(Math.max(Math.min(ptA[1], ptB[1]), 0), dy - 1);\n    const z1 = Math.min(Math.max(Math.min(ptA[2], ptB[2]), 0), dz - 1);\n    const x2 = Math.min(Math.max(Math.max(ptA[0], ptB[0]), 0), dx - 1);\n    const y2 = Math.min(Math.max(Math.max(ptA[1], ptB[1]), 0), dy - 1);\n    const z2 = Math.min(Math.max(Math.max(ptA[2], ptB[2]), 0), dz - 1);\n    const centerX = (x1 + x2) / 2;\n    const centerY = (y1 + y2) / 2;\n    const centerZ = (z1 + z2) / 2;\n    const radiusX = Math.abs(x2 - x1) / 2;\n    const radiusY = Math.abs(y2 - y1) / 2;\n    const radiusZ = Math.abs(z2 - z1) / 2;\n    for (let z = z1; z <= z2; z++) {\n      for (let y = y1; y <= y2; y++) {\n        for (let x = x1; x <= x2; x++) {\n          const distX = (x - centerX) / (radiusX + 0.5);\n          const distY = (y - centerY) / (radiusY + 0.5);\n          const distZ = (z - centerZ) / (radiusZ + 0.5);\n          if (distX * distX + distY * distY + distZ * distZ <= 1) {\n            this.drawPt(x, y, z, penValue);\n          }\n        }\n      }\n    }\n  }\n  /**\n   * Performs a 1-voxel binary dilation on a connected cluster within the drawing mask using the drawFloodFillCore function.\n   *\n   * @param seedXYZ -  voxel index of the seed voxel in the mask array.\n   * @param neighbors - Number of neighbors to consider for connectivity and dilation (6, 18, or 26).\n   */\n  drawingBinaryDilationWithSeed(seedXYZ, neighbors = 6) {\n    try {\n      let xyz2vx = function(pt) {\n        return pt[0] + pt[1] * nx + pt[2] * nxy;\n      };\n      const mask = this.drawBitmap;\n      const xDim = this.back.dims[1];\n      const yDim = this.back.dims[2];\n      const zDim = this.back.dims[3];\n      const nx = xDim;\n      const nxy = xDim * yDim;\n      const totalVoxels = nxy * zDim;\n      const seedIndex = xyz2vx(seedXYZ);\n      if (seedIndex < 0 || seedIndex >= totalVoxels) {\n        throw new Error(\"Seed index is out of bounds.\");\n      }\n      const seedValue = mask[seedIndex];\n      if (seedValue === 0) {\n        throw new Error(\"Seed voxel is not part of a filled cluster.\");\n      }\n      const img = mask.slice();\n      for (let i = 0; i < totalVoxels; i++) {\n        img[i] = img[i] === seedValue ? 1 : 0;\n      }\n      this.drawFloodFillCore(img, seedIndex, neighbors);\n      const outputMask = mask.slice();\n      const neighborOffsets = [];\n      const offsets6 = [-nxy, nxy, -xDim, xDim, -1, 1];\n      neighborOffsets.push(...offsets6);\n      if (neighbors > 6) {\n        neighborOffsets.push(\n          -xDim - 1,\n          -xDim + 1,\n          xDim - 1,\n          xDim + 1,\n          -nxy - xDim,\n          -nxy + xDim,\n          -nxy - 1,\n          -nxy + 1,\n          nxy - xDim,\n          nxy + xDim,\n          nxy - 1,\n          nxy + 1\n        );\n      }\n      if (neighbors > 18) {\n        neighborOffsets.push(\n          -nxy - xDim - 1,\n          -nxy - xDim + 1,\n          -nxy + xDim - 1,\n          -nxy + xDim + 1,\n          nxy - xDim - 1,\n          nxy - xDim + 1,\n          nxy + xDim - 1,\n          nxy + xDim + 1\n        );\n      }\n      for (let idx = 0; idx < totalVoxels; idx++) {\n        if (img[idx] === 2) {\n          const x = idx % xDim;\n          const y = Math.floor(idx % nxy / xDim);\n          const z = Math.floor(idx / nxy);\n          for (const offset of neighborOffsets) {\n            const neighborIdx = idx + offset;\n            if (neighborIdx < 0 || neighborIdx >= totalVoxels) {\n              continue;\n            }\n            const nx2 = neighborIdx % xDim;\n            const ny = Math.floor(neighborIdx % nxy / xDim);\n            const nz = Math.floor(neighborIdx / nxy);\n            if (Math.abs(nx2 - x) > 1 || Math.abs(ny - y) > 1 || Math.abs(nz - z) > 1) {\n              continue;\n            }\n            if (mask[neighborIdx] === 0) {\n              outputMask[neighborIdx] = seedValue;\n            }\n          }\n        }\n      }\n      this.drawBitmap = outputMask;\n      this.drawAddUndoBitmap();\n      this.refreshDrawing(true);\n    } catch (error) {\n      log.error(\"Error in drawingBinaryDilationWithSeed:\", error);\n    }\n  }\n  /**\n   * Flood fill to cluster connected voxels based on neighbor connectivity (6, 18, or 26 neighbors).\n   * Voxels with value 1 are included in the cluster and set to 2.\n   * Uses a queue-based breadth-first search.\n   *\n   * @internal\n   */\n  drawFloodFillCore(img, seedVx, neighbors = 6) {\n    if (!this.back?.dims) {\n      throw new Error(\"back.dims undefined\");\n    }\n    const dims = [this.back.dims[1], this.back.dims[2], this.back.dims[3]];\n    const nx = dims[0];\n    const nxy = nx * dims[1];\n    function xyz2vx(pt) {\n      return pt[0] + pt[1] * nx + pt[2] * nxy;\n    }\n    function vx2xyz(vx) {\n      const Z = Math.floor(vx / nxy);\n      const Y = Math.floor((vx - Z * nxy) / nx);\n      const X = Math.floor(vx % nx);\n      return [X, Y, Z];\n    }\n    const Q = [];\n    Q.push(seedVx);\n    img[seedVx] = 2;\n    while (Q.length > 0) {\n      let testNeighbor = function(offset) {\n        const xyzN = xyz.slice();\n        xyzN[0] += offset[0];\n        xyzN[1] += offset[1];\n        xyzN[2] += offset[2];\n        if (xyzN[0] < 0 || xyzN[1] < 0 || xyzN[2] < 0) {\n          return;\n        }\n        if (xyzN[0] >= dims[0] || xyzN[1] >= dims[1] || xyzN[2] >= dims[2]) {\n          return;\n        }\n        const vxT = xyz2vx(xyzN);\n        if (img[vxT] !== 1) {\n          return;\n        }\n        img[vxT] = 2;\n        Q.push(vxT);\n      };\n      const vx = Q[0];\n      Q.shift();\n      const xyz = vx2xyz(vx);\n      testNeighbor([0, 0, -1]);\n      testNeighbor([0, 0, 1]);\n      testNeighbor([0, -1, 0]);\n      testNeighbor([0, 1, 0]);\n      testNeighbor([-1, 0, 0]);\n      testNeighbor([1, 0, 0]);\n      if (neighbors <= 6) {\n        continue;\n      }\n      testNeighbor([-1, -1, 0]);\n      testNeighbor([1, 1, 0]);\n      testNeighbor([-1, 1, 0]);\n      testNeighbor([1, 1, 0]);\n      testNeighbor([0, -1, -1]);\n      testNeighbor([0, 1, -1]);\n      testNeighbor([-1, 0, -1]);\n      testNeighbor([1, 0, -1]);\n      testNeighbor([0, -1, 1]);\n      testNeighbor([0, 1, 1]);\n      testNeighbor([-1, 0, 1]);\n      testNeighbor([1, 0, 1]);\n      if (neighbors <= 18) {\n        continue;\n      }\n      testNeighbor([-1, -1, -1]);\n      testNeighbor([1, -1, -1]);\n      testNeighbor([-1, 1, -1]);\n      testNeighbor([1, 1, -1]);\n      testNeighbor([-1, -1, 1]);\n      testNeighbor([1, -1, 1]);\n      testNeighbor([-1, 1, 1]);\n      testNeighbor([1, 1, 1]);\n    }\n  }\n  /**\n   * Performs a flood fill on the drawing bitmap starting from a seed voxel, recoloring all connected voxels\n   * based on spatial connectivity, intensity constraints, and other parameters.\n   * Supports 2D or 3D fills, cluster growing, distance constraints, and preview mode for clickToSegment.\n   *\n   * @internal\n   */\n  drawFloodFill(seedXYZ, newColor = 0, growSelectedCluster = 0, forceMin = NaN, forceMax = NaN, neighbors = 6, maxDistanceMM = Number.POSITIVE_INFINITY, is2D = false, targetBitmap = null, isGrowClusterTool = false) {\n    if (!this.drawBitmap) {\n      log.warn(\"drawFloodFill called without an initialized drawBitmap.\");\n      this.createEmptyDrawing();\n      if (!this.drawBitmap) {\n        log.error(\"Failed to create drawing bitmap.\");\n        return;\n      }\n    }\n    if (this.clickToSegmentIsGrowing && !this.clickToSegmentGrowingBitmap) {\n      log.warn(\"drawFloodFill called in preview mode without initialized clickToSegmentGrowingBitmap.\");\n      if (this.drawBitmap) {\n        this.clickToSegmentGrowingBitmap = this.drawBitmap.slice();\n      } else {\n        log.error(\"Cannot initialize growing bitmap as drawBitmap is null.\");\n        return;\n      }\n      if (!this.clickToSegmentGrowingBitmap) {\n        log.error(\"Failed to create growing bitmap.\");\n        return;\n      }\n    }\n    if (targetBitmap === null) {\n      targetBitmap = this.drawBitmap;\n    }\n    if (!targetBitmap) {\n      log.error(\"drawFloodFill targetBitmap is null.\");\n      return;\n    }\n    if (!this.back?.dims) {\n      throw new Error(\"back.dims undefined\");\n    }\n    newColor = Math.abs(newColor);\n    const dims = [this.back.dims[1], this.back.dims[2], this.back.dims[3]];\n    if (seedXYZ[0] < 0 || seedXYZ[1] < 0 || seedXYZ[2] < 0) {\n      return;\n    }\n    if (seedXYZ[0] >= dims[0] || seedXYZ[1] >= dims[1] || seedXYZ[2] >= dims[2]) {\n      return;\n    }\n    const nx = dims[0];\n    const nxy = nx * dims[1];\n    const nxyz = nxy * dims[2];\n    const originalBitmap = this.clickToSegmentIsGrowing ? this.drawBitmap : targetBitmap;\n    if (!originalBitmap) {\n      log.error(\"Could not determine original bitmap state.\");\n      return;\n    }\n    const img = new Uint8Array(nxyz).fill(0);\n    let constrainXYZ = -1;\n    if (is2D && this.drawPenAxCorSag === 0 /* AXIAL */) {\n      constrainXYZ = 2;\n    } else if (is2D && this.drawPenAxCorSag === 1 /* CORONAL */) {\n      constrainXYZ = 1;\n    } else if (is2D && this.drawPenAxCorSag === 2 /* SAGITTAL */) {\n      constrainXYZ = 0;\n    }\n    function vx2xyz(vx) {\n      const Z = Math.floor(vx / nxy);\n      const Y = Math.floor((vx - Z * nxy) / nx);\n      const X = Math.floor(vx % nx);\n      return [X, Y, Z];\n    }\n    function xyz2vx(pt) {\n      return pt[0] + pt[1] * nx + pt[2] * nxy;\n    }\n    const vx2mm = (xyz) => {\n      return this.vox2mm(xyz, this.back.matRAS);\n    };\n    const seedMM = vx2mm(seedXYZ);\n    const maxDistanceMM2 = maxDistanceMM ** 2;\n    function isWithinDistance(vx) {\n      const xzyVox = vx2xyz(vx);\n      if (constrainXYZ >= 0 && xzyVox[constrainXYZ] !== seedXYZ[constrainXYZ]) {\n        return false;\n      }\n      const xyzMM = vx2mm(xzyVox);\n      const dist2 = (xyzMM[0] - seedMM[0]) ** 2 + (xyzMM[1] - seedMM[1]) ** 2 + (xyzMM[2] - seedMM[2]) ** 2;\n      return dist2 <= maxDistanceMM2;\n    }\n    const seedVx = xyz2vx(seedXYZ);\n    const originalSeedColor = originalBitmap[seedVx];\n    if (isGrowClusterTool && originalSeedColor === 0) {\n      log.debug(\"Grow/Erase Cluster tool requires starting on a masked voxel.\");\n      if (this.clickToSegmentIsGrowing && this.clickToSegmentGrowingBitmap && this.drawBitmap) {\n        this.clickToSegmentGrowingBitmap.set(this.drawBitmap);\n        this.refreshDrawing(true, true);\n      }\n      return;\n    }\n    if (growSelectedCluster === 0 && originalSeedColor === newColor && !isGrowClusterTool && newColor !== 0) {\n      log.debug(\"drawFloodFill selected voxel is already desired color\");\n      if (!this.clickToSegmentIsGrowing) {\n        return;\n      }\n    }\n    let baseIntensity = NaN;\n    if (isGrowClusterTool && (growSelectedCluster === Number.POSITIVE_INFINITY || growSelectedCluster === Number.NEGATIVE_INFINITY)) {\n      const tempImgForIdentification = originalBitmap.slice();\n      for (let i = 0; i < nxyz; i++) {\n        tempImgForIdentification[i] = tempImgForIdentification[i] === originalSeedColor && isWithinDistance(i) ? 1 : 0;\n      }\n      if (tempImgForIdentification[seedVx] !== 1) {\n        log.error(\"Seed voxel could not be marked for cluster ID.\");\n        return;\n      }\n      this.drawFloodFillCore(tempImgForIdentification, seedVx, neighbors);\n      const backImg = this.volumes[0].img2RAS();\n      let clusterSum = 0;\n      let clusterCount = 0;\n      for (let i = 0; i < nxyz; i++) {\n        if (tempImgForIdentification[i] === 2) {\n          clusterSum += backImg[i];\n          clusterCount++;\n        }\n      }\n      baseIntensity = clusterCount > 0 ? clusterSum / clusterCount : backImg[seedVx];\n      log.debug(`Grow Cluster using mean intensity: ${baseIntensity.toFixed(2)} from ${clusterCount} voxels.`);\n      let fillMin = -Infinity;\n      let fillMax = Infinity;\n      if (growSelectedCluster === Number.POSITIVE_INFINITY) {\n        fillMin = baseIntensity;\n      }\n      if (growSelectedCluster === Number.NEGATIVE_INFINITY) {\n        fillMax = baseIntensity;\n      }\n      for (let i = 0; i < nxyz; i++) {\n        if (tempImgForIdentification[i] === 2) {\n          img[i] = 1;\n        } else if (originalBitmap[i] === 0) {\n          const intensity = backImg[i];\n          if (intensity >= fillMin && intensity <= fillMax && isWithinDistance(i)) {\n            img[i] = 1;\n          }\n        }\n      }\n      newColor = originalSeedColor;\n    } else {\n      if (growSelectedCluster === 0) {\n        if (isGrowClusterTool && newColor === 0) {\n          log.debug(`Erase Cluster: Identifying cluster with color ${originalSeedColor}`);\n          for (let i = 0; i < nxyz; i++) {\n            img[i] = originalBitmap[i] === originalSeedColor && isWithinDistance(i) ? 1 : 0;\n          }\n        } else {\n          for (let i = 0; i < nxyz; i++) {\n            if (originalBitmap[i] === originalSeedColor && isWithinDistance(i)) {\n              if (originalSeedColor !== 0) {\n                img[i] = 1;\n              }\n            }\n          }\n        }\n      } else {\n        const backImg = this.volumes[0].img2RAS();\n        baseIntensity = backImg[seedVx];\n        let fillMin = -Infinity;\n        let fillMax = Infinity;\n        if (isFinite(forceMin) && isFinite(forceMax)) {\n          fillMin = forceMin;\n          fillMax = forceMax;\n        } else if (growSelectedCluster === Number.POSITIVE_INFINITY) {\n          fillMin = baseIntensity;\n        } else if (growSelectedCluster === Number.NEGATIVE_INFINITY) {\n          fillMax = baseIntensity;\n        }\n        for (let i = 0; i < nxyz; i++) {\n          const intensity = backImg[i];\n          if (intensity >= fillMin && intensity <= fillMax && isWithinDistance(i)) {\n            img[i] = 1;\n          }\n        }\n        newColor = originalBitmap[seedVx];\n        if (newColor === 0) {\n          newColor = this.opts.penValue;\n          if (newColor < 1 || !isFinite(newColor)) {\n            newColor = 1;\n          }\n        }\n      }\n    }\n    if (img[seedVx] !== 1) {\n      let isSeedValidOriginal = false;\n      if (isGrowClusterTool && growSelectedCluster !== 0) {\n        if (originalSeedColor !== 0) {\n          isSeedValidOriginal = true;\n        }\n      } else {\n        if (originalSeedColor !== 0 || newColor === 0) {\n          isSeedValidOriginal = true;\n        }\n      }\n      if (isSeedValidOriginal && isWithinDistance(seedVx)) {\n        img[seedVx] = 1;\n        log.debug(\"Forcing seed voxel to 1 in working buffer.\");\n      } else {\n        log.debug(\"Seed voxel not marked as candidate '1' and not valid originally.\");\n        if (this.clickToSegmentIsGrowing && this.clickToSegmentGrowingBitmap && this.drawBitmap) {\n          this.clickToSegmentGrowingBitmap.set(this.drawBitmap);\n        }\n        return;\n      }\n    }\n    this.drawFloodFillCore(img, seedVx, neighbors);\n    for (let i = 0; i < nxyz; i++) {\n      if (img[i] === 2) {\n        targetBitmap[i] = newColor;\n      } else if (this.clickToSegmentIsGrowing && targetBitmap === this.clickToSegmentGrowingBitmap) {\n        targetBitmap[i] = originalBitmap[i];\n      }\n    }\n    if (!this.clickToSegmentIsGrowing) {\n      this.drawAddUndoBitmap();\n      this.refreshDrawing(true, false);\n    } else {\n      this.refreshDrawing(true, true);\n    }\n  }\n  /**\n   * Fills exterior regions of a 2D bitmap, marking outside voxels with 2\n   * while leaving interior voxels at 0 and borders at 1. Operates within specified bounds.\n   * uses first-in, first out queue for storage\n   * @internal\n   */\n  floodFillSectionFIFO(img2D, dims2D, minPt, maxPt) {\n    const w = dims2D[0];\n    const [minX, minY] = minPt;\n    const [maxX, maxY] = maxPt;\n    const capacity = 4 * (maxX - minX + maxY - minY + 2);\n    const queue = new Int32Array(capacity * 2);\n    let head = 0;\n    let tail = 0;\n    function enqueue(x, y) {\n      if (x < minX || x > maxX || y < minY || y > maxY) {\n        return;\n      }\n      const idx = x + y * w;\n      if (img2D[idx] !== 0) {\n        return;\n      }\n      img2D[idx] = 2;\n      queue[tail] = x;\n      queue[tail + 1] = y;\n      tail = (tail + 2) % queue.length;\n    }\n    function dequeue() {\n      if (head === tail) {\n        return null;\n      }\n      const x = queue[head];\n      const y = queue[head + 1];\n      head = (head + 2) % queue.length;\n      return [x, y];\n    }\n    for (let x = minX; x <= maxX; x++) {\n      enqueue(x, minY);\n      enqueue(x, maxY);\n    }\n    for (let y = minY + 1; y <= maxY - 1; y++) {\n      enqueue(minX, y);\n      enqueue(maxX, y);\n    }\n    let pt;\n    while ((pt = dequeue()) !== null) {\n      const [x, y] = pt;\n      enqueue(x - 1, y);\n      enqueue(x + 1, y);\n      enqueue(x, y - 1);\n      enqueue(x, y + 1);\n    }\n  }\n  /**\n   * Connects and fills the interior of drawn line segments in 2D slice space.\n   * @internal\n   */\n  drawPenFilled() {\n    const nPts = this.drawPenFillPts.length;\n    if (nPts < 2) {\n      this.drawPenFillPts = [];\n      return;\n    }\n    const axCorSag = this.drawPenAxCorSag;\n    let h = 0;\n    let v = 1;\n    if (axCorSag === 1) {\n      v = 2;\n    }\n    if (axCorSag === 2) {\n      h = 1;\n      v = 2;\n    }\n    if (!this.back?.dims) {\n      throw new Error(\"back.dims undefined\");\n    }\n    const dims2D = [this.back.dims[h + 1], this.back.dims[v + 1]];\n    const img2D = new Uint8Array(dims2D[0] * dims2D[1]);\n    let pen = 1;\n    function drawLine2D(ptA, ptB) {\n      const dx = Math.abs(ptA[0] - ptB[0]);\n      const dy = Math.abs(ptA[1] - ptB[1]);\n      img2D[ptA[0] + ptA[1] * dims2D[0]] = pen;\n      img2D[ptB[0] + ptB[1] * dims2D[0]] = pen;\n      let xs = -1;\n      let ys = -1;\n      if (ptB[0] > ptA[0]) {\n        xs = 1;\n      }\n      if (ptB[1] > ptA[1]) {\n        ys = 1;\n      }\n      let x1 = ptA[0];\n      let y1 = ptA[1];\n      const x2 = ptB[0];\n      const y2 = ptB[1];\n      if (dx >= dy) {\n        let p1 = 2 * dy - dx;\n        while (x1 !== x2) {\n          x1 += xs;\n          if (p1 >= 0) {\n            y1 += ys;\n            p1 -= 2 * dx;\n          }\n          p1 += 2 * dy;\n          img2D[x1 + y1 * dims2D[0]] = pen;\n        }\n      } else {\n        let p1 = 2 * dx - dy;\n        while (y1 !== y2) {\n          y1 += ys;\n          if (p1 >= 0) {\n            x1 += xs;\n            p1 -= 2 * dy;\n          }\n          p1 += 2 * dx;\n          img2D[x1 + y1 * dims2D[0]] = pen;\n        }\n      }\n    }\n    function constrainXY(xy) {\n      const x = Math.min(Math.max(xy[0], 0), dims2D[0] - 1);\n      const y = Math.min(Math.max(xy[1], 0), dims2D[1] - 1);\n      return [x, y];\n    }\n    const startPt = constrainXY([this.drawPenFillPts[0][h], this.drawPenFillPts[0][v]]);\n    let minPt = [...startPt];\n    let maxPt = [...startPt];\n    let prevPt = startPt;\n    for (let i = 1; i < nPts; i++) {\n      let pt = [this.drawPenFillPts[i][h], this.drawPenFillPts[i][v]];\n      pt = constrainXY(pt);\n      minPt = [Math.min(pt[0], minPt[0]), Math.min(pt[1], minPt[1])];\n      maxPt = [Math.max(pt[0], maxPt[0]), Math.max(pt[1], maxPt[1])];\n      drawLine2D(prevPt, pt);\n      prevPt = pt;\n    }\n    drawLine2D(startPt, prevPt);\n    const pad = 1;\n    minPt[0] = Math.max(0, minPt[0] - pad);\n    minPt[1] = Math.max(0, minPt[1] - pad);\n    maxPt[0] = Math.min(dims2D[0] - 1, maxPt[0] + pad);\n    maxPt[1] = Math.min(dims2D[1] - 1, maxPt[1] + pad);\n    for (let y = 0; y < dims2D[1]; y++) {\n      for (let x = 0; x < dims2D[0]; x++) {\n        if (x >= minPt[0] && x < maxPt[0] && y >= minPt[1] && y <= maxPt[1]) {\n          continue;\n        }\n        const pxl = x + y * dims2D[0];\n        if (img2D[pxl] !== 0) {\n          continue;\n        }\n        img2D[pxl] = 2;\n      }\n    }\n    const startTime = Date.now();\n    this.floodFillSectionFIFO(img2D, dims2D, minPt, maxPt);\n    log.debug(`FloodFill ${Date.now() - startTime}`);\n    pen = this.opts.penValue;\n    const slice2 = this.drawPenFillPts[0][3 - (h + v)];\n    if (!this.drawBitmap) {\n      throw new Error(\"drawBitmap undefined\");\n    }\n    if (axCorSag === 0) {\n      const offset = slice2 * dims2D[0] * dims2D[1];\n      for (let i = 0; i < dims2D[0] * dims2D[1]; i++) {\n        if (img2D[i] !== 2) {\n          this.drawBitmap[i + offset] = pen;\n        }\n      }\n    } else {\n      let xStride = 1;\n      const yStride = this.back.dims[1] * this.back.dims[2];\n      let zOffset = slice2 * this.back.dims[1];\n      if (axCorSag === 2) {\n        xStride = this.back.dims[1];\n        zOffset = slice2;\n      }\n      let i = 0;\n      for (let y = 0; y < dims2D[1]; y++) {\n        for (let x = 0; x < dims2D[0]; x++) {\n          if (img2D[i] !== 2) {\n            this.drawBitmap[x * xStride + y * yStride + zOffset] = pen;\n          }\n          i++;\n        }\n      }\n    }\n    if (!this.drawFillOverwrites && this.drawUndoBitmaps[this.currentDrawUndoBitmap].length > 0) {\n      const nv = this.drawBitmap.length;\n      const bmp = decodeRLE(this.drawUndoBitmaps[this.currentDrawUndoBitmap], nv);\n      for (let i = 0; i < nv; i++) {\n        if (bmp[i] === 0) {\n          continue;\n        }\n        this.drawBitmap[i] = bmp[i];\n      }\n    }\n    this.drawPenFillPts = [];\n    this.drawAddUndoBitmap();\n    this.refreshDrawing(false);\n  }\n  /**\n   * close drawing: make sure you have saved any changes before calling this!\n   * @example niivue.closeDrawing();\n   * @see {@link https://niivue.com/demos/features/draw.ui.html | live demo usage}\n   */\n  closeDrawing() {\n    this.drawClearAllUndoBitmaps();\n    this.drawTexture = this.rgbaTex(this.drawTexture, TEXTURE7_DRAW, [2, 2, 2, 2], true);\n    this.drawBitmap = null;\n    this.clickToSegmentGrowingBitmap = null;\n    this.drawScene();\n  }\n  /**\n   * copy drawing bitmap from CPU to GPU storage and redraw the screen\n   * @param isForceRedraw - refreshes scene immediately (default true)\n   * @example niivue.refreshDrawing();\n   * @see {@link https://niivue.com/demos/features/cactus.html | live demo usage}\n   */\n  refreshDrawing(isForceRedraw = true, useClickToSegmentBitmap = false) {\n    if (useClickToSegmentBitmap && (!this.opts.drawingEnabled || !this.opts.clickToSegment)) {\n      log.debug(\"refreshDrawing: Conditions not met for clickToSegment bitmap, using drawBitmap.\");\n      useClickToSegmentBitmap = false;\n    }\n    const selectedBitmap = useClickToSegmentBitmap ? this.clickToSegmentGrowingBitmap : this.drawBitmap;\n    if (!selectedBitmap && !useClickToSegmentBitmap && this.clickToSegmentGrowingBitmap) {\n      log.warn(\"refreshDrawing: drawBitmap is null, but clickToSegmentGrowingBitmap exists. Check state.\");\n    } else if (!selectedBitmap && useClickToSegmentBitmap && this.drawBitmap) {\n      log.warn(\"refreshDrawing: clickToSegmentGrowingBitmap is null, falling back to drawBitmap.\");\n      useClickToSegmentBitmap = false;\n    } else if (!selectedBitmap) {\n      log.warn(\"refreshDrawing: Both bitmaps are null. Uploading empty data.\");\n    }\n    const bitmapDataSource = useClickToSegmentBitmap ? this.clickToSegmentGrowingBitmap : this.drawBitmap;\n    if (!this.back?.dims) {\n      log.warn(\"refreshDrawing: back.dims undefined, cannot refresh drawing texture yet.\");\n      return;\n    }\n    const dims = this.back.dims.slice();\n    const vx = this.back.dims[1] * this.back.dims[2] * this.back.dims[3];\n    if (!bitmapDataSource) {\n      log.warn(\n        `refreshDrawing: Bitmap data source (${useClickToSegmentBitmap ? \"growing\" : \"main\"}) is null. Cannot update texture.`\n      );\n      if (isForceRedraw) {\n        this.drawScene();\n      }\n      return;\n    }\n    if (bitmapDataSource.length === 8) {\n      dims[1] = 2;\n      dims[2] = 2;\n      dims[3] = 2;\n    } else if (vx !== bitmapDataSource.length) {\n      log.warn(`Drawing bitmap length (${bitmapDataSource.length}) must match the background image (${vx})`);\n    }\n    this.gl.activeTexture(TEXTURE7_DRAW);\n    if (this.opts.is2DSliceShader) {\n      const vox = this.frac2vox(this.scene.crosshairPos);\n      const z = Math.min(Math.max(vox[2], 0), dims[3] - 1);\n      const sliceBytes = dims[1] * dims[2];\n      const zOffset = z * sliceBytes;\n      log.debug(`refresh huge 2D drawing x\\xD7y\\xD7z ${dims[1]}\\xD7${dims[2]}\\xD7${dims[3]} slice ${zOffset}`);\n      const sliceData = bitmapDataSource.subarray(zOffset, zOffset + sliceBytes);\n      this.gl.bindTexture(this.gl.TEXTURE_2D, this.drawTexture);\n      this.gl.texSubImage2D(\n        this.gl.TEXTURE_2D,\n        0,\n        // Level\n        0,\n        0,\n        // xOffset, yOffset\n        dims[1],\n        dims[2],\n        // Width, Height\n        this.gl.RED,\n        this.gl.UNSIGNED_BYTE,\n        sliceData\n      );\n    } else {\n      this.gl.bindTexture(this.gl.TEXTURE_3D, this.drawTexture);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        dims[1],\n        dims[2],\n        dims[3],\n        this.gl.RED,\n        this.gl.UNSIGNED_BYTE,\n        bitmapDataSource\n      );\n    }\n    if (!this.drawTexture) {\n      log.error(\"refreshDrawing: drawTexture (GPU texture) is null.\");\n      return;\n    }\n    if (isForceRedraw) {\n      this.drawScene();\n    }\n  }\n  /**\n   * close probabilistic atlas texture\n   * @example niivue.closePAQD();\n   * @internal\n   */\n  closePAQD() {\n    if (!this._gl || !this.paqdTexture) {\n      return;\n    }\n    this.paqdTexture = this.rgbaTex(this.paqdTexture, TEXTURE8_PAQD, [2, 2, 2, 2], true);\n  }\n  /**\n   * Creates a 2D 1-component uint8 texture on the GPU with given dimensions.\n   * @internal\n   */\n  r8Tex2D(texID, activeID, dims, isInit = false) {\n    if (texID) {\n      this.gl.deleteTexture(texID);\n    }\n    texID = this.gl.createTexture();\n    this.gl.activeTexture(activeID);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texID);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_R, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texStorage2D(this.gl.TEXTURE_2D, 1, this.gl.R8, dims[1], dims[2]);\n    if (isInit) {\n      const img8 = new Uint8Array(dims[1] * dims[2]);\n      this.gl.texSubImage2D(\n        this.gl.TEXTURE_2D,\n        0,\n        // Level\n        0,\n        0,\n        // xOffset, yOffset\n        dims[1],\n        dims[2],\n        // Width, Height\n        this.gl.RED,\n        this.gl.UNSIGNED_BYTE,\n        img8\n      );\n    }\n    return texID;\n  }\n  /**\n   * Creates a 3D 1-component uint8 texture on the GPU with given dimensions.\n   * @internal\n   */\n  r8Tex(texID, activeID, dims, isInit = false) {\n    if (texID) {\n      this.gl.deleteTexture(texID);\n    }\n    texID = this.gl.createTexture();\n    this.gl.activeTexture(activeID);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, texID);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_R, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.R8, dims[1], dims[2], dims[3]);\n    if (isInit) {\n      const img8 = new Uint8Array(dims[1] * dims[2] * dims[3]);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        dims[1],\n        dims[2],\n        dims[3],\n        this.gl.RED,\n        this.gl.UNSIGNED_BYTE,\n        img8\n      );\n    }\n    return texID;\n  }\n  /**\n   * Creates a 2D 4-component (RGBA) uint8 texture on the GPU with optional vertical flip.\n   * @internal\n   */\n  rgbaTex2D(texID, activeID, dims, data = null, isFlipVertical = true) {\n    if (texID) {\n      this.gl.deleteTexture(texID);\n    }\n    texID = this.gl.createTexture();\n    this.gl.activeTexture(activeID);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texID);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texStorage2D(this.gl.TEXTURE_2D, 1, this.gl.RGBA8, dims[1], dims[2]);\n    if (data) {\n      let drawData = data;\n      const width = dims[1];\n      const height = dims[2];\n      if (isFlipVertical) {\n        drawData = new Uint8Array(data.length);\n        const rowSize = width * 4;\n        for (let y = 0; y < height; y++) {\n          const srcStart = y * rowSize;\n          const destStart = (height - 1 - y) * rowSize;\n          drawData.set(data.subarray(srcStart, srcStart + rowSize), destStart);\n        }\n      }\n      this.gl.texSubImage2D(\n        this.gl.TEXTURE_2D,\n        0,\n        // Level\n        0,\n        0,\n        // xOffset, yOffset\n        width,\n        height,\n        // Width, Height\n        this.gl.RGBA,\n        this.gl.UNSIGNED_BYTE,\n        drawData\n      );\n    }\n    return texID;\n  }\n  /**\n   * Creates a 3D 4-component (RGBA) uint8 texture on the GPU, optionally initializing with empty data.\n   * @internal\n   */\n  rgbaTex(texID, activeID, dims, isInit = false) {\n    if (texID) {\n      this.gl.deleteTexture(texID);\n    }\n    texID = this.gl.createTexture();\n    this.gl.activeTexture(activeID);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, texID);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_R, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.RGBA8, dims[1], dims[2], dims[3]);\n    if (isInit) {\n      const img8 = new Uint8Array(dims[1] * dims[2] * dims[3] * 4);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        dims[1],\n        dims[2],\n        dims[3],\n        this.gl.RGBA,\n        this.gl.UNSIGNED_BYTE,\n        img8\n      );\n    }\n    return texID;\n  }\n  /**\n   * Create or recreate a 3D RGBA16UI texture on the GPU with given dimensions.\n   * Deletes existing texture if provided, then allocates storage and optionally initializes with zeros.\n   * @internal\n   */\n  rgba16Tex(texID, activeID, dims, isInit = false) {\n    if (texID) {\n      this.gl.deleteTexture(texID);\n    }\n    texID = this.gl.createTexture();\n    this.gl.activeTexture(activeID);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, texID);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_R, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 2);\n    this.gl.pixelStorei(this.gl.PACK_ALIGNMENT, 2);\n    this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.RGBA16UI, dims[1], dims[2], dims[3]);\n    if (isInit) {\n      const img16 = new Uint16Array(dims[1] * dims[2] * dims[3] * 4);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        dims[1],\n        dims[2],\n        dims[3],\n        this.gl.RGBA_INTEGER,\n        this.gl.UNSIGNED_SHORT,\n        img16\n      );\n    }\n    return texID;\n  }\n  /**\n   * Remove cross-origin attribute from image if its URL is not from the same origin as the current page.\n   * @internal\n   */\n  requestCORSIfNotSameOrigin(img, url) {\n    if (new URL(url, window.location.href).origin !== window.location.origin) {\n      img.crossOrigin = \"\";\n    }\n  }\n  /**\n   * Loads a PNG image from a URL and creates a 4-component (RGBA) uint8 WebGL texture.\n   * Binds texture to a specific texture unit depending on textureNum and sets texture parameters.\n   * Automatically handles CORS and draws scene if needed.\n   * @internal\n   */\n  async loadPngAsTexture(pngUrl, textureNum) {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => {\n        if (!this.bmpShader) {\n          return;\n        }\n        let pngTexture;\n        if (textureNum === 4) {\n          if (this.bmpTexture !== null) {\n            this.gl.deleteTexture(this.bmpTexture);\n          }\n          this.bmpTexture = this.gl.createTexture();\n          pngTexture = this.bmpTexture;\n          this.bmpTextureWH = img.width / img.height;\n          this.gl.activeTexture(TEXTURE4_THUMBNAIL);\n          this.bmpShader.use(this.gl);\n          this.gl.uniform1i(this.bmpShader.uniforms.bmpTexture, 4);\n        } else if (textureNum === 5) {\n          this.gl.activeTexture(TEXTURE5_MATCAP);\n          if (this.matCapTexture !== null) {\n            this.gl.deleteTexture(this.matCapTexture);\n          }\n          this.matCapTexture = this.gl.createTexture();\n          pngTexture = this.matCapTexture;\n        } else {\n          this.fontShader.use(this.gl);\n          this.gl.activeTexture(TEXTURE3_FONT);\n          this.gl.uniform1i(this.fontShader.uniforms.fontTexture, 3);\n          if (this.fontTexture !== null) {\n            this.gl.deleteTexture(this.fontTexture);\n          }\n          this.fontTexture = this.gl.createTexture();\n          pngTexture = this.fontTexture;\n        }\n        this.gl.bindTexture(this.gl.TEXTURE_2D, pngTexture);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, img);\n        resolve(pngTexture);\n        if (textureNum !== 4) {\n          this.drawScene();\n        }\n      };\n      img.onerror = reject;\n      this.requestCORSIfNotSameOrigin(img, pngUrl);\n      img.src = pngUrl;\n    });\n  }\n  /**\n   * Loads a font stored as a PNG bitmap into texture unit 3.\n   * @internal\n   */\n  async loadFontTexture(fontUrl) {\n    return this.loadPngAsTexture(fontUrl, 3);\n  }\n  /**\n   * Loads a PNG bitmap into texture unit 4.\n   * @internal\n   */\n  async loadBmpTexture(bmpUrl) {\n    return this.loadPngAsTexture(bmpUrl, 4);\n  }\n  /**\n   * Load matcap for illumination model.\n   * @param bmpUrl - name of matcap to load (\"Shiny\", \"Cortex\", \"Cream\")\n   * @example\n   * niivue.loadMatCapTexture(\"Cortex\");\n   * @see {@link https://niivue.com/demos/features/shiny.volumes.html | live demo usage}\n   */\n  async loadMatCapTexture(bmpUrl) {\n    return this.loadPngAsTexture(bmpUrl, 5);\n  }\n  /**\n   * Initializes font metrics from loaded font data.\n   * @internal\n   */\n  initFontMets() {\n    if (!this.fontMetrics) {\n      throw new Error(\"fontMetrics undefined\");\n    }\n    this.fontMets = {\n      distanceRange: this.fontMetrics.atlas.distanceRange,\n      size: this.fontMetrics.atlas.size,\n      mets: {}\n    };\n    for (let id = 0; id < 256; id++) {\n      this.fontMets.mets[id] = {\n        xadv: 0,\n        uv_lbwh: [0, 0, 0, 0],\n        lbwh: [0, 0, 0, 0]\n      };\n    }\n    const scaleW = this.fontMetrics.atlas.width;\n    const scaleH = this.fontMetrics.atlas.height;\n    for (let i = 0; i < this.fontMetrics.glyphs.length; i++) {\n      const glyph = this.fontMetrics.glyphs[i];\n      const id = glyph.unicode;\n      this.fontMets.mets[id].xadv = glyph.advance;\n      if (glyph.planeBounds === void 0) {\n        continue;\n      }\n      let l = glyph.atlasBounds.left / scaleW;\n      let b = (scaleH - glyph.atlasBounds.top) / scaleH;\n      let w = (glyph.atlasBounds.right - glyph.atlasBounds.left) / scaleW;\n      let h = (glyph.atlasBounds.top - glyph.atlasBounds.bottom) / scaleH;\n      this.fontMets.mets[id].uv_lbwh = [l, b, w, h];\n      l = glyph.planeBounds.left;\n      b = glyph.planeBounds.bottom;\n      w = glyph.planeBounds.right - glyph.planeBounds.left;\n      h = glyph.planeBounds.top - glyph.planeBounds.bottom;\n      this.fontMets.mets[id].lbwh = [l, b, w, h];\n    }\n  }\n  /**\n   * Load typeface for colorbars, measurements and orientation text.\n   * @param fontSheetUrl - URL to a bitmap font sheet image (e.g., a PNG atlas of glyphs)\n   * @param metricsUrl - URL to the corresponding font metrics JSON (defines character bounds and spacing)\n   * @returns a Promise that resolves when the font is loaded\n   * @example\n   * niivue.loadFont(\"./Roboto.png\",\"./Roboto.json\")\n   * @see {@link https://niivue.com/demos/features/selectfont.html | live demo usage}\n   */\n  async loadFont(fontSheetUrl = Roboto_Regular_default, metricsUrl = Roboto_Regular_default2) {\n    await this.loadFontTexture(fontSheetUrl);\n    const response = await fetch(metricsUrl);\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n    const jsonText = await response.text();\n    this.fontMetrics = JSON.parse(jsonText);\n    this.initFontMets();\n    this.fontShader.use(this.gl);\n    this.drawScene();\n  }\n  /**\n   * Loads the default MatCap texture.\n   * @internal\n   */\n  async loadDefaultMatCap() {\n    return this.loadMatCapTexture(Shiny_default);\n  }\n  /**\n   * Loads the default font texture and initializes font metrics.\n   * @internal\n   */\n  async loadDefaultFont() {\n    await this.loadFontTexture(this.DEFAULT_FONT_GLYPH_SHEET);\n    this.fontMetrics = this.DEFAULT_FONT_METRICS;\n    this.initFontMets();\n  }\n  /**\n   * Initializes text rendering by setting up font shader, loading default font and matcap texture,\n   * and drawing the loading text.\n   * @internal\n   */\n  async initText() {\n    this.fontShader = new Shader(this.gl, vertFontShader, fragFontShader);\n    this.fontShader.use(this.gl);\n    await this.loadDefaultFont();\n    await this.loadDefaultMatCap();\n    this.drawLoadingText(this.opts.loadingText);\n  }\n  /**\n   * Maps a mesh shader name to its corresponding index number.\n   * @internal\n   */\n  meshShaderNameToNumber(meshShaderName = \"Phong\") {\n    const name = meshShaderName.toLowerCase();\n    for (let i = 0; i < this.meshShaders.length; i++) {\n      if (this.meshShaders[i].Name.toLowerCase() === name) {\n        return i;\n      }\n    }\n  }\n  /**\n   * select new shader for triangulated meshes and connectomes. Note that this function requires the mesh is fully loaded: you may want use `await` with loadMeshes (as seen in live demo).\n   * @param id - id of mesh to change\n   * @param meshShaderNameOrNumber - identify shader for usage\n   * @example niivue.setMeshShader('toon');\n   * @see {@link https://niivue.com/demos/features/meshes.html | live demo usage}\n   */\n  setMeshShader(id, meshShaderNameOrNumber = 2) {\n    let shaderIndex = 0;\n    if (typeof meshShaderNameOrNumber === \"number\") {\n      shaderIndex = meshShaderNameOrNumber;\n    } else {\n      shaderIndex = this.meshShaderNameToNumber(meshShaderNameOrNumber);\n    }\n    if (shaderIndex === void 0) {\n      throw new Error(\"shaderIndex undefined\");\n    }\n    shaderIndex = Math.min(shaderIndex, this.meshShaders.length - 1);\n    shaderIndex = Math.max(shaderIndex, 0);\n    const index = this.getMeshIndexByID(id);\n    if (index >= this.meshes.length) {\n      log.debug(\"Unable to change shader until mesh is loaded (maybe you need async)\");\n      return;\n    }\n    this.meshes[index].meshShaderIndex = shaderIndex;\n    this.updateGLVolume();\n    this.onMeshShaderChanged(index, shaderIndex);\n  }\n  /**\n   *\n   * @param fragmentShaderText - custom fragment shader.\n   * @param name - title for new shader.\n   * @returns created custom mesh shader\n   */\n  createCustomMeshShader(fragmentShaderText, name = \"Custom\") {\n    if (!fragmentShaderText) {\n      throw new Error(\"Need fragment shader\");\n    }\n    const num = this.meshShaderNameToNumber(name);\n    if (num >= 0) {\n      this.gl.deleteProgram(this.meshShaders[num].shader.program);\n      this.meshShaders.splice(num, 1);\n    }\n    const shader = new Shader(this.gl, vertMeshShader, fragmentShaderText);\n    shader.use(this.gl);\n    return {\n      Name: name,\n      Frag: fragmentShaderText,\n      shader\n    };\n  }\n  /**\n   * Install a special shader for 2D slice views\n   * @param fragmentShaderText - custom fragment shader.\n   * @if not text is provided, the default shader will be used\n   * @internal\n   */\n  setCustomSliceShader(fragmentShaderText = \"\") {\n    const gl = this.gl;\n    if (this.customSliceShader) {\n      gl.deleteProgram(this.customSliceShader.program);\n      this.customSliceShader = null;\n    }\n    if (!fragmentShaderText) {\n      this.updateGLVolume();\n      return;\n    }\n    const shader = new Shader(gl, vertSliceMMShader, fragmentShaderText);\n    shader.use(gl);\n    gl.uniform1i(shader.uniforms.volume, 0);\n    gl.uniform1i(shader.uniforms.colormap, 1);\n    gl.uniform1i(shader.uniforms.overlay, 2);\n    gl.uniform1i(shader.uniforms.drawing, 7);\n    gl.uniform1i(shader.uniforms.paqd, 8);\n    gl.uniform1f(shader.uniforms.drawOpacity, this.drawOpacity);\n    this.customSliceShader = shader;\n    this.updateGLVolume();\n  }\n  /**\n   * Define a new GLSL shader program to influence mesh coloration\n   * @param fragmentShaderText - the GLSL source code for the custom fragment shader\n   * @param name - a descriptive label for the shader (used in menus or debugging)\n   * @returns the index of the new shader (use with {@link setMeshShader})\n   * @see {@link https://niivue.com/demos/features/mesh.atlas.html | live demo usage}\n   */\n  setCustomMeshShader(fragmentShaderText = \"\", name = \"Custom\") {\n    const m = this.createCustomMeshShader(fragmentShaderText, name);\n    this.meshShaders.push(m);\n    this.onCustomMeshShaderAdded(fragmentShaderText, name);\n    return this.meshShaders.length - 1;\n  }\n  /**\n   * retrieve all currently loaded meshes\n   * @param sort - sort output alphabetically\n   * @returns list of available mesh shader names\n   * @example niivue.meshShaderNames();\n   * @see {@link https://niivue.com/demos/features/meshes.html | live demo usage}\n   */\n  meshShaderNames(sort = true) {\n    const cm = [];\n    for (let i = 0; i < this.meshShaders.length; i++) {\n      cm.push(this.meshShaders[i].Name);\n    }\n    return sort === true ? cm.sort() : cm;\n  }\n  /**\n   * Initializes a rendering shader with texture units and uniforms.\n   * @internal\n   */\n  initRenderShader(shader, gradientAmount = 0) {\n    shader.use(this.gl);\n    this.gl.uniform1i(shader.uniforms.volume, 0);\n    this.gl.uniform1i(shader.uniforms.colormap, 1);\n    this.gl.uniform1i(shader.uniforms.overlay, 2);\n    this.gl.uniform1i(shader.uniforms.drawing, 7);\n    this.gl.uniform1i(shader.uniforms.paqd, 8);\n    this.gl.uniform1fv(shader.uniforms.renderDrawAmbientOcclusion, [this.renderDrawAmbientOcclusion, 1]);\n    this.gl.uniform1f(shader.uniforms.gradientAmount, gradientAmount);\n    this.gl.uniform1f(shader.uniforms.silhouettePower, this.opts.renderSilhouette);\n    const gradientOpacityLut = new Float32Array(gradientOpacityLutCount);\n    for (let i = 0; i < gradientOpacityLutCount; i++) {\n      if (this.opts.gradientOpacity === 0) {\n        gradientOpacityLut[i] = 1;\n      } else {\n        gradientOpacityLut[i] = Math.pow(i / (gradientOpacityLutCount - 1), this.opts.gradientOpacity * 8);\n      }\n    }\n    this.gl.uniform1fv(this.gl.getUniformLocation(shader.program, \"gradientOpacity\"), gradientOpacityLut);\n    shader.uniforms.clipPlanes = this.gl.getUniformLocation(shader.program, \"clipPlanes[0]\");\n  }\n  /**\n   * Initializes WebGL state, shaders, textures, buffers, and sets up the rendering pipeline.\n   * Also loads default fonts, matcap textures, and thumbnail if specified.\n   * @internal\n   * @returns {Promise<this>} Resolves to this instance after initialization completes.\n   */\n  async init() {\n    const rendererInfo = this.gl.getExtension(\"WEBGL_debug_renderer_info\");\n    if (rendererInfo) {\n      const vendor = this.gl.getParameter(rendererInfo.UNMASKED_VENDOR_WEBGL);\n      const renderer = this.gl.getParameter(rendererInfo.UNMASKED_RENDERER_WEBGL);\n      log.info(\"renderer vendor: \", vendor);\n      log.info(\"renderer: \", renderer);\n    } else {\n      log.info(\"debug_renderer_info unavailable\");\n    }\n    const glInfo = this.gl.getParameter(this.gl.RENDERER);\n    log.info(\"firefox renderer: \", glInfo);\n    this.gl.enable(this.gl.CULL_FACE);\n    this.gl.cullFace(this.gl.FRONT);\n    this.gl.enable(this.gl.BLEND);\n    this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n    this.volumeTexture = this.rgbaTex(this.volumeTexture, TEXTURE0_BACK_VOL, [2, 2, 2, 2], true);\n    this.overlayTexture = this.rgbaTex(this.overlayTexture, TEXTURE2_OVERLAY_VOL, [2, 2, 2, 2], true);\n    this.drawTexture = this.r8Tex(this.drawTexture, TEXTURE7_DRAW, [2, 2, 2, 2], true);\n    this.paqdTexture = this.rgbaTex(this.paqdTexture, TEXTURE8_PAQD, [2, 2, 2, 2], true);\n    const rectStrip = [\n      1,\n      1,\n      0,\n      // RAI\n      1,\n      0,\n      0,\n      // RPI\n      0,\n      1,\n      0,\n      // LAI\n      0,\n      0,\n      0\n      // LPI\n    ];\n    const gl = this.gl;\n    this.cuboidVertexBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.cuboidVertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(rectStrip), gl.STATIC_DRAW);\n    this.genericVAO = gl.createVertexArray();\n    gl.bindVertexArray(this.genericVAO);\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.cuboidVertexBuffer);\n    gl.enableVertexAttribArray(0);\n    gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);\n    gl.bindVertexArray(this.unusedVAO);\n    this.pickingMeshShader = new Shader(gl, vertMeshShader, fragMeshDepthShader);\n    this.pickingMeshShader.use(gl);\n    this.pickingImageShader = new Shader(gl, vertRenderShader, fragVolumePickingShader);\n    this.pickingImageShader.use(gl);\n    this.pickingImageShader.uniforms.clipPlanes = this.gl.getUniformLocation(\n      this.pickingImageShader.program,\n      \"clipPlanes[0]\"\n    );\n    gl.uniform1i(this.pickingImageShader.uniforms.volume, 0);\n    gl.uniform1i(this.pickingImageShader.uniforms.colormap, 1);\n    gl.uniform1i(this.pickingImageShader.uniforms.overlay, 2);\n    gl.uniform1i(this.pickingImageShader.uniforms.drawing, 7);\n    this.slice2DShader = new Shader(gl, vertSliceMMShader, fragSlice2DShader);\n    this.slice2DShader.use(gl);\n    gl.uniform1i(this.slice2DShader.uniforms.volume, 0);\n    gl.uniform1i(this.slice2DShader.uniforms.colormap, 1);\n    gl.uniform1i(this.slice2DShader.uniforms.overlay, 2);\n    gl.uniform1i(this.slice2DShader.uniforms.drawing, 7);\n    gl.uniform1f(this.slice2DShader.uniforms.drawOpacity, this.drawOpacity);\n    this.sliceMMShader = new Shader(gl, vertSliceMMShader, fragSliceMMShader);\n    this.sliceMMShader.use(gl);\n    gl.uniform1i(this.sliceMMShader.uniforms.volume, 0);\n    gl.uniform1i(this.sliceMMShader.uniforms.colormap, 1);\n    gl.uniform1i(this.sliceMMShader.uniforms.overlay, 2);\n    gl.uniform1i(this.sliceMMShader.uniforms.drawing, 7);\n    gl.uniform1f(this.sliceMMShader.uniforms.drawOpacity, this.drawOpacity);\n    this.sliceV1Shader = new Shader(gl, vertSliceMMShader, fragSliceV1Shader);\n    this.sliceV1Shader.use(gl);\n    gl.uniform1i(this.sliceV1Shader.uniforms.volume, 0);\n    gl.uniform1i(this.sliceV1Shader.uniforms.colormap, 1);\n    gl.uniform1i(this.sliceV1Shader.uniforms.overlay, 2);\n    gl.uniform1i(this.sliceV1Shader.uniforms.drawing, 7);\n    gl.uniform1f(this.sliceV1Shader.uniforms.drawOpacity, this.drawOpacity);\n    this.orientCubeShader = new Shader(gl, vertOrientCubeShader, fragOrientCubeShader);\n    this.orientCubeShaderVAO = gl.createVertexArray();\n    gl.bindVertexArray(this.orientCubeShaderVAO);\n    const positionBuffer = gl.createBuffer();\n    gl.enableVertexAttribArray(0);\n    gl.enableVertexAttribArray(1);\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, orientCube, gl.STATIC_DRAW);\n    gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 24, 0);\n    gl.enableVertexAttribArray(1);\n    gl.vertexAttribPointer(1, 3, gl.FLOAT, false, 24, 12);\n    gl.bindVertexArray(this.unusedVAO);\n    this.rectShader = new Shader(gl, vertRectShader, fragRectShader);\n    this.rectShader.use(gl);\n    this.rectOutlineShader = new Shader(gl, vertRectShader, fragRectOutlineShader);\n    this.rectOutlineShader.use(gl);\n    this.lineShader = new Shader(gl, vertLineShader, fragRectShader);\n    this.lineShader.use(gl);\n    this.line3DShader = new Shader(gl, vertLine3DShader, fragRectShader);\n    this.line3DShader.use(gl);\n    this.circleShader = new Shader(gl, vertCircleShader, fragCircleShader);\n    this.circleShader.use(gl);\n    this.renderVolumeShader = new Shader(gl, vertRenderShader, fragRenderShader);\n    this.initRenderShader(this.renderVolumeShader);\n    this.renderSliceShader = new Shader(gl, vertRenderShader, fragRenderSliceShader);\n    this.initRenderShader(this.renderSliceShader);\n    this.renderGradientShader = new Shader(gl, vertRenderShader, fragRenderGradientShader);\n    this.initRenderShader(this.renderGradientShader, 0.3);\n    gl.uniform1i(this.renderGradientShader.uniforms.matCap, 5);\n    gl.uniform1i(this.renderGradientShader.uniforms.gradient, 6);\n    this.renderGradientValuesShader = new Shader(gl, vertRenderShader, fragRenderGradientValuesShader);\n    this.initRenderShader(this.renderGradientValuesShader);\n    gl.uniform1i(this.renderGradientValuesShader.uniforms.matCap, 5);\n    gl.uniform1i(this.renderGradientValuesShader.uniforms.gradient, 6);\n    this.renderShader = this.renderVolumeShader;\n    this.colorbarShader = new Shader(gl, vertColorbarShader, fragColorbarShader);\n    this.colorbarShader.use(gl);\n    gl.uniform1i(this.colorbarShader.uniforms.colormap, 1);\n    this.blurShader = new Shader(gl, blurVertShader, blurFragShader);\n    this.sobelBlurShader = new Shader(gl, blurVertShader, sobelBlurFragShader);\n    this.sobelFirstOrderShader = new Shader(gl, blurVertShader, sobelFirstOrderFragShader);\n    this.sobelSecondOrderShader = new Shader(gl, blurVertShader, sobelSecondOrderFragShader);\n    this.growCutShader = new Shader(gl, vertGrowCutShader, fragGrowCutShader);\n    this.passThroughShader = new Shader(gl, vertPassThroughShader, fragPassThroughShader);\n    this.orientShaderAtlasU = new Shader(gl, vertOrientShader, fragOrientShaderU.concat(fragOrientShaderAtlas));\n    this.orientShaderAtlasI = new Shader(gl, vertOrientShader, fragOrientShaderI.concat(fragOrientShaderAtlas));\n    this.orientShaderU = new Shader(gl, vertOrientShader, fragOrientShaderU.concat(fragOrientShader));\n    this.orientShaderI = new Shader(gl, vertOrientShader, fragOrientShaderI.concat(fragOrientShader));\n    this.orientShaderF = new Shader(gl, vertOrientShader, fragOrientShaderF.concat(fragOrientShader));\n    this.orientShaderRGBU = new Shader(gl, vertOrientShader, fragOrientShaderU.concat(fragRGBOrientShader));\n    this.orientShaderPAQD = new Shader(gl, vertOrientShader, fragOrientShaderU.concat(fragPAQDOrientShader));\n    this.surfaceShader = new Shader(gl, vertSurfaceShader, fragSurfaceShader);\n    this.surfaceShader.use(gl);\n    this.fiberShader = new Shader(gl, vertFiberShader, fragFiberShader);\n    this.pickingImageShader.use(gl);\n    for (let i = 0; i < this.meshShaders.length; i++) {\n      const m = this.meshShaders[i];\n      if (m.Name === \"Flat\") {\n        m.shader = new Shader(gl, vertFlatMeshShader, fragFlatMeshShader);\n      } else {\n        m.shader = new Shader(gl, vertMeshShader, m.Frag);\n      }\n      m.shader.use(gl);\n      m.shader.isCrosscut = m.Name === \"Crosscut\";\n      m.shader.isMatcap = m.Name === \"Matcap\";\n      if (m.shader.isMatcap) {\n        gl.uniform1i(m.shader.uniforms.matCap, 5);\n      }\n    }\n    this.bmpShader = new Shader(gl, vertBmpShader, fragBmpShader);\n    await this.initText();\n    if (this.opts.thumbnail.length > 0) {\n      await this.loadBmpTexture(this.opts.thumbnail);\n      this.thumbnailVisible = true;\n    }\n    this.updateGLVolume();\n    this.initialized = true;\n    this.resizeListener();\n    this.drawScene();\n    return this;\n  }\n  /**\n   * Generates gradient texture from volume data using GPU shaders and framebuffers.\n   * @internal\n   */\n  gradientGL(hdr) {\n    const gl = this.gl;\n    gl.bindVertexArray(this.genericVAO);\n    const fb = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n    gl.viewport(0, 0, hdr.dims[1], hdr.dims[2]);\n    gl.disable(gl.BLEND);\n    const tempTex3D = this.rgbaTex(null, TEXTURE8_GRADIENT_TEMP, hdr.dims, true);\n    const blurShader = this.opts.gradientOrder === 2 ? this.sobelBlurShader : this.blurShader;\n    blurShader.use(gl);\n    gl.activeTexture(TEXTURE0_BACK_VOL);\n    gl.bindTexture(gl.TEXTURE_3D, this.volumeTexture);\n    gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    const blurRadius = 0.7;\n    gl.uniform1i(blurShader.uniforms.intensityVol, 0);\n    gl.uniform1f(blurShader.uniforms.dX, blurRadius / hdr.dims[1]);\n    gl.uniform1f(blurShader.uniforms.dY, blurRadius / hdr.dims[2]);\n    gl.uniform1f(blurShader.uniforms.dZ, blurRadius / hdr.dims[3]);\n    for (let i = 0; i < hdr.dims[3] - 1; i++) {\n      const coordZ = 1 / hdr.dims[3] * (i + 0.5);\n      gl.uniform1f(blurShader.uniforms.coordZ, coordZ);\n      gl.framebufferTextureLayer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, tempTex3D, 0, i);\n      const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n      if (status !== gl.FRAMEBUFFER_COMPLETE) {\n        log.error(\"blur shader: \", status);\n      }\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    const sobelShader = this.opts.gradientOrder === 2 ? this.sobelSecondOrderShader : this.sobelFirstOrderShader;\n    sobelShader.use(gl);\n    gl.activeTexture(TEXTURE8_GRADIENT_TEMP);\n    gl.bindTexture(gl.TEXTURE_3D, tempTex3D);\n    gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.uniform1i(sobelShader.uniforms.intensityVol, 8);\n    const sobelRadius = 0.7;\n    gl.uniform1f(sobelShader.uniforms.dX, sobelRadius / hdr.dims[1]);\n    gl.uniform1f(sobelShader.uniforms.dY, sobelRadius / hdr.dims[2]);\n    gl.uniform1f(sobelShader.uniforms.dZ, sobelRadius / hdr.dims[3]);\n    if (this.opts.gradientOrder === 2) {\n      gl.uniform1f(sobelShader.uniforms.dX2, 2 * sobelRadius / hdr.dims[1]);\n      gl.uniform1f(sobelShader.uniforms.dY2, 2 * sobelRadius / hdr.dims[2]);\n      gl.uniform1f(sobelShader.uniforms.dZ2, 2 * sobelRadius / hdr.dims[3]);\n    }\n    gl.uniform1f(sobelShader.uniforms.coordZ, 0.5);\n    if (this.gradientTexture !== null) {\n      gl.deleteTexture(this.gradientTexture);\n    }\n    this.gradientTexture = this.rgbaTex(this.gradientTexture, TEXTURE6_GRADIENT, hdr.dims);\n    for (let i = 0; i < hdr.dims[3] - 1; i++) {\n      const coordZ = 1 / hdr.dims[3] * (i + 0.5);\n      gl.uniform1f(sobelShader.uniforms.coordZ, coordZ);\n      gl.framebufferTextureLayer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, this.gradientTexture, 0, i);\n      const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n      if (status !== gl.FRAMEBUFFER_COMPLETE) {\n        log.error(\"sobel shader: \", status);\n      }\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    gl.deleteFramebuffer(fb);\n    gl.deleteTexture(tempTex3D);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.activeTexture(TEXTURE8_PAQD);\n    gl.bindTexture(gl.TEXTURE_3D, this.paqdTexture);\n    this.gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Get the gradient texture produced by gradientGL as a TypedArray\n   * @returns Float32Array containing the gradient texture data, or null if no gradient texture exists\n   * @example\n   * niivue = new Niivue()\n   * niivue.loadVolumes([{url: './someImage.nii'}])\n   * // ... after volume is loaded and gradient is computed\n   * const gradientData = niivue.getGradientTextureData()\n   * if (gradientData) {\n   *   console.log('Gradient texture dimensions:', gradientData.length)\n   * }\n   * @see {@link https://niivue.com/demos/features/gradient.custom.html | live demo usage}\n   */\n  getGradientTextureData() {\n    if (!this.gradientTexture || !this.back) {\n      return null;\n    }\n    const gl = this.gl;\n    const dims = this.back.dims;\n    const width = dims[1];\n    const height = dims[2];\n    const depth = dims[3];\n    const numVoxels = width * height * depth;\n    const fb = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n    const data = new Float32Array(numVoxels * 4);\n    try {\n      for (let slice2 = 0; slice2 < depth; slice2++) {\n        gl.framebufferTextureLayer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, this.gradientTexture, 0, slice2);\n        const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n        if (status !== gl.FRAMEBUFFER_COMPLETE) {\n          console.warn(\n            \"Framebuffer not complete for gradient texture reading, slice\",\n            slice2,\n            \"status:\",\n            status.toString(16)\n          );\n          continue;\n        }\n        try {\n          const byteData = new Uint8Array(width * height * 4);\n          gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, byteData);\n          const sliceData = new Float32Array(width * height * 4);\n          for (let i = 0; i < byteData.length; i++) {\n            sliceData[i] = byteData[i] / 127.5 - 1;\n          }\n          const sliceOffset = slice2 * width * height * 4;\n          data.set(sliceData, sliceOffset);\n        } catch (readError) {\n          console.warn(\"Failed to read pixels for slice\", slice2, \":\", readError);\n          const sliceOffset = slice2 * width * height * 4;\n          const zeroSlice = new Float32Array(width * height * 4);\n          data.set(zeroSlice, sliceOffset);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error reading gradient texture:\", error);\n      return null;\n    } finally {\n      gl.deleteFramebuffer(fb);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    }\n    return data;\n  }\n  /**\n   * Set a custom gradient texture to use instead of the one produced by gradientGL\n   * When a custom gradient texture is set, the useCustomGradientTexture flag is set to true\n   * to prevent gradientGL from overwriting the custom texture during volume updates.\n   * @param data - Float32Array or Uint8Array containing RGBA gradient data, or null to revert to auto-generated gradient\n   * @param dims - Optional dimensions array [width, height, depth]. If not provided, uses current volume dimensions\n   * @example\n   * niivue = new Niivue()\n   * niivue.loadVolumes([{url: './someImage.nii'}])\n   * // Create custom gradient data\n   * const customGradient = new Float32Array(256 * 256 * 256 * 4) // example dimensions\n   * // ... fill customGradient with desired values\n   * niivue.setCustomGradientTexture(customGradient, [256, 256, 256])\n   *\n   * // To revert to auto-generated gradient:\n   * niivue.setCustomGradientTexture(null)\n   * @see {@link https://niivue.com/demos/features/gradient.custom.html | live demo usage}\n   */\n  setCustomGradientTexture(data, dims) {\n    const gl = this.gl;\n    if (data === null) {\n      this.useCustomGradientTexture = false;\n      if (this.back && this.gradientTextureAmount > 0) {\n        this.gradientGL(this.back.hdr);\n      }\n      return;\n    }\n    if (!dims && !this.back) {\n      console.warn(\"No dimensions provided and no background volume loaded\");\n      return;\n    }\n    const texDims = dims || this.back.dims;\n    const width = texDims[1];\n    const height = texDims[2];\n    const depth = texDims[3];\n    const expectedSize = width * height * depth * 4;\n    if (data.length !== expectedSize) {\n      console.warn(`Custom gradient data size mismatch. Expected ${expectedSize}, got ${data.length}`);\n      return;\n    }\n    this.useCustomGradientTexture = true;\n    if (this.gradientTexture !== null) {\n      gl.deleteTexture(this.gradientTexture);\n    }\n    this.gradientTexture = gl.createTexture();\n    gl.activeTexture(TEXTURE6_GRADIENT);\n    gl.bindTexture(gl.TEXTURE_3D, this.gradientTexture);\n    gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_WRAP_R, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_3D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1);\n    let textureData;\n    if (data instanceof Float32Array) {\n      textureData = new Uint8Array(data.length);\n      for (let i = 0; i < data.length; i++) {\n        const clampedValue = Math.max(-1, Math.min(1, data[i]));\n        textureData[i] = Math.round((clampedValue + 1) * 127.5);\n      }\n    } else {\n      textureData = data;\n    }\n    gl.texStorage3D(gl.TEXTURE_3D, 1, gl.RGBA8, width, height, depth);\n    gl.texSubImage3D(gl.TEXTURE_3D, 0, 0, 0, 0, width, height, depth, gl.RGBA, gl.UNSIGNED_BYTE, textureData);\n    this.drawScene();\n  }\n  /**\n   * update the webGL 2.0 scene after making changes to the array of volumes. It's always good to call this method after altering one or more volumes manually (outside of Niivue setter methods)\n   * @example\n   * niivue = new Niivue()\n   * niivue.updateGLVolume()\n   * @see {@link https://niivue.com/demos/features/colormaps.html | live demo usage}\n   */\n  updateGLVolume() {\n    let visibleLayers = 0;\n    const numLayers = this.volumes.length;\n    this.refreshColormaps();\n    this.closePAQD();\n    for (let i = 0; i < numLayers; i++) {\n      if (!this.volumes[i].toRAS) {\n        continue;\n      }\n      this.refreshLayers(this.volumes[i], visibleLayers);\n      visibleLayers++;\n    }\n    this.furthestVertexFromOrigin = 0;\n    if (numLayers > 0) {\n      this.furthestVertexFromOrigin = this.volumeObject3D?.furthestVertexFromOrigin ?? 0;\n    }\n    if (this.meshes) {\n      for (let i = 0; i < this.meshes.length; i++) {\n        this.furthestVertexFromOrigin = Math.max(this.furthestVertexFromOrigin, this.meshes[i].furthestVertexFromOrigin);\n      }\n    }\n    if (this.onVolumeUpdated) {\n      this.onVolumeUpdated();\n    }\n    this.drawScene();\n  }\n  /**\n   * basic statistics for selected voxel-based image\n   * @param options - an object containing the following properties:\n   *   - layer: selects image to describe\n   *   - masks: optional binary images to filter voxels\n   *   - drawingIsMask: a boolean indicating if the drawing is used as a mask\n   *   - roiIsMask: a boolean indicating if the ROI is used as a mask\n   *   - startVox: the starting voxel coordinates\n   *   - endVox: the ending voxel coordinates\n   * @returns numeric values to describe image or regions of images\n   * @example\n   * niivue.getDescriptives({\n   *   layer: 0,\n   *   masks: [],\n   *   drawingIsMask: true, // drawingIsMask and roiIsMask are mutually exclusive\n   *   roiIsMask: false,\n   *   startVox: [10, 20, 30], // ignored if roiIsMask is false\n   *   endVox: [40, 50, 60] // ignored if roiIsMask is false\n   * });\n   * @see {@link https://niivue.com/demos/features/draw2.html | live demo usage}\n   */\n  getDescriptives(options) {\n    const {\n      layer = 0,\n      masks = [],\n      drawingIsMask = false,\n      roiIsMask = false,\n      startVox = [0, 0, 0],\n      endVox = [0, 0, 0]\n    } = options;\n    let area = null;\n    const hdr = this.volumes[layer].hdr;\n    const pixDimsRAS = this.volumes[layer].pixDimsRAS;\n    let slope = hdr.scl_slope;\n    if (isNaN(slope)) {\n      slope = 1;\n    }\n    let inter = hdr.scl_inter;\n    if (isNaN(inter)) {\n      inter = 1;\n    }\n    const imgRaw = this.volumes[layer].img;\n    const nv = imgRaw.length;\n    const img = new Float32Array(nv);\n    for (let i = 0; i < nv; i++) {\n      img[i] = imgRaw[i] * slope + inter;\n    }\n    const mask = new Uint8Array(nv);\n    for (let i = 0; i < nv; i++) {\n      mask[i] = 1;\n    }\n    if (masks.length > 0) {\n      for (let m = 0; m < masks.length; m++) {\n        const imgMask = this.volumes[masks[m]].img;\n        if (imgMask.length !== nv) {\n          log.debug(\"Mask resolution does not match image. Skipping masking layer \" + masks[m]);\n          continue;\n        }\n        for (let i = 0; i < nv; i++) {\n          if (imgMask[i] === 0 || isNaN(imgMask[i])) {\n            mask[i] = 0;\n          }\n        }\n      }\n    } else if (masks.length < 1 && drawingIsMask) {\n      for (let i = 0; i < nv; i++) {\n        if (this.drawBitmap[i] === 0 || isNaN(this.drawBitmap[i])) {\n          mask[i] = 0;\n        }\n      }\n    } else if (masks.length < 1 && roiIsMask) {\n      mask.fill(0);\n      let constantDim = -1;\n      if (startVox[0] === endVox[0]) {\n        constantDim = 0;\n      } else if (startVox[1] === endVox[1]) {\n        constantDim = 1;\n      } else if (startVox[2] === endVox[2]) {\n        constantDim = 2;\n      } else {\n        console.error(\"Error: No constant dimension found.\");\n        return;\n      }\n      const dims = [0, 1, 2];\n      const varDims = dims.filter((dim) => dim !== constantDim);\n      const centerVox = [];\n      centerVox[constantDim] = startVox[constantDim];\n      centerVox[varDims[0]] = (startVox[varDims[0]] + endVox[varDims[0]]) / 2;\n      centerVox[varDims[1]] = (startVox[varDims[1]] + endVox[varDims[1]]) / 2;\n      const radiusX = Math.abs(endVox[varDims[0]] - startVox[varDims[0]]) / 2;\n      const radiusY = Math.abs(endVox[varDims[1]] - startVox[varDims[1]]) / 2;\n      const xdim = hdr.dims[1];\n      const ydim = hdr.dims[2];\n      const minVarDim0 = Math.max(0, Math.floor(centerVox[varDims[0]] - radiusX));\n      const maxVarDim0 = Math.min(hdr.dims[varDims[0] + 1] - 1, Math.ceil(centerVox[varDims[0]] + radiusX));\n      const minVarDim1 = Math.max(0, Math.floor(centerVox[varDims[1]] - radiusY));\n      const maxVarDim1 = Math.min(hdr.dims[varDims[1] + 1] - 1, Math.ceil(centerVox[varDims[1]] + radiusY));\n      const constDimVal = centerVox[constantDim];\n      if (constDimVal < 0 || constDimVal >= hdr.dims[constantDim + 1]) {\n        console.error(\"Error: Constant dimension value is out of bounds.\");\n        return;\n      }\n      for (let i = minVarDim0; i <= maxVarDim0; i++) {\n        for (let j = minVarDim1; j <= maxVarDim1; j++) {\n          const voxel = [];\n          voxel[constantDim] = constDimVal;\n          voxel[varDims[0]] = i;\n          voxel[varDims[1]] = j;\n          const di = (voxel[varDims[0]] - centerVox[varDims[0]]) / radiusX;\n          const dj = (voxel[varDims[1]] - centerVox[varDims[1]]) / radiusY;\n          const distSq = di * di + dj * dj;\n          if (distSq <= 1) {\n            const x = voxel[0];\n            const y = voxel[1];\n            const z = voxel[2];\n            const index = z * xdim * ydim + y * xdim + x;\n            mask[index] = 1;\n          }\n        }\n      }\n      const radiusX_mm = radiusX * pixDimsRAS[varDims[0] + 1];\n      const radiusY_mm = radiusY * pixDimsRAS[varDims[1] + 1];\n      const areaEllipse = Math.PI * radiusX_mm * radiusY_mm;\n      area = areaEllipse;\n    }\n    let k = 0;\n    let M = 0;\n    let S = 0;\n    let mx = Number.NEGATIVE_INFINITY;\n    let mn = Number.POSITIVE_INFINITY;\n    let kNot0 = 0;\n    let MNot0 = 0;\n    let SNot0 = 0;\n    for (let i = 0; i < nv; i++) {\n      if (mask[i] < 1) {\n        continue;\n      }\n      const x = img[i];\n      k++;\n      let Mnext = M + (x - M) / k;\n      S = S + (x - M) * (x - Mnext);\n      M = Mnext;\n      if (x === 0) {\n        continue;\n      }\n      kNot0++;\n      Mnext = MNot0 + (x - MNot0) / kNot0;\n      SNot0 = SNot0 + (x - MNot0) * (x - Mnext);\n      MNot0 = Mnext;\n      mn = Math.min(x, mn);\n      mx = Math.max(x, mx);\n    }\n    const stdev = Math.sqrt(S / (k - 1));\n    const stdevNot0 = Math.sqrt(SNot0 / (kNot0 - 1));\n    const mnNot0 = mn;\n    const mxNot0 = mx;\n    if (k !== kNot0) {\n      mn = Math.min(0, mn);\n      mx = Math.max(0, mx);\n    }\n    return {\n      mean: M,\n      stdev,\n      nvox: k,\n      volumeMM3: k * hdr.pixDims[1] * hdr.pixDims[2] * hdr.pixDims[3],\n      // volume also in milliliters\n      volumeML: k * hdr.pixDims[1] * hdr.pixDims[2] * hdr.pixDims[3] * 1e-3,\n      min: mn,\n      max: mx,\n      meanNot0: MNot0,\n      stdevNot0,\n      nvoxNot0: kNot0,\n      minNot0: mnNot0,\n      maxNot0: mxNot0,\n      cal_min: this.volumes[layer].cal_min,\n      cal_max: this.volumes[layer].cal_max,\n      robust_min: this.volumes[layer].robust_min,\n      robust_max: this.volumes[layer].robust_max,\n      area\n    };\n  }\n  /**\n   * Updates textures, shaders, and GPU state for a given overlay layer based on image properties and rendering options.\n   * @internal\n   */\n  refreshLayers(overlayItem, layer) {\n    if (this.volumes.length < 1) {\n      return;\n    }\n    this.refreshColormaps();\n    const hdr = overlayItem.hdr;\n    let img = overlayItem.img;\n    if (overlayItem.frame4D > 0 && overlayItem.frame4D < overlayItem.nFrame4D) {\n      img = overlayItem.img.slice(\n        overlayItem.frame4D * overlayItem.nVox3D,\n        (overlayItem.frame4D + 1) * overlayItem.nVox3D\n      );\n    }\n    const opacity = overlayItem.opacity;\n    if (layer > 1 && opacity === 0) {\n      return;\n    }\n    let outTexture = null;\n    if (!this.back) {\n      throw new Error(\"back undefined\");\n    }\n    this.gl.bindVertexArray(this.unusedVAO);\n    if (this.crosshairs3D) {\n      this.crosshairs3D.mm[0] = NaN;\n    }\n    let mtx = mat49.clone(overlayItem.toRAS);\n    if (layer === 0) {\n      this.volumeObject3D = toNiivueObject3D(overlayItem, this.VOLUME_ID, this.gl);\n      mat49.invert(mtx, mtx);\n      this.back.matRAS = overlayItem.matRAS;\n      this.back.dims = overlayItem.dimsRAS;\n      this.back.pixDims = overlayItem.pixDimsRAS;\n      const { volScale: volScale2, vox: vox2 } = this.sliceScale(true);\n      this.volScale = volScale2;\n      this.vox = vox2;\n      this.volumeObject3D.scale = volScale2;\n      const isAboveMax2D = hdr.dims[1] > this.uiData.max2D || hdr.dims[2] > this.uiData.max2D;\n      if (isAboveMax2D) {\n        log.error(`Image dimensions exceed maximum texture size of hardware.`);\n      }\n      const isAboveMax3D = hdr.dims[1] > this.uiData.max3D || hdr.dims[2] > this.uiData.max3D || hdr.dims[3] > this.uiData.max3D;\n      if (isAboveMax3D && hdr.datatypeCode === 2304 /* DT_RGBA32 */ && hdr.dims[3] < 2) {\n        log.info(`Large RGBA image (>${this.uiData.max3D}) requires Texture2D`);\n        this.opts.is2DSliceShader = true;\n        outTexture = this.rgbaTex2D(this.volumeTexture, TEXTURE0_BACK_VOL, overlayItem.dimsRAS, img);\n        return;\n      }\n      if (isAboveMax3D) {\n        log.info(\n          `Large scalar image (>${this.uiData.max3D}) requires Texture2D (${hdr.dims[1]}\\xD7${hdr.dims[2]}\\xD7${hdr.dims[3]})`\n        );\n        const nPix = hdr.dims[1] * hdr.dims[2];\n        const vox3 = this.frac2vox(this.scene.crosshairPos);\n        const z = Math.min(Math.max(vox3[2], 0), hdr.dims[3] - 1);\n        const zOffset = z * nPix;\n        const img2D = new Uint8Array(nPix * 4);\n        const img2D_U32 = new Uint32Array(img2D.buffer);\n        const opacity2 = Math.floor(overlayItem.opacity * 255);\n        const scale = 255 * hdr.scl_slope / (overlayItem.cal_max - overlayItem.cal_min);\n        const intercept = 255 * (hdr.scl_inter - overlayItem.cal_min) / (overlayItem.cal_max - overlayItem.cal_min);\n        const cmap = new Uint8Array(this.colormap(overlayItem.colormap));\n        const cmap_U32 = new Uint32Array(cmap.buffer);\n        let j = -1;\n        for (let i = 0; i < nPix; i++) {\n          const v = img[i + zOffset] * scale + intercept;\n          const v255 = Math.round(Math.min(255, Math.max(0, v)));\n          img2D_U32[i] = cmap_U32[v255];\n          img2D[j += 4] = opacity2;\n        }\n        this.opts.is2DSliceShader = true;\n        outTexture = this.rgbaTex2D(\n          this.volumeTexture,\n          TEXTURE0_BACK_VOL,\n          overlayItem.dimsRAS,\n          img2D,\n          false\n        );\n        return;\n      }\n      if (isAboveMax3D) {\n        log.warn(`dimensions exceed 3D limits ${hdr.dims}`);\n      }\n      this.opts.is2DSliceShader = false;\n      outTexture = this.rgbaTex(this.volumeTexture, TEXTURE0_BACK_VOL, overlayItem.dimsRAS);\n      if (!this.renderShader) {\n        throw new Error(\"renderShader undefined\");\n      }\n      this.renderShader.use(this.gl);\n      this.gl.uniform3fv(this.renderShader.uniforms.texVox, vox2);\n      this.gl.uniform3fv(this.renderShader.uniforms.volScale, volScale2);\n      const pickingShader = this.pickingImageShader;\n      pickingShader.use(this.gl);\n      this.gl.uniform1i(pickingShader.uniforms.volume, 0);\n      this.gl.uniform1i(pickingShader.uniforms.colormap, 1);\n      this.gl.uniform1i(pickingShader.uniforms.overlay, 2);\n      this.gl.uniform3fv(pickingShader.uniforms.volScale, volScale2);\n      log.debug(this.volumeObject3D);\n    } else {\n      if (this.back?.dims === void 0) {\n        log.error(\"Fatal error: Unable to render overlay: background dimensions not defined!\");\n      }\n      const f000 = this.mm2frac(overlayItem.mm000, 0, true);\n      let f100 = this.mm2frac(overlayItem.mm100, 0, true);\n      let f010 = this.mm2frac(overlayItem.mm010, 0, true);\n      let f001 = this.mm2frac(overlayItem.mm001, 0, true);\n      f100 = vec313.subtract(f100, f100, f000);\n      f010 = vec313.subtract(f010, f010, f000);\n      f001 = vec313.subtract(f001, f001, f000);\n      mtx = mat49.fromValues(\n        f100[0],\n        f010[0],\n        f001[0],\n        f000[0],\n        f100[1],\n        f010[1],\n        f001[1],\n        f000[1],\n        f100[2],\n        f010[2],\n        f001[2],\n        f000[2],\n        0,\n        0,\n        0,\n        1\n      );\n      mat49.invert(mtx, mtx);\n      if (layer === 1) {\n        outTexture = this.rgbaTex(this.overlayTexture, TEXTURE2_OVERLAY_VOL, this.back.dims);\n        this.overlayTexture = outTexture;\n        this.overlayTextureID = outTexture;\n      } else {\n        outTexture = this.overlayTextureID;\n      }\n    }\n    const fb = this.gl.createFramebuffer();\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fb);\n    this.gl.disable(this.gl.CULL_FACE);\n    this.gl.viewport(0, 0, this.back.dims[1], this.back.dims[2]);\n    this.gl.disable(this.gl.BLEND);\n    const tempTex3D = this.gl.createTexture();\n    this.gl.activeTexture(TEXTURE9_ORIENT);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, tempTex3D);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_R, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    let orientShader = this.orientShaderU;\n    if (!hdr) {\n      throw new Error(\"hdr undefined\");\n    }\n    if (!img) {\n      throw new Error(\"img undefined\");\n    }\n    if (hdr.datatypeCode === 2 /* DT_UINT8 */) {\n      if (hdr.intent_code === 1002 /* NIFTI_INTENT_LABEL */) {\n        orientShader = this.orientShaderAtlasU;\n      }\n      this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.R8UI, hdr.dims[1], hdr.dims[2], hdr.dims[3]);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        hdr.dims[1],\n        hdr.dims[2],\n        hdr.dims[3],\n        this.gl.RED_INTEGER,\n        this.gl.UNSIGNED_BYTE,\n        img\n      );\n    } else if (hdr.datatypeCode === 4 /* DT_INT16 */) {\n      orientShader = this.orientShaderI;\n      if (hdr.intent_code === 1002 /* NIFTI_INTENT_LABEL */) {\n        orientShader = this.orientShaderAtlasI;\n      }\n      this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.R16I, hdr.dims[1], hdr.dims[2], hdr.dims[3]);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        hdr.dims[1],\n        hdr.dims[2],\n        hdr.dims[3],\n        this.gl.RED_INTEGER,\n        this.gl.SHORT,\n        img\n      );\n    } else if (hdr.datatypeCode === 16 /* DT_FLOAT32 */) {\n      this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.R32F, hdr.dims[1], hdr.dims[2], hdr.dims[3]);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        hdr.dims[1],\n        hdr.dims[2],\n        hdr.dims[3],\n        this.gl.RED,\n        this.gl.FLOAT,\n        img\n      );\n      orientShader = this.orientShaderF;\n    } else if (hdr.datatypeCode === 64 /* DT_FLOAT64 */) {\n      let img32f = new Float32Array();\n      img32f = Float32Array.from(img);\n      this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.R32F, hdr.dims[1], hdr.dims[2], hdr.dims[3]);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        hdr.dims[1],\n        hdr.dims[2],\n        hdr.dims[3],\n        this.gl.RED,\n        this.gl.FLOAT,\n        img32f\n      );\n      orientShader = this.orientShaderF;\n    } else if (hdr.datatypeCode === 128 /* DT_RGB24 */) {\n      orientShader = this.orientShaderRGBU;\n      orientShader.use(this.gl);\n      this.gl.uniform1i(orientShader.uniforms.hasAlpha, 0);\n      this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.RGB8UI, hdr.dims[1], hdr.dims[2], hdr.dims[3]);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        hdr.dims[1],\n        hdr.dims[2],\n        hdr.dims[3],\n        this.gl.RGB_INTEGER,\n        this.gl.UNSIGNED_BYTE,\n        img\n      );\n    } else if (hdr.datatypeCode === 512 /* DT_UINT16 */) {\n      if (hdr.intent_code === 1002 /* NIFTI_INTENT_LABEL */) {\n        orientShader = this.orientShaderAtlasU;\n      }\n      this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.R16UI, hdr.dims[1], hdr.dims[2], hdr.dims[3]);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        hdr.dims[1],\n        hdr.dims[2],\n        hdr.dims[3],\n        this.gl.RED_INTEGER,\n        this.gl.UNSIGNED_SHORT,\n        img\n      );\n    } else if (hdr.datatypeCode === 2304 /* DT_RGBA32 */) {\n      orientShader = this.orientShaderRGBU;\n      if (overlayItem.colormapLabel) {\n        orientShader = this.orientShaderPAQD;\n        let firstPAQD = true;\n        for (let l = 0; l < layer; l++) {\n          const isRGBA = this.volumes[l].hdr.datatypeCode === 2304 /* DT_RGBA32 */;\n          const isLabel = !!this.volumes[l].colormapLabel;\n          if (isRGBA && isLabel) {\n            firstPAQD = false;\n          }\n        }\n        if (firstPAQD) {\n          this.paqdTexture = this.rgbaTex(this.paqdTexture, TEXTURE8_PAQD, this.back.dims);\n        } else {\n          log.warn(`Current version only one probabilistic atlas (PAQD) at a time`);\n        }\n        outTexture = this.paqdTexture;\n        this.gl.activeTexture(TEXTURE9_ORIENT);\n      }\n      orientShader.use(this.gl);\n      this.gl.uniform1i(orientShader.uniforms.hasAlpha, 1);\n      this.gl.texStorage3D(this.gl.TEXTURE_3D, 1, this.gl.RGBA8UI, hdr.dims[1], hdr.dims[2], hdr.dims[3]);\n      this.gl.texSubImage3D(\n        this.gl.TEXTURE_3D,\n        0,\n        0,\n        0,\n        0,\n        hdr.dims[1],\n        hdr.dims[2],\n        hdr.dims[3],\n        this.gl.RGBA_INTEGER,\n        this.gl.UNSIGNED_BYTE,\n        img\n      );\n    }\n    if (overlayItem.global_min === void 0) {\n      overlayItem.calMinMax();\n    }\n    let blendTexture = null;\n    this.gl.bindVertexArray(this.genericVAO);\n    const isUseCopyTexSubImage3D = false;\n    if (isUseCopyTexSubImage3D) {\n      if (layer > 1) {\n        blendTexture = this.rgbaTex(blendTexture, TEXTURE10_BLEND, this.back.dims, true);\n        this.gl.bindTexture(this.gl.TEXTURE_3D, blendTexture);\n        for (let i = 0; i < this.back.dims[3]; i++) {\n          this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.overlayTexture, 0, i);\n          this.gl.activeTexture(TEXTURE10_BLEND);\n          this.gl.copyTexSubImage3D(this.gl.TEXTURE_3D, 0, 0, 0, i, 0, 0, this.back.dims[1], this.back.dims[2]);\n        }\n      } else {\n        blendTexture = this.rgbaTex(blendTexture, TEXTURE10_BLEND, [2, 2, 2, 2], true);\n      }\n    } else {\n      if (layer > 1) {\n        if (!this.back.dims) {\n          throw new Error(\"back.dims undefined\");\n        }\n        blendTexture = this.rgbaTex(blendTexture, TEXTURE10_BLEND, this.back.dims);\n        this.gl.bindTexture(this.gl.TEXTURE_3D, blendTexture);\n        const passShader = this.passThroughShader;\n        passShader.use(this.gl);\n        this.gl.uniform1i(passShader.uniforms.in3D, 2);\n        for (let i = 0; i < this.back.dims[3]; i++) {\n          const coordZ = 1 / this.back.dims[3] * (i + 0.5);\n          this.gl.uniform1f(passShader.uniforms.coordZ, coordZ);\n          this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, blendTexture, 0, i);\n          this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n        }\n      } else {\n        blendTexture = this.rgbaTex(blendTexture, TEXTURE10_BLEND, [2, 2, 2, 2]);\n      }\n    }\n    orientShader.use(this.gl);\n    this.gl.activeTexture(TEXTURE1_COLORMAPS);\n    let colormapLabelTexture = null;\n    if (overlayItem.colormapLabel !== null && overlayItem.colormapLabel.lut.length > 7) {\n      const nLabel = overlayItem.colormapLabel.max - overlayItem.colormapLabel.min + 1;\n      colormapLabelTexture = this.createColormapTexture(colormapLabelTexture, 1, nLabel);\n      this.gl.texSubImage2D(\n        this.gl.TEXTURE_2D,\n        0,\n        0,\n        0,\n        nLabel,\n        1,\n        this.gl.RGBA,\n        this.gl.UNSIGNED_BYTE,\n        overlayItem.colormapLabel.lut\n      );\n      this.gl.uniform1f(orientShader.uniforms.cal_min, overlayItem.colormapLabel.min - 0.5);\n      this.gl.uniform1f(orientShader.uniforms.cal_max, overlayItem.colormapLabel.max + 0.5);\n      this.gl.bindTexture(this.gl.TEXTURE_2D, colormapLabelTexture);\n    } else {\n      this.gl.bindTexture(this.gl.TEXTURE_2D, this.colormapTexture);\n      this.gl.uniform1f(orientShader.uniforms.cal_min, overlayItem.cal_min);\n      this.gl.uniform1f(orientShader.uniforms.cal_max, overlayItem.cal_max);\n    }\n    if (\"alphaThreshold\" in overlayItem) {\n      log.warn(\"alphaThreshold is deprecated: use colormapType\");\n      if (overlayItem.alphaThreshold === true) {\n        overlayItem.colormapType = 2 /* ZERO_TO_MAX_TRANSLUCENT_BELOW_MIN */;\n      }\n      if (overlayItem.alphaThreshold === false) {\n        overlayItem.colormapType = 1 /* ZERO_TO_MAX_TRANSPARENT_BELOW_MIN */;\n      }\n      delete overlayItem.alphaThreshold;\n    }\n    const isColorbarFromZero = overlayItem.colormapType !== 0 /* MIN_TO_MAX */ ? 1 : 0;\n    const isAlphaThreshold = overlayItem.colormapType === 2 /* ZERO_TO_MAX_TRANSLUCENT_BELOW_MIN */ ? 1 : 0;\n    this.gl.uniform1i(orientShader.uniforms.isAlphaThreshold, isAlphaThreshold);\n    this.gl.uniform1i(orientShader.uniforms.isColorbarFromZero, isColorbarFromZero);\n    this.gl.uniform1i(orientShader.uniforms.isAdditiveBlend, this.opts.isAdditiveBlend ? 1 : 0);\n    let mnNeg = Number.POSITIVE_INFINITY;\n    let mxNeg = Number.NEGATIVE_INFINITY;\n    if (overlayItem.colormapNegative.length > 0) {\n      mnNeg = Math.min(-overlayItem.cal_min, -overlayItem.cal_max);\n      mxNeg = Math.max(-overlayItem.cal_min, -overlayItem.cal_max);\n      if (isFinite(overlayItem.cal_minNeg) && isFinite(overlayItem.cal_maxNeg)) {\n        mnNeg = Math.min(overlayItem.cal_minNeg, overlayItem.cal_maxNeg);\n        mxNeg = Math.max(overlayItem.cal_minNeg, overlayItem.cal_maxNeg);\n      }\n    }\n    if (layer > 0 && this.overlayOutlineWidth > 0) {\n      const A = overlayItem.cal_min;\n      const B = overlayItem.cal_max;\n      let isZeroCrossing = Math.min(A, B) <= 0 && Math.max(A, B) >= 0;\n      if (!isZeroCrossing && mnNeg < mxNeg) {\n        isZeroCrossing = mnNeg <= 0 && mxNeg >= 0;\n      }\n      if (isZeroCrossing) {\n        log.error(\"issue1139: do not use overlayOutlineWidth when thresholds cross or touch zero\");\n      }\n    }\n    if (!orientShader) {\n      throw new Error(\"orientShader undefined\");\n    }\n    this.gl.uniform1f(orientShader.uniforms.layer ?? null, layer);\n    this.gl.uniform1f(orientShader.uniforms.cal_minNeg ?? null, mnNeg);\n    this.gl.uniform1f(orientShader.uniforms.cal_maxNeg ?? null, mxNeg);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, tempTex3D);\n    this.gl.uniform1i(orientShader.uniforms.intensityVol ?? null, 9);\n    this.gl.uniform1i(orientShader.uniforms.blend3D ?? null, 10);\n    this.gl.uniform1i(orientShader.uniforms.colormap ?? null, 1);\n    this.gl.uniform1f(orientShader.uniforms.scl_inter ?? null, hdr.scl_inter);\n    this.gl.uniform1f(orientShader.uniforms.scl_slope ?? null, hdr.scl_slope);\n    this.gl.uniform1f(orientShader.uniforms.opacity ?? null, opacity);\n    this.gl.uniform1i(orientShader.uniforms.modulationVol ?? null, 7);\n    let modulateTexture = null;\n    if (overlayItem.modulationImage !== null && overlayItem.modulationImage >= 0 && overlayItem.modulationImage < this.volumes.length) {\n      log.debug(\"modulating\", this.volumes);\n      const mhdr = this.volumes[overlayItem.modulationImage].hdr;\n      if (mhdr.dims[1] === hdr.dims[1] && mhdr.dims[2] === hdr.dims[2] && mhdr.dims[3] === hdr.dims[3]) {\n        if (overlayItem.modulateAlpha) {\n          this.gl.uniform1i(orientShader.uniforms.modulation, 2);\n          this.gl.uniform1f(orientShader.uniforms.opacity, 1);\n        } else {\n          this.gl.uniform1i(orientShader.uniforms.modulation, 1);\n        }\n        modulateTexture = this.r8Tex(modulateTexture, this.gl.TEXTURE7, hdr.dims, true);\n        this.gl.activeTexture(this.gl.TEXTURE7);\n        this.gl.bindTexture(this.gl.TEXTURE_3D, modulateTexture);\n        const vx = hdr.dims[1] * hdr.dims[2] * hdr.dims[3];\n        const modulateVolume = new Uint8Array(vx);\n        const mn = this.volumes[overlayItem.modulationImage].cal_min;\n        const scale = 1 / (this.volumes[overlayItem.modulationImage].cal_max - mn);\n        const imgRaw = this.volumes[overlayItem.modulationImage].img.buffer;\n        let img2 = new Uint8Array(\n          imgRaw\n        );\n        switch (mhdr.datatypeCode) {\n          case 4 /* DT_INT16 */:\n            img2 = new Int16Array(imgRaw);\n            break;\n          case 16 /* DT_FLOAT32 */:\n            img2 = new Float32Array(imgRaw);\n            break;\n          case 64 /* DT_FLOAT64 */:\n            img2 = new Float64Array(imgRaw);\n            break;\n          case 128 /* DT_RGB24 */:\n            img2 = new Uint8Array(imgRaw);\n            break;\n          case 512 /* DT_UINT16 */:\n            img2 = new Uint16Array(imgRaw);\n            break;\n        }\n        log.debug(this.volumes[overlayItem.modulationImage]);\n        const isColormapNegative = this.volumes[overlayItem.modulationImage].colormapNegative.length > 0;\n        let mnNeg2 = this.volumes[overlayItem.modulationImage].cal_min;\n        let mxNeg2 = this.volumes[overlayItem.modulationImage].cal_max;\n        if (isFinite(this.volumes[overlayItem.modulationImage].cal_minNeg) && isFinite(this.volumes[overlayItem.modulationImage].cal_maxNeg)) {\n          mnNeg2 = this.volumes[overlayItem.modulationImage].cal_minNeg;\n          mxNeg2 = this.volumes[overlayItem.modulationImage].cal_minNeg;\n        }\n        mnNeg2 = Math.abs(mnNeg2);\n        mxNeg2 = Math.abs(mxNeg2);\n        if (mnNeg2 > mxNeg2) {\n          ;\n          [mnNeg2, mxNeg2] = [mxNeg2, mnNeg2];\n        }\n        const scaleNeg = 1 / (mxNeg2 - mnNeg2);\n        let mpow = Math.abs(overlayItem.modulateAlpha);\n        mpow = Math.max(mpow, 1);\n        const volOffset = this.volumes[overlayItem.modulationImage].frame4D * vx;\n        for (let i = 0; i < vx; i++) {\n          const vRaw = img2[i + volOffset] * mhdr.scl_slope + mhdr.scl_inter;\n          let v = (vRaw - mn) * scale;\n          if (isColormapNegative && vRaw < 0) {\n            v = (Math.abs(vRaw) - mnNeg2) * scaleNeg;\n          }\n          v = Math.min(Math.max(v, 0), 1);\n          v = Math.pow(v, mpow) * 255;\n          modulateVolume[i] = v;\n        }\n        this.gl.texSubImage3D(\n          this.gl.TEXTURE_3D,\n          0,\n          0,\n          0,\n          0,\n          hdr.dims[1],\n          hdr.dims[2],\n          hdr.dims[3],\n          this.gl.RED,\n          this.gl.UNSIGNED_BYTE,\n          modulateVolume\n        );\n      } else {\n        log.debug(\"Modulation image dimensions do not match target\");\n      }\n    } else {\n      this.gl.uniform1i(orientShader.uniforms.modulation, 0);\n    }\n    this.gl.uniformMatrix4fv(orientShader.uniforms.mtx, false, mtx);\n    if (!this.back.dims) {\n      throw new Error(\"back.dims undefined\");\n    }\n    let outline = 0;\n    if (hdr.intent_code === 1002 /* NIFTI_INTENT_LABEL */) {\n      outline = this.opts.atlasOutline;\n      this.gl.uniform1ui(orientShader.uniforms.activeIndex, this.opts.atlasActiveIndex | 0);\n    }\n    this.gl.uniform4fv(orientShader.uniforms.xyzaFrac, [\n      1 / this.back.dims[1],\n      1 / this.back.dims[2],\n      1 / this.back.dims[3],\n      outline\n    ]);\n    log.debug(\"back dims: \", this.back.dims);\n    for (let i = 0; i < this.back.dims[3]; i++) {\n      const coordZ = 1 / this.back.dims[3] * (i + 0.5);\n      this.gl.uniform1f(orientShader.uniforms.coordZ, coordZ);\n      this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, outTexture, 0, i);\n      this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n    }\n    this.gl.bindVertexArray(this.unusedVAO);\n    this.gl.deleteTexture(tempTex3D);\n    this.gl.deleteTexture(modulateTexture);\n    this.gl.deleteTexture(blendTexture);\n    this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n    this.gl.deleteFramebuffer(fb);\n    if (layer === 0) {\n      this.volumeTexture = outTexture;\n      if (this.gradientTextureAmount > 0 && !this.useCustomGradientTexture) {\n        this.gradientGL(hdr);\n        this.gl.bindVertexArray(this.genericVAO);\n      } else if (this.gradientTextureAmount <= 0) {\n        if (this.gradientTexture !== null) {\n          this.gl.deleteTexture(this.gradientTexture);\n        }\n        this.gradientTexture = null;\n      }\n    }\n    if (!this.renderShader) {\n      throw new Error(\"renderShader undefined\");\n    }\n    this.renderShader.use(this.gl);\n    const slicescl = this.sliceScale(true);\n    const vox = slicescl.vox;\n    const volScale = slicescl.volScale;\n    this.gl.uniform1f(this.renderShader.uniforms.overlays, this.overlays.length);\n    this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor, this.opts.clipPlaneColor);\n    this.gl.uniform1f(this.renderShader.uniforms.backOpacity, this.volumes[0].opacity);\n    this.gl.uniform1f(this.renderShader.uniforms.renderOverlayBlend, this.opts.renderOverlayBlend);\n    this.gl.uniform4fv(this.renderShader.uniforms.clipPlane, this.scene.clipPlane);\n    this.gl.uniform3fv(this.renderShader.uniforms.texVox, vox);\n    this.gl.uniform3fv(this.renderShader.uniforms.volScale, volScale);\n    if (!this.pickingImageShader) {\n      throw new Error(\"pickingImageShader undefined\");\n    }\n    this.pickingImageShader.use(this.gl);\n    this.gl.uniform1f(this.pickingImageShader.uniforms.overlays, this.overlays.length);\n    this.gl.uniform3fv(this.pickingImageShader.uniforms.texVox, vox);\n    let shader = this.sliceMMShader;\n    if (this.opts.is2DSliceShader) {\n      shader = this.slice2DShader;\n    }\n    if (this.opts.isV1SliceShader) {\n      shader = this.sliceV1Shader;\n    }\n    if (this.customSliceShader) {\n      shader = this.customSliceShader;\n    }\n    if (!shader) {\n      throw new Error(\"slice shader undefined\");\n    }\n    shader.use(this.gl);\n    this.gl.uniform1f(shader.uniforms.overlays, this.overlays.length);\n    this.gl.uniform1f(shader.uniforms.drawOpacity, this.drawOpacity);\n    if (colormapLabelTexture !== null) {\n      this.gl.deleteTexture(colormapLabelTexture);\n      this.gl.activeTexture(TEXTURE1_COLORMAPS);\n      this.gl.bindTexture(this.gl.TEXTURE_2D, this.colormapTexture);\n    }\n    this.gl.uniform1i(shader.uniforms.drawing, 7);\n    this.gl.activeTexture(TEXTURE7_DRAW);\n    if (this.opts.is2DSliceShader) {\n      this.gl.bindTexture(this.gl.TEXTURE_2D, this.drawTexture);\n    } else {\n      this.gl.bindTexture(this.gl.TEXTURE_3D, this.drawTexture);\n    }\n    this.gl.uniform4fv(shader.uniforms.paqdUniforms, this.opts.paqdUniforms);\n    this.gl.uniform1i(shader.uniforms.paqd, 8);\n    this.gl.activeTexture(TEXTURE8_PAQD);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, this.paqdTexture);\n    this.updateInterpolation(layer);\n  }\n  /**\n   * query all available color maps that can be applied to volumes\n   * @returns an array of colormap strings\n   * @example\n   * niivue = new Niivue()\n   * colormaps = niivue.colormaps()\n   * @see {@link https://niivue.com/demos/features/colormaps.html | live demo usage}\n   */\n  colormaps() {\n    return cmapper.colormaps();\n  }\n  /**\n   * create a new colormap\n   * @param key - name of new colormap\n   * @param cmap - colormap properties (Red, Green, Blue, Alpha and Indices)\n   * @see {@link https://niivue.com/demos/features/colormaps.html | live demo usage}\n   */\n  addColormap(key, cmap) {\n    cmapper.addColormap(key, cmap);\n  }\n  /**\n   * update the colormap of an image given its ID\n   * @param id - the ID of the NVImage\n   * @param colormap - the name of the colormap to use\n   * @example\n   * niivue.setColormap(niivue.volumes[0].id,, 'red')\n   * @see {@link https://niivue.com/demos/features/colormaps.html | live demo usage}\n   */\n  setColormap(id, colormap) {\n    const idx = this.getVolumeIndexByID(id);\n    this.volumes[idx].colormap = colormap;\n    this.updateGLVolume();\n  }\n  // port of https://github.com/rordenlab/niimath/blob/master/src/bwlabel.c\n  /**\n   * Computes the linear voxel index from 3D coordinates using image dimensions.\n   * @internal\n   */\n  idx(A, B, C, DIM) {\n    return C * DIM[0] * DIM[1] + B * DIM[0] + A;\n  }\n  // idx()\n  /**\n   * Checks if voxels below the given voxel have labels matching its value, returning the first matching label or 0.\n   * @internal\n   */\n  check_previous_slice(bw, il, r, c, sl, dim, conn, tt) {\n    const nabo = new Uint32Array(27);\n    let nr_set = 0;\n    if (!sl) {\n      return 0;\n    }\n    const val = bw[this.idx(r, c, sl, dim)];\n    if (conn >= 6) {\n      const idx = this.idx(r, c, sl - 1, dim);\n      if (val === bw[idx]) {\n        nabo[nr_set++] = il[idx];\n      }\n    }\n    if (conn >= 18) {\n      if (r) {\n        const idx = this.idx(r - 1, c, sl - 1, dim);\n        if (val === bw[idx]) {\n          nabo[nr_set++] = il[idx];\n        }\n      }\n      if (c) {\n        const idx = this.idx(r, c - 1, sl - 1, dim);\n        if (val === bw[idx]) {\n          nabo[nr_set++] = il[idx];\n        }\n      }\n      if (r < dim[0] - 1) {\n        const idx = this.idx(r + 1, c, sl - 1, dim);\n        if (val === bw[idx]) {\n          nabo[nr_set++] = il[idx];\n        }\n      }\n      if (c < dim[1] - 1) {\n        const idx = this.idx(r, c + 1, sl - 1, dim);\n        if (val === bw[idx]) {\n          nabo[nr_set++] = il[idx];\n        }\n      }\n    }\n    if (conn === 26) {\n      if (r && c) {\n        const idx = this.idx(r - 1, c - 1, sl - 1, dim);\n        if (val === bw[idx]) {\n          nabo[nr_set++] = il[idx];\n        }\n      }\n      if (r < dim[0] - 1 && c) {\n        const idx = this.idx(r + 1, c - 1, sl - 1, dim);\n        if (val === bw[idx]) {\n          nabo[nr_set++] = il[idx];\n        }\n      }\n      if (r && c < dim[1] - 1) {\n        const idx = this.idx(r - 1, c + 1, sl - 1, dim);\n        if (val === bw[idx]) {\n          nabo[nr_set++] = il[idx];\n        }\n      }\n      if (r < dim[0] - 1 && c < dim[1] - 1) {\n        const idx = this.idx(r + 1, c + 1, sl - 1, dim);\n        if (val === bw[idx]) {\n          nabo[nr_set++] = il[idx];\n        }\n      }\n    }\n    if (nr_set) {\n      this.fill_tratab(tt, nabo, nr_set);\n      return nabo[0];\n    } else {\n      return 0;\n    }\n  }\n  // check_previous_slice()\n  /**\n   * Performs provisional labeling of connected voxels in a volume using specified connectivity.\n   * @internal\n   */\n  do_initial_labelling(bw, dim, conn) {\n    let label = 1;\n    const kGrowArrayBy = 8192;\n    let ttn = kGrowArrayBy;\n    let tt = new Uint32Array(ttn).fill(0);\n    const il = new Uint32Array(dim[0] * dim[1] * dim[2]).fill(0);\n    const nabo = new Uint32Array(27);\n    for (let sl = 0; sl < dim[2]; sl++) {\n      for (let c = 0; c < dim[1]; c++) {\n        for (let r = 0; r < dim[0]; r++) {\n          let nr_set = 0;\n          const val = bw[this.idx(r, c, sl, dim)];\n          if (val === 0) {\n            continue;\n          }\n          nabo[0] = this.check_previous_slice(bw, il, r, c, sl, dim, conn, tt);\n          if (nabo[0]) {\n            nr_set += 1;\n          }\n          if (conn >= 6) {\n            if (r) {\n              const idx = this.idx(r - 1, c, sl, dim);\n              if (val === bw[idx]) {\n                nabo[nr_set++] = il[idx];\n              }\n            }\n            if (c) {\n              const idx = this.idx(r, c - 1, sl, dim);\n              if (val === bw[idx]) {\n                nabo[nr_set++] = il[idx];\n              }\n            }\n          }\n          if (conn >= 18) {\n            if (c && r) {\n              const idx = this.idx(r - 1, c - 1, sl, dim);\n              if (val === bw[idx]) {\n                nabo[nr_set++] = il[idx];\n              }\n            }\n            if (c && r < dim[0] - 1) {\n              const idx = this.idx(r + 1, c - 1, sl, dim);\n              if (val === bw[idx]) {\n                nabo[nr_set++] = il[idx];\n              }\n            }\n          }\n          if (nr_set) {\n            il[this.idx(r, c, sl, dim)] = nabo[0];\n            this.fill_tratab(tt, nabo, nr_set);\n          } else {\n            il[this.idx(r, c, sl, dim)] = label;\n            if (label >= ttn) {\n              ttn += kGrowArrayBy;\n              const ext = new Uint32Array(ttn);\n              ext.set(tt);\n              tt = ext;\n            }\n            tt[label - 1] = label;\n            label++;\n          }\n        }\n      }\n    }\n    for (let i = 0; i < label - 1; i++) {\n      let j = i;\n      while (tt[j] !== j + 1) {\n        j = tt[j] - 1;\n      }\n      tt[i] = j + 1;\n    }\n    return [label - 1, tt, il];\n  }\n  // do_initial_labelling()\n  /**\n   * Merges multiple provisional labels into a unified class using a translation table.\n   * @internal\n   */\n  fill_tratab(tt, nabo, nr_set) {\n    let cntr = 0;\n    const tn = new Uint32Array(nr_set + 5).fill(0);\n    const INT_MAX = 2147483647;\n    let ltn = INT_MAX;\n    for (let i = 0; i < nr_set; i++) {\n      let j = nabo[i];\n      cntr = 0;\n      while (tt[j - 1] !== j) {\n        j = tt[j - 1];\n        cntr++;\n        if (cntr > 100) {\n          log.info(\"\\nOoh no!!\");\n          break;\n        }\n      }\n      tn[i] = j;\n      ltn = Math.min(ltn, j);\n    }\n    for (let i = 0; i < nr_set; i++) {\n      tt[tn[i] - 1] = ltn;\n    }\n  }\n  // fill_tratab()\n  /**\n   * Removes gaps in label indices to produce a dense labeling.\n   * @internal\n   */\n  translate_labels(il, dim, tt, ttn) {\n    const nvox = dim[0] * dim[1] * dim[2];\n    let ml = 0;\n    const l = new Uint32Array(nvox).fill(0);\n    for (let i = 0; i < ttn; i++) {\n      ml = Math.max(ml, tt[i]);\n    }\n    const fl = new Uint32Array(ml).fill(0);\n    let cl = 0;\n    for (let i = 0; i < nvox; i++) {\n      if (il[i]) {\n        if (!fl[tt[il[i] - 1] - 1]) {\n          cl += 1;\n          fl[tt[il[i] - 1] - 1] = cl;\n        }\n        l[i] = fl[tt[il[i] - 1] - 1];\n      }\n    }\n    return [cl, l];\n  }\n  // translate_labels()\n  /**\n   * Retains only the largest cluster for each region in a labeled volume.\n   * @internal\n   */\n  largest_original_cluster_labels(bw, cl, ls) {\n    const nvox = bw.length;\n    const ls2bw = new Uint32Array(cl + 1).fill(0);\n    const sumls = new Uint32Array(cl + 1).fill(0);\n    for (let i = 0; i < nvox; i++) {\n      const bwVal = bw[i];\n      const lsVal = ls[i];\n      ls2bw[lsVal] = bwVal;\n      sumls[lsVal]++;\n    }\n    let mxbw = 0;\n    for (let i = 0; i < cl + 1; i++) {\n      const bwVal = ls2bw[i];\n      mxbw = Math.max(mxbw, bwVal);\n      for (let j = 0; j < cl + 1; j++) {\n        if (j === i) {\n          continue;\n        }\n        if (bwVal !== ls2bw[j]) {\n          continue;\n        }\n        if (sumls[i] < sumls[j]) {\n          ls2bw[i] = 0;\n        } else if (sumls[i] === sumls[j] && i < j) {\n          ls2bw[i] = 0;\n        }\n      }\n    }\n    const vxs = new Uint32Array(nvox).fill(0);\n    for (let i = 0; i < nvox; i++) {\n      vxs[i] = ls2bw[ls[i]];\n    }\n    return [mxbw, vxs];\n  }\n  /**\n   * Computes connected components labeling on a 3D image.\n   * @internal\n   */\n  bwlabel(img, dim, conn = 26, binarize = false, onlyLargestClusterPerClass = false) {\n    const start = Date.now();\n    const nvox = dim[0] * dim[1] * dim[2];\n    const bw = new Uint32Array(nvox).fill(0);\n    if (![6, 18, 26].includes(conn)) {\n      log.info(\"bwlabel: conn must be 6, 18 or 26.\");\n      return [0, bw];\n    }\n    if (dim[0] < 2 || dim[1] < 2 || dim[2] < 1) {\n      log.info(\"bwlabel: img must be 2 or 3-dimensional\");\n      return [0, bw];\n    }\n    if (binarize) {\n      for (let i = 0; i < nvox; i++) {\n        if (img[i] !== 0) {\n          bw[i] = 1;\n        }\n      }\n    } else {\n      bw.set(img);\n    }\n    let [ttn, tt, il] = this.do_initial_labelling(bw, dim, conn);\n    if (tt === void 0) {\n      tt = new Uint32Array();\n    }\n    const [cl, ls] = this.translate_labels(il, dim, tt, ttn);\n    log.info(conn + \" neighbor clustering into \" + cl + \" regions in \" + (Date.now() - start) + \"ms\");\n    if (onlyLargestClusterPerClass) {\n      const [nbw, bwMx] = this.largest_original_cluster_labels(bw, cl, ls);\n      return [nbw, bwMx];\n    }\n    return [cl, ls];\n  }\n  // bwlabel()\n  /**\n   * Create a connected component label map from a volume\n   * @param id - ID of the input volume\n   * @param conn - connectivity for clustering (6 = faces, 18 = faces + edges, 26 = faces + edges + corners)\n   * @param binarize - whether to binarize the volume before labeling\n   * @param onlyLargestClusterPerClass - retain only the largest cluster for each label\n   * @returns a new NVImage with labeled clusters, using random colormap\n   * @see {@link https://niivue.com/demos/features/clusterize.html | live demo usage}\n   */\n  async createConnectedLabelImage(id, conn = 26, binarize = false, onlyLargestClusterPerClass = false) {\n    const idx = this.getVolumeIndexByID(id);\n    const dim = Uint32Array.from(this.volumes[idx].dims?.slice(1, 4) ?? []);\n    const img = Uint32Array.from(this.volumes[idx].img?.slice() ?? []);\n    const [mx, clusterImg] = this.bwlabel(img, dim, conn, binarize, onlyLargestClusterPerClass);\n    const nii = this.volumes[idx].clone();\n    nii.opacity = 0.5;\n    nii.colormap = \"random\";\n    for (let i = 0; i < nii.img.length; i++) {\n      nii.img[i] = clusterImg[i];\n    }\n    nii.cal_min = 0;\n    nii.cal_max = mx;\n    return nii;\n  }\n  // conform.py functions follow\n  // https://github.com/Deep-MI/FastSurfer/blob/4e76bed7b11fd7e6403ddac729059ad3842b56de/FastSurferCNN/data_loader/conform.py\n  // Licensed under the Apache License, Version 2.0 (the \"License\")\n  // Crop the intensity ranges to specific min and max values.\n  /**\n   * Scales and crops a Float32 image to Uint8 range.\n   * @internal\n   */\n  async scalecropUint8(img32, dst_min = 0, dst_max = 255, src_min, scale) {\n    const voxnum = img32.length;\n    const img8 = new Uint8Array(voxnum);\n    for (let i = 0; i < voxnum; i++) {\n      let val = img32[i];\n      val = dst_min + scale * (val - src_min);\n      val = Math.max(val, dst_min);\n      val = Math.min(val, dst_max);\n      img8[i] = val;\n    }\n    return img8;\n  }\n  /**\n   * Scales and crops a Float32 image to a specified range.\n   * @internal\n   */\n  async scalecropFloat32(img32, dst_min = 0, dst_max = 1, src_min, scale) {\n    const voxnum = img32.length;\n    const img = new Float32Array(voxnum);\n    for (let i = 0; i < voxnum; i++) {\n      let val = img32[i];\n      val = dst_min + scale * (val - src_min);\n      val = Math.max(val, dst_min);\n      val = Math.min(val, dst_max);\n      img[i] = val;\n    }\n    return img;\n  }\n  /**\n   * Computes offset and scale to robustly rescale image intensities to a target range.\n   * @internal\n   */\n  getScale(volume, dst_min = 0, dst_max = 255, f_low = 0, f_high = 0.999) {\n    let src_min = volume.global_min;\n    let src_max = volume.global_max;\n    if (volume.hdr.datatypeCode === 2 /* DT_UINT8 */) {\n      return [src_min, 1];\n    }\n    if (!isFinite(f_low) || !isFinite(f_high)) {\n      if (isFinite(volume.cal_min) && isFinite(volume.cal_max) && volume.cal_max > volume.cal_min) {\n        src_min = volume.cal_min;\n        src_max = volume.cal_max;\n        const scale2 = (dst_max - dst_min) / (src_max - src_min);\n        log.info(\" Robust Rescale:  min: \" + src_min + \"  max: \" + src_max + \" scale: \" + scale2);\n        return [src_min, scale2];\n      }\n    }\n    let img = volume.img;\n    const voxnum = volume.hdr.dims[1] * volume.hdr.dims[2] * volume.hdr.dims[3];\n    if (volume.hdr.scl_slope !== 1 || volume.hdr.scl_inter !== 0) {\n      const srcimg = volume.img;\n      img = new Float32Array(volume.img.length);\n      for (let i = 0; i < voxnum; i++) {\n        img[i] = srcimg[i] * volume.hdr.scl_slope + volume.hdr.scl_inter;\n      }\n    }\n    if (src_min < 0) {\n      log.warn(\"WARNING: Input image has value(s) below 0.0 !\");\n    }\n    log.info(\" Input:    min: \" + src_min + \"  max: \" + src_max);\n    if (f_low === 0 && f_high === 1) {\n      return [src_min, 1];\n    }\n    let nz = 0;\n    for (let i = 0; i < voxnum; i++) {\n      if (Math.abs(img[i]) >= 1e-15) {\n        nz++;\n      }\n    }\n    const histosize = 1e3;\n    const bin_size = (src_max - src_min) / histosize;\n    const hist = new Array(histosize).fill(0);\n    for (let i = 0; i < voxnum; i++) {\n      const val = img[i];\n      let bin = Math.floor((val - src_min) / bin_size);\n      bin = Math.min(bin, histosize - 1);\n      hist[bin]++;\n    }\n    const cs = new Array(histosize).fill(0);\n    cs[0] = hist[0];\n    for (let i = 1; i < histosize; i++) {\n      cs[i] = cs[i - 1] + hist[i];\n    }\n    let nth = Math.floor(f_low * voxnum);\n    let idx = 0;\n    while (idx < histosize) {\n      if (cs[idx] >= nth) {\n        break;\n      }\n      idx++;\n    }\n    const global_min = src_min;\n    src_min = idx * bin_size + global_min;\n    nth = voxnum - Math.floor((1 - f_high) * nz);\n    idx = 0;\n    while (idx < histosize - 1) {\n      if (cs[idx + 1] >= nth) {\n        break;\n      }\n      idx++;\n    }\n    src_max = idx * bin_size + global_min;\n    let scale = 1;\n    if (src_min !== src_max) {\n      scale = (dst_max - dst_min) / (src_max - src_min);\n    }\n    log.info(\" Rescale:  min: \" + src_min + \"  max: \" + src_max + \" scale: \" + scale);\n    return [src_min, scale];\n  }\n  // Translation of nibabel mghformat.py (MIT License 2009-2019) and FastSurfer conform.py (Apache License)\n  // https://github.com/nipy/nibabel/blob/a2e5dee05cf374c22670ff9fd0d385ce366eb495/nibabel/freesurfer/mghformat.py#L30\n  /**\n   * Computes output affine, voxel-to-voxel transform, and its inverse for resampling.\n   * @internal\n   */\n  conformVox2Vox(inDims, inAffine, outDim = 256, outMM = 1, toRAS = false) {\n    const a = inAffine.flat();\n    const affine = mat49.fromValues(\n      a[0],\n      a[1],\n      a[2],\n      a[3],\n      a[4],\n      a[5],\n      a[6],\n      a[7],\n      a[8],\n      a[9],\n      a[10],\n      a[11],\n      a[12],\n      a[13],\n      a[14],\n      a[15]\n    );\n    const half = vec49.fromValues(inDims[1] / 2, inDims[2] / 2, inDims[3] / 2, 1);\n    const Pxyz_c4 = vec49.create();\n    const affineT = mat49.create();\n    mat49.transpose(affineT, affine);\n    vec49.transformMat4(Pxyz_c4, half, affineT);\n    const Pxyz_c = vec313.fromValues(Pxyz_c4[0], Pxyz_c4[1], Pxyz_c4[2]);\n    const delta = vec313.fromValues(outMM, outMM, outMM);\n    let Mdc = mat49.fromValues(-1, 0, 0, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 0, 0, 1);\n    if (toRAS) {\n      Mdc = mat49.fromValues(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n    mat49.transpose(Mdc, Mdc);\n    const dims = vec49.fromValues(outDim, outDim, outDim, 1);\n    const MdcD = mat49.create();\n    mat49.scale(MdcD, Mdc, delta);\n    const vol_center = vec49.fromValues(dims[0], dims[1], dims[2], 1);\n    vec49.transformMat4(vol_center, vol_center, MdcD);\n    vec49.scale(vol_center, vol_center, 0.5);\n    const translate = vec313.create();\n    vec313.subtract(translate, Pxyz_c, vec313.fromValues(vol_center[0], vol_center[1], vol_center[2]));\n    const out_affine = mat49.create();\n    mat49.transpose(out_affine, MdcD);\n    out_affine[3] = translate[0];\n    out_affine[7] = translate[1];\n    out_affine[11] = translate[2];\n    const inv_out_affine = mat49.create();\n    mat49.invert(inv_out_affine, out_affine);\n    const vox2vox = mat49.create();\n    mat49.mul(vox2vox, affine, inv_out_affine);\n    const inv_vox2vox = mat49.create();\n    mat49.invert(inv_vox2vox, vox2vox);\n    return [out_affine, vox2vox, inv_vox2vox];\n  }\n  /**\n   * Create a binary NIfTI file as a Uint8Array, including header and image data\n   * @param dims - image dimensions [x, y, z]\n   * @param pixDims - voxel dimensions in mm [x, y, z]\n   * @param affine - 44 affine transformation matrix in row-major order\n   * @param datatypeCode - NIfTI datatype code (e.g., DT_UINT8, DT_FLOAT32)\n   * @param img - image data buffer (optional)\n   * @returns a Uint8Array representing a complete NIfTI file\n   * @see {@link https://niivue.com/demos/features/conform.html | live demo usage}\n   */\n  async createNiftiArray(dims = [256, 256, 256], pixDims = [1, 1, 1], affine = [1, 0, 0, -128, 0, 1, 0, -128, 0, 0, 1, -128, 0, 0, 0, 1], datatypeCode = 2 /* DT_UINT8 */, img = new Uint8Array()) {\n    return await NVImage.createNiftiArray(dims, pixDims, affine, datatypeCode, img);\n  }\n  /**\n   * Convert a binary NIfTI file (as a Uint8Array) to an NVImage object\n   * @param bytes - binary contents of a NIfTI file\n   * @returns a Promise resolving to an NVImage object\n   * @see {@link https://niivue.com/demos/features/conform.html | live demo usage}\n   */\n  async niftiArray2NVImage(bytes = new Uint8Array()) {\n    return await NVImage.loadFromUrl({ url: bytes });\n  }\n  /**\n   * Load a NIfTI image from a URL and convert it to an NVImage object\n   * @param fnm - URL of the NIfTI file to load\n   * @returns a Promise resolving to an NVImage (not yet added to GPU or scene)\n   * @see {@link https://niivue.com/demos/features/conform.html | live demo usage}\n   */\n  async loadFromUrl(fnm) {\n    return await NVImage.loadFromUrl({ url: fnm });\n  }\n  // Translation of FastSurfer conform.py (Apache License)\n  // Reslice an image to an isotropic 1mm with dimensions of 1x1x1mm\n  // The original volume is translated to be in the center of the new volume\n  // Interpolation is linear (default) or nearest neighbor\n  // asFloat32 determines if output is Float32 with range 0..255 or Uint8 with range 0..255\n  /**\n   * FreeSurfer-style conform reslices any image to a 256x256x256 volume with 1mm voxels\n   * @param volume - input volume to be re-oriented, intensity-scaled and resliced\n   * @param toRAS - reslice to row, column slices to right-anterior-superior not left-inferior-anterior (default false).\n   * @param isLinear - reslice with linear rather than nearest-neighbor interpolation (default true).\n   * @param asFloat32 - use Float32 datatype rather than Uint8 (default false).\n   * @param isRobustMinMax - clamp intensity with robust min max (~2%..98%) instead of FreeSurfer (0%..99.99%) (default false).\n   * @see {@link https://niivue.com/demos/features/torso.html | live demo usage}\n   */\n  async conform(volume, toRAS = false, isLinear = true, asFloat32 = false, isRobustMinMax = false) {\n    const outDim = 256;\n    const outMM = 1;\n    const obj = this.conformVox2Vox(volume.hdr.dims, volume.hdr.affine.flat(), outDim, outMM, toRAS);\n    const out_affine = obj[0];\n    const inv_vox2vox = obj[2];\n    const out_nvox = outDim * outDim * outDim;\n    const out_img = new Float32Array(out_nvox);\n    const in_img = new Float32Array(volume.img);\n    const in_nvox = volume.hdr.dims[1] * volume.hdr.dims[2] * volume.hdr.dims[3];\n    if (volume.hdr.scl_slope !== 1 || volume.hdr.scl_inter !== 0) {\n      for (let i2 = 0; i2 < in_nvox; i2++) {\n        in_img[i2] = in_img[i2] * volume.hdr.scl_slope + volume.hdr.scl_inter;\n      }\n    }\n    const dimX = volume.hdr.dims[1];\n    const dimY = volume.hdr.dims[2];\n    const dimZ = volume.hdr.dims[3];\n    const dimXY = dimX * dimY;\n    let i = -1;\n    function voxidx(vx, vy, vz) {\n      return vx + vy * dimX + vz * dimXY;\n    }\n    const inv_vox2vox0 = inv_vox2vox[0];\n    const inv_vox2vox4 = inv_vox2vox[4];\n    const inv_vox2vox8 = inv_vox2vox[8];\n    if (isLinear) {\n      for (let z = 0; z < outDim; z++) {\n        for (let y = 0; y < outDim; y++) {\n          const ixYZ = y * inv_vox2vox[1] + z * inv_vox2vox[2] + inv_vox2vox[3];\n          const iyYZ = y * inv_vox2vox[5] + z * inv_vox2vox[6] + inv_vox2vox[7];\n          const izYZ = y * inv_vox2vox[9] + z * inv_vox2vox[10] + inv_vox2vox[11];\n          for (let x = 0; x < outDim; x++) {\n            const ix = x * inv_vox2vox0 + ixYZ;\n            const iy = x * inv_vox2vox4 + iyYZ;\n            const iz = x * inv_vox2vox8 + izYZ;\n            const fx = Math.floor(ix);\n            const fy = Math.floor(iy);\n            const fz = Math.floor(iz);\n            i++;\n            if (fx < 0 || fy < 0 || fz < 0) {\n              continue;\n            }\n            const cx = Math.ceil(ix);\n            const cy = Math.ceil(iy);\n            const cz = Math.ceil(iz);\n            if (cx >= dimX || cy >= dimY || cz >= dimZ) {\n              continue;\n            }\n            const rcx = ix - fx;\n            const rcy = iy - fy;\n            const rcz = iz - fz;\n            const rfx = 1 - rcx;\n            const rfy = 1 - rcy;\n            const rfz = 1 - rcz;\n            const fff = voxidx(fx, fy, fz);\n            let vx = 0;\n            vx += in_img[fff] * rfx * rfy * rfz;\n            vx += in_img[fff + dimXY] * rfx * rfy * rcz;\n            vx += in_img[fff + dimX] * rfx * rcy * rfz;\n            vx += in_img[fff + dimX + dimXY] * rfx * rcy * rcz;\n            vx += in_img[fff + 1] * rcx * rfy * rfz;\n            vx += in_img[fff + 1 + dimXY] * rcx * rfy * rcz;\n            vx += in_img[fff + 1 + dimX] * rcx * rcy * rfz;\n            vx += in_img[fff + 1 + dimX + dimXY] * rcx * rcy * rcz;\n            out_img[i] = vx;\n          }\n        }\n      }\n    } else {\n      for (let z = 0; z < outDim; z++) {\n        for (let y = 0; y < outDim; y++) {\n          const ixYZ = y * inv_vox2vox[1] + z * inv_vox2vox[2] + inv_vox2vox[3];\n          const iyYZ = y * inv_vox2vox[5] + z * inv_vox2vox[6] + inv_vox2vox[7];\n          const izYZ = y * inv_vox2vox[9] + z * inv_vox2vox[10] + inv_vox2vox[11];\n          for (let x = 0; x < outDim; x++) {\n            const ix = Math.round(x * inv_vox2vox0 + ixYZ);\n            const iy = Math.round(x * inv_vox2vox4 + iyYZ);\n            const iz = Math.round(x * inv_vox2vox8 + izYZ);\n            i++;\n            if (ix < 0 || iy < 0 || iz < 0) {\n              continue;\n            }\n            if (ix >= dimX || iy >= dimY || iz >= dimZ) {\n              continue;\n            }\n            out_img[i] = in_img[voxidx(ix, iy, iz)];\n          }\n        }\n      }\n    }\n    const src_min = 0;\n    const scale = 0;\n    let f_low = 0;\n    if (isRobustMinMax) {\n      f_low = NaN;\n    }\n    let bytes = new Uint8Array();\n    if (asFloat32) {\n      const gs = await this.getScale(volume, 0, 1, f_low);\n      const out_img32 = await this.scalecropFloat32(out_img, 0, 1, gs[0], gs[1]);\n      bytes = await this.createNiftiArray(\n        [outDim, outDim, outDim],\n        [outMM, outMM, outMM],\n        Array.from(out_affine),\n        16 /* DT_FLOAT32 */,\n        new Uint8Array(out_img32.buffer)\n      );\n    } else {\n      const gs = await this.getScale(volume, 0, 255, f_low);\n      const out_img8 = await this.scalecropUint8(out_img, 0, 255, gs[0], gs[1]);\n      bytes = await this.createNiftiArray(\n        [outDim, outDim, outDim],\n        [outMM, outMM, outMM],\n        Array.from(out_affine),\n        2,\n        out_img8\n      );\n    }\n    const nii = await this.niftiArray2NVImage(bytes);\n    return nii;\n  }\n  /**\n   * darken crevices and brighten corners when 3D rendering drawings.\n   * @param ao - amount of ambient occlusion (default 0.4)\n   * @see {@link https://niivue.com/demos/features/torso.html | live demo usage}\n   */\n  setRenderDrawAmbientOcclusion(ao) {\n    if (!this.renderShader) {\n      throw new Error(\"renderShader undefined\");\n    }\n    this.renderDrawAmbientOcclusion = ao;\n    this.renderShader.use(this.gl);\n    this.gl.uniform1fv(this.renderShader.uniforms.renderDrawAmbientOcclusion, [this.renderDrawAmbientOcclusion, 1]);\n    this.drawScene();\n  }\n  /**\n   * @deprecated Use {@link setColormap} instead. This alias is retained for compatibility with NiiVue < 0.35.\n   * @param id - ID of the volume\n   * @param colormap - name of the colormap to apply\n   */\n  setColorMap(id, colormap) {\n    this.setColormap(id, colormap);\n  }\n  /**\n   * use given color map for negative voxels in image\n   * @param id - the ID of the NVImage\n   * @param colormapNegative - the name of the colormap to use\n   * @example\n   * niivue = new Niivue()\n   * niivue.setColormapNegative(niivue.volumes[1].id,\"winter\");\n   * @see {@link https://niivue.com/demos/features/mosaics2.html | live demo usage}\n   */\n  setColormapNegative(id, colormapNegative) {\n    const idx = this.getVolumeIndexByID(id);\n    this.volumes[idx].colormapNegative = colormapNegative;\n    this.updateGLVolume();\n  }\n  /**\n   * modulate intensity of one image based on intensity of another\n   * @param idTarget - the ID of the NVImage to be biased\n   * @param idModulation - the ID of the NVImage that controls bias (empty string to disable modulation)\n   * @param modulateAlpha - does the modulation influence alpha transparency (values greater than 1).\n   * @example niivue.setModulationImage(niivue.volumes[0].id, niivue.volumes[1].id);\n   * @see {@link https://niivue.com/demos/features/modulate.html | live demo scalar usage}\n   * @see {@link https://niivue.com/demos/features/modulateAfni.html | live demo usage}\n   */\n  setModulationImage(idTarget, idModulation, modulateAlpha = 0) {\n    const idxTarget = this.getVolumeIndexByID(idTarget);\n    let idxModulation = null;\n    if (idModulation.length > 0) {\n      idxModulation = this.getVolumeIndexByID(idModulation);\n    }\n    this.volumes[idxTarget].modulationImage = idxModulation;\n    this.volumes[idxTarget].modulateAlpha = modulateAlpha;\n    this.updateGLVolume();\n  }\n  /**\n   * adjust screen gamma. Low values emphasize shadows but can appear flat, high gamma hides shadow details.\n   * @param gamma - selects luminance, default is 1\n   * @example niivue.setGamma(1.0);\n   * @see {@link https://niivue.com/demos/features/colormaps.html | live demo usage}\n   */\n  setGamma(gamma = 1) {\n    this.scene.gamma = gamma;\n    cmapper.gamma = gamma;\n    this.updateGLVolume();\n  }\n  /** Load all volumes for image opened with `limitFrames4D`, the user can also click the `...` on a 4D timeline to load deferred volumes\n   * @param id - the ID of the 4D NVImage\n   **/\n  async loadDeferred4DVolumes(id) {\n    const idx = this.getVolumeIndexByID(id);\n    const volume = this.volumes[idx];\n    if (volume.nTotalFrame4D <= volume.nFrame4D) {\n      return;\n    }\n    volume.nTotalFrame4D = volume.nFrame4D;\n    let v;\n    if (volume.fileObject) {\n      v = await NVImage.loadFromFile({ file: volume.fileObject });\n    } else {\n      v = await NVImage.loadFromUrl({ url: volume.url });\n    }\n    if (v) {\n      volume.img = v.img.slice();\n      volume.nTotalFrame4D = v.nTotalFrame4D;\n      volume.nFrame4D = v.nFrame4D;\n      this.updateGLVolume();\n    }\n  }\n  /**\n   * show desired 3D volume from 4D time series\n   * @param id - the ID of the 4D NVImage\n   * @param frame4D - frame to display (indexed from zero)\n   * @example nv1.setFrame4D(nv1.volumes[0].id, 42);\n   * @see {@link https://niivue.com/demos/features/timeseries.html | live demo usage}\n   */\n  setFrame4D(id, frame4D) {\n    const idx = this.getVolumeIndexByID(id);\n    const volume = this.volumes[idx];\n    if (frame4D > volume.nFrame4D - 1) {\n      frame4D = volume.nFrame4D - 1;\n    }\n    if (frame4D < 0) {\n      frame4D = 0;\n    }\n    if (frame4D === volume.frame4D) {\n      return;\n    }\n    volume.frame4D = frame4D;\n    this.updateGLVolume();\n    this.onFrameChange(volume, frame4D);\n    this.createOnLocationChange();\n  }\n  /**\n   * determine active 3D volume from 4D time series\n   * @param id - the ID of the 4D NVImage\n   * @returns currently selected volume (indexed from 0)\n   * @example nv1.getFrame4D(nv1.volumes[0].id);\n   * @see {@link https://niivue.com/demos/features/timeseries.html | live demo usage}\n   */\n  getFrame4D(id) {\n    const idx = this.getVolumeIndexByID(id);\n    return this.volumes[idx].frame4D;\n  }\n  /**\n   * Returns a colormap by its name key.\n   * @internal\n   */\n  colormapFromKey(name) {\n    return cmapper.colormapFromKey(name);\n  }\n  /**\n   * Retrieve a colormap with optional inversion\n   * @param lutName - name of the lookup table (LUT) colormap\n   * @param isInvert - whether to invert the colormap\n   * @returns the RGBA colormap as a Uint8ClampedArray\n   * @see {@link https://niivue.com/demos/features/colormaps.html | live demo usage}\n   */\n  colormap(lutName = \"\", isInvert = false) {\n    return cmapper.colormap(lutName, isInvert);\n  }\n  /**\n   * Creates or recreates a 2D RGBA colormap texture with specified rows and columns.\n   * @internal\n   */\n  createColormapTexture(texture = null, nRow = 0, nCol = 256) {\n    if (texture !== null) {\n      this.gl.deleteTexture(texture);\n    }\n    if (nRow < 1 || nCol < 1) {\n      return null;\n    }\n    texture = this.gl.createTexture();\n    this.gl.activeTexture(TEXTURE1_COLORMAPS);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.texStorage2D(this.gl.TEXTURE_2D, 1, this.gl.RGBA8, nCol, nRow);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_R, this.gl.CLAMP_TO_EDGE);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n    this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, 1);\n    return texture;\n  }\n  /**\n   * Adds a colormap configuration to the internal list with given parameters.\n   * @internal\n   */\n  addColormapList(nm = \"\", mn = NaN, mx = NaN, alpha = false, neg = false, vis = true, inv = false) {\n    if (nm.length < 1) {\n      vis = false;\n    }\n    this.colormapLists.push({\n      name: nm,\n      min: mn,\n      max: mx,\n      isColorbarFromZero: alpha,\n      negative: neg,\n      visible: vis,\n      invert: inv\n    });\n  }\n  /**\n   * Rebuild and upload all colormap textures for volumes and meshes\n   * @returns the current NiiVue instance, or undefined if no colormaps are used\n   * @see {@link https://niivue.com/demos/features/mesh.stats.html | live demo usage}\n   */\n  refreshColormaps() {\n    this.colormapLists = [];\n    if (this.volumes.length < 1 && this.meshes.length < 1) {\n      return;\n    }\n    const nVol = this.volumes.length;\n    if (nVol > 0) {\n      for (let i = 0; i < nVol; i++) {\n        const volume = this.volumes[i];\n        const neg = negMinMax(volume.cal_min, volume.cal_max, volume.cal_minNeg, volume.cal_maxNeg);\n        const isColorbarFromZero = volume.colormapType !== 0 /* MIN_TO_MAX */;\n        this.addColormapList(\n          volume.colormapNegative,\n          neg[0],\n          neg[1],\n          isColorbarFromZero,\n          true,\n          volume.colorbarVisible,\n          volume.colormapInvert\n        );\n        this.addColormapList(\n          volume.colormap,\n          volume.cal_min,\n          volume.cal_max,\n          isColorbarFromZero,\n          false,\n          volume.colorbarVisible,\n          volume.colormapInvert\n        );\n      }\n    }\n    const nmesh = this.meshes.length;\n    if (nmesh > 0) {\n      for (let i = 0; i < nmesh; i++) {\n        const mesh = this.meshes[i];\n        if (!mesh.colorbarVisible) {\n          continue;\n        }\n        const nlayers = mesh.layers.length;\n        const fiberColor = mesh.fiberColor.toLowerCase();\n        if (mesh.offsetPt0 && fiberColor.startsWith(\"dp\")) {\n          let dp = null;\n          const n = parseInt(fiberColor.substring(3));\n          if (fiberColor.startsWith(\"dpg\") && !mesh.fiberGroupColormap) {\n            dp = n < mesh.dpg.length ? mesh.dpg[n] : mesh.dpg[0];\n          }\n          if (fiberColor.startsWith(\"dps\")) {\n            dp = n < mesh.dps.length ? mesh.dps[n] : mesh.dps[0];\n          }\n          if (fiberColor.startsWith(\"dpv\")) {\n            dp = n < mesh.dpv.length ? mesh.dpv[n] : mesh.dpv[0];\n          }\n          if (dp && typeof mesh.colormap === \"string\") {\n            this.addColormapList(mesh.colormap, dp.cal_min, dp.cal_max, false, false, true, mesh.colormapInvert);\n          }\n        }\n        if (\"edgeColormap\" in mesh && \"edges\" in mesh && mesh.edges !== void 0) {\n          const neg = negMinMax(mesh.edgeMin, mesh.edgeMax, NaN, NaN);\n          this.addColormapList(mesh.edgeColormapNegative, neg[0], neg[1], false, true, true, mesh.colormapInvert);\n          this.addColormapList(mesh.edgeColormap, mesh.edgeMin, mesh.edgeMax, false, false, true, mesh.colormapInvert);\n        }\n        if (nlayers < 1) {\n          continue;\n        }\n        for (let j = 0; j < nlayers; j++) {\n          const layer = this.meshes[i].layers[j];\n          if (!layer.colorbarVisible) {\n            continue;\n          }\n          if (layer.colormap.length < 1) {\n            continue;\n          }\n          const isColorbarFromZero = layer.colormapType !== 0 /* MIN_TO_MAX */;\n          if (layer.useNegativeCmap) {\n            const neg = negMinMax(layer.cal_min, layer.cal_max, layer.cal_minNeg, layer.cal_maxNeg);\n            this.addColormapList(\n              layer.colormapNegative,\n              neg[0],\n              neg[1],\n              isColorbarFromZero,\n              true,\n              // neg\n              true,\n              // vis\n              layer.colormapInvert\n            );\n          }\n          this.addColormapList(\n            layer.colormap,\n            layer.cal_min,\n            layer.cal_max,\n            isColorbarFromZero,\n            false,\n            // neg\n            true,\n            // vis\n            layer.colormapInvert\n          );\n        }\n      }\n    }\n    const nMaps = this.colormapLists.length;\n    if (nMaps < 1) {\n      return;\n    }\n    this.colormapTexture = this.createColormapTexture(this.colormapTexture, nMaps + 1);\n    let luts = new Uint8ClampedArray();\n    function addColormap(lut) {\n      const c = new Uint8ClampedArray(luts.length + lut.length);\n      c.set(luts);\n      c.set(lut, luts.length);\n      luts = c;\n    }\n    for (let i = 0; i < nMaps; i++) {\n      addColormap(Array.from(this.colormap(this.colormapLists[i].name, this.colormapLists[i].invert)));\n    }\n    addColormap(Array.from(this.drawLut.lut));\n    this.gl.texSubImage2D(this.gl.TEXTURE_2D, 0, 0, 0, 256, nMaps + 1, this.gl.RGBA, this.gl.UNSIGNED_BYTE, luts);\n    return this;\n  }\n  /**\n   * Calculates volume scaling factors and voxel dimensions for rendering.\n   * @internal\n   */\n  sliceScale(forceVox = false) {\n    let dimsMM = this.screenFieldOfViewMM(0 /* AXIAL */);\n    if (forceVox) {\n      dimsMM = this.screenFieldOfViewVox(0 /* AXIAL */);\n    }\n    const longestAxis = Math.max(dimsMM[0], Math.max(dimsMM[1], dimsMM[2]));\n    const volScale = [dimsMM[0] / longestAxis, dimsMM[1] / longestAxis, dimsMM[2] / longestAxis];\n    if (!this.back?.dims) {\n      throw new Error(\"back.dims undefined\");\n    }\n    const vox = [this.back.dims[1], this.back.dims[2], this.back.dims[3]];\n    return { volScale, vox, longestAxis, dimsMM };\n  }\n  /**\n   * Returns the index of the tile containing the given (x, y) screen coordinates.\n   * Returns -1 if the coordinates are outside all tiles.\n   * @internal\n   */\n  tileIndex(x, y) {\n    for (let i = 0; i < this.screenSlices.length; i++) {\n      const ltwh = this.screenSlices[i].leftTopWidthHeight;\n      if (x > ltwh[0] && y > ltwh[1] && x < ltwh[0] + ltwh[2] && y < ltwh[1] + ltwh[3]) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  /**\n   * Returns the index of the render tile containing (x, y) screen coordinates, or -1 if none.\n   * @internal\n   */\n  inRenderTile(x, y) {\n    const idx = this.tileIndex(x, y);\n    if (idx >= 0 && this.screenSlices[idx].axCorSag === 4 /* RENDER */) {\n      return idx;\n    }\n    return -1;\n  }\n  /**\n   * Adjusts clip plane depth if active, else zooms render size.\n   * @internal\n   */\n  sliceScroll3D(posChange = 0) {\n    if (posChange === 0) {\n      return;\n    }\n    if (this.volumes.length > 0 && this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex][0] < 1.8) {\n      const depthAziElev = this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex].slice();\n      if (posChange > 0) {\n        depthAziElev[0] = Math.min(1.5, depthAziElev[0] + 0.025);\n      }\n      if (posChange < 0) {\n        depthAziElev[0] = Math.max(-1.5, depthAziElev[0] - 0.025);\n      }\n      if (depthAziElev[0] !== this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex][0]) {\n        this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex] = depthAziElev;\n        return this.setClipPlane(this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex]);\n      }\n      return;\n    }\n    if (posChange > 0) {\n      this.scene.volScaleMultiplier = Math.min(2, this.scene.volScaleMultiplier * 1.1);\n    }\n    if (posChange < 0) {\n      this.scene.volScaleMultiplier = Math.max(0.5, this.scene.volScaleMultiplier * 0.9);\n    }\n    this.drawScene();\n  }\n  /**\n   * Checks if (x,y) is within the visible graph plotting area.\n   * @internal\n   */\n  inGraphTile(x, y) {\n    if (this.graph.opacity <= 0 || this.volumes.length < 1 || this.volumes[0].nFrame4D < 1 || !this.graph.plotLTWH) {\n      return false;\n    }\n    if (this.graph.plotLTWH[2] < 1 || this.graph.plotLTWH[3] < 1) {\n      return false;\n    }\n    const pos = [(x - this.graph.LTWH[0]) / this.graph.LTWH[2], (y - this.graph.LTWH[1]) / this.graph.LTWH[3]];\n    return pos[0] > 0 && pos[1] > 0 && pos[0] <= 1 && pos[1] <= 1;\n  }\n  /**\n   * Updates drawBitmap to match clickToSegmentGrowingBitmap if they differ in content and size.\n   * @internal\n   */\n  updateBitmapFromClickToSegment() {\n    if (this.clickToSegmentGrowingBitmap === null) {\n      return;\n    }\n    if (this.drawBitmap === null) {\n      return;\n    }\n    if (this.clickToSegmentGrowingBitmap.length !== this.drawBitmap.length) {\n      return;\n    }\n    const nvx = this.drawBitmap.length;\n    for (let i = 0; i < nvx; i++) {\n      this.drawBitmap[i] = this.clickToSegmentGrowingBitmap[i];\n    }\n  }\n  /**\n   * Calculates the sum of all voxel values in the given bitmap.\n   * @internal\n   */\n  sumBitmap(img) {\n    let sum = 0;\n    for (let i = 0; i < img.length; i++) {\n      sum += img[i];\n    }\n    return sum;\n  }\n  /**\n   * Performs click-to-segment operation based on user click within a specified tile.\n   * Validates input, computes voxel coordinates from screen position, and applies flood fill\n   * with intensity-based thresholding and optional growing mask.\n   * Updates drawing bitmaps and triggers redraw and descriptive stats calculation.\n   * @internal\n   */\n  doClickToSegment(options) {\n    const { tileIndex } = options;\n    if (tileIndex < 0 || tileIndex >= this.screenSlices.length) {\n      log.warn(`Invalid tileIndex ${tileIndex} received in doClickToSegment.`);\n      return;\n    }\n    const axCorSag = this.screenSlices[tileIndex].axCorSag;\n    if (axCorSag > 2 /* SAGITTAL */) {\n      log.warn(\"ClickToSegment attempted on non-2D slice tile.\");\n      return;\n    }\n    const texFrac = this.screenXY2TextureFrac(\n      this.clickToSegmentXY[0],\n      // Use the stored click location\n      this.clickToSegmentXY[1],\n      tileIndex,\n      false\n    );\n    if (texFrac[0] < 0) {\n      log.debug(\"Click location outside valid texture fraction for the tile.\");\n      return;\n    }\n    const pt = this.frac2vox(texFrac);\n    const threshold = this.opts.clickToSegmentPercent;\n    let voxelIntensity = this.back.getValue(pt[0], pt[1], pt[2]);\n    if (this.opts.clickToSegmentAutoIntensity) {\n      if (threshold !== 0) {\n        if (voxelIntensity === 0) {\n          voxelIntensity = 0.01;\n        }\n        this.opts.clickToSegmentIntensityMax = voxelIntensity * (1 + threshold);\n        this.opts.clickToSegmentIntensityMin = voxelIntensity * (1 - threshold);\n      }\n      if (voxelIntensity > (this.back.cal_min + this.back.cal_max) * 0.5) {\n        this.opts.clickToSegmentBright = true;\n      } else {\n        this.opts.clickToSegmentBright = false;\n      }\n    }\n    const brightOrDark = this.opts.clickToSegmentBright ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n    this.drawPenAxCorSag = axCorSag;\n    const targetBitmap = this.clickToSegmentIsGrowing ? this.clickToSegmentGrowingBitmap : this.drawBitmap;\n    if (!targetBitmap) {\n      log.error(\"Target bitmap for flood fill is null.\");\n      if (!this.clickToSegmentIsGrowing) {\n        this.createEmptyDrawing();\n        if (!this.drawBitmap) {\n          return;\n        }\n      } else {\n        if (!this.drawBitmap) {\n          this.createEmptyDrawing();\n        }\n        if (!this.drawBitmap) {\n          return;\n        }\n        this.clickToSegmentGrowingBitmap = this.drawBitmap.slice();\n      }\n      log.warn(\"Initialized missing bitmap in doClickToSegment.\");\n    }\n    this.drawFloodFill(\n      [pt[0], pt[1], pt[2]],\n      this.opts.penValue,\n      brightOrDark,\n      this.opts.clickToSegmentIntensityMin,\n      this.opts.clickToSegmentIntensityMax,\n      this.opts.floodFillNeighbors,\n      this.opts.clickToSegmentMaxDistanceMM,\n      this.opts.clickToSegmentIs2D,\n      targetBitmap\n    );\n    if (!this.clickToSegmentIsGrowing) {\n      log.debug(\"Applying clickToSegment mask to drawBitmap.\");\n      if (this.drawBitmap) {\n        this.refreshDrawing(false, false);\n        this.drawScene();\n      } else {\n        log.error(\"Cannot refresh drawing after click-to-segment apply, drawBitmap is null.\");\n      }\n      if (this.drawBitmap) {\n        const info = this.getDescriptives({\n          layer: 0,\n          masks: [],\n          drawingIsMask: true\n          // Use the final this.drawBitmap\n        });\n        this.onClickToSegment({ mL: info.volumeML, mm3: info.volumeMM3 });\n      }\n    }\n    this.createOnLocationChange(axCorSag);\n  }\n  /**\n   * Handles mouse click on canvas by updating crosshair position, drawing, or segmenting based on current mode and location.\n   * Supports thumbnail loading, graph interaction, 3D slice scrolling, and click-to-segment with flood fill.\n   * @internal\n   */\n  mouseClick(x, y, posChange = 0, isDelta = true) {\n    x *= this.uiData.dpr;\n    y *= this.uiData.dpr;\n    this.canvas.focus();\n    if (this.thumbnailVisible) {\n      this.thumbnailVisible = false;\n      Promise.all([this.loadVolumes(this.deferredVolumes), this.loadMeshes(this.deferredMeshes)]).catch((e) => {\n        throw e;\n      });\n      return;\n    }\n    if (this.inGraphTile(x, y)) {\n      if (!this.graph.plotLTWH) {\n        throw new Error(\"plotLTWH undefined\");\n      }\n      const pos = [\n        (x - this.graph.plotLTWH[0]) / this.graph.plotLTWH[2],\n        (y - this.graph.plotLTWH[1]) / this.graph.plotLTWH[3]\n      ];\n      if (pos[0] > 0 && pos[1] > 0 && pos[0] <= 1 && pos[1] <= 1) {\n        const vol = Math.round(pos[0] * (this.volumes[0].nFrame4D - 1));\n        this.setFrame4D(this.volumes[0].id, vol);\n        return;\n      }\n      if (pos[0] > 0.5 && pos[1] > 1) {\n        this.loadDeferred4DVolumes(this.volumes[0].id).catch((e) => {\n          throw e;\n        });\n      }\n      return;\n    }\n    if (this.inRenderTile(x, y) >= 0) {\n      this.sliceScroll3D(posChange);\n      this.drawScene();\n      return;\n    }\n    if (this.screenSlices.length < 1 || this.gl.canvas.height < 1 || this.gl.canvas.width < 1) {\n      return;\n    }\n    for (let i = 0; i < this.screenSlices.length; i++) {\n      const axCorSag = this.screenSlices[i].axCorSag;\n      if (this.drawPenAxCorSag >= 0 && this.drawPenAxCorSag !== axCorSag) {\n        continue;\n      }\n      if (axCorSag > 2 /* SAGITTAL */ && !this.opts.clickToSegment && posChange === 0) {\n        continue;\n      }\n      const texFrac = this.screenXY2TextureFrac(x, y, i, true);\n      if (texFrac[0] < 0) {\n        continue;\n      }\n      if (posChange !== 0 || !isDelta) {\n        if (!isDelta) {\n          if (axCorSag <= 2 /* SAGITTAL */) {\n            this.scene.crosshairPos[2 - axCorSag] = posChange;\n            this.drawScene();\n            this.createOnLocationChange(axCorSag);\n          }\n          return;\n        }\n        const posNeg = posChange < 0 ? -1 : 1;\n        const xyz = [0, 0, 0];\n        if (axCorSag <= 2 /* SAGITTAL */) {\n          xyz[2 - axCorSag] = posNeg;\n          this.moveCrosshairInVox(xyz[0], xyz[1], xyz[2]);\n        }\n        return;\n      }\n      if (this.opts.isForceMouseClickToVoxelCenters) {\n        this.scene.crosshairPos = vec313.clone(this.vox2frac(this.frac2vox(texFrac)));\n      } else {\n        this.scene.crosshairPos = vec313.clone(texFrac);\n      }\n      if (this.opts.drawingEnabled) {\n        const pt = this.frac2vox(this.scene.crosshairPos);\n        if (!isFinite(this.opts.penValue) || this.opts.penValue < 0 || Object.is(this.opts.penValue, -0)) {\n          let growMode = 0;\n          let floodFillNewColor = Math.abs(this.opts.penValue);\n          const isGrowTool = true;\n          if (Object.is(this.opts.penValue, -0)) {\n            growMode = 0;\n            floodFillNewColor = 0;\n            log.debug(\"Erase Cluster selected\");\n          } else {\n            growMode = this.opts.penValue;\n            log.debug(\"Intensity Grow selected\", growMode);\n          }\n          this.drawFloodFill(\n            pt,\n            floodFillNewColor,\n            growMode,\n            NaN,\n            NaN,\n            this.opts.floodFillNeighbors,\n            Number.POSITIVE_INFINITY,\n            false,\n            this.drawBitmap,\n            isGrowTool\n          );\n          this.drawScene();\n          this.createOnLocationChange(axCorSag);\n          return;\n        } else if (this.opts.clickToSegment) {\n          if (axCorSag <= 2 /* SAGITTAL */) {\n            this.clickToSegmentIsGrowing = false;\n            this.doClickToSegment({\n              x: this.clickToSegmentXY[0],\n              y: this.clickToSegmentXY[1],\n              tileIndex: i\n            });\n          }\n          this.createOnLocationChange(axCorSag);\n          return;\n        } else {\n          if (this.opts.penType === 0 /* PEN */) {\n            if (isNaN(this.drawPenLocation[0])) {\n              this.drawPenAxCorSag = axCorSag;\n              this.drawPenFillPts = [];\n              this.drawPt(...pt, this.opts.penValue);\n            } else {\n              if (pt[0] === this.drawPenLocation[0] && pt[1] === this.drawPenLocation[1] && pt[2] === this.drawPenLocation[2]) {\n                this.drawScene();\n                this.createOnLocationChange(axCorSag);\n                return;\n              }\n              this.drawPenLine(pt, this.drawPenLocation, this.opts.penValue);\n            }\n            this.drawPenLocation = pt;\n            if (this.opts.isFilledPen) {\n              this.drawPenFillPts.push(pt);\n            }\n            this.refreshDrawing(false, false);\n          } else if (this.opts.penType === 1 /* RECTANGLE */ || this.opts.penType === 2 /* ELLIPSE */) {\n            if (isNaN(this.drawShapeStartLocation[0])) {\n              this.drawPenAxCorSag = axCorSag;\n              this.drawShapeStartLocation = [...pt];\n              if (this.drawBitmap) {\n                this.drawShapePreviewBitmap = this.drawBitmap.slice();\n              }\n            } else {\n              if (this.drawShapePreviewBitmap && this.drawBitmap) {\n                this.drawBitmap.set(this.drawShapePreviewBitmap);\n                if (this.opts.penType === 1 /* RECTANGLE */) {\n                  this.drawRectangleMask(this.drawShapeStartLocation, pt, this.opts.penValue);\n                } else if (this.opts.penType === 2 /* ELLIPSE */) {\n                  this.drawEllipseMask(this.drawShapeStartLocation, pt, this.opts.penValue);\n                }\n                this.refreshDrawing(false, false);\n              }\n            }\n          }\n        }\n      }\n      this.drawScene();\n      this.createOnLocationChange(axCorSag);\n      return;\n    }\n  }\n  /**\n   * Draws a 10cm ruler on a 2D slice tile based on screen FOV and slice dimensions.\n   * @internal\n   */\n  drawRuler() {\n    let fovMM = [];\n    let ltwh = [];\n    for (let i = 0; i < this.screenSlices.length; i++) {\n      if (this.screenSlices[i].axCorSag === 4 /* RENDER */) {\n        continue;\n      }\n      if (this.screenSlices[i].fovMM.length > 1) {\n        ltwh = this.screenSlices[i].leftTopWidthHeight;\n        fovMM = this.screenSlices[i].fovMM;\n        break;\n      }\n    }\n    if (ltwh.length < 4) {\n      return;\n    }\n    const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n    const frac10cm = 100 / fovMM[0];\n    const pix10cm = frac10cm * ltwh[2];\n    const pix1cm = Math.max(Math.round(pix10cm * 0.1), 2);\n    const thick = Number(this.opts.rulerWidth);\n    const pixLeft = Math.floor(ltwh[0] + 0.5 * ltwh[2] - 0.5 * pix10cm);\n    const pixTop = Math.floor(ltwh[1] + ltwh[3] - pix1cm) + 0.5 * thick;\n    const clippedLeft = Math.max(regionX, pixLeft);\n    const clippedRight = Math.min(regionX + regionW, pixLeft + pix10cm);\n    const clippedY = Math.min(regionY + regionH, pixTop);\n    if (clippedRight <= clippedLeft) {\n      return;\n    }\n    const startXYendXY = [clippedLeft, clippedY, clippedRight, clippedY];\n    let outlineColor = [0, 0, 0, 1];\n    if (this.opts.rulerColor[0] + this.opts.rulerColor[1] + this.opts.rulerColor[2] < 0.8) {\n      outlineColor = [1, 1, 1, 1];\n    }\n    this.drawRuler10cm(startXYendXY, outlineColor, thick + 1);\n    this.drawRuler10cm(startXYendXY, this.opts.rulerColor, thick);\n  }\n  /**\n   * Draws a 10cm ruler at specified coordinates with given color and width.\n   * @internal\n   */\n  drawRuler10cm(startXYendXY, rulerColor, rulerWidth = 1) {\n    if (!this.lineShader) {\n      throw new Error(\"lineShader undefined\");\n    }\n    this.gl.bindVertexArray(this.genericVAO);\n    this.lineShader.use(this.gl);\n    this.gl.uniform4fv(this.lineShader.uniforms.lineColor, rulerColor);\n    this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight, [this.gl.canvas.width, this.gl.canvas.height]);\n    this.gl.uniform1f(this.lineShader.uniforms.thickness, rulerWidth);\n    this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY, startXYendXY);\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n    const w1cm = -0.1 * (startXYendXY[0] - startXYendXY[2]);\n    const b = startXYendXY[1] - Math.floor(0.5 * this.opts.rulerWidth);\n    const t = Math.floor(b - 0.35 * w1cm);\n    const t2 = Math.floor(b - 0.7 * w1cm);\n    for (let i = 0; i < 11; i++) {\n      let l = startXYendXY[0] + i * w1cm;\n      l = Math.max(l, startXYendXY[0] + 0.5 * rulerWidth);\n      l = Math.min(l, startXYendXY[2] - 0.5 * rulerWidth);\n      const xyxy = [l, b, l, t];\n      if (i % 5 === 0) {\n        xyxy[3] = t2;\n      }\n      this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY, xyxy);\n      this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n    }\n    this.gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Returns vec4 with XYZ millimeter coordinates and tile index for given screen XY.\n   * @internal\n   */\n  screenXY2mm(x, y, forceSlice = -1) {\n    let texFrac;\n    for (let s = 0; s < this.screenSlices.length; s++) {\n      let i = s;\n      if (forceSlice >= 0) {\n        i = forceSlice;\n      }\n      const axCorSag = this.screenSlices[i].axCorSag;\n      if (axCorSag > 2 /* SAGITTAL */) {\n        continue;\n      }\n      const ltwh = this.screenSlices[i].leftTopWidthHeight;\n      if (x < ltwh[0] || y < ltwh[1] || x > ltwh[0] + ltwh[2] || y > ltwh[1] + ltwh[3]) {\n        continue;\n      }\n      texFrac = this.screenXY2TextureFrac(x, y, i, false);\n      if (texFrac[0] < 0) {\n        continue;\n      }\n      const mm = this.frac2mm(texFrac);\n      return vec49.fromValues(mm[0], mm[1], mm[2], i);\n    }\n    return vec49.fromValues(NaN, NaN, NaN, NaN);\n  }\n  /**\n   * Update scene pan position during drag based on start and end screen coordinates.\n   * @internal\n   */\n  dragForPanZoom(startXYendXY) {\n    const endMM = this.screenXY2mm(startXYendXY[2], startXYendXY[3]);\n    if (isNaN(endMM[0])) {\n      return;\n    }\n    const startMM = this.screenXY2mm(startXYendXY[0], startXYendXY[1], endMM[3]);\n    if (isNaN(startMM[0]) || isNaN(endMM[0]) || isNaN(endMM[3])) {\n      return;\n    }\n    const v = vec49.create();\n    const zoom = this.uiData.pan2DxyzmmAtMouseDown[3];\n    vec49.sub(v, endMM, startMM);\n    this.scene.pan2Dxyzmm[0] = this.uiData.pan2DxyzmmAtMouseDown[0] + zoom * v[0];\n    this.scene.pan2Dxyzmm[1] = this.uiData.pan2DxyzmmAtMouseDown[1] + zoom * v[1];\n    this.scene.pan2Dxyzmm[2] = this.uiData.pan2DxyzmmAtMouseDown[2] + zoom * v[2];\n    this.canvas.focus();\n  }\n  /**\n   * Handle center-button drag as pan and zoom.\n   * @internal\n   */\n  dragForCenterButton(startXYendXY) {\n    this.dragForPanZoom(startXYendXY);\n  }\n  /**\n   * Update 3D slicer zoom and pan based on drag movement.\n   * @internal\n   */\n  dragForSlicer3D(startXYendXY) {\n    let zoom = this.uiData.pan2DxyzmmAtMouseDown[3];\n    const y = startXYendXY[3] - startXYendXY[1];\n    const pixelScale = 0.01;\n    zoom += y * pixelScale;\n    zoom = Math.max(zoom, 0.1);\n    zoom = Math.min(zoom, 10);\n    const zoomChange = this.scene.pan2Dxyzmm[3] - zoom;\n    if (this.opts.yoke3Dto2DZoom) {\n      this.scene.volScaleMultiplier = zoom;\n    }\n    this.scene.pan2Dxyzmm[3] = zoom;\n    const mm = this.frac2mm(this.scene.crosshairPos);\n    this.scene.pan2Dxyzmm[0] += zoomChange * mm[0];\n    this.scene.pan2Dxyzmm[1] += zoomChange * mm[1];\n    this.scene.pan2Dxyzmm[2] += zoomChange * mm[2];\n  }\n  /**\n   * Draw a measurement line with end caps and length text on a 2D tile.\n   * @internal\n   */\n  drawMeasurementTool(startXYendXY, isDrawText = true) {\n    function extendTo(x0, y0, x1, y1, distance) {\n      const x = x0 - x1;\n      const y = y0 - y1;\n      if (x === 0 && y === 0) {\n        return {\n          origin: [x1 + distance, y1],\n          terminus: [x1 + distance, y1]\n        };\n      }\n      const c = Math.sqrt(x * x + y * y);\n      const dX = distance * x / c;\n      const dY = distance * y / c;\n      return {\n        origin: [x0 + dX, y0 + dY],\n        // next to start point\n        terminus: [x1 - dX, y1 - dY]\n      };\n    }\n    const gl = this.gl;\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n    gl.bindVertexArray(this.genericVAO);\n    gl.depthFunc(gl.ALWAYS);\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n    if (!this.lineShader) {\n      throw new Error(\"lineShader undefined\");\n    }\n    this.lineShader.use(this.gl);\n    gl.uniform4fv(this.lineShader.uniforms.lineColor, this.opts.rulerColor);\n    gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight, [gl.canvas.width, gl.canvas.height]);\n    gl.uniform1f(this.lineShader.uniforms.thickness, this.opts.rulerWidth);\n    gl.uniform4fv(this.lineShader.uniforms.startXYendXY, startXYendXY);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    const measureLineColor = this.opts.measureLineColor;\n    measureLineColor[3] = 1;\n    gl.uniform4fv(this.lineShader.uniforms.lineColor, measureLineColor);\n    const w = this.opts.rulerWidth;\n    gl.uniform1f(this.lineShader.uniforms.thickness, w * 2);\n    let sXYeXY = [startXYendXY[0], startXYendXY[1] - w, startXYendXY[0], startXYendXY[1] + w];\n    gl.uniform4fv(this.lineShader.uniforms.startXYendXY, sXYeXY);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    sXYeXY = [startXYendXY[2], startXYendXY[3] - w, startXYendXY[2], startXYendXY[3] + w];\n    gl.uniform4fv(this.lineShader.uniforms.startXYendXY, sXYeXY);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    let startXY = this.canvasPos2frac([startXYendXY[0], startXYendXY[1]]);\n    let endXY = this.canvasPos2frac([startXYendXY[2], startXYendXY[3]]);\n    if (startXY[0] >= 0 && endXY[0] >= 0) {\n      const startMm = this.frac2mm(startXY);\n      startXY = vec313.fromValues(startMm[0], startMm[1], startMm[2]);\n      const endMm = this.frac2mm(endXY);\n      endXY = vec313.fromValues(endMm[0], endMm[1], endMm[2]);\n      const v = vec313.create();\n      vec313.sub(v, startXY, endXY);\n      const lenMM = vec313.len(v);\n      let decimals = 2;\n      if (lenMM > 9) {\n        decimals = 1;\n      }\n      if (lenMM > 99) {\n        decimals = 0;\n      }\n      let stringMM = lenMM.toFixed(decimals);\n      if (this.opts.showMeasureUnits) {\n        stringMM = `${stringMM} mm`;\n      }\n      let textCoords = startXYendXY;\n      const [x0, y0, x1, y1] = startXYendXY;\n      const { origin, terminus } = extendTo(x0, y0, x1, y1, 30);\n      switch (this.opts.measureTextJustify) {\n        case \"start\":\n          textCoords = [...origin, ...origin.map((point) => point + 1)];\n          break;\n        case \"end\":\n          textCoords = textCoords = [...terminus, ...terminus.map((point) => point + 1)];\n          break;\n        default:\n          textCoords = startXYendXY;\n          break;\n      }\n      if (isDrawText) {\n        this.drawTextBetween(\n          textCoords,\n          stringMM,\n          this.opts.measureTextHeight / 0.06,\n          // <- TODO measureFontPx\n          this.opts.measureTextColor\n        );\n      }\n    }\n    gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Draw angle measurement tool with two lines and angle display.\n   * @internal\n   */\n  drawAngleMeasurementTool() {\n    if (this.uiData.angleState === \"drawing_first_line\") {\n      this.drawMeasurementTool(\n        [this.uiData.dragStart[0], this.uiData.dragStart[1], this.uiData.dragEnd[0], this.uiData.dragEnd[1]],\n        false\n      );\n    } else if (this.uiData.angleState === \"drawing_second_line\") {\n      this.drawMeasurementTool(this.uiData.angleFirstLine, false);\n      this.drawMeasurementTool(\n        [\n          this.uiData.angleFirstLine[2],\n          // start from end of first line\n          this.uiData.angleFirstLine[3],\n          this.uiData.dragEnd[0],\n          // to current mouse position\n          this.uiData.dragEnd[1]\n        ],\n        false\n      );\n      this.drawAngleText();\n    }\n  }\n  /**\n   * Calculate and draw angle text at the intersection of two lines.\n   * @internal\n   */\n  drawAngleText() {\n    const line1 = this.uiData.angleFirstLine;\n    const line2 = [\n      this.uiData.angleFirstLine[2],\n      // start from end of first line\n      this.uiData.angleFirstLine[3],\n      this.uiData.dragEnd[0],\n      // to current mouse position\n      this.uiData.dragEnd[1]\n    ];\n    const angle = this.calculateAngleBetweenLines(line1, line2);\n    const intersectionX = this.uiData.angleFirstLine[2];\n    const intersectionY = this.uiData.angleFirstLine[3];\n    const angleText = `${angle.toFixed(1)}\\xB0`;\n    this.drawTextBetween(\n      [intersectionX, intersectionY, intersectionX + 1, intersectionY + 1],\n      angleText,\n      this.opts.measureTextHeight / 0.06,\n      this.opts.measureTextColor\n    );\n  }\n  /**\n   * Calculate and draw angle text for a completed angle.\n   * @internal\n   */\n  drawAngleTextForAngle(angle) {\n    const angle_degrees = this.calculateAngleBetweenLines(angle.firstLine, angle.secondLine);\n    const intersectionX = angle.firstLine[2];\n    const intersectionY = angle.firstLine[3];\n    const angleText = `${angle_degrees.toFixed(1)}\\xB0`;\n    this.drawTextBetween(\n      [intersectionX, intersectionY, intersectionX + 1, intersectionY + 1],\n      angleText,\n      this.opts.measureTextHeight / 0.06,\n      this.opts.measureTextColor\n    );\n  }\n  /**\n   * Calculate angle between two lines in degrees.\n   * @internal\n   */\n  calculateAngleBetweenLines(line1, line2) {\n    const intersectionX = line1[2];\n    const intersectionY = line1[3];\n    const v1x = line1[0] - intersectionX;\n    const v1y = line1[1] - intersectionY;\n    const v2x = line2[2] - intersectionX;\n    const v2y = line2[3] - intersectionY;\n    const dot = v1x * v2x + v1y * v2y;\n    const mag1 = Math.sqrt(v1x * v1x + v1y * v1y);\n    const mag2 = Math.sqrt(v2x * v2x + v2y * v2y);\n    if (mag1 === 0 || mag2 === 0) {\n      return 0;\n    }\n    const cosAngle = Math.max(-1, Math.min(1, dot / (mag1 * mag2)));\n    const angleRad = Math.acos(cosAngle);\n    const angleDeg = angleRad * (180 / Math.PI);\n    return angleDeg;\n  }\n  /**\n   * Reset the angle measurement state.\n   * @internal\n   */\n  resetAngleMeasurement() {\n    this.uiData.angleState = \"none\";\n    this.uiData.angleFirstLine = [0, 0, 0, 0];\n  }\n  /**\n   * Get slice information for the current measurement/angle.\n   * @internal\n   */\n  getCurrentSliceInfo() {\n    const tileIdx = this.tileIndex(this.uiData.dragStart[0], this.uiData.dragStart[1]);\n    if (tileIdx >= 0 && tileIdx < this.screenSlices.length) {\n      const sliceType = this.screenSlices[tileIdx].axCorSag;\n      let slicePosition2 = 0;\n      if (sliceType === 0 /* AXIAL */) {\n        slicePosition2 = this.scene.crosshairPos[2];\n      } else if (sliceType === 1 /* CORONAL */) {\n        slicePosition2 = this.scene.crosshairPos[1];\n      } else if (sliceType === 2 /* SAGITTAL */) {\n        slicePosition2 = this.scene.crosshairPos[0];\n      }\n      return {\n        sliceIndex: tileIdx,\n        sliceType,\n        slicePosition: slicePosition2\n      };\n    }\n    const currentSliceType = this.opts.sliceType;\n    let slicePosition = 0;\n    if (currentSliceType === 0 /* AXIAL */) {\n      slicePosition = this.scene.crosshairPos[2];\n    } else if (currentSliceType === 1 /* CORONAL */) {\n      slicePosition = this.scene.crosshairPos[1];\n    } else if (currentSliceType === 2 /* SAGITTAL */) {\n      slicePosition = this.scene.crosshairPos[0];\n    } else if (currentSliceType === 3 /* MULTIPLANAR */) {\n      const startFrac = this.canvasPos2frac([this.uiData.dragStart[0], this.uiData.dragStart[1]]);\n      if (startFrac[0] >= 0) {\n        slicePosition = this.scene.crosshairPos[2];\n      }\n    }\n    return { sliceIndex: -1, sliceType: currentSliceType, slicePosition };\n  }\n  /**\n   * Get the current slice position based on slice type.\n   * @internal\n   */\n  getCurrentSlicePosition(sliceType) {\n    if (sliceType === 0 /* AXIAL */) {\n      return this.scene.crosshairPos[2];\n    } else if (sliceType === 1 /* CORONAL */) {\n      return this.scene.crosshairPos[1];\n    } else if (sliceType === 2 /* SAGITTAL */) {\n      return this.scene.crosshairPos[0];\n    }\n    return 0;\n  }\n  /**\n   * Check if a measurement/angle should be drawn on the current slice.\n   * @internal\n   */\n  shouldDrawOnCurrentSlice(sliceIndex, sliceType, slicePosition) {\n    if (this.opts.sliceType === 3 /* MULTIPLANAR */) {\n      if (sliceType > 2 /* SAGITTAL */) {\n        return false;\n      }\n      for (let i = 0; i < this.screenSlices.length; i++) {\n        if (this.screenSlices[i].axCorSag === sliceType) {\n          const currentSlicePosition2 = this.getCurrentSlicePosition(sliceType);\n          const tolerance2 = 1e-3;\n          const difference2 = Math.abs(currentSlicePosition2 - slicePosition);\n          if (difference2 < tolerance2) {\n            return true;\n          }\n        }\n      }\n      return false;\n    } else if (this.opts.sliceType !== sliceType) {\n      return false;\n    }\n    const currentSlicePosition = this.getCurrentSlicePosition(sliceType);\n    const tolerance = 1e-3;\n    const difference = Math.abs(currentSlicePosition - slicePosition);\n    const result = difference < tolerance;\n    return result;\n  }\n  /**\n   * Clear all persistent measurement lines from the canvas.\n   * @example\n   * ```js\n   * nv.clearMeasurements()\n   * ```\n   */\n  clearMeasurements() {\n    this.document.completedMeasurements = [];\n    this.drawScene();\n  }\n  /**\n   * Clear all persistent angle measurements from the canvas.\n   * @example\n   * ```js\n   * nv.clearAngles()\n   * ```\n   */\n  clearAngles() {\n    this.document.completedAngles = [];\n    this.drawScene();\n  }\n  /**\n   * Clear all persistent measurements and angles from the canvas.\n   * @example\n   * ```js\n   * nv.clearAllMeasurements()\n   * ```\n   */\n  clearAllMeasurements() {\n    this.document.completedMeasurements = [];\n    this.document.completedAngles = [];\n    this.drawScene();\n  }\n  /**\n   * Set the drag mode for mouse interactions.\n   * @param mode - The drag mode to set ('none', 'contrast', 'measurement', 'angle', 'pan', 'slicer3D', 'callbackOnly', 'roiSelection')\n   */\n  setDragMode(mode) {\n    if (typeof mode === \"string\") {\n      switch (mode) {\n        case \"none\":\n          this.opts.dragMode = 0 /* none */;\n          break;\n        case \"contrast\":\n          this.opts.dragMode = 1 /* contrast */;\n          break;\n        case \"measurement\":\n          this.opts.dragMode = 2 /* measurement */;\n          break;\n        case \"angle\":\n          this.opts.dragMode = 7 /* angle */;\n          break;\n        case \"pan\":\n          this.opts.dragMode = 3 /* pan */;\n          break;\n        case \"slicer3D\":\n          this.opts.dragMode = 4 /* slicer3D */;\n          break;\n        case \"callbackOnly\":\n          this.opts.dragMode = 5 /* callbackOnly */;\n          break;\n        case \"roiSelection\":\n          this.opts.dragMode = 6 /* roiSelection */;\n          break;\n        default:\n          console.warn(`Unknown drag mode: ${mode}`);\n          return;\n      }\n    } else {\n      this.opts.dragMode = mode;\n    }\n    if (this.opts.dragMode !== 7 /* angle */) {\n      this.resetAngleMeasurement();\n    }\n    this.clearActiveDragMode();\n  }\n  /**\n   * Set custom mouse event configuration for button mappings.\n   * @param config - Mouse event configuration object\n   * @example\n   * ```js\n   * nv.setMouseEventConfig({\n   *   leftButton: {\n   *     primary: DRAG_MODE.windowing,\n   *     withShift: DRAG_MODE.measurement,\n   *     withCtrl: DRAG_MODE.crosshair\n   *   },\n   *   rightButton: DRAG_MODE.crosshair,\n   *   centerButton: DRAG_MODE.pan\n   * })\n   * ```\n   */\n  setMouseEventConfig(config) {\n    this.opts.mouseEventConfig = config;\n    this.clearActiveDragMode();\n  }\n  /**\n   * Set custom touch event configuration for touch gesture mappings.\n   * @param config - Touch event configuration object\n   * @example\n   * ```js\n   * nv.setTouchEventConfig({\n   *   singleTouch: DRAG_MODE.windowing,\n   *   doubleTouch: DRAG_MODE.pan\n   * })\n   * ```\n   */\n  setTouchEventConfig(config) {\n    this.opts.touchEventConfig = config;\n    this.clearActiveDragMode();\n  }\n  /**\n   * Get current mouse event configuration.\n   * @returns Current mouse event configuration or undefined if using defaults\n   */\n  getMouseEventConfig() {\n    return this.opts.mouseEventConfig;\n  }\n  /**\n   * Get current touch event configuration.\n   * @returns Current touch event configuration or undefined if using defaults\n   */\n  getTouchEventConfig() {\n    return this.opts.touchEventConfig;\n  }\n  /**\n   * Draw a rectangle or outline at given position with specified color or default crosshair color.\n   * @internal\n   */\n  drawRect(leftTopWidthHeight, lineColor = [1, 0, 0, -1]) {\n    if (lineColor[3] < 0) {\n      lineColor = this.opts.crosshairColor;\n    }\n    if (!this.rectShader) {\n      throw new Error(\"rectShader undefined\");\n    }\n    this.gl.disable(this.gl.CULL_FACE);\n    if (!this.opts.selectionBoxIsOutline) {\n      this.rectShader.use(this.gl);\n      this.gl.enable(this.gl.BLEND);\n      this.gl.uniform4fv(this.rectShader.uniforms.lineColor, lineColor);\n      this.gl.uniform2fv(this.rectShader.uniforms.canvasWidthHeight, [this.gl.canvas.width, this.gl.canvas.height]);\n      this.gl.uniform4f(\n        this.rectShader.uniforms.leftTopWidthHeight,\n        leftTopWidthHeight[0],\n        leftTopWidthHeight[1],\n        leftTopWidthHeight[2],\n        leftTopWidthHeight[3]\n      );\n      this.gl.bindVertexArray(this.genericVAO);\n      this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n      this.gl.bindVertexArray(this.unusedVAO);\n    } else {\n      this.drawCircle(leftTopWidthHeight, lineColor, 0.1);\n      this.rectOutlineShader.use(this.gl);\n      this.gl.enable(this.gl.BLEND);\n      this.gl.uniform1f(this.rectOutlineShader.uniforms.thickness, this.opts.selectionBoxLineThickness);\n      this.gl.uniform4fv(this.rectOutlineShader.uniforms.lineColor, lineColor);\n      this.gl.uniform2fv(this.rectOutlineShader.uniforms.canvasWidthHeight, [\n        this.gl.canvas.width,\n        this.gl.canvas.height\n      ]);\n      this.gl.uniform4f(\n        this.rectOutlineShader.uniforms.leftTopWidthHeight,\n        leftTopWidthHeight[0],\n        leftTopWidthHeight[1],\n        leftTopWidthHeight[2],\n        leftTopWidthHeight[3]\n      );\n      this.gl.bindVertexArray(this.genericVAO);\n      this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n      this.gl.bindVertexArray(this.unusedVAO);\n    }\n  }\n  drawBoundsBox(leftTopWidthHeight, color, thickness = 2) {\n    if (!this.rectOutlineShader) {\n      throw new Error(\"rectOutlineShader undefined\");\n    }\n    const gl = this.gl;\n    const [x, y, w, h] = leftTopWidthHeight;\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n    this.rectOutlineShader.use(gl);\n    gl.enable(gl.BLEND);\n    gl.uniform1f(this.rectOutlineShader.uniforms.thickness, thickness);\n    gl.uniform4fv(this.rectOutlineShader.uniforms.lineColor, color);\n    gl.uniform2fv(this.rectOutlineShader.uniforms.canvasWidthHeight, [gl.canvas.width, gl.canvas.height]);\n    gl.uniform4f(this.rectOutlineShader.uniforms.leftTopWidthHeight, x, y, w, h);\n    gl.bindVertexArray(this.genericVAO);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Draw a circle or outline at given position with specified color or default crosshair color.\n   * @internal\n   */\n  drawCircle(leftTopWidthHeight, circleColor = this.opts.fontColor, fillPercent = 1) {\n    if (!this.circleShader) {\n      throw new Error(\"circleShader undefined\");\n    }\n    this.circleShader.use(this.gl);\n    this.gl.enable(this.gl.BLEND);\n    this.gl.uniform4fv(this.circleShader.uniforms.circleColor, circleColor);\n    this.gl.uniform2fv(this.circleShader.uniforms.canvasWidthHeight, [this.gl.canvas.width, this.gl.canvas.height]);\n    this.gl.uniform4f(\n      this.circleShader.uniforms.leftTopWidthHeight,\n      leftTopWidthHeight[0],\n      leftTopWidthHeight[1],\n      leftTopWidthHeight[2],\n      leftTopWidthHeight[3]\n    );\n    this.gl.uniform1f(this.circleShader.uniforms.fillPercent, fillPercent);\n    this.gl.uniform4fv(this.circleShader.uniforms.circleColor, circleColor);\n    this.gl.bindVertexArray(this.genericVAO);\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n    this.gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Draw selection box: circle if ROI selection mode, else rectangle.\n   * @internal\n   */\n  drawSelectionBox(leftTopWidthHeight) {\n    this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n    if (this.getCurrentDragMode() === 6 /* roiSelection */) {\n      this.drawCircle(leftTopWidthHeight, this.opts.selectionBoxColor, 0.1);\n      return;\n    }\n    this.drawRect(leftTopWidthHeight, this.opts.selectionBoxColor);\n  }\n  /**\n   * Get canvas height available for tiles (excludes colorbar).\n   * @internal\n   */\n  effectiveCanvasHeight() {\n    let regionH = this.gl.canvas.height;\n    if (this.opts.bounds) {\n      const [[, y1], [, y2]] = this.opts.bounds;\n      const yTop = Math.round(y1 * this.gl.canvas.height);\n      const yBot = Math.round(y2 * this.gl.canvas.height);\n      regionH = yBot - yTop;\n    }\n    return regionH - this.colorbarHeight;\n  }\n  /**\n   * Get canvas width available for tiles (excludes legend panel).\n   * @internal\n   */\n  effectiveCanvasWidth() {\n    let regionW = this.gl.canvas.width;\n    if (this.opts.bounds) {\n      const [[x1], [x2]] = this.opts.bounds;\n      regionW = Math.round((x2 - x1) * this.gl.canvas.width);\n    }\n    return regionW - this.getLegendPanelWidth();\n  }\n  /**\n   * Get all 3D labels from document and connectome meshes.\n   * @internal\n   */\n  getAllLabels() {\n    const connectomes = this.meshes.filter((m) => m.type === \"connectome\" /* CONNECTOME */);\n    const meshNodes = connectomes.flatMap((m) => m.nodes);\n    const meshLabels = meshNodes.map((n) => n.label);\n    const definedMeshLabels = meshLabels.filter((l) => l !== void 0);\n    const labels = [...this.document.labels, ...definedMeshLabels];\n    return labels;\n  }\n  /**\n   * Get all visible connectome and non-anchored mesh labels.\n   * @internal\n   */\n  getConnectomeLabels() {\n    const connectomes = this.meshes.filter((m) => m.type === \"connectome\" /* CONNECTOME */ && m.showLegend !== false);\n    const meshNodes = connectomes.flatMap((m) => m.nodes);\n    const meshLabels = meshNodes.map((n) => n.label);\n    const definedMeshLabels = meshLabels.filter((l) => l !== void 0 && l.text !== \"\");\n    const nonAnchoredLabels = this.document.labels.filter((l) => l.anchor == null || l.anchor === 0 /* NONE */);\n    const nonAnchoredLabelSet = new Set(definedMeshLabels);\n    for (const label of nonAnchoredLabels) {\n      nonAnchoredLabelSet.add(label);\n    }\n    const meshes = this.meshes.filter((m) => m.type === \"mesh\" /* MESH */);\n    for (let i = 0; i < meshes.length; i++) {\n      for (let j = 0; j < meshes[i].layers.length; j++) {\n        if (meshes[i].layers[j].labels) {\n          for (let k = 0; k < meshes[i].layers[j].labels.length; k++) {\n            nonAnchoredLabelSet.add(meshes[i].layers[j].labels[k]);\n          }\n        }\n      }\n    }\n    return Array.from(nonAnchoredLabelSet);\n  }\n  /**\n   * Calculate bullet margin width based on widest bullet scale and tallest label height.\n   * @internal\n   */\n  getBulletMarginWidth() {\n    let bulletMargin = 0;\n    const labels = this.getConnectomeLabels();\n    if (labels.length === 0) {\n      return 0;\n    }\n    const widestBulletScale = labels.length === 1 ? labels[0].style.bulletScale : labels.reduce((a, b) => a.style.bulletScale > b.style.bulletScale ? a : b).style.bulletScale;\n    const tallestLabel = labels.length === 1 ? labels[0] : labels.reduce((a, b) => {\n      const aSize = this.fontPx * a.style.textScale;\n      const bSize = this.fontPx * b.style.textScale;\n      const taller = this.textHeight(aSize, a.text) > this.textHeight(bSize, b.text) ? a : b;\n      return taller;\n    });\n    const size = this.fontPx * tallestLabel.style.textScale;\n    bulletMargin = this.textHeight(size, tallestLabel.text) * widestBulletScale;\n    bulletMargin += size;\n    return bulletMargin;\n  }\n  /**\n   * Calculate width of legend panel based on labels and bullet margin.\n   * Returns 0 if legend is hidden or too wide for canvas.\n   * @internal\n   */\n  getLegendPanelWidth() {\n    const labels = this.getConnectomeLabels();\n    if (!this.opts.showLegend || labels.length === 0) {\n      return 0;\n    }\n    const scale = 1;\n    const horizontalMargin = this.fontPx * scale;\n    let width = 0;\n    const longestLabel = labels.reduce((a, b) => {\n      const aSize = this.fontPx * a.style.textScale;\n      const bSize = this.fontPx * b.style.textScale;\n      const longer = this.textWidth(aSize, a.text) > this.textWidth(bSize, b.text) ? a : b;\n      return longer;\n    });\n    const longestTextSize = this.fontPx * longestLabel.style.textScale;\n    const longestTextLength = this.textWidth(longestTextSize, longestLabel.text);\n    const bulletMargin = this.getBulletMarginWidth();\n    if (longestTextLength) {\n      width = bulletMargin + longestTextLength;\n      width += horizontalMargin * 2;\n    }\n    if (width >= this.gl.canvas.width) {\n      return 0;\n    }\n    return width;\n  }\n  /**\n   * Calculate legend panel height based on labels and scale.\n   * @internal\n   */\n  getLegendPanelHeight(panelScale = 1) {\n    const labels = this.getConnectomeLabels();\n    let height = 0;\n    const verticalMargin = this.fontPx;\n    for (const label of labels) {\n      const labelSize = this.fontPx * label.style.textScale * panelScale;\n      const textHeight = this.textHeight(labelSize, label.text);\n      height += textHeight;\n    }\n    if (height) {\n      height += verticalMargin / 2 * (labels.length + 1) * panelScale;\n    }\n    return height;\n  }\n  /**\n   * Calculate and reserve canvas area for colorbar panel,\n   * respecting opts.bounds if defined.\n   * @internal\n   */\n  reserveColorbarPanel() {\n    const fullHt = 3 * this.fontPx;\n    if (fullHt < 0) {\n      return [0, 0, 0, 0];\n    }\n    const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n    const widthPercentage = this.opts.colorbarWidth > 0 && this.opts.colorbarWidth <= 1 ? this.opts.colorbarWidth : 1;\n    const width = widthPercentage * regionW;\n    const leftTopWidthHeight = [\n      regionX + (regionW - width) / 2,\n      // center within region\n      regionY + regionH - fullHt,\n      // top within region\n      width,\n      fullHt\n    ];\n    this.colorbarHeight = leftTopWidthHeight[3] + 1;\n    return leftTopWidthHeight;\n  }\n  /**\n   * Render a single colorbar with optional negative coloring and alpha threshold ticks.\n   * @internal\n   */\n  drawColorbarCore(layer = 0, leftTopWidthHeight = [0, 0, 0, 0], isNegativeColor = false, min = 0, max = 1, isAlphaThreshold) {\n    if (leftTopWidthHeight[2] <= 0 || leftTopWidthHeight[3] <= 0) {\n      return;\n    }\n    const txtHt = this.fontPx;\n    if (txtHt <= 0) {\n      return;\n    }\n    this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n    let margin = txtHt;\n    const fullHt = 3 * txtHt;\n    let barHt = txtHt;\n    if (leftTopWidthHeight[3] < fullHt) {\n      if (leftTopWidthHeight[3] < 3) {\n        return;\n      }\n      margin = 1;\n      barHt = leftTopWidthHeight[3] - 2;\n    }\n    this.gl.disable(this.gl.DEPTH_TEST);\n    this.colorbarHeight = leftTopWidthHeight[3] + 1;\n    const barLTWH = [leftTopWidthHeight[0] + margin, leftTopWidthHeight[1], leftTopWidthHeight[2] - 2 * margin, barHt];\n    const rimLTWH = [barLTWH[0] - 1, barLTWH[1] - 1, barLTWH[2] + 2, barLTWH[3] + 2];\n    if (this.opts.showColorbarBorder) {\n      this.drawRect(rimLTWH, this.opts.crosshairColor);\n    }\n    if (!this.colorbarShader) {\n      throw new Error(\"colorbarShader undefined\");\n    }\n    this.colorbarShader.use(this.gl);\n    this.gl.activeTexture(TEXTURE1_COLORMAPS);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.colormapTexture);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\n    const lx = layer;\n    this.gl.uniform1f(this.colorbarShader.uniforms.layer, lx);\n    this.gl.uniform2fv(this.colorbarShader.uniforms.canvasWidthHeight, [this.gl.canvas.width, this.gl.canvas.height]);\n    this.gl.disable(this.gl.CULL_FACE);\n    if (isNegativeColor) {\n      const flip = [barLTWH[0] + barLTWH[2], barLTWH[1], -barLTWH[2], barLTWH[3]];\n      this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight, flip);\n    } else {\n      this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight, barLTWH);\n    }\n    this.gl.bindVertexArray(this.genericVAO);\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n    this.gl.bindVertexArray(this.unusedVAO);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n    this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n    let thresholdTic = 0;\n    if (isAlphaThreshold && max < 0 && isNegativeColor) {\n      thresholdTic = max;\n      max = 0;\n    } else if (isAlphaThreshold && min > 0) {\n      thresholdTic = min;\n      min = 0;\n    }\n    if (min === max || txtHt < 1) {\n      return;\n    }\n    const range = Math.abs(max - min);\n    let [spacing, ticMin] = tickSpacing(min, max);\n    if (ticMin < min) {\n      ticMin += spacing;\n    }\n    function humanize(x) {\n      return x.toFixed(6).replace(/\\.?0*$/, \"\");\n    }\n    let tic = ticMin;\n    const ticLTWH = [0, barLTWH[1] + barLTWH[3] - txtHt * 0.5, 2, txtHt * 0.75];\n    const txtTop = ticLTWH[1] + ticLTWH[3];\n    const isNeg = 1;\n    while (tic <= max) {\n      ticLTWH[0] = barLTWH[0] + (tic - min) / range * barLTWH[2];\n      this.drawRect(ticLTWH);\n      const str = humanize(isNeg * tic);\n      this.drawTextBelow([ticLTWH[0], txtTop], str);\n      tic += spacing;\n    }\n    if (thresholdTic !== 0) {\n      const tticLTWH = [\n        barLTWH[0] + (thresholdTic - min) / range * barLTWH[2],\n        barLTWH[1] - barLTWH[3] * 0.25,\n        2,\n        barLTWH[3] * 1.5\n      ];\n      this.drawRect(tticLTWH);\n    }\n  }\n  /**\n   * Draw all visible colorbars side by side in the reserved colorbar panel area.\n   * @internal\n   */\n  drawColorbar() {\n    const maps = this.colormapLists;\n    const nmaps = maps.length;\n    if (nmaps < 1) {\n      return;\n    }\n    let nVisible = 0;\n    for (let i = 0; i < nmaps; i++) {\n      if (maps[i].visible) {\n        nVisible++;\n      }\n    }\n    if (nVisible < 1) {\n      return;\n    }\n    let leftTopWidthHeight = this.reserveColorbarPanel();\n    const fullHt = 3 * this.fontPx;\n    if (fullHt < 0) {\n      return;\n    }\n    let wid = leftTopWidthHeight[2] / nVisible;\n    if (leftTopWidthHeight[2] <= 0 || leftTopWidthHeight[3] <= 0) {\n      wid = this.gl.canvas.width / nVisible;\n      leftTopWidthHeight = [0, this.gl.canvas.height - fullHt, wid, fullHt];\n    }\n    leftTopWidthHeight[2] = wid;\n    for (let i = 0; i < nmaps; i++) {\n      if (!maps[i].visible) {\n        continue;\n      }\n      this.drawColorbarCore(\n        i,\n        leftTopWidthHeight,\n        maps[i].negative,\n        maps[i].min,\n        maps[i].max,\n        maps[i].isColorbarFromZero\n      );\n      leftTopWidthHeight[0] += wid;\n    }\n  }\n  /**\n   * Calculate pixel width of text string based on glyph advances at given scale.\n   * @internal\n   */\n  textWidth(scale, str) {\n    if (!str) {\n      return 0;\n    }\n    let w = 0;\n    const bytes = new TextEncoder().encode(str);\n    for (let i = 0; i < str.length; i++) {\n      w += scale * this.fontMets.mets[bytes[i]].xadv;\n    }\n    return w;\n  }\n  /**\n   * Calculate pixel height of text based on tallest glyph at given scale.\n   * @internal\n   */\n  textHeight(scale, str) {\n    if (!str) {\n      return 0;\n    }\n    const byteSet = new Set(Array.from(str));\n    const bytes = new TextEncoder().encode(Array.from(byteSet).join(\"\"));\n    const tallest = Object.values(this.fontMets.mets).filter((_, index) => bytes.includes(index)).reduce((a, b) => a.lbwh[3] > b.lbwh[3] ? a : b);\n    const height = tallest.lbwh[3];\n    return scale * height;\n  }\n  /**\n   * Render a single character glyph at specified position and scale; returns advance width.\n   * @internal\n   */\n  drawChar(xy, scale, char) {\n    if (!this.fontShader) {\n      throw new Error(\"fontShader undefined\");\n    }\n    const metrics = this.fontMets.mets[char];\n    const l = xy[0] + scale * metrics.lbwh[0];\n    const b = -(scale * metrics.lbwh[1]);\n    const w = scale * metrics.lbwh[2];\n    const h = scale * metrics.lbwh[3];\n    const t = xy[1] + (b - h) + scale;\n    this.gl.uniform4f(this.fontShader.uniforms.leftTopWidthHeight, l, t, w, h);\n    this.gl.uniform4fv(this.fontShader.uniforms.uvLeftTopWidthHeight, metrics.uv_lbwh);\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n    return scale * metrics.xadv;\n  }\n  /**\n   * Render loading text centered on the canvas.\n   * @internal\n   */\n  drawLoadingText(text) {\n    if (!text) {\n      return;\n    }\n    if (!this.canvas) {\n      throw new Error(\"canvas undefined\");\n    }\n    const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n    this.gl.viewport(regionX, regionY, regionW, regionH);\n    this.gl.enable(this.gl.CULL_FACE);\n    this.gl.enable(this.gl.BLEND);\n    const cx = regionX + regionW / 2;\n    const cy = regionY + regionH / 2;\n    this.drawTextBelow([cx, cy], text, 3);\n  }\n  /**\n   * Render a string of text at specified canvas coordinates with scaling and optional color.\n   * @internal\n   */\n  drawText(xy, str, scale = 1, color = null) {\n    if (this.fontPx <= 0) {\n      return;\n    }\n    if (!this.fontShader) {\n      throw new Error(\"fontShader undefined\");\n    }\n    this.fontShader.use(this.gl);\n    const size = this.fontPx * scale;\n    this.gl.enable(this.gl.BLEND);\n    this.gl.uniform2f(this.fontShader.uniforms.canvasWidthHeight, this.gl.canvas.width, this.gl.canvas.height);\n    if (color === null) {\n      color = this.opts.fontColor;\n    }\n    this.gl.uniform4fv(this.fontShader.uniforms.fontColor, color);\n    let screenPxRange = size / this.fontMets.size * this.fontMets.distanceRange;\n    screenPxRange = Math.max(screenPxRange, 1);\n    this.gl.uniform1f(this.fontShader.uniforms.screenPxRange, screenPxRange);\n    const bytes = new TextEncoder().encode(str);\n    this.gl.bindVertexArray(this.genericVAO);\n    for (let i = 0; i < str.length; i++) {\n      xy[0] += this.drawChar(xy, size, bytes[i]);\n    }\n    this.gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Draw text right-aligned to the given coordinates, vertically centered on y.\n   * @internal\n   */\n  drawTextRight(xy, str, scale = 1, color = null) {\n    if (this.fontPx <= 0) {\n      return;\n    }\n    xy[1] -= 0.5 * this.fontPx;\n    this.drawText(xy, str, scale, color);\n  }\n  /**\n   * Draw text left-aligned to the given coordinates, vertically centered on y.\n   * @internal\n   */\n  drawTextLeft(xy, str, scale = 1, color = null) {\n    if (this.fontPx <= 0) {\n      return;\n    }\n    const size = this.fontPx * scale;\n    xy[0] -= this.textWidth(size, str);\n    xy[1] -= 0.5 * size;\n    this.drawText(xy, str, scale, color);\n  }\n  /**\n   * Draw text right-aligned and below the given coordinates.\n   * @internal\n   */\n  drawTextRightBelow(xy, str, scale = 1, color = null) {\n    if (this.fontPx <= 0) {\n      return;\n    }\n    this.drawText(xy, str, scale, color);\n  }\n  /**\n   * Draw text horizontally centered between start and end points with a semi-transparent background.\n   * @internal\n   */\n  drawTextBetween(startXYendXY, str, scale = 1, color = null) {\n    if (this.fontPx <= 0) {\n      return;\n    }\n    const xy = [(startXYendXY[0] + startXYendXY[2]) * 0.5, (startXYendXY[1] + startXYendXY[3]) * 0.5];\n    const size = this.fontPx * scale;\n    const w = this.textWidth(size, str);\n    xy[0] -= 0.5 * w;\n    xy[1] -= 0.5 * size;\n    const LTWH = [xy[0] - 1, xy[1] - 1, w + 2, size + 2];\n    let clr = color;\n    if (clr === null) {\n      clr = this.opts.crosshairColor;\n    }\n    if (clr && clr[0] + clr[1] + clr[2] > 0.8) {\n      clr = [0, 0, 0, 0.5];\n    } else {\n      clr = [1, 1, 1, 0.5];\n    }\n    this.drawRect(LTWH, clr);\n    this.drawText(xy, str, scale, color);\n  }\n  /**\n   * Draw text horizontally centered below a specified (x,y) position with canvas boundary clamping.\n   * @internal\n   */\n  drawTextBelow(xy, str, scale = 1, color = null) {\n    if (this.fontPx <= 0) {\n      return;\n    }\n    if (!this.canvas) {\n      throw new Error(\"canvas undefined\");\n    }\n    let size = this.fontPx * scale;\n    let width = this.textWidth(size, str);\n    if (width > this.canvas.width) {\n      scale *= (this.canvas.width - 2) / width;\n      size = this.fontPx * scale;\n      width = this.textWidth(size, str);\n    }\n    xy[0] -= 0.5 * this.textWidth(size, str);\n    xy[0] = Math.max(xy[0], 1);\n    xy[0] = Math.min(xy[0], this.canvas.width - width - 1);\n    this.drawText(xy, str, scale, color);\n  }\n  /**\n   * Draw text horizontally centered above the given coordinates.\n   * @internal\n   */\n  drawTextAbove(xy, str, scale = 1, color = null) {\n    if (this.fontPx <= 0) {\n      return;\n    }\n    if (!this.canvas) {\n      throw new Error(\"canvas undefined\");\n    }\n    let size = this.fontPx * scale;\n    let width = this.textWidth(size, str);\n    if (width > this.canvas.width) {\n      scale *= (this.canvas.width - 2) / width;\n      size = this.fontPx * scale;\n      width = this.textWidth(size, str);\n    }\n    xy[0] -= 0.5 * this.textWidth(size, str);\n    xy[0] = Math.max(xy[0], 1);\n    xy[0] = Math.min(xy[0], this.canvas.width - width - 1);\n    xy[1] -= size;\n    this.drawText(xy, str, scale, color);\n  }\n  /**\n   * Update texture interpolation mode (nearest or linear) for background or overlay layer.\n   * @internal\n   */\n  updateInterpolation(layer, isForceLinear = false) {\n    let interp = this.gl.LINEAR;\n    if (!isForceLinear && this.opts.isNearestInterpolation) {\n      interp = this.gl.NEAREST;\n    }\n    if (layer === 0) {\n      this.gl.activeTexture(TEXTURE0_BACK_VOL);\n    } else {\n      this.gl.activeTexture(TEXTURE2_OVERLAY_VOL);\n    }\n    if (this.opts.is2DSliceShader) {\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, interp);\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, interp);\n    } else {\n      this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MIN_FILTER, interp);\n      this.gl.texParameteri(this.gl.TEXTURE_3D, this.gl.TEXTURE_MAG_FILTER, interp);\n    }\n  }\n  /**\n   * Enable or disable atlas outline overlay\n   * @param isOutline - number 0 to 1 for outline opacity\n   * @see {@link https://niivue.com/demos/features/atlas.sparse.html | live demo usage}\n   */\n  setAtlasOutline(isOutline) {\n    this.opts.atlasOutline = isOutline;\n    this.updateGLVolume();\n    this.drawScene();\n  }\n  /**\n   * select between nearest and linear interpolation for voxel based images\n   * @param isNearest - whether nearest neighbor interpolation is used, else linear interpolation\n   * @example niivue.setInterpolation(true);\n   * @see {@link https://niivue.com/demos/features/draw2.html | live demo usage}\n   */\n  setInterpolation(isNearest) {\n    this.opts.isNearestInterpolation = isNearest;\n    const numLayers = this.volumes.length;\n    if (numLayers < 1) {\n      return;\n    }\n    for (let i = 0; i < numLayers; i++) {\n      this.updateInterpolation(i);\n    }\n    this.drawScene();\n  }\n  /**\n   * Computes 2D model-view-projection and related matrices for rendering a slice of a 3D volume.\n   * Configures viewport and accounts for radiological orientation, depth clipping, and camera rotation.\n   * @internal\n   */\n  calculateMvpMatrix2D(leftTopWidthHeight, mn, mx, clipTolerance = Infinity, clipDepth = 0, azimuth = 0, elevation = 0, isRadiolgical = false) {\n    const gl = this.gl;\n    gl.viewport(\n      leftTopWidthHeight[0],\n      this.gl.canvas.height - (leftTopWidthHeight[1] + leftTopWidthHeight[3]),\n      // lower numbers near bottom\n      leftTopWidthHeight[2],\n      leftTopWidthHeight[3]\n    );\n    let left = mn[0];\n    let right = mx[0];\n    let leftTopMM = [left, mn[1]];\n    let fovMM = [right - left, mx[1] - mn[1]];\n    if (isRadiolgical) {\n      leftTopMM = [mx[0], mn[1]];\n      fovMM = [mn[0] - mx[0], mx[1] - mn[1]];\n      left = -mx[0];\n      right = -mn[0];\n    }\n    const scale = 2 * Math.max(Math.abs(mn[2]), Math.abs(mx[2]));\n    const projectionMatrix = mat49.create();\n    let far = 0.01;\n    let near = scale * 8;\n    if (clipTolerance !== Infinity) {\n      let r = isRadiolgical;\n      if (elevation === 0 && (azimuth === 0 || azimuth === 180)) {\n        r = !r;\n      }\n      let dx = scale * 1.8 - clipDepth;\n      if (!r) {\n        dx = scale * 1.8 + clipDepth;\n      }\n      near = dx - clipTolerance;\n      far = dx + clipTolerance;\n    }\n    mat49.ortho(projectionMatrix, left, right, mn[1], mx[1], near, far);\n    const modelMatrix = mat49.create();\n    modelMatrix[0] = -1;\n    const translateVec3 = vec313.fromValues(0, 0, -scale * 1.8);\n    mat49.translate(modelMatrix, modelMatrix, translateVec3);\n    mat49.rotateX(modelMatrix, modelMatrix, deg2rad(270 - elevation));\n    mat49.rotateZ(modelMatrix, modelMatrix, deg2rad(azimuth - 180));\n    const iModelMatrix = mat49.create();\n    mat49.invert(iModelMatrix, modelMatrix);\n    const normalMatrix = mat49.create();\n    mat49.transpose(normalMatrix, iModelMatrix);\n    const modelViewProjectionMatrix = mat49.create();\n    mat49.multiply(modelViewProjectionMatrix, projectionMatrix, modelMatrix);\n    return {\n      modelViewProjectionMatrix,\n      modelMatrix,\n      normalMatrix,\n      leftTopMM,\n      fovMM\n    };\n  }\n  /**\n   * Reorders the components of a 3D vector based on the slice orientation (axial, coronal, or sagittal).\n   * @internal\n   */\n  swizzleVec3MM(v3, axCorSag) {\n    if (axCorSag === 1 /* CORONAL */) {\n      v3 = swizzleVec3(v3, [0, 2, 1]);\n    } else if (axCorSag === 2 /* SAGITTAL */) {\n      v3 = swizzleVec3(v3, [1, 2, 0]);\n    }\n    return v3;\n  }\n  /**\n   * Returns the swizzled field of view for the given slice orientation.\n   * @internal\n   */\n  screenFieldOfViewVox(axCorSag = 0) {\n    const fov = vec313.clone(this.volumeObject3D.fieldOfViewDeObliqueMM);\n    return this.swizzleVec3MM(fov, axCorSag);\n  }\n  /**\n   * Returns the field of view in millimeters for the given slice orientation.\n   * @internal\n   */\n  screenFieldOfViewMM(axCorSag = 0, forceSliceMM = false) {\n    if (this.volumes.length < 1) {\n      let mnMM2 = vec313.fromValues(this.extentsMin[0], this.extentsMin[1], this.extentsMin[2]);\n      let mxMM2 = vec313.fromValues(this.extentsMax[0], this.extentsMax[1], this.extentsMax[2]);\n      mnMM2 = this.swizzleVec3MM(mnMM2, axCorSag);\n      mxMM2 = this.swizzleVec3MM(mxMM2, axCorSag);\n      const fovMM2 = vec313.create();\n      vec313.subtract(fovMM2, mxMM2, mnMM2);\n      return fovMM2;\n    }\n    if (!forceSliceMM && !this.opts.isSliceMM) {\n      return this.screenFieldOfViewVox(axCorSag);\n    }\n    const extentsMin = this.volumeObject3D.extentsMin;\n    const extentsMax = this.volumeObject3D.extentsMax;\n    let mnMM = vec313.fromValues(extentsMin[0], extentsMin[1], extentsMin[2]);\n    let mxMM = vec313.fromValues(extentsMax[0], extentsMax[1], extentsMax[2]);\n    mnMM = this.swizzleVec3MM(mnMM, axCorSag);\n    mxMM = this.swizzleVec3MM(mxMM, axCorSag);\n    const fovMM = vec313.create();\n    vec313.subtract(fovMM, mxMM, mnMM);\n    return fovMM;\n  }\n  /**\n   * Returns extended voxel-aligned field of view and bounds for the given slice orientation.\n   * @internal\n   */\n  screenFieldOfViewExtendedVox(axCorSag = 0) {\n    const extentsMinOrtho = this.volumes[0].extentsMinOrtho;\n    const extentsMaxOrtho = this.volumes[0].extentsMaxOrtho;\n    let mnMM = vec313.fromValues(extentsMinOrtho[0], extentsMinOrtho[1], extentsMinOrtho[2]);\n    let mxMM = vec313.fromValues(extentsMaxOrtho[0], extentsMaxOrtho[1], extentsMaxOrtho[2]);\n    const rotation = mat49.create();\n    mnMM = this.swizzleVec3MM(mnMM, axCorSag);\n    mxMM = this.swizzleVec3MM(mxMM, axCorSag);\n    const fovMM = vec313.create();\n    vec313.subtract(fovMM, mxMM, mnMM);\n    return { mnMM, mxMM, rotation, fovMM };\n  }\n  /**\n   * Returns extended millimeter-aligned field of view and bounds for the given slice orientation.\n   * @internal\n   */\n  screenFieldOfViewExtendedMM(axCorSag = 0) {\n    if (this.volumes.length < 1) {\n      let mnMM2 = vec313.fromValues(this.extentsMin[0], this.extentsMin[1], this.extentsMin[2]);\n      let mxMM2 = vec313.fromValues(this.extentsMax[0], this.extentsMax[1], this.extentsMax[2]);\n      const rotation2 = mat49.create();\n      mnMM2 = this.swizzleVec3MM(mnMM2, axCorSag);\n      mxMM2 = this.swizzleVec3MM(mxMM2, axCorSag);\n      const fovMM2 = vec313.create();\n      vec313.subtract(fovMM2, mxMM2, mnMM2);\n      return { mnMM: mnMM2, mxMM: mxMM2, rotation: rotation2, fovMM: fovMM2 };\n    }\n    if (!this.volumeObject3D) {\n      throw new Error(\"volumeObject3D undefined\");\n    }\n    const eMin = this.volumeObject3D.extentsMin;\n    const eMax = this.volumeObject3D.extentsMax;\n    let mnMM = vec313.fromValues(eMin[0], eMin[1], eMin[2]);\n    let mxMM = vec313.fromValues(eMax[0], eMax[1], eMax[2]);\n    const rotation = mat49.create();\n    mnMM = this.swizzleVec3MM(mnMM, axCorSag);\n    mxMM = this.swizzleVec3MM(mxMM, axCorSag);\n    const fovMM = vec313.create();\n    vec313.subtract(fovMM, mxMM, mnMM);\n    return { mnMM, mxMM, rotation, fovMM };\n  }\n  /**\n   * Draws anatomical orientation labels (e.g., A/P/L/R) for the given slice view.\n   * @internal\n   */\n  drawSliceOrientationText(leftTopWidthHeight, axCorSag, padLeftTop = [NaN, NaN]) {\n    this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n    let topText = \"S\";\n    if (axCorSag === 0 /* AXIAL */) {\n      topText = \"A\";\n    }\n    let leftText = this.opts.isRadiologicalConvention ? \"R\" : \"L\";\n    if (axCorSag === 2 /* SAGITTAL */) {\n      leftText = this.opts.sagittalNoseLeft ? \"A\" : \"P\";\n    }\n    let bottomText = \"I\";\n    if (axCorSag === 0 /* AXIAL */) {\n      bottomText = \"P\";\n    }\n    let rightText = this.opts.isRadiologicalConvention ? \"L\" : \"R\";\n    if (axCorSag === 2 /* SAGITTAL */) {\n      rightText = this.opts.sagittalNoseLeft ? \"P\" : \"A\";\n    }\n    if (this.opts.isCornerOrientationText) {\n      this.drawTextRightBelow([leftTopWidthHeight[0], leftTopWidthHeight[1]], leftText + topText);\n      return;\n    }\n    let drawBelow = true;\n    let drawRight = true;\n    const drawAbove = this.opts.showAllOrientationMarkers;\n    const drawLeft = this.opts.showAllOrientationMarkers;\n    if (!isNaN(padLeftTop[0])) {\n      const ht = this.fontPx + 2;\n      if (padLeftTop[1] > ht) {\n        this.drawTextBelow(\n          [leftTopWidthHeight[0] + leftTopWidthHeight[2] * 0.5, leftTopWidthHeight[1] + padLeftTop[1] - ht],\n          topText\n        );\n        drawBelow = false;\n      }\n      const wid = this.textWidth(ht, leftText) + 2;\n      if (padLeftTop[0] > wid) {\n        this.drawTextRight(\n          [leftTopWidthHeight[0] + padLeftTop[0] - wid, leftTopWidthHeight[1] + leftTopWidthHeight[3] * 0.5],\n          leftText\n        );\n        drawRight = false;\n      }\n    }\n    if (drawBelow) {\n      this.drawTextBelow([leftTopWidthHeight[0] + leftTopWidthHeight[2] * 0.5, leftTopWidthHeight[1]], topText);\n    }\n    if (drawRight) {\n      this.drawTextRight([leftTopWidthHeight[0], leftTopWidthHeight[1] + leftTopWidthHeight[3] * 0.5], leftText);\n    }\n    if (drawAbove) {\n      this.drawTextAbove(\n        [leftTopWidthHeight[0] + leftTopWidthHeight[2] * 0.5, leftTopWidthHeight[1] + leftTopWidthHeight[3]],\n        bottomText\n      );\n    }\n    if (drawLeft) {\n      this.drawTextLeft(\n        [leftTopWidthHeight[0] + leftTopWidthHeight[2], leftTopWidthHeight[1] + leftTopWidthHeight[3] * 0.5],\n        rightText\n      );\n    }\n  }\n  /**\n   * Computes a plane in mm space for a given slice orientation and depth.\n   * @internal\n   */\n  xyMM2xyzMM(axCorSag, sliceFrac) {\n    let sliceDim = 2;\n    if (axCorSag === 1 /* CORONAL */) {\n      sliceDim = 1;\n    }\n    if (axCorSag === 2 /* SAGITTAL */) {\n      sliceDim = 0;\n    }\n    let a = [0, 0, 0];\n    let b = [1, 1, 0];\n    let c = [1, 0, 1];\n    a[sliceDim] = sliceFrac;\n    b[sliceDim] = sliceFrac;\n    c[sliceDim] = sliceFrac;\n    a = this.frac2mm(a);\n    b = this.frac2mm(b);\n    c = this.frac2mm(c);\n    a = this.swizzleVec3MM(vec313.fromValues(a[0], a[1], a[2]), axCorSag);\n    b = this.swizzleVec3MM(vec313.fromValues(b[0], b[1], b[2]), axCorSag);\n    c = this.swizzleVec3MM(vec313.fromValues(c[0], c[1], c[2]), axCorSag);\n    const denom = (b[0] - a[0]) * (c[1] - a[1]) - (c[0] - a[0]) * (b[1] - a[1]);\n    let yMult = (b[0] - a[0]) * (c[2] - a[2]) - (c[0] - a[0]) * (b[2] - a[2]);\n    yMult /= denom;\n    let xMult = (b[1] - a[1]) * (c[2] - a[2]) - (c[1] - a[1]) * (b[2] - a[2]);\n    xMult /= denom;\n    const AxyzMxy = [0, 0, 0, 0, 0];\n    AxyzMxy[0] = a[0];\n    AxyzMxy[1] = a[1];\n    AxyzMxy[2] = a[2];\n    AxyzMxy[3] = xMult;\n    AxyzMxy[4] = yMult;\n    return AxyzMxy;\n  }\n  /**\n   * Draw a 2D slice tile with appropriate orientation, zoom, pan, and optional mesh overlay.\n   * @internal\n   */\n  draw2DMain(leftTopWidthHeight, axCorSag, customMM = NaN) {\n    let frac2mmTexture = new Float32Array([0, 0, 0]);\n    if (this.volumes.length > 0) {\n      frac2mmTexture = new Float32Array(this.volumes[0].frac2mm.slice());\n    }\n    let screen = this.screenFieldOfViewExtendedMM(axCorSag);\n    let mesh2ortho = mat49.create();\n    if (!this.opts.isSliceMM && this.volumes.length > 0) {\n      frac2mmTexture = new Float32Array(this.volumes[0].frac2mmOrtho.slice());\n      mesh2ortho = mat49.clone(this.volumes[0].mm2ortho);\n      screen = this.screenFieldOfViewExtendedVox(axCorSag);\n    }\n    let isRadiolgical = this.opts.isRadiologicalConvention && axCorSag < 2 /* SAGITTAL */;\n    if (customMM === Infinity || customMM === -Infinity) {\n      isRadiolgical = customMM !== Infinity;\n      if (axCorSag === 1 /* CORONAL */) {\n        isRadiolgical = !isRadiolgical;\n      }\n    } else if (this.opts.sagittalNoseLeft && axCorSag === 2 /* SAGITTAL */) {\n      isRadiolgical = !isRadiolgical;\n    }\n    let elevation = 0;\n    let azimuth = 0;\n    if (axCorSag === 2 /* SAGITTAL */) {\n      azimuth = isRadiolgical ? 90 : -90;\n    } else if (axCorSag === 1 /* CORONAL */) {\n      azimuth = isRadiolgical ? 180 : 0;\n    } else {\n      azimuth = isRadiolgical ? 180 : 0;\n      elevation = isRadiolgical ? -90 : 90;\n    }\n    const gl = this.gl;\n    let isStretchToScreen = false;\n    if (leftTopWidthHeight[2] === 0 || leftTopWidthHeight[3] === 0) {\n      isStretchToScreen = true;\n      const pixPerMMw = gl.canvas.width / screen.fovMM[0];\n      const pixPerMMh = gl.canvas.height / screen.fovMM[1];\n      const pixPerMMmin = Math.min(pixPerMMw, pixPerMMh);\n      const zoomW = pixPerMMw / pixPerMMmin;\n      const zoomH = pixPerMMh / pixPerMMmin;\n      screen.fovMM[0] *= zoomW;\n      screen.fovMM[1] *= zoomH;\n      let center = (screen.mnMM[0] + screen.mxMM[0]) * 0.5;\n      screen.mnMM[0] = center - screen.fovMM[0] * 0.5;\n      screen.mxMM[0] = center + screen.fovMM[0] * 0.5;\n      center = (screen.mnMM[1] + screen.mxMM[1]) * 0.5;\n      screen.mnMM[1] = center - screen.fovMM[1] * 0.5;\n      screen.mxMM[1] = center + screen.fovMM[1] * 0.5;\n      leftTopWidthHeight = [0, 0, gl.canvas.width, gl.canvas.height];\n    }\n    if (isNaN(customMM)) {\n      const pan = this.scene.pan2Dxyzmm;\n      const panXY = this.swizzleVec3MM(vec313.fromValues(pan[0], pan[1], pan[2]), axCorSag);\n      const zoom = this.scene.pan2Dxyzmm[3];\n      screen.mnMM[0] -= panXY[0];\n      screen.mxMM[0] -= panXY[0];\n      screen.mnMM[1] -= panXY[1];\n      screen.mxMM[1] -= panXY[1];\n      screen.mnMM[0] /= zoom;\n      screen.mxMM[0] /= zoom;\n      screen.mnMM[1] /= zoom;\n      screen.mxMM[1] /= zoom;\n    }\n    let sliceDim = 2;\n    if (axCorSag === 1 /* CORONAL */) {\n      sliceDim = 1;\n    }\n    if (axCorSag === 2 /* SAGITTAL */) {\n      sliceDim = 0;\n    }\n    let sliceFrac = this.scene.crosshairPos[sliceDim];\n    let mm = this.frac2mm(this.scene.crosshairPos);\n    if (!isNaN(customMM) && customMM !== Infinity && customMM !== -Infinity) {\n      mm = this.frac2mm([0.5, 0.5, 0.5]);\n      mm[sliceDim] = customMM;\n      const frac = this.mm2frac(mm);\n      sliceFrac = frac[sliceDim];\n    }\n    const sliceMM = mm[sliceDim];\n    const flippedY = gl.canvas.height - leftTopWidthHeight[1] - leftTopWidthHeight[3];\n    const glLTWH = [\n      leftTopWidthHeight[0],\n      flippedY,\n      leftTopWidthHeight[2],\n      leftTopWidthHeight[3]\n    ];\n    this.clearBounds(gl.DEPTH_BUFFER_BIT, glLTWH);\n    gl.viewport(glLTWH[0], glLTWH[1], glLTWH[2], glLTWH[3]);\n    let obj = this.calculateMvpMatrix2D(\n      leftTopWidthHeight,\n      screen.mnMM,\n      screen.mxMM,\n      Infinity,\n      0,\n      azimuth,\n      elevation,\n      isRadiolgical\n    );\n    if (customMM === Infinity || customMM === -Infinity) {\n      const ltwh = leftTopWidthHeight.slice();\n      this.draw3D(\n        leftTopWidthHeight,\n        obj.modelViewProjectionMatrix,\n        obj.modelMatrix,\n        obj.normalMatrix,\n        azimuth,\n        elevation\n      );\n      const tile = this.screenSlices[this.screenSlices.length - 1];\n      tile.leftTopWidthHeight = ltwh;\n      tile.axCorSag = axCorSag;\n      tile.sliceFrac = Infinity;\n      tile.AxyzMxy = this.xyMM2xyzMM(axCorSag, sliceFrac);\n      tile.leftTopMM = obj.leftTopMM;\n      tile.fovMM = obj.fovMM;\n      return;\n    }\n    gl.enable(gl.DEPTH_TEST);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n    gl.disable(gl.BLEND);\n    gl.depthFunc(gl.ALWAYS);\n    gl.disable(gl.CULL_FACE);\n    if (this.volumes.length > 0) {\n      let shader = this.sliceMMShader;\n      if (this.opts.is2DSliceShader) {\n        shader = this.slice2DShader;\n      }\n      if (this.opts.isV1SliceShader) {\n        shader = this.sliceV1Shader;\n      }\n      if (this.customSliceShader) {\n        shader = this.customSliceShader;\n      }\n      if (!shader) {\n        throw new Error(\"slice Shader undefined\");\n      }\n      shader.use(this.gl);\n      gl.uniform1f(shader.uniforms.overlayOutlineWidth, this.overlayOutlineWidth);\n      gl.uniform1f(shader.uniforms.overlayAlphaShader, this.overlayAlphaShader);\n      gl.uniform1i(shader.uniforms.isAlphaClipDark, this.isAlphaClipDark ? 1 : 0);\n      gl.uniform1i(shader.uniforms.backgroundMasksOverlays, this.backgroundMasksOverlays);\n      gl.uniform1f(shader.uniforms.drawOpacity, this.drawOpacity);\n      gl.uniform1f(shader.uniforms.drawRimOpacity, this.drawRimOpacity);\n      gl.enable(gl.BLEND);\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n      gl.uniform1f(shader.uniforms.opacity, this.volumes[0].opacity);\n      gl.uniform1i(shader.uniforms.axCorSag, axCorSag);\n      gl.uniform1f(shader.uniforms.slice, sliceFrac);\n      gl.uniformMatrix4fv(\n        shader.uniforms.frac2mm,\n        false,\n        frac2mmTexture\n        // this.volumes[0].frac2mm\n      );\n      gl.uniformMatrix4fv(shader.uniforms.mvpMtx, false, obj.modelViewProjectionMatrix.slice());\n      gl.bindVertexArray(this.genericVAO);\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n      gl.bindVertexArray(this.unusedVAO);\n      this.screenSlices.push({\n        leftTopWidthHeight,\n        axCorSag,\n        sliceFrac,\n        AxyzMxy: this.xyMM2xyzMM(axCorSag, sliceFrac),\n        leftTopMM: obj.leftTopMM,\n        screen2frac: [],\n        fovMM: obj.fovMM\n      });\n    }\n    gl.depthMask(true);\n    gl.depthFunc(gl.LEQUAL);\n    if (isNaN(customMM)) {\n      this.drawCrosshairs3D(true, 1, obj.modelViewProjectionMatrix, true, this.opts.isSliceMM);\n    }\n    if (this.opts.meshThicknessOn2D > 0) {\n      if (this.opts.meshThicknessOn2D !== Infinity) {\n        obj = this.calculateMvpMatrix2D(\n          leftTopWidthHeight,\n          screen.mnMM,\n          screen.mxMM,\n          this.opts.meshThicknessOn2D,\n          sliceMM,\n          azimuth,\n          elevation,\n          isRadiolgical\n        );\n      }\n      const mx = mat49.clone(obj.modelViewProjectionMatrix);\n      mat49.multiply(mx, mx, mesh2ortho);\n      this.drawMesh3D(\n        true,\n        1,\n        mx,\n        // obj.modelViewProjectionMatrix,\n        obj.modelMatrix,\n        obj.normalMatrix,\n        true\n      );\n    }\n    if (isNaN(customMM)) {\n      this.drawCrosshairs3D(false, 0.15, obj.modelViewProjectionMatrix, true, this.opts.isSliceMM);\n    }\n    if (isStretchToScreen && this.opts.isOrientationTextVisible) {\n      this.drawSliceOrientationText(leftTopWidthHeight, axCorSag);\n    }\n    this.readyForSync = true;\n  }\n  /**\n   * Draw a 2D slice tile with optional custom size and orientation text.\n   * @internal\n   */\n  draw2D(leftTopWidthHeight, axCorSag, customMM = NaN, imageWidthHeight = [NaN, NaN]) {\n    const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n    let ltwh;\n    if (leftTopWidthHeight[2] === 0 && leftTopWidthHeight[3] === 0) {\n      if (!this.opts.bounds) {\n        ltwh = [0, 0, this.gl.canvas.width, this.gl.canvas.height];\n      } else {\n        ltwh = [regionX, regionY, regionW, regionH];\n      }\n    } else {\n      ltwh = leftTopWidthHeight.slice();\n    }\n    const padLeftTop = [NaN, NaN];\n    if (imageWidthHeight[0] === Infinity) {\n      const volScale = this.sliceScale().volScale;\n      let scale = this.scaleSlice(volScale[0], volScale[1], [0, 0], [ltwh[2], ltwh[3]]);\n      if (axCorSag === 1 /* CORONAL */) {\n        scale = this.scaleSlice(volScale[0], volScale[2], [0, 0], [ltwh[2], ltwh[3]]);\n      }\n      if (axCorSag === 2 /* SAGITTAL */) {\n        scale = this.scaleSlice(volScale[1], volScale[2], [0, 0], [ltwh[2], ltwh[3]]);\n      }\n      imageWidthHeight[0] = scale[2];\n      imageWidthHeight[1] = scale[3];\n    }\n    if (isNaN(imageWidthHeight[0])) {\n      this.draw2DMain(ltwh, axCorSag, customMM);\n    } else {\n      padLeftTop[0] = Math.floor(0.5 * (ltwh[2] - imageWidthHeight[0]));\n      padLeftTop[1] = Math.floor(0.5 * (ltwh[3] - imageWidthHeight[1]));\n      ltwh[0] += padLeftTop[0];\n      ltwh[1] += padLeftTop[1];\n      ltwh[2] = imageWidthHeight[0];\n      ltwh[3] = imageWidthHeight[1];\n      this.draw2DMain(ltwh, axCorSag, customMM);\n    }\n    if (customMM === Infinity || customMM === -Infinity || axCorSag === 4 /* RENDER */) {\n      return;\n    }\n    if (ltwh[2] !== 0 && ltwh[3] !== 0 && this.opts.isOrientationTextVisible) {\n      this.drawSliceOrientationText(ltwh, axCorSag, padLeftTop);\n    }\n  }\n  /**\n   * Build MVP, Model, and Normal matrices for rendering.\n   * Note: 3D MVP is identical for radiological and neurological conventions.\n   * @param _unused - Reserved for future use.\n   * @param leftTopWidthHeight - Viewport rectangle [x, y, w, h] in device pixels.\n   * @param azimuth - Azimuth rotation in degrees.\n   * @param elevation - Elevation rotation in degrees.\n   * @internal\n   */\n  calculateMvpMatrix(_unused, leftTopWidthHeight = [0, 0, 0, 0], azimuth, elevation) {\n    const gl = this.gl;\n    if (leftTopWidthHeight[2] === 0 || leftTopWidthHeight[3] === 0) {\n      leftTopWidthHeight = [0, 0, gl.canvas.width, gl.canvas.height];\n    }\n    const whratio = leftTopWidthHeight[2] / leftTopWidthHeight[3];\n    let scale = this.furthestFromPivot;\n    const origin = this.pivot3D;\n    const projectionMatrix = mat49.create();\n    scale = 0.8 * scale / this.scene.volScaleMultiplier;\n    if (whratio < 1) {\n      mat49.ortho(projectionMatrix, -scale, scale, -scale / whratio, scale / whratio, scale * 8, scale * 0.01);\n    } else {\n      mat49.ortho(projectionMatrix, -scale * whratio, scale * whratio, -scale, scale, scale * 8, scale * 0.01);\n    }\n    const modelMatrix = mat49.create();\n    modelMatrix[0] = -1;\n    const translateVec3 = vec313.fromValues(0, 0, -scale * 1.8);\n    mat49.translate(modelMatrix, modelMatrix, translateVec3);\n    if (this.position) {\n      mat49.translate(modelMatrix, modelMatrix, this.position);\n    }\n    mat49.rotateX(modelMatrix, modelMatrix, deg2rad(270 - elevation));\n    mat49.rotateZ(modelMatrix, modelMatrix, deg2rad(azimuth - 180));\n    mat49.translate(modelMatrix, modelMatrix, [-origin[0], -origin[1], -origin[2]]);\n    const iModelMatrix = mat49.create();\n    mat49.invert(iModelMatrix, modelMatrix);\n    const normalMatrix = mat49.create();\n    mat49.transpose(normalMatrix, iModelMatrix);\n    const modelViewProjectionMatrix = mat49.create();\n    mat49.multiply(modelViewProjectionMatrix, projectionMatrix, modelMatrix);\n    return [modelViewProjectionMatrix, modelMatrix, normalMatrix];\n  }\n  /**\n   * Computes the model transformation matrix for the given azimuth and elevation.\n   * Applies optional oblique RAS rotation if available.\n   * @internal\n   */\n  calculateModelMatrix(azimuth, elevation) {\n    if (!this.back) {\n      throw new Error(\"back undefined\");\n    }\n    const modelMatrix = mat49.create();\n    modelMatrix[0] = -1;\n    mat49.rotateX(modelMatrix, modelMatrix, deg2rad(270 - elevation));\n    mat49.rotateZ(modelMatrix, modelMatrix, deg2rad(azimuth - 180));\n    if (this.back.obliqueRAS) {\n      const oblique = mat49.clone(this.back.obliqueRAS);\n      mat49.multiply(modelMatrix, modelMatrix, oblique);\n    }\n    return modelMatrix;\n  }\n  /**\n   * Returns the normalized near-to-far ray direction for the given view angles.\n   * Ensures components are nonzero to avoid divide-by-zero errors.\n   * n.b. volumes can have shear (see shear.html), so invert instead of transpose\n   * @internal\n   */\n  calculateRayDirection(azimuth, elevation) {\n    const dirClip = vec313.fromValues(0, 0, -1);\n    const modelMatrix = this.calculateModelMatrix(azimuth, elevation);\n    const proj3 = mat33.fromValues(1, 0, 0, 0, -1, 0, 0, 0, -1);\n    const dirAfterProj = vec313.create();\n    vec313.transformMat3(dirAfterProj, dirClip, proj3);\n    const model3 = mat33.create();\n    mat33.fromMat4(model3, modelMatrix);\n    const invModel3 = mat33.create();\n    if (!mat33.invert(invModel3, model3)) {\n      return vec313.fromValues(0, 0, 1);\n    }\n    const worldRay = vec313.create();\n    vec313.transformMat3(worldRay, dirAfterProj, invModel3);\n    vec313.normalize(worldRay, worldRay);\n    const tiny = 5e-5;\n    for (let i = 0; i < 3; i++) {\n      if (Math.abs(worldRay[i]) < tiny) {\n        worldRay[i] = Math.sign(worldRay[i]) * tiny || tiny;\n      }\n    }\n    return worldRay;\n  }\n  /**\n   * Returns the scene's min, max, and range extents in mm or voxel space.\n   * Includes both volume and mesh geometry.\n   * @internal\n   */\n  sceneExtentsMinMax(isSliceMM = true) {\n    let mn = vec313.fromValues(0, 0, 0);\n    let mx = vec313.fromValues(0, 0, 0);\n    if (this.volumes.length > 0) {\n      if (!this.volumeObject3D) {\n        throw new Error(\"volumeObject3D undefined\");\n      }\n      mn = vec313.fromValues(\n        this.volumeObject3D.extentsMin[0],\n        this.volumeObject3D.extentsMin[1],\n        this.volumeObject3D.extentsMin[2]\n      );\n      mx = vec313.fromValues(\n        this.volumeObject3D.extentsMax[0],\n        this.volumeObject3D.extentsMax[1],\n        this.volumeObject3D.extentsMax[2]\n      );\n      if (!isSliceMM) {\n        mn = vec313.fromValues(\n          this.volumes[0].extentsMinOrtho[0],\n          this.volumes[0].extentsMinOrtho[1],\n          this.volumes[0].extentsMinOrtho[2]\n        );\n        mx = vec313.fromValues(\n          this.volumes[0].extentsMaxOrtho[0],\n          this.volumes[0].extentsMaxOrtho[1],\n          this.volumes[0].extentsMaxOrtho[2]\n        );\n      }\n    }\n    if (this.meshes.length > 0) {\n      if (this.volumes.length < 1) {\n        const minExtents = this.meshes[0].extentsMin;\n        const maxExtents = this.meshes[0].extentsMax;\n        mn = vec313.fromValues(minExtents[0], minExtents[1], minExtents[2]);\n        mx = vec313.fromValues(maxExtents[0], maxExtents[1], maxExtents[2]);\n      }\n      for (let i = 0; i < this.meshes.length; i++) {\n        const minExtents = this.meshes[i].extentsMin;\n        const maxExtents = this.meshes[i].extentsMax;\n        const vmn = vec313.fromValues(minExtents[0], minExtents[1], minExtents[2]);\n        vec313.min(mn, mn, vmn);\n        const vmx = vec313.fromValues(maxExtents[0], maxExtents[1], maxExtents[2]);\n        vec313.max(mx, mx, vmx);\n      }\n    }\n    const range = vec313.create();\n    vec313.subtract(range, mx, mn);\n    return [mn, mx, range];\n  }\n  /**\n   * Sets the 3D pivot point and scene scale based on volume and mesh extents.\n   * @internal\n   */\n  setPivot3D() {\n    const [mn, mx] = this.sceneExtentsMinMax();\n    const pivot = vec313.create();\n    vec313.add(pivot, mn, mx);\n    vec313.scale(pivot, pivot, 0.5);\n    this.pivot3D = [pivot[0], pivot[1], pivot[2]];\n    vec313.subtract(pivot, mx, mn);\n    this.extentsMin = mn;\n    this.extentsMax = mx;\n    this.furthestFromPivot = vec313.length(pivot) * 0.5;\n  }\n  /**\n   * Returns the maximum number of 4D volumes across all loaded images.\n   * @internal\n   */\n  getMaxVols() {\n    if (this.volumes.length < 1) {\n      return 0;\n    }\n    let maxVols = 0;\n    for (let i = 0; i < this.volumes.length; i++) {\n      maxVols = Math.max(maxVols, this.volumes[i].nFrame4D);\n    }\n    return maxVols;\n  }\n  /**\n   * Returns true if any loaded 4D volume is missing frames.\n   * @internal\n   */\n  detectPartialllyLoaded4D() {\n    if (this.volumes.length < 1) {\n      return false;\n    }\n    for (let i = 0; i < this.volumes.length; i++) {\n      if (this.volumes[i].nFrame4D < this.volumes[i].hdr.dims[4]) {\n        return true;\n      }\n    }\n    return false;\n  }\n  /**\n   * Draws a graph of 4D volume intensity over time at the current crosshair position.\n   * Skips if volume is 3D, region is too small, or graph opacity is zero.\n   * @internal\n   */\n  drawGraph() {\n    if (this.getMaxVols() < 2) {\n      return;\n    }\n    const graph = this.graph;\n    const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n    let axialTop = 0;\n    if (graph.autoSizeMultiplanar && this.opts.sliceType === 3 /* MULTIPLANAR */) {\n      for (let i = 0; i < this.screenSlices.length; i++) {\n        const axCorSag = this.screenSlices[i].axCorSag;\n        if (axCorSag === 0 /* AXIAL */) {\n          axialTop = this.screenSlices[i].leftTopWidthHeight[1];\n        }\n        if (axCorSag !== 2 /* SAGITTAL */) {\n          continue;\n        }\n        const ltwh = this.screenSlices[i].leftTopWidthHeight.slice();\n        if (ltwh[1] === axialTop) {\n          graph.LTWH[0] = ltwh[0] + ltwh[2];\n          graph.LTWH[1] = ltwh[1];\n        } else {\n          graph.LTWH[0] = ltwh[0];\n          graph.LTWH[1] = ltwh[1] + ltwh[3];\n        }\n        graph.LTWH[2] = ltwh[2];\n        graph.LTWH[3] = ltwh[2];\n      }\n    }\n    graph.LTWH[0] = Math.max(regionX, graph.LTWH[0]);\n    graph.LTWH[1] = Math.max(regionY, graph.LTWH[1]);\n    graph.LTWH[2] = Math.min(regionW, graph.LTWH[2]);\n    graph.LTWH[3] = Math.min(regionH, graph.LTWH[3]);\n    if (graph.opacity <= 0 || graph.LTWH[2] <= 5 || graph.LTWH[3] <= 5 || Math.floor(graph.LTWH[0] + graph.LTWH[2]) > regionX + regionW || Math.floor(graph.LTWH[1] + graph.LTWH[3]) > regionY + regionH) {\n      return;\n    }\n    graph.backColor = [0.15, 0.15, 0.15, graph.opacity];\n    graph.lineColor = [1, 1, 1, 1];\n    if (this.opts.backColor[0] + this.opts.backColor[1] + this.opts.backColor[2] > 1.5) {\n      graph.backColor = [0.95, 0.95, 0.95, graph.opacity];\n      graph.lineColor = [0, 0, 0, 1];\n    }\n    const gridLineAlpha = 0.2;\n    const selectedLineAlpha = 0.3;\n    graph.lineColor[3] = gridLineAlpha;\n    graph.textColor = graph.lineColor.slice();\n    graph.textColor[3] = 1;\n    graph.lineThickness = 3;\n    graph.gridLineThickness = 1;\n    graph.lineAlpha = 1;\n    graph.lines = [];\n    const vols = [];\n    if (graph.vols.length < 1) {\n      if (this.volumes[0] != null) {\n        vols.push(0);\n      }\n    } else {\n      for (let i = 0; i < graph.vols.length; i++) {\n        const j = graph.vols[i];\n        if (this.volumes[j] == null) {\n          continue;\n        }\n        const n = this.volumes[j].nFrame4D;\n        if (n < 2) {\n          continue;\n        }\n        vols.push(j);\n      }\n    }\n    if (vols.length < 1) {\n      return;\n    }\n    const maxVols = this.volumes[vols[0]].nFrame4D;\n    this.graph.selectedColumn = this.volumes[vols[0]].frame4D;\n    if (maxVols < 2) {\n      log.debug(\"Unable to generate a graph: Selected volume is 3D not 4D\");\n      return;\n    }\n    for (let i = 0; i < vols.length; i++) {\n      graph.lines[i] = [];\n      const vox = this.frac2vox(this.scene.crosshairPos);\n      const v = this.volumes[vols[i]];\n      let n = v.nFrame4D;\n      n = Math.min(n, maxVols);\n      for (let j = 0; j < n; j++) {\n        const val = v.getValue(vox[0], vox[1], vox[2], j);\n        graph.lines[i].push(val);\n      }\n    }\n    graph.lineRGB = [\n      [0.8, 0, 0],\n      [0, 0.7, 0],\n      [0, 0, 0.9],\n      [0.7, 0.7, 0],\n      [0.8, 0, 0.8],\n      [0, 0.7, 0.7],\n      [0.6, 0.6, 0.6],\n      [0, 0, 0]\n    ];\n    let mn = graph.lines[0][0];\n    let mx = graph.lines[0][0];\n    for (let j = 0; j < graph.lines.length; j++) {\n      for (let i = 0; i < graph.lines[j].length; i++) {\n        const v = graph.lines[j][i];\n        mn = Math.min(v, mn);\n        mx = Math.max(v, mx);\n      }\n    }\n    const volMn = this.volumes[vols[0]].cal_min;\n    const volMx = this.volumes[vols[0]].cal_max;\n    if (graph.isRangeCalMinMax && volMn < volMx && isFinite(volMn) && isFinite(volMx)) {\n      mn = volMn;\n      mx = volMx;\n    }\n    if (graph.normalizeValues && mx > mn) {\n      const range = mx - mn;\n      for (let j = 0; j < graph.lines.length; j++) {\n        for (let i = 0; i < graph.lines[j].length; i++) {\n          const v = graph.lines[j][i];\n          graph.lines[j][i] = (v - mn) / range;\n        }\n      }\n      mn = 0;\n      mx = 1;\n    }\n    if (mn >= mx) {\n      mx = mn + 1;\n    }\n    this.drawRect(graph.LTWH, graph.backColor);\n    const [spacing, ticMin, ticMax] = tickSpacing(mn, mx);\n    const digits = Math.max(0, -1 * Math.floor(Math.log(spacing) / Math.log(10)));\n    mn = Math.min(ticMin, mn);\n    mx = Math.max(ticMax, mx);\n    function humanize(x) {\n      return x.toFixed(6).replace(/\\.?0*$/, \"\");\n    }\n    let fntSize = this.fontPx * 0.7;\n    const screenWidthPts = regionW / this.uiData.dpr;\n    const screenHeightPts = regionH / this.uiData.dpr;\n    const screenAreaPts = screenWidthPts * screenHeightPts;\n    const refAreaPts = 800 * 600;\n    if (screenAreaPts < refAreaPts) {\n      fntSize = 0;\n    } else {\n      fntSize = Math.max(fntSize, this.opts.fontMinPx);\n    }\n    const fntScale = fntSize / this.fontPx;\n    let maxTextWid = 0;\n    let lineH = ticMin;\n    if (fntSize > 0) {\n      while (lineH <= mx) {\n        const str = lineH.toFixed(digits);\n        const w = this.textWidth(fntSize, str);\n        maxTextWid = Math.max(w, maxTextWid);\n        lineH += spacing;\n      }\n    }\n    const margin = 0.05;\n    const frameWid = Math.abs(graph.LTWH[2]);\n    const frameHt = Math.abs(graph.LTWH[3]);\n    const plotLTWH = [\n      graph.LTWH[0] + margin * frameWid + maxTextWid,\n      graph.LTWH[1] + margin * frameHt,\n      graph.LTWH[2] - maxTextWid - 2 * margin * frameWid,\n      graph.LTWH[3] - fntSize - 2.5 * margin * frameHt\n    ];\n    this.graph.LTWH = graph.LTWH;\n    this.graph.plotLTWH = plotLTWH;\n    this.drawRect(plotLTWH, this.opts.backColor);\n    const rangeH = mx - mn;\n    const scaleH = plotLTWH[3] / rangeH;\n    const scaleW = plotLTWH[2] / (graph.lines[0].length - 1);\n    const plotBottom = plotLTWH[1] + plotLTWH[3];\n    lineH = ticMin + 0.5 * spacing;\n    const thinColor = graph.lineColor.slice();\n    thinColor[3] = 0.5 * graph.lineColor[3];\n    while (lineH <= mx) {\n      const y = plotBottom - (lineH - mn) * scaleH;\n      this.drawLine([plotLTWH[0], y, plotLTWH[0] + plotLTWH[2], y], graph.gridLineThickness, thinColor);\n      lineH += spacing;\n    }\n    lineH = ticMin;\n    const halfThick = 0.5 * graph.gridLineThickness;\n    while (lineH <= mx) {\n      const y = plotBottom - (lineH - mn) * scaleH;\n      this.drawLine(\n        [plotLTWH[0] - halfThick, y, plotLTWH[0] + plotLTWH[2] + graph.gridLineThickness, y],\n        graph.gridLineThickness,\n        graph.lineColor\n      );\n      const str = lineH.toFixed(digits);\n      if (fntSize > 0) {\n        this.drawTextLeft([plotLTWH[0] - 6, y], str, fntScale, graph.textColor);\n      }\n      lineH += spacing;\n    }\n    let stride = 1;\n    while (graph.lines[0].length / stride > 20) {\n      stride *= 5;\n    }\n    for (let i = 0; i < graph.lines[0].length; i += stride) {\n      const x = i * scaleW + plotLTWH[0];\n      let thick = graph.gridLineThickness;\n      if (i % 2 === 1) {\n        thick *= 0.5;\n        this.drawLine([x, plotLTWH[1], x, plotLTWH[1] + plotLTWH[3]], thick, thinColor);\n      } else {\n        const str = humanize(i);\n        if (fntSize > 0) {\n          this.drawTextBelow([x, 2 + plotLTWH[1] + plotLTWH[3]], str, fntScale, graph.textColor);\n        }\n        this.drawLine([x, plotLTWH[1], x, plotLTWH[1] + plotLTWH[3]], thick, graph.lineColor);\n      }\n    }\n    for (let j = 0; j < graph.lines.length; j++) {\n      let lineRGBA = [1, 0, 0, graph.lineAlpha];\n      if (j < graph.lineRGB.length) {\n        lineRGBA = [graph.lineRGB[j][0], graph.lineRGB[j][1], graph.lineRGB[j][2], graph.lineAlpha];\n      }\n      for (let i = 1; i < graph.lines[j].length; i++) {\n        const x0 = (i - 1) * scaleW;\n        const x1 = i * scaleW;\n        const y0 = (graph.lines[j][i - 1] - mn) * scaleH;\n        const y1 = (graph.lines[j][i] - mn) * scaleH;\n        const LTWH = [\n          plotLTWH[0] + x0,\n          plotLTWH[1] + plotLTWH[3] - y0,\n          plotLTWH[0] + x1,\n          plotLTWH[1] + plotLTWH[3] - y1\n        ];\n        this.drawLine(LTWH, graph.lineThickness, lineRGBA);\n      }\n    }\n    if (graph.selectedColumn >= 0 && graph.selectedColumn < graph.lines[0].length) {\n      const x = graph.selectedColumn * scaleW + plotLTWH[0];\n      this.drawLine([x, plotLTWH[1], x, plotLTWH[1] + plotLTWH[3]], graph.lineThickness, [\n        graph.lineRGB[0][0],\n        graph.lineRGB[0][1],\n        graph.lineRGB[0][2],\n        selectedLineAlpha\n      ]);\n    }\n    if (fntSize > 0 && graph.LTWH[1] + graph.LTWH[3] > plotLTWH[1] + plotLTWH[3] + fntSize * 2.4) {\n      this.drawTextBelow(\n        [plotLTWH[0] + 0.5 * plotLTWH[2], plotLTWH[1] + plotLTWH[3] + fntSize * 1.2],\n        \"Volume\",\n        fntScale,\n        graph.textColor\n      );\n    }\n    if (this.detectPartialllyLoaded4D()) {\n      this.drawTextBelow(\n        [plotLTWH[0] + plotLTWH[2], plotLTWH[1] + plotLTWH[3] + fntSize * 0.5],\n        \"...\",\n        fntScale,\n        graph.textColor\n      );\n    }\n  }\n  /**\n   * Updates crosshair position using depth-based mouse picking from screen pixel color.\n   * Only active when depth picking is enabled.\n   * @internal\n   */\n  depthPicker(leftTopWidthHeight, mvpMatrix) {\n    if (!this.uiData.mouseDepthPicker) {\n      return;\n    }\n    this.uiData.mouseDepthPicker = false;\n    const gl = this.gl;\n    const pixelX = this.mousePos[0] * leftTopWidthHeight[2] / leftTopWidthHeight[2];\n    const pixelY = gl.canvas.height - this.mousePos[1] * leftTopWidthHeight[3] / leftTopWidthHeight[3] - 1;\n    const rgbaPixel = new Uint8Array(4);\n    gl.readPixels(\n      pixelX,\n      // x\n      pixelY,\n      // y\n      1,\n      // width\n      1,\n      // height\n      gl.RGBA,\n      // format\n      gl.UNSIGNED_BYTE,\n      // type\n      rgbaPixel\n    );\n    this.selectedObjectId = rgbaPixel[3];\n    if (this.selectedObjectId === this.VOLUME_ID) {\n      this.scene.crosshairPos = new Float32Array(rgbaPixel.slice(0, 3)).map((x) => x / 255);\n      return;\n    }\n    const depthZ = unpackFloatFromVec4i(rgbaPixel);\n    if (depthZ > 1) {\n      return;\n    }\n    const fracX = (this.mousePos[0] - leftTopWidthHeight[0]) / leftTopWidthHeight[2];\n    const fracY = (gl.canvas.height - this.mousePos[1] - leftTopWidthHeight[1]) / leftTopWidthHeight[3];\n    const mm = unProject(fracX, fracY, depthZ, mvpMatrix);\n    const frac = this.mm2frac(mm, 0, true);\n    if (frac[0] < 0 || frac[0] > 1 || frac[1] < 0 || frac[1] > 1 || frac[2] < 0 || frac[2] > 1) {\n      return;\n    }\n    this.scene.crosshairPos = this.mm2frac(mm, 0, true);\n  }\n  /**\n   * Render a 3D volume visualization of the current NVImage using provided transformation matrices and angles.\n   * @internal\n   */\n  drawImage3D(mvpMatrix, azimuth, elevation) {\n    if (this.volumes.length === 0) {\n      return;\n    }\n    const gl = this.gl;\n    const rayDir = this.calculateRayDirection(azimuth, elevation);\n    const object3D = this.volumeObject3D;\n    if (object3D) {\n      gl.enable(gl.BLEND);\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n      gl.enable(gl.CULL_FACE);\n      gl.cullFace(gl.FRONT);\n      let shader = this.renderShader;\n      if (this.uiData.mouseDepthPicker) {\n        shader = this.pickingImageShader;\n      }\n      shader.use(this.gl);\n      gl.uniform1i(shader.uniforms.backgroundMasksOverlays, this.backgroundMasksOverlays);\n      if (this.gradientTextureAmount > 0 && shader.uniforms.normMtx && this.gradientTexture) {\n        gl.activeTexture(TEXTURE6_GRADIENT);\n        gl.bindTexture(gl.TEXTURE_3D, this.gradientTexture);\n        const modelMatrix = this.calculateModelMatrix(azimuth, elevation);\n        const iModelMatrix = mat49.create();\n        mat49.invert(iModelMatrix, modelMatrix);\n        const normalMatrix = mat49.create();\n        mat49.transpose(normalMatrix, iModelMatrix);\n        gl.uniformMatrix4fv(shader.uniforms.normMtx, false, normalMatrix);\n      }\n      if (this.drawBitmap && this.drawBitmap.length > 8) {\n        gl.uniform2f(shader.uniforms.renderDrawAmbientOcclusionXY, this.renderDrawAmbientOcclusion, this.drawOpacity);\n      } else {\n        gl.uniform2f(shader.uniforms.renderDrawAmbientOcclusionXY, this.renderDrawAmbientOcclusion, 0);\n      }\n      this.gl.uniform4fv(shader.uniforms.paqdUniforms, this.opts.paqdUniforms);\n      gl.uniformMatrix4fv(shader.uniforms.mvpMtx, false, mvpMatrix);\n      gl.uniformMatrix4fv(shader.uniforms.matRAS, false, this.back.matRAS);\n      gl.uniform3fv(shader.uniforms.rayDir, rayDir);\n      if (this.gradientTextureAmount < 0) {\n        gl.uniform4fv(shader.uniforms.clipPlane, [\n          this.scene.crosshairPos[0],\n          this.scene.crosshairPos[1],\n          this.scene.crosshairPos[2],\n          30\n        ]);\n      } else {\n        const MAX_CLIP_PLANES = 6;\n        const arr = new Float32Array(4 * MAX_CLIP_PLANES).fill(2);\n        for (let i = 0; i < this.scene.clipPlaneDepthAziElevs.length; i++) {\n          const dae = this.scene.clipPlaneDepthAziElevs[i];\n          const v = this.sph2cartDeg(dae[1] + 180, dae[2]);\n          const planeI = [v[0], v[1], v[2], dae[0]];\n          arr.set(planeI, i * 4);\n        }\n        this.gl.uniform4fv(shader.uniforms.clipPlanes, arr);\n      }\n      gl.uniform1f(shader.uniforms.drawOpacity, 1);\n      gl.uniform1i(shader.uniforms.isClipCutaway, this.opts.isClipPlanesCutaway ? 1 : 0);\n      gl.bindVertexArray(object3D.vao);\n      gl.drawElements(object3D.mode, object3D.indexCount, gl.UNSIGNED_SHORT, 0);\n      gl.bindVertexArray(this.unusedVAO);\n    }\n  }\n  /**\n   * Draw a small orientation cube indicating L/R, A/P, I/S directions in the given tile area with specified azimuth and elevation.\n   * @internal\n   */\n  drawOrientationCube(leftTopWidthHeight, azimuth = 0, elevation = 0) {\n    if (!this.opts.isOrientCube) {\n      return;\n    }\n    const sz = 0.05 * Math.min(leftTopWidthHeight[2], leftTopWidthHeight[3]);\n    if (sz < 5) {\n      return;\n    }\n    const gl = this.gl;\n    gl.enable(gl.CULL_FACE);\n    gl.cullFace(gl.BACK);\n    gl.disable(gl.DEPTH_TEST);\n    this.orientCubeShader.use(this.gl);\n    gl.bindVertexArray(this.orientCubeShaderVAO);\n    const modelMatrix = mat49.create();\n    const projectionMatrix = mat49.create();\n    mat49.ortho(projectionMatrix, 0, gl.canvas.width, 0, gl.canvas.height, -10 * sz, 10 * sz);\n    let translateUpForColorbar = 0;\n    if (leftTopWidthHeight[1] === 0) {\n      translateUpForColorbar = gl.canvas.height - this.effectiveCanvasHeight();\n    }\n    mat49.translate(modelMatrix, modelMatrix, [\n      1.8 * sz + leftTopWidthHeight[0],\n      translateUpForColorbar + 1.8 * sz + leftTopWidthHeight[1],\n      0\n    ]);\n    mat49.scale(modelMatrix, modelMatrix, [sz, sz, sz]);\n    mat49.rotateX(modelMatrix, modelMatrix, deg2rad(270 - elevation));\n    mat49.rotateZ(modelMatrix, modelMatrix, deg2rad(-azimuth));\n    const modelViewProjectionMatrix = mat49.create();\n    mat49.multiply(modelViewProjectionMatrix, projectionMatrix, modelMatrix);\n    gl.uniformMatrix4fv(this.orientCubeShader.uniforms.u_matrix, false, modelViewProjectionMatrix);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 168);\n    gl.bindVertexArray(this.unusedVAO);\n    this.gl.disable(this.gl.CULL_FACE);\n  }\n  /**\n   * Internal utility to generate human-readable location strings for the onLocationChange callback\n   * @param axCorSag - optional axis index for coordinate interpretation (NaN by default)\n   * @remarks Computes string representation of current crosshair position in mm (and frame if 4D).\n   * @see {@link https://niivue.com/demos/features/modulateAfni.html | live demo usage}\n   */\n  createOnLocationChange(axCorSag = NaN) {\n    const [_mn, _mx, range] = this.sceneExtentsMinMax(true);\n    const fov = Math.max(Math.max(range[0], range[1]), range[2]);\n    function dynamicDecimals(flt) {\n      return Math.max(0, -Math.ceil(Math.log10(Math.abs(flt))));\n    }\n    let deci = dynamicDecimals(fov * 1e-3);\n    const mm = this.frac2mm(this.scene.crosshairPos, 0, true);\n    function flt2str(flt, decimals = 0) {\n      return parseFloat(flt.toFixed(decimals));\n    }\n    let str = flt2str(mm[0], deci) + \"\\xD7\" + flt2str(mm[1], deci) + \"\\xD7\" + flt2str(mm[2], deci);\n    if (this.volumes.length > 0 && this.volumes[0].nFrame4D > 0) {\n      str += \"\\xD7\" + flt2str(this.volumes[0].frame4D);\n    }\n    if (this.volumes.length > 0) {\n      let valStr = \" = \";\n      for (let i = 0; i < this.volumes.length; i++) {\n        const vox = this.volumes[i].mm2vox(mm);\n        let flt = this.volumes[i].getValue(vox[0], vox[1], vox[2], this.volumes[i].frame4D);\n        deci = 3;\n        if (this.volumes[i].colormapLabel !== null) {\n          const v = Math.round(flt);\n          if (this.volumes[i].hdr.intent_code === 1002 /* NIFTI_INTENT_LABEL */ && this.volumes[i].hdr.datatypeCode === 2304 /* DT_RGBA32 */) {\n            const vals = this.volumes[i].getValues(vox[0], vox[1], vox[2], this.volumes[i].frame4D);\n            if (vals[2] > 2) {\n              const pct1 = Math.round(100 * vals[2] / 255);\n              valStr += this.volumes[i].colormapLabel.labels[vals[0]] + ` (${pct1}%)`;\n              if (vals[3] > 2) {\n                const pct2 = Math.round(100 * vals[3] / 255);\n                valStr += ` ` + this.volumes[i].colormapLabel.labels[vals[1]] + ` (${pct2}%)`;\n              }\n            }\n          } else if (v >= 0 && this.volumes[i].colormapLabel.labels && v < this.volumes[i].colormapLabel.labels.length) {\n            valStr += this.volumes[i].colormapLabel.labels[v];\n          } else {\n            valStr += \"undefined(\" + flt2str(flt, deci) + \")\";\n          }\n        } else {\n          valStr += flt2str(flt, deci);\n        }\n        if (this.volumes[i].imaginary) {\n          flt = this.volumes[i].getValue(vox[0], vox[1], vox[2], this.volumes[i].frame4D, true);\n          if (flt >= 0) {\n            valStr += \"+\";\n          }\n          valStr += flt2str(flt, deci);\n        }\n        valStr += \"   \";\n      }\n      str += valStr;\n      const dims = this.back.dimsRAS;\n      const nv = dims[1] * dims[2] * dims[3];\n      if (this.drawBitmap && this.drawBitmap.length === nv) {\n        const vox = this.frac2vox(this.scene.crosshairPos);\n        const vx = vox[0] + vox[1] * dims[1] + vox[2] * dims[1] * dims[2];\n        str += \" \" + this.drawLut.labels[this.drawBitmap[vx]];\n      }\n    }\n    const msg = {\n      mm: this.frac2mm(this.scene.crosshairPos, 0, true),\n      axCorSag,\n      vox: this.frac2vox(this.scene.crosshairPos),\n      frac: this.scene.crosshairPos,\n      xy: [this.mousePos[0], this.mousePos[1]],\n      values: this.volumes.map((v) => {\n        const mm2 = this.frac2mm(this.scene.crosshairPos, 0, true);\n        const vox = v.mm2vox(mm2);\n        const val = v.getValue(vox[0], vox[1], vox[2], v.frame4D);\n        return {\n          name: v.name,\n          value: val,\n          id: v.id,\n          mm: mm2,\n          vox\n        };\n      }),\n      string: str\n    };\n    this.onLocationChange(msg);\n  }\n  /**\n   * Add a 3D Label\n   * @param text - the text content of the label\n   * @param style - visual styling options for the label (e.g., color, scale, line width)\n   * @param points - a 3D point `[x, y, z]` or array of points to anchor the label in space\n   * @param anchor - optional label anchor position (e.g., top-left, center, etc.)\n   * @param onClick - optional callback function to invoke when the label is clicked\n   * @returns the created `NVLabel3D` instance\n   * @see {@link https://niivue.com/demos/features/labels.html | live demo usage}\n   */\n  addLabel(text, style, points, anchor, onClick) {\n    const defaultStyle = {\n      textColor: this.opts.legendTextColor,\n      textScale: 1,\n      textAlignment: \"left\" /* LEFT */,\n      lineWidth: 0,\n      lineColor: this.opts.legendTextColor,\n      lineTerminator: \"none\" /* NONE */,\n      bulletScale: 0,\n      bulletColor: this.opts.legendTextColor\n    };\n    const labelStyle = style ? { ...defaultStyle, ...style } : { ...defaultStyle };\n    const label = new NVLabel3D(text, { ...labelStyle }, points, anchor, onClick);\n    this.document.labels.push(label);\n    return label;\n  }\n  /**\n   * Calculate the 2D screen coordinates of a 3D point using the provided MVP matrix and tile position/size.\n   * @internal\n   */\n  calculateScreenPoint(point, mvpMatrix, leftTopWidthHeight) {\n    const screenPoint = vec49.create();\n    vec49.transformMat4(screenPoint, [...point, 1], mvpMatrix);\n    if (screenPoint[3] !== 0) {\n      screenPoint[0] = (screenPoint[0] / screenPoint[3] + 1) * 0.5 * leftTopWidthHeight[2];\n      screenPoint[1] = (1 - screenPoint[1] / screenPoint[3]) * 0.5 * leftTopWidthHeight[3];\n      screenPoint[2] /= screenPoint[3];\n      screenPoint[0] += leftTopWidthHeight[0];\n      screenPoint[1] += leftTopWidthHeight[1];\n    }\n    return screenPoint;\n  }\n  /**\n   * Return the label located at the given screen coordinates, or null if none found.\n   * @internal\n   */\n  getLabelAtPoint(screenPoint) {\n    const scale = this.legendFontScaling;\n    const size = this.fontPx * scale;\n    const verticalMargin = this.fontPx * scale;\n    for (const label of this.document.labels) {\n      if (label.anchor == null || label.anchor === 0 /* NONE */) {\n        continue;\n      }\n      const labelSize = this.fontPx * label.style.textScale * scale;\n      const textHeight = this.textHeight(labelSize, label.text);\n      const textWidth = this.textWidth(labelSize, label.text);\n      if (label.anchor & 1 /* LEFT */) {\n        if (screenPoint[0] > textWidth) {\n          continue;\n        }\n      }\n      if (label.anchor & 2 /* CENTER */) {\n        if (screenPoint[0] < (this.gl.canvas.width - textWidth) / 2) {\n          continue;\n        }\n        if (screenPoint[0] > (this.gl.canvas.width + textWidth) / 2) {\n          continue;\n        }\n      }\n      if (label.anchor & 4 /* RIGHT */) {\n        if (screenPoint[0] < this.gl.canvas.width - textWidth) {\n          continue;\n        }\n      }\n      if (label.anchor & 8 /* TOP */) {\n        if (screenPoint[1] < verticalMargin / 2) {\n          continue;\n        }\n        if (screenPoint[1] > textHeight + verticalMargin / 2) {\n          continue;\n        }\n      }\n      if (label.anchor & 16 /* MIDDLE */) {\n        if (screenPoint[1] < (this.gl.canvas.height - textHeight - verticalMargin) / 2) {\n          continue;\n        }\n        if (screenPoint[1] > (this.gl.canvas.height + textHeight - verticalMargin / 2) / 2) {\n          continue;\n        }\n      }\n      if (label.anchor & 32 /* BOTTOM */) {\n        if (screenPoint[1] < this.gl.canvas.height - textHeight - verticalMargin) {\n          continue;\n        }\n        if (screenPoint[1] > this.gl.canvas.height - verticalMargin / 2) {\n          continue;\n        }\n      }\n      return label;\n    }\n    log.debug(\"screenPoint\", screenPoint);\n    const panelHeight = this.getLegendPanelHeight(scale);\n    const panelWidth = this.getLegendPanelWidth();\n    const left = this.gl.canvas.width - panelWidth;\n    let top = (this.canvas.height - panelHeight) / 2;\n    log.debug(\"panelrect\", left, top, left + panelWidth, top + panelHeight);\n    if (screenPoint[0] < left || screenPoint[1] < top || screenPoint[0] > left + panelWidth || screenPoint[1] > top + panelHeight) {\n      return null;\n    }\n    const labels = this.getConnectomeLabels();\n    for (const label of labels) {\n      const labelSize = this.fontPx * label.style.textScale * scale;\n      const textHeight = this.textHeight(labelSize, label.text);\n      if (screenPoint[1] >= top && screenPoint[1] <= top + textHeight + size / 2) {\n        log.debug(`label clicked ${label.text}`);\n        return label;\n      }\n      top += textHeight;\n      top += size / 2;\n    }\n    return null;\n  }\n  /**\n   * Draw lines from a 2D label position to its associated 3D points; supports solid and dotted lines.\n   * @internal\n   */\n  drawLabelLine(label, pos, mvpMatrix, leftTopWidthHeight, secondPass = false) {\n    const points = Array.isArray(label.points) && Array.isArray(label.points[0]) ? label.points : [label.points];\n    for (const point of points) {\n      const screenPoint = this.calculateScreenPoint(point, mvpMatrix, leftTopWidthHeight);\n      if (!secondPass) {\n        this.draw3DLine(\n          pos,\n          [screenPoint[0], screenPoint[1], screenPoint[2]],\n          label.style.lineWidth,\n          label.style.lineColor\n        );\n      } else {\n        this.drawDottedLine([...pos, screenPoint[0], screenPoint[1]], label.style.lineWidth, label.style.lineColor);\n      }\n    }\n  }\n  /**\n   * Render a 3D label with optional leader lines, bullet markers, and text alignment within a legend.\n   * @internal\n   */\n  draw3DLabel(label, pos, mvpMatrix, leftTopWidthHeight, bulletMargin, legendWidth, secondPass, scaling = 1) {\n    const text = label.text;\n    const left = pos[0];\n    const top = pos[1];\n    const size = this.fontPx * scaling;\n    const textHeight = this.textHeight(label.style.textScale, text) * size;\n    if (label.style.lineWidth > 0 && Array.isArray(label.points)) {\n      this.drawLabelLine(label, [left, top + textHeight], mvpMatrix, leftTopWidthHeight, secondPass);\n    }\n    if (label.style.bulletScale) {\n      const bulletSize = label.style.bulletScale * textHeight;\n      const diff = textHeight - bulletSize;\n      const rectTop = top + diff / 2 + bulletSize / 2;\n      const rectLeft = left + (bulletMargin - bulletSize) / 2;\n      this.drawCircle([rectLeft, rectTop, bulletSize, bulletSize], label.style.bulletColor);\n    }\n    let textLeft = left;\n    if (legendWidth) {\n      if (label.style.textAlignment !== \"left\" /* LEFT */) {\n        const textWidth = this.textWidth(label.style.textScale, label.text) * size;\n        if (label.style.textAlignment === \"right\" /* RIGHT */) {\n          textLeft = left + legendWidth - size * 1.5 - textWidth;\n        } else {\n          const remaining = legendWidth - (bulletMargin || size);\n          textLeft += (remaining - textWidth) / 2;\n        }\n      } else {\n        textLeft += bulletMargin;\n      }\n    }\n    const scale = label.style.textScale;\n    this.drawText([textLeft, top], text, scale, label.style.textColor);\n  }\n  /**\n   * Render all visible 3D labels in the legend panel, handling font scaling and layering.\n   * @internal\n   */\n  draw3DLabels(mvpMatrix, leftTopWidthHeight, secondPass = false) {\n    const labels = this.getConnectomeLabels();\n    if (!this.opts.showLegend || labels.length === 0) {\n      return;\n    }\n    let panelHeight = this.getLegendPanelHeight(1);\n    if (!this.canvas || panelHeight < 1) {\n      return;\n    }\n    const gl = this.gl;\n    gl.disable(gl.CULL_FACE);\n    gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n    this.legendFontScaling = 1;\n    if (panelHeight > this.canvas.height) {\n      const margin = 10 * this.uiData.dpr;\n      this.legendFontScaling = Math.max(this.canvas.height - margin, 1) / panelHeight;\n      log.debug(`Legend too large for screen, font reduction factor x${this.legendFontScaling}`);\n      panelHeight = this.getLegendPanelHeight(this.legendFontScaling);\n    }\n    const size = this.fontPx * this.legendFontScaling;\n    const bulletMargin = this.getBulletMarginWidth();\n    const panelWidth = this.getLegendPanelWidth();\n    const left = gl.canvas.width - panelWidth;\n    let top = (this.canvas.height - panelHeight) / 2;\n    this.drawRect([gl.canvas.width - panelWidth, top, panelWidth - size, panelHeight], this.opts.legendBackgroundColor);\n    const blend = gl.getParameter(gl.BLEND);\n    const depthFunc = gl.getParameter(gl.DEPTH_FUNC);\n    if (!secondPass) {\n      gl.disable(gl.BLEND);\n      gl.depthFunc(gl.LEQUAL);\n    }\n    for (const label of labels) {\n      this.draw3DLabel(\n        label,\n        [left, top],\n        mvpMatrix,\n        leftTopWidthHeight,\n        bulletMargin,\n        panelWidth,\n        secondPass,\n        this.legendFontScaling\n      );\n      const labelSize = this.fontPx * label.style.textScale;\n      const textHeight = this.textHeight(labelSize, label.text) * this.legendFontScaling;\n      top += textHeight;\n      top += size / 2;\n    }\n    if (!secondPass) {\n      gl.depthFunc(depthFunc);\n      if (blend) {\n        gl.enable(gl.BLEND);\n      }\n    }\n  }\n  /**\n   * Draw all labels anchored to screen edges or corners with background rectangles.\n   * @internal\n   */\n  drawAnchoredLabels() {\n    const size = this.fontPx;\n    const anchoredLabels = this.document.labels.filter((l) => l.anchor != null && l.anchor !== 0 /* NONE */);\n    for (const label of anchoredLabels) {\n      const text = label.text;\n      const textHeight = this.textHeight(label.style.textScale, text) * size;\n      const textWidth = this.textWidth(label.style.textScale, text) * size;\n      let left;\n      let top;\n      const scale = 1;\n      const verticalMargin = this.fontPx * scale;\n      const rectHeightDiff = verticalMargin;\n      let rectWidthDiff = verticalMargin / 4;\n      let rectHorizontalOffset = 0;\n      let rectVerticalOffset = 0;\n      if (label.anchor & 1 /* LEFT */) {\n        left = 0;\n      }\n      if (label.anchor & 4 /* RIGHT */) {\n        left = this.canvas.width - textWidth;\n        rectHorizontalOffset -= verticalMargin / 4;\n      }\n      if (label.anchor & 2 /* CENTER */) {\n        left = (this.canvas.width - textWidth) / 2;\n        rectHorizontalOffset -= verticalMargin / 4;\n        rectWidthDiff += verticalMargin / 4;\n      }\n      if (label.anchor & 8 /* TOP */) {\n        top = 0;\n      }\n      if (label.anchor & 16 /* MIDDLE */) {\n        top = (this.canvas.height - textHeight - verticalMargin) / 2;\n        rectVerticalOffset -= verticalMargin / 4;\n      }\n      if (label.anchor & 32 /* BOTTOM */) {\n        top = this.canvas.height - textHeight - verticalMargin;\n        rectVerticalOffset -= verticalMargin / 4;\n      }\n      this.drawRect(\n        [left + rectHorizontalOffset, top + rectVerticalOffset, textWidth + rectWidthDiff, textHeight + rectHeightDiff],\n        label.style.backgroundColor\n      );\n      this.draw3DLabel(label, [left, top]);\n    }\n  }\n  /**\n   * Render the 3D scene including volume, meshes, labels, crosshairs, and orientation cube.\n   * @internal\n   */\n  draw3D(leftTopWidthHeight = [0, 0, 0, 0], mvpMatrix = null, modelMatrix = null, normalMatrix = null, azimuth = null, elevation = 0) {\n    const gl = this.gl;\n    const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n    let ltwh = [...leftTopWidthHeight];\n    if (ltwh[2] === 0 || ltwh[3] === 0) {\n      ltwh = this.opts.bounds ? [regionX, regionY, regionW, regionH] : [0, 0, gl.canvas.width, gl.canvas.height];\n    }\n    const isMosaic = azimuth !== null;\n    this.setPivot3D();\n    if (!isMosaic) {\n      azimuth = this.scene.renderAzimuth;\n      elevation = this.scene.renderElevation;\n    }\n    if (mvpMatrix === null) {\n      ;\n      [mvpMatrix, modelMatrix, normalMatrix] = this.calculateMvpMatrix(null, ltwh, azimuth, elevation);\n    }\n    const relativeLTWH = [...ltwh];\n    this.screenSlices.push({\n      leftTopWidthHeight: ltwh.slice(),\n      // canvas-space\n      axCorSag: 4 /* RENDER */,\n      sliceFrac: 0,\n      AxyzMxy: [],\n      leftTopMM: [],\n      fovMM: [isRadiological(modelMatrix), 0]\n    });\n    const glLTWH = [ltwh[0], gl.canvas.height - ltwh[3] - ltwh[1], ltwh[2], ltwh[3]];\n    ltwh[1] = gl.canvas.height - ltwh[3] - ltwh[1];\n    gl.clear(gl.DEPTH_BUFFER_BIT);\n    gl.enable(gl.DEPTH_TEST);\n    gl.depthFunc(gl.ALWAYS);\n    gl.depthMask(true);\n    this.draw3DLabels(mvpMatrix, relativeLTWH, false);\n    this.gl.viewport(glLTWH[0], glLTWH[1], glLTWH[2], glLTWH[3]);\n    if (this.volumes.length > 0) {\n      this.updateInterpolation(0, true);\n      this.updateInterpolation(1, true);\n      this.drawImage3D(mvpMatrix, azimuth, elevation);\n    }\n    this.updateInterpolation(0);\n    this.updateInterpolation(1);\n    if (!isMosaic) {\n      this.drawCrosshairs3D(true, 1, mvpMatrix);\n    }\n    this.drawMesh3D(true, 1, mvpMatrix, modelMatrix, normalMatrix);\n    if (this.uiData.mouseDepthPicker) {\n      this.depthPicker(ltwh, mvpMatrix);\n      this.createOnLocationChange();\n      this.draw3D(relativeLTWH, mvpMatrix, modelMatrix, normalMatrix, azimuth, elevation);\n      return;\n    }\n    if (this.opts.meshXRay > 0) {\n      this.drawMesh3D(false, this.opts.meshXRay, mvpMatrix, modelMatrix, normalMatrix);\n    }\n    this.gl.disable(this.gl.CULL_FACE);\n    this.draw3DLabels(mvpMatrix, relativeLTWH, false);\n    gl.viewport(ltwh[0], ltwh[1], ltwh[2], ltwh[3]);\n    if (!isMosaic) {\n      this.drawCrosshairs3D(false, 0.15, mvpMatrix);\n    }\n    gl.viewport(regionX, regionY, regionW, regionH);\n    this.drawOrientationCube(ltwh, azimuth, elevation);\n    const posString = \"azimuth: \" + this.scene.renderAzimuth.toFixed(0) + \" elevation: \" + this.scene.renderElevation.toFixed(0);\n    this.readyForSync = true;\n    this.sync();\n    this.draw3DLabels(mvpMatrix, relativeLTWH, true);\n    return posString;\n  }\n  /**\n   * Render all visible 3D meshes with proper blending, depth, and shader settings.\n   * @internal\n   */\n  drawMesh3D(isDepthTest = true, alpha = 1, m, modelMtx, normMtx, is2D = false) {\n    if (this.meshes.length < 1) {\n      return;\n    }\n    const gl = this.gl;\n    if (!m) {\n      ;\n      [m, modelMtx, normMtx] = this.calculateMvpMatrix(\n        this.volumeObject3D,\n        void 0,\n        this.scene.renderAzimuth,\n        this.scene.renderElevation\n      );\n    }\n    gl.enable(gl.DEPTH_TEST);\n    if (isDepthTest) {\n      gl.depthFunc(gl.LEQUAL);\n    } else {\n      gl.depthFunc(gl.ALWAYS);\n    }\n    gl.cullFace(gl.BACK);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n    let hasFibers = false;\n    for (const mesh of this.meshes) {\n      if (!mesh.visible || mesh.opacity <= 0 || mesh.indexCount < 3) {\n        continue;\n      }\n      const meshAlpha = mesh.opacity * alpha;\n      let shader = this.meshShaders[mesh.meshShaderIndex].shader;\n      if (this.uiData.mouseDepthPicker) {\n        shader = this.pickingMeshShader;\n      }\n      shader.use(gl);\n      if (shader.isCrosscut) {\n        gl.disable(gl.DEPTH_TEST);\n        gl.disable(gl.CULL_FACE);\n        const mm = this.frac2mm(this.scene.crosshairPos, 0, this.opts.isSliceMM);\n        gl.uniformMatrix4fv(shader.uniforms.modelMtx, false, modelMtx);\n        if (is2D) {\n          const OUT_OF_RANGE = 1e9;\n          if (Math.abs(modelMtx[2]) + Math.abs(modelMtx[4]) + Math.abs(modelMtx[9]) >= 2.95) {\n            mm[1] = OUT_OF_RANGE;\n            mm[2] = OUT_OF_RANGE;\n          }\n          if (Math.abs(modelMtx[0]) + Math.abs(modelMtx[6]) + Math.abs(modelMtx[9]) >= 2.95) {\n            mm[0] = OUT_OF_RANGE;\n            mm[2] = OUT_OF_RANGE;\n          }\n          if (Math.abs(modelMtx[0]) + Math.abs(modelMtx[5]) + Math.abs(modelMtx[10]) >= 2.95) {\n            mm[0] = OUT_OF_RANGE;\n            mm[1] = OUT_OF_RANGE;\n          }\n        }\n        let meshThicknessMM = Number(this.opts.meshThicknessOn2D);\n        if (!Number.isFinite(meshThicknessMM)) {\n          meshThicknessMM = 1;\n        }\n        gl.uniform4fv(shader.uniforms.sliceMM, [mm[0], mm[1], mm[2], meshThicknessMM]);\n      } else {\n        gl.enable(gl.CULL_FACE);\n        gl.enable(gl.DEPTH_TEST);\n      }\n      gl.uniformMatrix4fv(shader.uniforms.mvpMtx, false, m);\n      gl.uniformMatrix4fv(shader.uniforms.normMtx, false, normMtx);\n      gl.uniform1f(shader.uniforms.opacity, meshAlpha);\n      if (meshAlpha >= 1) {\n        gl.disable(gl.BLEND);\n        gl.depthMask(true);\n      } else {\n        gl.enable(gl.BLEND);\n        gl.depthMask(false);\n      }\n      if (mesh.offsetPt0 && (mesh.fiberSides < 3 || mesh.fiberRadius <= 0)) {\n        hasFibers = true;\n        continue;\n      }\n      if (shader.isMatcap) {\n        gl.activeTexture(TEXTURE5_MATCAP);\n        gl.bindTexture(gl.TEXTURE_2D, this.matCapTexture);\n      }\n      gl.bindVertexArray(mesh.vao);\n      gl.drawElements(gl.TRIANGLES, mesh.indexCount, gl.UNSIGNED_INT, 0);\n      gl.bindVertexArray(this.unusedVAO);\n    }\n    gl.enable(gl.CULL_FACE);\n    if (this.opts.meshXRay > 0 && !hasFibers) {\n      gl.enable(gl.BLEND);\n      gl.depthMask(false);\n      gl.depthFunc(gl.ALWAYS);\n      for (const mesh of this.meshes) {\n        if (!mesh.visible || mesh.indexCount < 3) {\n          continue;\n        }\n        const shader = this.meshShaders[mesh.meshShaderIndex].shader;\n        shader.use(gl);\n        gl.uniformMatrix4fv(shader.uniforms.mvpMtx, false, m);\n        gl.uniformMatrix4fv(shader.uniforms.normMtx, false, normMtx);\n        gl.uniform1f(shader.uniforms.opacity, mesh.opacity * alpha * this.opts.meshXRay);\n        gl.bindVertexArray(mesh.vao);\n        gl.drawElements(gl.TRIANGLES, mesh.indexCount, gl.UNSIGNED_INT, 0);\n        gl.bindVertexArray(this.unusedVAO);\n      }\n      gl.depthMask(true);\n      gl.depthFunc(gl.GREATER);\n      gl.disable(gl.BLEND);\n    }\n    if (hasFibers) {\n      const shader = this.fiberShader;\n      shader.use(gl);\n      gl.uniformMatrix4fv(shader.uniforms.mvpMtx, false, m);\n      gl.uniform1f(shader.uniforms.opacity, alpha);\n      for (const mesh of this.meshes) {\n        if (!mesh.offsetPt0) {\n          continue;\n        }\n        if (mesh.fiberSides >= 3 && mesh.fiberRadius > 0) {\n          continue;\n        }\n        gl.bindVertexArray(mesh.vaoFiber);\n        gl.drawElements(gl.LINE_STRIP, mesh.indexCount, gl.UNSIGNED_INT, 0);\n        gl.bindVertexArray(this.unusedVAO);\n      }\n    }\n    gl.depthMask(true);\n    gl.disable(gl.BLEND);\n    this.readyForSync = true;\n  }\n  /**\n   * Render 3D crosshairs at the current crosshair position with optional depth testing and transparency.\n   * @internal\n   */\n  drawCrosshairs3D(isDepthTest = true, alpha = 1, mvpMtx = null, is2DView = false, isSliceMM = true) {\n    if (!this.opts.show3Dcrosshair && !is2DView) {\n      return;\n    }\n    if (this.opts.crosshairWidth <= 0 && is2DView) {\n      return;\n    }\n    const gl = this.gl;\n    const mm = this.frac2mm(this.scene.crosshairPos, 0, isSliceMM);\n    let radius = 1;\n    const [mn, mx, range] = this.sceneExtentsMinMax(isSliceMM);\n    if (this.volumes.length > 0) {\n      if (!this.back) {\n        throw new Error(\"back undefined\");\n      }\n      radius = 0.5 * Math.min(Math.min(this.back.pixDims[1], this.back.pixDims[2]), this.back.pixDims[3]);\n    } else if (range[0] < 50 || range[0] > 1e3) {\n      radius = range[0] * 0.02;\n    }\n    radius *= this.opts.crosshairWidth;\n    if (this.opts?.crosshairWidthUnit === \"percent\") {\n      radius = range[0] * this.opts.crosshairWidth * 0.5 * 0.01;\n    }\n    if (this.opts?.crosshairWidthUnit === \"mm\") {\n      radius = this.opts.crosshairWidth * 0.5;\n    }\n    if (this.crosshairs3D === null || this.crosshairs3D.mm[0] !== mm[0] || this.crosshairs3D.mm[1] !== mm[1] || this.crosshairs3D.mm[2] !== mm[2]) {\n      if (this.crosshairs3D !== null) {\n        gl.deleteBuffer(this.crosshairs3D.indexBuffer);\n        gl.deleteBuffer(this.crosshairs3D.vertexBuffer);\n      }\n      this.crosshairs3D = NiivueObject3D.generateCrosshairs(this.gl, 1, mm, mn, mx, radius, 20, this.opts.crosshairGap);\n      this.crosshairs3D.mm = mm;\n    }\n    if (!this.surfaceShader) {\n      throw new Error(\"surfaceShader undefined\");\n    }\n    const crosshairsShader = this.surfaceShader;\n    crosshairsShader.use(this.gl);\n    if (mvpMtx == null) {\n      ;\n      [mvpMtx] = this.calculateMvpMatrix(\n        this.crosshairs3D,\n        void 0,\n        this.scene.renderAzimuth,\n        this.scene.renderElevation\n      );\n    }\n    gl.uniformMatrix4fv(crosshairsShader.uniforms.mvpMtx, false, mvpMtx);\n    gl.disable(gl.CULL_FACE);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.crosshairs3D.indexBuffer);\n    gl.enable(gl.DEPTH_TEST);\n    const color = [...this.opts.crosshairColor];\n    if (isDepthTest) {\n      gl.disable(gl.BLEND);\n      gl.depthFunc(gl.LEQUAL);\n    } else {\n      gl.enable(gl.BLEND);\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n      gl.depthFunc(gl.ALWAYS);\n    }\n    color[3] = alpha;\n    gl.uniform4fv(crosshairsShader.uniforms.surfaceColor, color);\n    gl.bindVertexArray(this.crosshairs3D.vao);\n    gl.drawElements(\n      gl.TRIANGLES,\n      this.crosshairs3D.indexCount,\n      gl.UNSIGNED_INT,\n      // gl.UNSIGNED_SHORT,\n      0\n    );\n    gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Convert millimeter coordinates to fractional volume coordinates for the specified volume.\n   * @internal\n   */\n  mm2frac(mm, volIdx = 0, isForceSliceMM = false) {\n    if (this.volumes.length < 1) {\n      const frac = vec313.fromValues(0.1, 0.5, 0.5);\n      const [mn, _mx, range] = this.sceneExtentsMinMax();\n      frac[0] = (mm[0] - mn[0]) / range[0];\n      frac[1] = (mm[1] - mn[1]) / range[1];\n      frac[2] = (mm[2] - mn[2]) / range[2];\n      if (!isFinite(frac)) {\n        if (!isFinite(frac[0])) {\n          frac[0] = 0.5;\n        }\n        if (!isFinite(frac[1])) {\n          frac[1] = 0.5;\n        }\n        if (!isFinite(frac[2])) {\n          frac[2] = 0.5;\n        }\n        if (this.meshes.length < 1) {\n          log.error(\"mm2frac() not finite: objects not (yet) loaded.\");\n        }\n      }\n      return frac;\n    }\n    return this.volumes[volIdx].convertMM2Frac(mm, isForceSliceMM || this.opts.isSliceMM);\n  }\n  /**\n   * Convert voxel coordinates to fractional volume coordinates for the specified volume.\n   * @internal\n   */\n  vox2frac(vox, volIdx = 0) {\n    return this.volumes[volIdx].convertVox2Frac(vox);\n  }\n  /**\n   * Convert fractional volume coordinates to voxel coordinates for the specified volume.\n   * @internal\n   */\n  frac2vox(frac, volIdx = 0) {\n    if (this.volumes.length <= volIdx) {\n      return [0, 0, 0];\n    }\n    return this.volumes[volIdx].convertFrac2Vox(frac);\n  }\n  /**\n   * move crosshair a fixed number of voxels (not mm)\n   * @param x - translate left (-) or right (+)\n   * @param y - translate posterior (-) or +anterior (+)\n   * @param z - translate inferior (-) or superior (+)\n   * @example niivue.moveCrosshairInVox(1, 0, 0)\n   * @see {@link https://niivue.com/demos/features/draw2.html | live demo usage}\n   */\n  moveCrosshairInVox(x, y, z) {\n    const vox = this.frac2vox(this.scene.crosshairPos);\n    const vox2 = vox[2];\n    vox[0] += x;\n    vox[1] += y;\n    vox[2] += z;\n    vox[0] = clamp(vox[0], 0, this.volumes[0].dimsRAS[1] - 1);\n    vox[1] = clamp(vox[1], 0, this.volumes[0].dimsRAS[2] - 1);\n    vox[2] = clamp(vox[2], 0, this.volumes[0].dimsRAS[3] - 1);\n    this.scene.crosshairPos = this.vox2frac(vox);\n    this.createOnLocationChange();\n    if (this.opts.is2DSliceShader && vox2 !== vox[2]) {\n      this.updateGLVolume();\n      this.refreshDrawing(false);\n    }\n    this.drawScene();\n  }\n  /**\n   * Convert fractional volume coordinates to millimeter space for the specified volume.\n   * @internal\n   */\n  frac2mm(frac, volIdx = 0, isForceSliceMM = false) {\n    const pos = vec49.fromValues(frac[0], frac[1], frac[2], 1);\n    if (this.volumes.length > 0) {\n      return this.volumes[volIdx].convertFrac2MM(frac, isForceSliceMM || this.opts.isSliceMM);\n    } else {\n      const [mn, mx] = this.sceneExtentsMinMax();\n      const lerp = (x, y, a) => x * (1 - a) + y * a;\n      pos[0] = lerp(mn[0], mx[0], frac[0]);\n      pos[1] = lerp(mn[1], mx[1], frac[1]);\n      pos[2] = lerp(mn[2], mx[2], frac[2]);\n    }\n    return pos;\n  }\n  /**\n   * Convert screen pixel coordinates to texture fractional coordinates for the given slice index.\n   * @internal\n   */\n  screenXY2TextureFrac(x, y, i, restrict0to1 = true) {\n    const texFrac = vec313.fromValues(-1, -1, -1);\n    const axCorSag = this.screenSlices[i].axCorSag;\n    if (axCorSag > 2 /* SAGITTAL */) {\n      return texFrac;\n    }\n    const ltwh = this.screenSlices[i].leftTopWidthHeight.slice();\n    let isMirror = false;\n    if (ltwh[2] < 0) {\n      isMirror = true;\n      ltwh[0] += ltwh[2];\n      ltwh[2] = -ltwh[2];\n    }\n    let fracX = (x - ltwh[0]) / ltwh[2];\n    if (isMirror) {\n      fracX = 1 - fracX;\n    }\n    const fracY = 1 - (y - ltwh[1]) / ltwh[3];\n    if (fracX < 0 || fracX > 1 || fracY < 0 || fracY > 1) {\n      return texFrac;\n    }\n    if (this.screenSlices[i].AxyzMxy.length < 4) {\n      return texFrac;\n    }\n    let xyzMM = vec313.fromValues(0, 0, 0);\n    xyzMM[0] = this.screenSlices[i].leftTopMM[0] + fracX * this.screenSlices[i].fovMM[0];\n    xyzMM[1] = this.screenSlices[i].leftTopMM[1] + fracY * this.screenSlices[i].fovMM[1];\n    const v = this.screenSlices[i].AxyzMxy;\n    xyzMM[2] = v[2] + v[4] * (xyzMM[1] - v[1]) - v[3] * (xyzMM[0] - v[0]);\n    if (axCorSag === 1 /* CORONAL */) {\n      xyzMM = swizzleVec3(xyzMM, [0, 2, 1]);\n    }\n    if (axCorSag === 2 /* SAGITTAL */) {\n      xyzMM = swizzleVec3(xyzMM, [2, 0, 1]);\n    }\n    const xyz = this.mm2frac(xyzMM);\n    if (restrict0to1) {\n      if (xyz[0] < 0 || xyz[0] > 1 || xyz[1] < 0 || xyz[1] > 1 || xyz[2] < 0 || xyz[2] > 1) {\n        return texFrac;\n      }\n    }\n    return xyz;\n  }\n  /**\n   * Converts a canvas position to fractional texture coordinates.\n   * @internal\n   */\n  canvasPos2frac(canvasPos) {\n    for (let i = 0; i < this.screenSlices.length; i++) {\n      const texFrac = this.screenXY2TextureFrac(canvasPos[0], canvasPos[1], i);\n      if (texFrac[0] >= 0) {\n        return texFrac;\n      }\n    }\n    return [-1, -1, -1];\n  }\n  /**\n   * Convert fractional volume coordinates to canvas pixel coordinates.\n   * Returns the first valid screen slice that contains the fractional coordinates.\n   * @internal\n   */\n  /**\n   * Convert fractional volume coordinates to canvas pixel coordinates with tile information.\n   * Returns both canvas position and the tile index for validation.\n   * @internal\n   */\n  frac2canvasPosWithTile(frac, preferredSliceType) {\n    const worldMM = this.frac2mm(frac);\n    let bestMatch = { index: -1, distance: Infinity };\n    for (let i = 0; i < this.screenSlices.length; i++) {\n      const axCorSag = this.screenSlices[i].axCorSag;\n      if (axCorSag > 2 /* SAGITTAL */) {\n        continue;\n      }\n      if (this.screenSlices[i].AxyzMxy.length < 4) {\n        continue;\n      }\n      if (preferredSliceType !== void 0 && axCorSag !== preferredSliceType) {\n        continue;\n      }\n      let xyzMM = vec313.fromValues(worldMM[0], worldMM[1], worldMM[2]);\n      if (axCorSag === 1 /* CORONAL */) {\n        xyzMM = swizzleVec3(xyzMM, [0, 2, 1]);\n      }\n      if (axCorSag === 2 /* SAGITTAL */) {\n        xyzMM = swizzleVec3(xyzMM, [1, 2, 0]);\n      }\n      const v = this.screenSlices[i].AxyzMxy;\n      const expectedZ = v[2] + v[4] * (xyzMM[1] - v[1]) - v[3] * (xyzMM[0] - v[0]);\n      const distance = Math.abs(xyzMM[2] - expectedZ);\n      const tolerance = this.opts.sliceType === 3 /* MULTIPLANAR */ ? 1 : 0.1;\n      if (distance < bestMatch.distance) {\n        bestMatch = { index: i, distance };\n      }\n      if (distance <= tolerance) {\n        const fracX = (xyzMM[0] - this.screenSlices[i].leftTopMM[0]) / this.screenSlices[i].fovMM[0];\n        const fracY = (xyzMM[1] - this.screenSlices[i].leftTopMM[1]) / this.screenSlices[i].fovMM[1];\n        if (fracX >= 0 && fracX <= 1 && fracY >= 0 && fracY <= 1) {\n          const ltwh = this.screenSlices[i].leftTopWidthHeight.slice();\n          let isMirror = false;\n          if (ltwh[2] < 0) {\n            isMirror = true;\n            ltwh[0] += ltwh[2];\n            ltwh[2] = -ltwh[2];\n          }\n          let screenFracX = fracX;\n          if (isMirror) {\n            screenFracX = 1 - fracX;\n          }\n          const screenFracY = 1 - fracY;\n          const screenX = ltwh[0] + screenFracX * ltwh[2];\n          const screenY = ltwh[1] + screenFracY * ltwh[3];\n          return { pos: [screenX, screenY], tileIndex: i };\n        }\n      }\n    }\n    return null;\n  }\n  frac2canvasPos(frac) {\n    const worldMM = this.frac2mm(frac);\n    let bestMatch = { index: -1, distance: Infinity };\n    for (let i = 0; i < this.screenSlices.length; i++) {\n      const axCorSag = this.screenSlices[i].axCorSag;\n      if (axCorSag > 2 /* SAGITTAL */) {\n        continue;\n      }\n      if (this.screenSlices[i].AxyzMxy.length < 4) {\n        continue;\n      }\n      let xyzMM = vec313.fromValues(worldMM[0], worldMM[1], worldMM[2]);\n      if (axCorSag === 1 /* CORONAL */) {\n        xyzMM = swizzleVec3(xyzMM, [0, 2, 1]);\n      }\n      if (axCorSag === 2 /* SAGITTAL */) {\n        xyzMM = swizzleVec3(xyzMM, [1, 2, 0]);\n      }\n      const v = this.screenSlices[i].AxyzMxy;\n      const expectedZ = v[2] + v[4] * (xyzMM[1] - v[1]) - v[3] * (xyzMM[0] - v[0]);\n      const distance = Math.abs(xyzMM[2] - expectedZ);\n      const tolerance = this.opts.sliceType === 3 /* MULTIPLANAR */ ? 1 : 0.1;\n      if (distance < bestMatch.distance) {\n        bestMatch = { index: i, distance };\n      }\n      if (distance <= tolerance) {\n        const fracX = (xyzMM[0] - this.screenSlices[i].leftTopMM[0]) / this.screenSlices[i].fovMM[0];\n        const fracY = (xyzMM[1] - this.screenSlices[i].leftTopMM[1]) / this.screenSlices[i].fovMM[1];\n        if (fracX >= 0 && fracX <= 1 && fracY >= 0 && fracY <= 1) {\n          const ltwh = this.screenSlices[i].leftTopWidthHeight.slice();\n          let isMirror = false;\n          if (ltwh[2] < 0) {\n            isMirror = true;\n            ltwh[0] += ltwh[2];\n            ltwh[2] = -ltwh[2];\n          }\n          let screenFracX = fracX;\n          if (isMirror) {\n            screenFracX = 1 - fracX;\n          }\n          const screenFracY = 1 - fracY;\n          const screenX = ltwh[0] + screenFracX * ltwh[2];\n          const screenY = ltwh[1] + screenFracY * ltwh[3];\n          return [screenX, screenY];\n        }\n      }\n    }\n    if (bestMatch.index >= 0 && bestMatch.distance < 2) {\n      const i = bestMatch.index;\n      const axCorSag = this.screenSlices[i].axCorSag;\n      let xyzMM = vec313.fromValues(worldMM[0], worldMM[1], worldMM[2]);\n      if (axCorSag === 1 /* CORONAL */) {\n        xyzMM = swizzleVec3(xyzMM, [0, 2, 1]);\n      }\n      if (axCorSag === 2 /* SAGITTAL */) {\n        xyzMM = swizzleVec3(xyzMM, [1, 2, 0]);\n      }\n      const v = this.screenSlices[i].AxyzMxy;\n      xyzMM[2] = v[2] + v[4] * (xyzMM[1] - v[1]) - v[3] * (xyzMM[0] - v[0]);\n      const fracX = (xyzMM[0] - this.screenSlices[i].leftTopMM[0]) / this.screenSlices[i].fovMM[0];\n      const fracY = (xyzMM[1] - this.screenSlices[i].leftTopMM[1]) / this.screenSlices[i].fovMM[1];\n      if (fracX >= -0.1 && fracX <= 1.1 && fracY >= -0.1 && fracY <= 1.1) {\n        const clampedFracX = Math.max(0, Math.min(1, fracX));\n        const clampedFracY = Math.max(0, Math.min(1, fracY));\n        const ltwh = this.screenSlices[i].leftTopWidthHeight.slice();\n        let isMirror = false;\n        if (ltwh[2] < 0) {\n          isMirror = true;\n          ltwh[0] += ltwh[2];\n          ltwh[2] = -ltwh[2];\n        }\n        let screenFracX = clampedFracX;\n        if (isMirror) {\n          screenFracX = 1 - clampedFracX;\n        }\n        const screenFracY = 1 - clampedFracY;\n        const screenX = ltwh[0] + screenFracX * ltwh[2];\n        const screenY = ltwh[1] + screenFracY * ltwh[3];\n        return [screenX, screenY];\n      }\n    }\n    return null;\n  }\n  /**\n   * Calculates scaled slice dimensions and position within the canvas.\n   * n.b. beware of similarly named `sliceScale` method.\n   * @internal\n   */\n  scaleSlice(w, h, padPixelsWH = [0, 0], canvasWH = [0, 0]) {\n    const canvasW = canvasWH[0] === 0 ? this.effectiveCanvasWidth() - padPixelsWH[0] : canvasWH[0] - padPixelsWH[0];\n    const canvasH = canvasWH[1] === 0 ? this.effectiveCanvasHeight() - padPixelsWH[1] : canvasWH[1] - padPixelsWH[1];\n    let scalePix = canvasW / w;\n    if (h * scalePix > canvasH) {\n      scalePix = canvasH / h;\n    }\n    const wPix = w * scalePix;\n    const hPix = h * scalePix;\n    const leftTopWidthHeight = [(canvasW - wPix) * 0.5, (canvasH - hPix) * 0.5, wPix, hPix, scalePix];\n    return leftTopWidthHeight;\n  }\n  /**\n   * Renders a centered thumbnail image using the bitmap shader.\n   * @internal\n   */\n  drawThumbnail() {\n    if (!this.bmpShader) {\n      throw new Error(\"bmpShader undefined\");\n    }\n    this.bmpShader.use(this.gl);\n    const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n    this.gl.uniform2f(this.bmpShader.uniforms.canvasWidthHeight, regionW, regionH);\n    let h = regionH;\n    let w = regionH * this.bmpTextureWH;\n    if (w > regionW) {\n      h = regionW / this.bmpTextureWH;\n      w = regionW;\n    }\n    const left = regionX + (regionW - w) / 2;\n    const top = regionY + (regionH - h) / 2;\n    this.gl.uniform4f(this.bmpShader.uniforms.leftTopWidthHeight, left, top, w, h);\n    this.gl.bindVertexArray(this.genericVAO);\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n    this.gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Draws a 2D line with specified thickness and color on the canvas.\n   * If alpha < 0, uses the default crosshair color.\n   * @internal\n   */\n  drawLine(startXYendXY, thickness = 1, lineColor = [1, 0, 0, -1]) {\n    this.gl.bindVertexArray(this.genericVAO);\n    if (!this.lineShader) {\n      throw new Error(\"lineShader undefined\");\n    }\n    this.lineShader.use(this.gl);\n    if (lineColor[3] < 0) {\n      lineColor = this.opts.crosshairColor;\n    }\n    this.gl.uniform4fv(this.lineShader.uniforms.lineColor, lineColor);\n    this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight, [this.gl.canvas.width, this.gl.canvas.height]);\n    this.gl.uniform1f(this.lineShader.uniforms.thickness, thickness);\n    this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY, startXYendXY);\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n    this.gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Draws a 3D line from screen to world space with specified thickness and color.\n   * If alpha < 0, uses the default crosshair color.\n   * @internal\n   */\n  draw3DLine(startXY, endXYZ, thickness = 1, lineColor = [1, 0, 0, -1]) {\n    this.gl.bindVertexArray(this.genericVAO);\n    if (!this.line3DShader) {\n      throw new Error(\"line3DShader undefined\");\n    }\n    this.line3DShader.use(this.gl);\n    if (lineColor[3] < 0) {\n      lineColor = this.opts.crosshairColor;\n    }\n    this.gl.uniform4fv(this.line3DShader.uniforms.lineColor, lineColor);\n    this.gl.uniform2fv(this.line3DShader.uniforms.canvasWidthHeight, [this.gl.canvas.width, this.gl.canvas.height]);\n    this.gl.uniform1f(this.line3DShader.uniforms.thickness, thickness);\n    this.gl.uniform2fv(this.line3DShader.uniforms.startXY, startXY);\n    this.gl.uniform3fv(this.line3DShader.uniforms.endXYZ, endXYZ);\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n    this.gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Draws a dotted 2D line with specified thickness and color.\n   * If alpha < 0, uses the default crosshair color with reduced opacity.\n   * @internal\n   */\n  drawDottedLine(startXYendXY, thickness = 1, lineColor = [1, 0, 0, -1]) {\n    this.gl.bindVertexArray(this.genericVAO);\n    if (!this.lineShader) {\n      throw new Error(\"lineShader undefined\");\n    }\n    this.lineShader.use(this.gl);\n    const dottedLineColor = lineColor[3] < 0 ? [...this.opts.crosshairColor] : [...lineColor];\n    dottedLineColor[3] = 0.3;\n    const segment = vec2.fromValues(startXYendXY[2] - startXYendXY[0], startXYendXY[3] - startXYendXY[1]);\n    const totalLength = vec2.length(segment);\n    vec2.normalize(segment, segment);\n    const scale = 1;\n    const size = this.fontPx * scale;\n    vec2.scale(segment, segment, size / 2);\n    const segmentLength = vec2.length(segment);\n    let segmentCount = Math.floor(totalLength / segmentLength);\n    if (totalLength % segmentLength) {\n      segmentCount++;\n    }\n    const currentSegmentXY = [startXYendXY[0], startXYendXY[1]];\n    this.gl.uniform4fv(this.lineShader.uniforms.lineColor, dottedLineColor);\n    this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight, [this.gl.canvas.width, this.gl.canvas.height]);\n    this.gl.uniform1f(this.lineShader.uniforms.thickness, thickness);\n    for (let i = 0; i < segmentCount - 1; i++) {\n      if (i % 2) {\n        currentSegmentXY[0] += segment[0];\n        currentSegmentXY[1] += segment[1];\n        continue;\n      }\n      const segmentStartXYendXY = [\n        currentSegmentXY[0],\n        currentSegmentXY[1],\n        currentSegmentXY[0] + segment[0],\n        currentSegmentXY[1] + segment[1]\n      ];\n      this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY, segmentStartXYendXY);\n      this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4);\n      currentSegmentXY[0] += segment[0];\n      currentSegmentXY[1] += segment[1];\n    }\n    this.gl.bindVertexArray(this.unusedVAO);\n  }\n  /**\n   * Draw a colored line on the graph using given coordinates, color, and thickness.\n   * @internal\n   */\n  drawGraphLine(LTRB, color = [1, 0, 0, 0.5], thickness = 2) {\n    this.drawLine(LTRB, thickness, color);\n  }\n  /**\n   * Draw crosshair lines in millimeters on a given 2D slice tile.\n   * @internal\n   */\n  drawCrossLinesMM(sliceIndex, axCorSag, axiMM, corMM, sagMM) {\n    if (sliceIndex < 0 || this.screenSlices.length <= sliceIndex) {\n      return;\n    }\n    const tile = this.screenSlices[sliceIndex];\n    let sliceFrac = tile.sliceFrac;\n    const isRender = sliceFrac === Infinity;\n    if (isRender) {\n      log.debug(\"Rendering approximate cross lines in world view mode\");\n    }\n    if (sliceFrac === Infinity) {\n      sliceFrac = 0.5;\n    }\n    let linesH = corMM.slice();\n    let linesV = sagMM.slice();\n    const thick = Math.max(1, this.opts.crosshairWidth);\n    if (axCorSag === 1 /* CORONAL */) {\n      linesH = axiMM.slice();\n    }\n    if (axCorSag === 2 /* SAGITTAL */) {\n      linesH = axiMM.slice();\n      linesV = corMM.slice();\n    }\n    function mm2screen(mm) {\n      const screenXY = vec2.fromValues(0, 0);\n      screenXY[0] = tile.leftTopWidthHeight[0] + (mm[0] - tile.leftTopMM[0]) / tile.fovMM[0] * tile.leftTopWidthHeight[2];\n      screenXY[1] = tile.leftTopWidthHeight[1] + tile.leftTopWidthHeight[3] - (mm[1] - tile.leftTopMM[1]) / tile.fovMM[1] * tile.leftTopWidthHeight[3];\n      return screenXY;\n    }\n    if (linesH.length > 0 && axCorSag === 0) {\n      const fracZ = sliceFrac;\n      const dimV = 1;\n      for (let i = 0; i < linesH.length; i++) {\n        const mmV = this.frac2mm([0.5, 0.5, 0.5]);\n        mmV[dimV] = linesH[i];\n        let fracY = this.mm2frac(mmV);\n        fracY = fracY[dimV];\n        let left = this.frac2mm([0, fracY, fracZ]);\n        left = swizzleVec3(left, [0, 1, 2]);\n        let right = this.frac2mm([1, fracY, fracZ]);\n        right = swizzleVec3(right, [0, 1, 2]);\n        left = mm2screen(left);\n        right = mm2screen(right);\n        this.drawLine([left[0], left[1], right[0], right[1]], thick);\n      }\n    }\n    if (linesH.length > 0 && axCorSag === 1) {\n      const fracH = sliceFrac;\n      const dimV = 2;\n      for (let i = 0; i < linesH.length; i++) {\n        const mmV = this.frac2mm([0.5, 0.5, 0.5]);\n        mmV[dimV] = linesH[i];\n        let fracV = this.mm2frac(mmV);\n        fracV = fracV[dimV];\n        let left = this.frac2mm([0, fracH, fracV]);\n        left = swizzleVec3(left, [0, 2, 1]);\n        let right = this.frac2mm([1, fracH, fracV]);\n        right = swizzleVec3(right, [0, 2, 1]);\n        left = mm2screen(left);\n        right = mm2screen(right);\n        this.drawLine([left[0], left[1], right[0], right[1]], thick);\n      }\n    }\n    if (linesH.length > 0 && axCorSag === 2) {\n      const fracX = sliceFrac;\n      const dimV = 2;\n      for (let i = 0; i < linesH.length; i++) {\n        const mmV = this.frac2mm([0.5, 0.5, 0.5]);\n        mmV[dimV] = linesH[i];\n        let fracZ = this.mm2frac(mmV);\n        fracZ = fracZ[dimV];\n        let left = this.frac2mm([fracX, 0, fracZ]);\n        left = swizzleVec3(left, [1, 2, 0]);\n        let right = this.frac2mm([fracX, 1, fracZ]);\n        right = swizzleVec3(right, [1, 2, 0]);\n        left = mm2screen(left);\n        right = mm2screen(right);\n        this.drawLine([left[0], left[1], right[0], right[1]], thick);\n      }\n    }\n    if (linesV.length > 0 && axCorSag === 0) {\n      const fracZ = sliceFrac;\n      const dimH = 0;\n      for (let i = 0; i < linesV.length; i++) {\n        const mm = this.frac2mm([0.5, 0.5, 0.5]);\n        mm[dimH] = linesV[i];\n        let frac = this.mm2frac(mm);\n        frac = frac[dimH];\n        let left = this.frac2mm([frac, 0, fracZ]);\n        left = swizzleVec3(left, [0, 1, 2]);\n        let right = this.frac2mm([frac, 1, fracZ]);\n        right = swizzleVec3(right, [0, 1, 2]);\n        left = mm2screen(left);\n        right = mm2screen(right);\n        this.drawLine([left[0], left[1], right[0], right[1]], thick);\n      }\n    }\n    if (linesV.length > 0 && axCorSag === 1) {\n      const fracY = sliceFrac;\n      const dimH = 0;\n      for (let i = 0; i < linesV.length; i++) {\n        const mm = this.frac2mm([0.5, 0.5, 0.5]);\n        mm[dimH] = linesV[i];\n        let frac = this.mm2frac(mm);\n        frac = frac[dimH];\n        let left = this.frac2mm([frac, fracY, 0]);\n        left = swizzleVec3(left, [0, 2, 1]);\n        let right = this.frac2mm([frac, fracY, 1]);\n        right = swizzleVec3(right, [0, 2, 1]);\n        left = mm2screen(left);\n        right = mm2screen(right);\n        this.drawLine([left[0], left[1], right[0], right[1]], thick);\n      }\n    }\n    if (linesV.length > 0 && axCorSag === 2) {\n      const fracX = sliceFrac;\n      const dimH = 1;\n      for (let i = 0; i < linesV.length; i++) {\n        const mm = this.frac2mm([0.5, 0.5, 0.5]);\n        mm[dimH] = linesV[i];\n        let frac = this.mm2frac(mm);\n        frac = frac[dimH];\n        let left = this.frac2mm([fracX, frac, 0]);\n        left = swizzleVec3(left, [1, 2, 0]);\n        let right = this.frac2mm([fracX, frac, 1]);\n        right = swizzleVec3(right, [1, 2, 0]);\n        left = mm2screen(left);\n        right = mm2screen(right);\n        this.drawLine([left[0], left[1], right[0], right[1]], thick);\n      }\n    }\n  }\n  /**\n   * Draw crosshair lines on 2D slice tile, delegating to mm-based drawing if appropriate.\n   * @internal\n   */\n  drawCrossLines(sliceIndex, axCorSag, axiMM, corMM, sagMM) {\n    if (sliceIndex < 0 || this.screenSlices.length <= sliceIndex) {\n      return;\n    }\n    if (this.opts.isSliceMM) {\n      return this.drawCrossLinesMM(sliceIndex, axCorSag, axiMM, corMM, sagMM);\n    }\n    if (this.screenSlices[sliceIndex].sliceFrac === Infinity) {\n      return this.drawCrossLinesMM(sliceIndex, axCorSag, axiMM, corMM, sagMM);\n    }\n    const tile = this.screenSlices[sliceIndex];\n    let linesH = corMM.slice();\n    let linesV = sagMM.slice();\n    if (axCorSag === 1 /* CORONAL */) {\n      linesH = axiMM.slice();\n    }\n    if (axCorSag === 2 /* SAGITTAL */) {\n      linesH = axiMM.slice();\n      linesV = corMM.slice();\n    }\n    if (linesH.length > 0) {\n      const LTWH = tile.leftTopWidthHeight.slice();\n      let sliceDim = 2;\n      if (axCorSag === 0 /* AXIAL */) {\n        sliceDim = 1;\n      }\n      const mm = this.frac2mm([0.5, 0.5, 0.5]);\n      for (let i = 0; i < linesH.length; i++) {\n        mm[sliceDim] = linesH[i];\n        const frac = this.mm2frac(mm);\n        this.drawRect([LTWH[0], LTWH[1] + LTWH[3] - frac[sliceDim] * LTWH[3], LTWH[2], 1]);\n      }\n    }\n    if (linesV.length > 0) {\n      const LTWH = tile.leftTopWidthHeight.slice();\n      const isRadiolgical = tile.fovMM[0] < 0;\n      let sliceDim = 0;\n      if (axCorSag === 2 /* SAGITTAL */) {\n        sliceDim = 1;\n      }\n      const mm = this.frac2mm([0.5, 0.5, 0.5]);\n      for (let i = 0; i < linesV.length; i++) {\n        mm[sliceDim] = linesV[i];\n        const frac = this.mm2frac(mm);\n        if (isRadiolgical) {\n          this.drawRect([LTWH[0] + (LTWH[2] - frac[sliceDim] * LTWH[2]), LTWH[1], 1, LTWH[3]]);\n        } else {\n          this.drawRect([LTWH[0] + frac[sliceDim] * LTWH[2], LTWH[1], 1, LTWH[3]]);\n        }\n      }\n    }\n  }\n  /**\n   * display a lightbox or montage view\n   * @param mosaicStr - specifies orientation (A,C,S) and location of slices.\n   * @example niivue.setSliceMosaicString(\"A -10 0 20\");\n   * @see {@link https://niivue.com/demos/features/mosaics.html | live demo usage}\n   */\n  drawMosaic(mosaicStr) {\n    this.screenSlices = [];\n    const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n    const fovRenderMM = this.screenFieldOfViewMM(0 /* AXIAL */, true);\n    const fovSliceMM = this.screenFieldOfViewMM(0 /* AXIAL */);\n    mosaicStr = mosaicStr.replaceAll(\";\", \" ;\").trim();\n    const axiMM = [];\n    const corMM = [];\n    const sagMM = [];\n    const items = mosaicStr.split(/\\s+/);\n    let scale = 1;\n    const labelSize = this.fontPx;\n    let marginLeft = 0;\n    let marginTop = 0;\n    let tileGap = 0;\n    if (!this.volumes[0]?.dims) {\n      tileGap = Math.ceil(this.opts.tileMargin * 0.3);\n    }\n    for (let pass = 0; pass < 2; pass++) {\n      let isRender = false;\n      let isCrossLines = false;\n      let rowHt = 0;\n      let left = 0;\n      let top = 0;\n      let mxRowWid = 0;\n      let isLabel = false;\n      let axCorSag = 0 /* AXIAL */;\n      let horizontalOverlap = 0;\n      let prevW = 0;\n      let w = 0;\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i];\n        if (item.includes(\"X\")) {\n          isCrossLines = true;\n          continue;\n        }\n        if (item.includes(\"L\")) {\n          isLabel = !item.includes(\"-\");\n          continue;\n        }\n        if (item.includes(\"H\")) {\n          i++;\n          horizontalOverlap = Math.abs(Math.max(0, Math.min(1, parseFloat(items[i]))));\n          continue;\n        }\n        if (item.includes(\"V\")) {\n          i++;\n          continue;\n        }\n        if (item.includes(\"A\")) {\n          axCorSag = 0 /* AXIAL */;\n          continue;\n        }\n        if (item.includes(\"C\")) {\n          axCorSag = 1 /* CORONAL */;\n          continue;\n        }\n        if (item.includes(\"S\")) {\n          axCorSag = 2 /* SAGITTAL */;\n          continue;\n        }\n        if (item.includes(\"R\")) {\n          isRender = true;\n          continue;\n        }\n        if (item.includes(\";\")) {\n          top += rowHt;\n          mxRowWid = Math.max(mxRowWid, left + prevW);\n          rowHt = 0;\n          left = 0;\n          prevW = 0;\n          continue;\n        }\n        w = prevW;\n        if (horizontalOverlap > 0 && !isRender) {\n          w = Math.round(w * (1 - horizontalOverlap));\n        }\n        left += w;\n        w = 0;\n        const sliceMM = parseFloat(item);\n        if (isNaN(sliceMM)) {\n          continue;\n        }\n        let h = 0;\n        let fov = fovSliceMM;\n        if (isRender) {\n          fov = fovRenderMM;\n        }\n        if (axCorSag === 2 /* SAGITTAL */) {\n          w = fov[1];\n        } else {\n          w = fov[0];\n        }\n        if (axCorSag === 0 /* AXIAL */) {\n          h = fov[1];\n        } else {\n          h = fov[2];\n        }\n        if (pass === 0) {\n          if (!isRender) {\n            if (axCorSag === 0 /* AXIAL */) {\n              axiMM.push(sliceMM);\n            }\n            if (axCorSag === 1 /* CORONAL */) {\n              corMM.push(sliceMM);\n            }\n            if (axCorSag === 2 /* SAGITTAL */) {\n              sagMM.push(sliceMM);\n            }\n          }\n        } else {\n          const ltwh = [\n            regionX + marginLeft + scale * left,\n            regionY + marginTop + scale * top,\n            scale * w,\n            scale * h\n          ];\n          this.fontPx = isLabel ? labelSize : 0;\n          if (isRender) {\n            let inf = sliceMM < 0 ? -Infinity : Infinity;\n            if (Object.is(sliceMM, -0)) {\n              inf = -Infinity;\n            }\n            this.draw2D(ltwh, axCorSag, inf);\n          } else {\n            this.draw2D(ltwh, axCorSag, sliceMM);\n          }\n          if (isCrossLines) {\n            this.drawCrossLines(this.screenSlices.length - 1, axCorSag, axiMM, corMM, sagMM);\n          }\n          isRender = false;\n          isCrossLines = false;\n        }\n        prevW = w;\n        left += tileGap;\n        rowHt = Math.max(rowHt, h);\n      }\n      top += rowHt;\n      mxRowWid = Math.max(mxRowWid, left + prevW);\n      if (mxRowWid <= 0 || top <= 0) {\n        break;\n      }\n      const scaleW = (regionW - 2 * this.opts.tileMargin - tileGap) / mxRowWid;\n      const scaleH = (regionH - 2 * this.opts.tileMargin) / top;\n      scale = Math.min(scaleW, scaleH);\n      if (this.opts.centerMosaic) {\n        marginLeft = Math.floor(0.5 * (regionW - mxRowWid * scale));\n        marginTop = Math.floor(0.5 * (regionH - top * scale));\n      } else {\n        marginLeft = this.opts.tileMargin;\n        marginTop = this.opts.tileMargin;\n      }\n    }\n    this.fontPx = labelSize;\n  }\n  /**\n   * Calculate width and height to fit a slice within a container, preserving aspect ratio based on slice type and volume scaling.\n   * @internal\n   */\n  calculateWidthHeight(sliceType, volScale, containerWidth, containerHeight) {\n    let xScale, yScale;\n    switch (sliceType) {\n      case 0 /* AXIAL */:\n        xScale = volScale[0];\n        yScale = volScale[1];\n        break;\n      case 1 /* CORONAL */:\n        xScale = volScale[0];\n        yScale = volScale[2];\n        break;\n      case 2 /* SAGITTAL */:\n        xScale = volScale[1];\n        yScale = volScale[2];\n        break;\n      default:\n        return [containerWidth, containerHeight];\n    }\n    const aspectRatio = xScale / yScale;\n    const containerAspect = containerWidth / containerHeight;\n    let actualWidth, actualHeight;\n    if (aspectRatio > containerAspect) {\n      actualWidth = containerWidth;\n      actualHeight = containerWidth / aspectRatio;\n    } else {\n      actualHeight = containerHeight;\n      actualWidth = containerHeight * aspectRatio;\n    }\n    return [actualWidth, actualHeight];\n  }\n  /**\n   * Convert opts.bounds into CSS pixel coordinates (for hit testing).\n   * @returns [x, y, width, height] in CSS pixels\n   */\n  getBoundsRegionCSS() {\n    const rect = this.gl.canvas.getBoundingClientRect();\n    if (!this.opts.bounds) {\n      return [0, 0, rect.width, rect.height];\n    }\n    const [[x1, y1], [x2, y2]] = this.opts.bounds;\n    const regionX = Math.round(x1 * rect.width);\n    const regionW = Math.round((x2 - x1) * rect.width);\n    const yTop = Math.round(y1 * rect.height);\n    const yBot = Math.round(y2 * rect.height);\n    const regionH = yBot - yTop;\n    const regionY = rect.height - yBot;\n    return [regionX, regionY, regionW, regionH];\n  }\n  /**\n   * Returns true if a mouse/touch event happened inside this instances bounds.\n   */\n  eventInBounds(evt) {\n    const rect = this.gl.canvas.getBoundingClientRect();\n    let clientX;\n    let clientY;\n    if (evt instanceof MouseEvent) {\n      clientX = evt.clientX;\n      clientY = evt.clientY;\n    } else if (evt instanceof TouchEvent) {\n      const touch = evt.touches[0] ?? evt.changedTouches[0];\n      if (!touch) {\n        return false;\n      }\n      clientX = touch.clientX;\n      clientY = touch.clientY;\n    } else {\n      clientX = evt.clientX;\n      clientY = evt.clientY;\n    }\n    const cssX = clientX - rect.left;\n    const cssY = clientY - rect.top;\n    const [bx, by, bw, bh] = this.getBoundsRegionCSS();\n    return cssX >= bx && cssX <= bx + bw && cssY >= by && cssY <= by + bh;\n  }\n  /**\n   * Check whether the last known mouse cursor position is inside this instance's bounds.\n   *\n   * Used to filter keyboard events so they are only handled by the Niivue instance\n   * whose bounds currently contain the cursor.\n   *\n   * @returns true if the cursor is inside this.opts.bounds, false otherwise.\n   * @internal\n   */\n  cursorInBounds() {\n    if (this.mousePos[0] < 0 || this.mousePos[1] < 0) {\n      return false;\n    }\n    const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n    const [mx, my] = this.mousePos;\n    return mx >= regionX && mx <= regionX + regionW && my >= regionY && my <= regionY + regionH;\n  }\n  /**\n   * Compute the current drawing region from opts.bounds.\n   * Returns [x, y, width, height] in device pixels, bottom-left origin.\n   */\n  getBoundsRegion() {\n    const gl = this.gl;\n    const dpr = this.uiData?.dpr || window.devicePixelRatio || 1;\n    const canvas = gl.canvas;\n    const cssW = canvas.clientWidth;\n    const cssH = canvas.clientHeight;\n    if (!this.opts.bounds) {\n      return [0, 0, gl.canvas.width, gl.canvas.height];\n    }\n    const [[x1, y1], [x2, y2]] = this.opts.bounds;\n    const regionX = Math.floor(x1 * cssW * dpr);\n    const regionW = Math.ceil((x2 - x1) * cssW * dpr);\n    let regionY = Math.floor((1 - y2) * cssH * dpr);\n    let regionH = Math.ceil((y2 - y1) * cssH * dpr);\n    if (regionY < 0) {\n      regionH += regionY;\n      regionY = 0;\n    }\n    if (regionY + regionH > gl.canvas.height) {\n      regionH = gl.canvas.height - regionY;\n    }\n    return [regionX, regionY, regionW, regionH];\n  }\n  /**\n   * Return true if the given canvas pixel coordinates are inside this Niivue instance's bounds.\n   */\n  inBounds(x, y) {\n    const [vpX, vpY, vpW, vpH] = this.getBoundsRegion();\n    const glX = x * this.uiData.dpr;\n    const glY = this.gl.canvas.height - y * this.uiData.dpr;\n    return glX >= vpX && glX <= vpX + vpW && glY >= vpY && glY <= vpY + vpH;\n  }\n  /**\n   * Rebind all textures for this instance.\n   * Call this at the start of every draw pass if multiple instances share a GL context.\n   */\n  bindTextures() {\n    this.gl.activeTexture(TEXTURE0_BACK_VOL);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, this.volumeTexture);\n    this.gl.activeTexture(TEXTURE2_OVERLAY_VOL);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, this.overlayTexture);\n    this.gl.activeTexture(TEXTURE8_PAQD);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, this.paqdTexture);\n    this.gl.activeTexture(TEXTURE3_FONT);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.fontTexture);\n    this.gl.activeTexture(TEXTURE1_COLORMAPS);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.colormapTexture);\n    this.gl.activeTexture(TEXTURE5_MATCAP);\n    this.gl.bindTexture(this.gl.TEXTURE_2D, this.matCapTexture);\n    this.gl.activeTexture(TEXTURE6_GRADIENT);\n    this.gl.bindTexture(this.gl.TEXTURE_3D, this.gradientTexture);\n  }\n  /**\n   * Clear a rectangular region of this instance's canvas.\n   *\n   * @param mask - bitmask of buffers to clear (default: color+depth).\n   * @param ltwh - optional [x, y, w, h] region in *device px* (GL coords, bottom-left).\n   *   If not provided, clears the full instance bounds (getBoundsRegion).\n   *   For multiplanar panels, pass the panels own [x,y,w,h].\n   */\n  clearBounds(mask = this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT, ltwh) {\n    const gl = this.gl;\n    const [vpX, vpY, vpW, vpH] = ltwh ?? this.getBoundsRegion();\n    const flippedY = gl.canvas.height - vpY - vpH;\n    if (mask & gl.DEPTH_BUFFER_BIT) {\n      gl.clearDepth(1);\n    }\n    gl.enable(gl.SCISSOR_TEST);\n    gl.scissor(vpX, flippedY, vpW, vpH);\n    if (mask & gl.COLOR_BUFFER_BIT) {\n      gl.clearColor(this.opts.backColor[0], this.opts.backColor[1], this.opts.backColor[2], this.opts.backColor[3]);\n    }\n    gl.clear(mask);\n    gl.disable(gl.SCISSOR_TEST);\n  }\n  drawBoundsBorder() {\n    if (!this.opts.showBoundsBorder) {\n      return;\n    }\n    const [x, y, w, h] = this.getBoundsRegion();\n    this.drawBoundsBox([x, y, w, h], this.opts.boundsBorderColor, this.opts.selectionBoxLineThickness);\n  }\n  /**\n   * Core function to draw the entire scene including volumes, meshes, slices, overlays, colorbars, graphs, and handle user interaction like dragging.\n   * @internal\n   */\n  drawSceneCore() {\n    if (!this.initialized) {\n      return;\n    }\n    this.colorbarHeight = 0;\n    const [vpX, vpY, vpW, vpH] = this.getBoundsRegion();\n    this.gl.viewport(vpX, vpY, vpW, vpH);\n    this.clearBounds(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\n    this.bindTextures();\n    if (this.bmpTexture && this.thumbnailVisible) {\n      this.drawThumbnail();\n      return;\n    }\n    let posString = \"\";\n    if (this.volumes.length === 0 || typeof this.volumes[0].dims === \"undefined\") {\n      if (this.meshes.length > 0) {\n        if (this.sliceMosaicString.length > 0) {\n          if (this.opts.isColorbar) {\n            this.reserveColorbarPanel();\n          }\n          this.drawMosaic(this.sliceMosaicString);\n          if (this.opts.isColorbar) {\n            this.drawColorbar();\n          }\n          return;\n        }\n        this.screenSlices = [];\n        this.draw3D([vpX, vpY, vpW, vpH]);\n        if (this.opts.isColorbar) {\n          this.drawColorbar();\n        }\n        return;\n      }\n      this.drawLoadingText(this.opts.loadingText);\n      return;\n    }\n    if (this.uiData.isDragging && this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex][0] < 1.8 && this.inRenderTile(this.uiData.dragStart[0], this.uiData.dragStart[1]) >= 0) {\n      const x = this.uiData.dragStart[0] - this.uiData.dragEnd[0];\n      const y = this.uiData.dragStart[1] - this.uiData.dragEnd[1];\n      const depthAziElev = this.uiData.dragClipPlaneStartDepthAziElev.slice();\n      depthAziElev[1] -= x;\n      depthAziElev[1] = depthAziElev[1] % 360;\n      depthAziElev[2] += y;\n      if (depthAziElev[1] !== this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex][1] || depthAziElev[2] !== this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex][2]) {\n        this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex] = depthAziElev;\n        return this.setClipPlane(this.scene.clipPlaneDepthAziElevs[this.uiData.activeClipPlaneIndex]);\n      }\n    }\n    if (this.sliceMosaicString.length < 1 && this.opts.sliceType === 4 /* RENDER */) {\n      if (this.opts.isColorbar) {\n        this.reserveColorbarPanel();\n      }\n      this.screenSlices = [];\n      this.draw3D();\n      if (this.opts.isColorbar) {\n        this.drawColorbar();\n      }\n      return;\n    }\n    if (this.opts.isColorbar) {\n      this.reserveColorbarPanel();\n    }\n    const maxVols = this.getMaxVols();\n    const isDrawGraph = this.opts.sliceType === 3 /* MULTIPLANAR */ && maxVols > 1 && this.graph.autoSizeMultiplanar && this.graph.opacity > 0;\n    if (this.sliceMosaicString.length > 0) {\n      this.drawMosaic(this.sliceMosaicString);\n    } else {\n      const heroImageWH = [0, 0];\n      let isHeroImage = false;\n      this.screenSlices = [];\n      if (this.customLayout && this.customLayout.length > 0) {\n        this.screenSlices = [];\n        const { volScale } = this.sliceScale();\n        for (const view of this.customLayout) {\n          const { sliceType, position, sliceMM } = view;\n          const leftTopWidthHeight = [\n            vpX + position[0] * vpW,\n            vpY + position[1] * vpH,\n            position[2] * vpW,\n            position[3] * vpH\n          ];\n          if (leftTopWidthHeight[0] + leftTopWidthHeight[2] > vpX + vpW) {\n            log.warn(\"adjusting slice width because it would have been clipped\");\n            leftTopWidthHeight[2] = vpX + vpW - leftTopWidthHeight[0];\n          }\n          if (leftTopWidthHeight[1] + leftTopWidthHeight[3] > vpY + vpH) {\n            log.warn(\"adjusting slice height because it would have been clipped\");\n            leftTopWidthHeight[3] = vpY + vpH - leftTopWidthHeight[1];\n          }\n          if (sliceType === 4 /* RENDER */) {\n            this.draw3D(leftTopWidthHeight);\n          } else {\n            const actualDimensions = this.calculateWidthHeight(\n              sliceType,\n              volScale,\n              leftTopWidthHeight[2],\n              leftTopWidthHeight[3]\n            );\n            this.draw2D(leftTopWidthHeight, sliceType, sliceMM ?? NaN, actualDimensions);\n          }\n        }\n      } else if (this.opts.sliceType === 0 /* AXIAL */ || this.opts.sliceType === 1 /* CORONAL */ || this.opts.sliceType === 2 /* SAGITTAL */) {\n        const { volScale } = this.sliceScale();\n        const leftTopWidthHeight = [vpX, vpY, vpW, vpH];\n        const actualDimensions = this.calculateWidthHeight(\n          this.opts.sliceType,\n          volScale,\n          leftTopWidthHeight[2],\n          leftTopWidthHeight[3]\n        );\n        this.draw2D([0, 0, 0, 0], this.opts.sliceType, NaN, actualDimensions);\n      } else {\n        let padPixelsWH = function(cols, rows) {\n          return [(cols - 1) * pad + cols * innerPad, (rows - 1) * pad + rows * innerPad];\n        };\n        let isShowRender = false;\n        if (this.opts.multiplanarForceRender) {\n          isShowRender = true;\n          if (this.opts.multiplanarForceRender) {\n            this.opts.multiplanarShowRender = 1 /* ALWAYS */;\n          } else {\n            this.opts.multiplanarShowRender = 2 /* AUTO */;\n          }\n          delete this.opts.multiplanarForceRender;\n        } else {\n          if (this.opts.multiplanarShowRender === 1 /* ALWAYS */) {\n            isShowRender = true;\n          }\n        }\n        const isDrawPenDown = isFinite(this.drawPenLocation[0]) && this.opts.drawingEnabled;\n        const { volScale } = this.sliceScale();\n        const actualScale = volScale.slice();\n        if (this.opts.multiplanarEqualSize) {\n          volScale[0] = 1;\n          volScale[1] = 1;\n          volScale[2] = 1;\n        }\n        if (typeof this.opts.multiplanarPadPixels !== \"number\") {\n          log.debug(\"multiplanarPadPixels must be numeric\");\n        }\n        const pad = parseFloat(`${this.opts.multiplanarPadPixels}`) * this.uiData.dpr;\n        let innerPad = this.opts.tileMargin * this.uiData.dpr;\n        if (innerPad < 0) {\n          innerPad = 2 * (2 + Math.ceil(this.fontPx));\n        }\n        const [regionX, regionY, regionW, regionH] = this.getBoundsRegion();\n        let canvasWH = [this.effectiveCanvasWidth(), this.effectiveCanvasHeight()];\n        if (this.opts.heroImageFraction > 0 && this.opts.heroImageFraction < 1) {\n          isShowRender = false;\n          isHeroImage = true;\n          if (canvasWH[0] > canvasWH[1] && this.opts.multiplanarLayout !== 3 /* ROW */) {\n            heroImageWH[0] = canvasWH[0] * this.opts.heroImageFraction;\n          } else {\n            heroImageWH[1] = canvasWH[1] * this.opts.heroImageFraction;\n          }\n          canvasWH = [canvasWH[0] - heroImageWH[0], canvasWH[1] - heroImageWH[1]];\n        }\n        const ltwh2x2 = this.scaleSlice(\n          volScale[0] + volScale[1],\n          volScale[1] + volScale[2],\n          padPixelsWH(2, 2),\n          canvasWH\n        );\n        const mx = Math.max(Math.max(volScale[1], volScale[2]), volScale[0]);\n        const ltwh3x1 = this.scaleSlice(\n          volScale[0] + volScale[0] + volScale[1],\n          Math.max(volScale[1], volScale[2]),\n          padPixelsWH(3, 1),\n          canvasWH\n        );\n        const ltwh4x1 = this.scaleSlice(\n          volScale[0] + volScale[0] + volScale[1] + mx,\n          Math.max(volScale[1], volScale[2]),\n          padPixelsWH(4, 1),\n          canvasWH\n        );\n        const ltwh1x3 = this.scaleSlice(mx, volScale[1] + volScale[2] + volScale[2], padPixelsWH(1, 3), canvasWH);\n        const ltwh1x4 = this.scaleSlice(mx, volScale[1] + volScale[2] + volScale[2] + mx, padPixelsWH(1, 4), canvasWH);\n        let isDraw3D = !isDrawPenDown && (maxVols < 2 || !isDrawGraph);\n        let isDrawColumn = false;\n        let isDrawGrid = false;\n        let isDrawRow = false;\n        if (this.opts.multiplanarLayout === 1 /* COLUMN */) {\n          isDrawColumn = true;\n        } else if (this.opts.multiplanarLayout === 2 /* GRID */) {\n          isDrawGrid = true;\n        } else if (this.opts.multiplanarLayout === 3 /* ROW */) {\n          isDrawRow = true;\n        } else {\n          if (ltwh1x3[4] > ltwh3x1[4] && ltwh1x3[4] > ltwh2x2[4]) {\n            isDrawColumn = true;\n          } else if (ltwh3x1[4] > ltwh2x2[4]) {\n            isDrawRow = true;\n          } else {\n            isDrawGrid = true;\n          }\n        }\n        let ltwh = ltwh2x2;\n        if (isDrawColumn) {\n          ltwh = ltwh1x3;\n          if (!isHeroImage && (isShowRender || this.opts.multiplanarShowRender === 2 /* AUTO */ && ltwh1x4[4] >= ltwh1x3[4])) {\n            ltwh = ltwh1x4;\n          } else {\n            isDraw3D = false;\n          }\n        } else if (isDrawRow) {\n          ltwh = ltwh3x1;\n          if (!isHeroImage && (isShowRender || this.opts.multiplanarShowRender === 2 /* AUTO */ && ltwh4x1[4] >= ltwh3x1[4])) {\n            ltwh = ltwh4x1;\n          } else {\n            isDraw3D = false;\n          }\n        }\n        if (isHeroImage) {\n          const heroW = heroImageWH[0] === 0 ? regionW : heroImageWH[0];\n          const heroH = heroImageWH[1] === 0 ? regionH : heroImageWH[1];\n          if (this.opts?.heroSliceType === 0 /* AXIAL */ || this.opts?.heroSliceType === 1 /* CORONAL */ || this.opts?.heroSliceType === 2 /* SAGITTAL */) {\n            this.draw2D([regionX, regionY, heroW, heroH], this.opts.heroSliceType, NaN, [Infinity, Infinity]);\n          } else {\n            const ltwh2 = ltwh.slice();\n            if (heroW === regionW) {\n              ltwh2[0] = 0;\n            }\n            this.draw3D([regionX + ltwh2[0], regionY, heroW, heroH]);\n          }\n          ltwh[0] += heroImageWH[0];\n          ltwh[1] += heroImageWH[1];\n          isDraw3D = false;\n        }\n        const sX = volScale[0] * ltwh[4] + innerPad;\n        const sY = volScale[1] * ltwh[4] + innerPad;\n        const sZ = volScale[2] * ltwh[4] + innerPad;\n        const actualX = actualScale[0] * ltwh[4];\n        const actualY = actualScale[1] * ltwh[4];\n        const actualZ = actualScale[2] * ltwh[4];\n        if (isDrawColumn) {\n          this.draw2D([regionX + ltwh[0], regionY + ltwh[1], sX, sY], 0 /* AXIAL */, NaN, [actualX, actualY]);\n          this.draw2D([regionX + ltwh[0], regionY + ltwh[1] + sY + pad, sX, sZ], 1 /* CORONAL */, NaN, [\n            actualX,\n            actualZ\n          ]);\n          this.draw2D([regionX + ltwh[0], regionY + ltwh[1] + sY + pad + sZ + pad, sY, sZ], 2 /* SAGITTAL */, NaN, [\n            actualY,\n            actualZ\n          ]);\n          if (isDraw3D) {\n            const sMx = mx * ltwh[4];\n            this.draw3D([regionX + ltwh[0], regionY + ltwh[1] + sY + sZ + sZ + pad * 3, sMx, sMx]);\n          }\n        } else if (isDrawRow) {\n          this.draw2D([regionX + ltwh[0], regionY + ltwh[1], sX, sY], 0 /* AXIAL */, NaN, [actualX, actualY]);\n          this.draw2D([regionX + ltwh[0] + sX + pad, regionY + ltwh[1], sX, sZ], 1 /* CORONAL */, NaN, [\n            actualX,\n            actualZ\n          ]);\n          this.draw2D([regionX + ltwh[0] + sX + sX + pad * 2, regionY + ltwh[1], sY, sZ], 2 /* SAGITTAL */, NaN, [\n            actualY,\n            actualZ\n          ]);\n          if (isDraw3D) {\n            const sMx = mx * ltwh[4];\n            this.draw3D([regionX + ltwh[0] + sX + sX + sY + pad * 3, regionY + ltwh[1], sMx, sMx]);\n          }\n        } else if (isDrawGrid) {\n          if (!isShowRender) {\n            isDraw3D = false;\n          }\n          if (this.opts.multiplanarShowRender === 2 /* AUTO */) {\n            isDraw3D = true;\n          }\n          if (isHeroImage) {\n            isDraw3D = false;\n          }\n          this.draw2D([regionX + ltwh[0], regionY + ltwh[1] + sZ + pad, sX, sY], 0 /* AXIAL */, NaN, [\n            actualX,\n            actualY\n          ]);\n          this.draw2D([regionX + ltwh[0], regionY + ltwh[1], sX, sZ], 1 /* CORONAL */, NaN, [actualX, actualZ]);\n          this.draw2D([regionX + ltwh[0] + sX + pad, regionY + ltwh[1], sY, sZ], 2 /* SAGITTAL */, NaN, [\n            actualY,\n            actualZ\n          ]);\n          if (isDraw3D) {\n            this.draw3D([regionX + ltwh[0] + sX + pad, regionY + ltwh[1] + sZ + pad, sY, sY]);\n          }\n        }\n      }\n    }\n    if (this.opts.isRuler) {\n      this.drawRuler();\n    }\n    if (this.opts.isColorbar) {\n      this.drawColorbar();\n    }\n    if (isDrawGraph) {\n      this.drawGraph();\n    }\n    if (this.uiData.isDragging) {\n      if (this.uiData.mouseButtonCenterDown) {\n        this.dragForCenterButton([\n          this.uiData.dragStart[0],\n          this.uiData.dragStart[1],\n          this.uiData.dragEnd[0],\n          this.uiData.dragEnd[1]\n        ]);\n        return;\n      }\n      if (this.getCurrentDragMode() === 4 /* slicer3D */) {\n        this.dragForSlicer3D([\n          this.uiData.dragStart[0],\n          this.uiData.dragStart[1],\n          this.uiData.dragEnd[0],\n          this.uiData.dragEnd[1]\n        ]);\n        return;\n      }\n      if (this.getCurrentDragMode() === 3 /* pan */) {\n        this.dragForPanZoom([\n          this.uiData.dragStart[0],\n          this.uiData.dragStart[1],\n          this.uiData.dragEnd[0],\n          this.uiData.dragEnd[1]\n        ]);\n        return;\n      }\n      if (this.inRenderTile(this.uiData.dragStart[0], this.uiData.dragStart[1]) >= 0) {\n        return;\n      }\n      if (this.getCurrentDragMode() === 2 /* measurement */) {\n        this.drawMeasurementTool([\n          this.uiData.dragStart[0],\n          this.uiData.dragStart[1],\n          this.uiData.dragEnd[0],\n          this.uiData.dragEnd[1]\n        ]);\n      }\n      if (this.getCurrentDragMode() === 7 /* angle */) {\n        this.drawAngleMeasurementTool();\n      }\n      const currentDragMode = this.getCurrentDragMode();\n      if (currentDragMode === 1 /* contrast */ || currentDragMode === 6 /* roiSelection */) {\n        const width = Math.abs(this.uiData.dragStart[0] - this.uiData.dragEnd[0]);\n        const height = Math.abs(this.uiData.dragStart[1] - this.uiData.dragEnd[1]);\n        this.drawSelectionBox([\n          Math.min(this.uiData.dragStart[0], this.uiData.dragEnd[0]),\n          Math.min(this.uiData.dragStart[1], this.uiData.dragEnd[1]),\n          width,\n          height\n        ]);\n      }\n    }\n    for (const measurement of this.document.completedMeasurements) {\n      if (this.shouldDrawOnCurrentSlice(measurement.sliceIndex, measurement.sliceType, measurement.slicePosition)) {\n        const startFrac = this.mm2frac(measurement.startMM);\n        const endFrac = this.mm2frac(measurement.endMM);\n        const startCanvasResult = this.frac2canvasPosWithTile(startFrac, measurement.sliceType);\n        const endCanvasResult = this.frac2canvasPosWithTile(endFrac, measurement.sliceType);\n        if (startCanvasResult && endCanvasResult && startCanvasResult.tileIndex === endCanvasResult.tileIndex) {\n          this.drawMeasurementTool([\n            startCanvasResult.pos[0],\n            startCanvasResult.pos[1],\n            endCanvasResult.pos[0],\n            endCanvasResult.pos[1]\n          ]);\n        }\n      }\n    }\n    for (let i = 0; i < this.document.completedAngles.length; i++) {\n      const angle = this.document.completedAngles[i];\n      const shouldDraw = this.shouldDrawOnCurrentSlice(angle.sliceIndex, angle.sliceType, angle.slicePosition);\n      if (shouldDraw) {\n        const firstLineStartFrac = this.mm2frac(angle.firstLineMM.start);\n        const firstLineEndFrac = this.mm2frac(angle.firstLineMM.end);\n        const secondLineStartFrac = this.mm2frac(angle.secondLineMM.start);\n        const secondLineEndFrac = this.mm2frac(angle.secondLineMM.end);\n        const firstLineStartCanvasResult = this.frac2canvasPosWithTile(firstLineStartFrac, angle.sliceType);\n        const firstLineEndCanvasResult = this.frac2canvasPosWithTile(firstLineEndFrac, angle.sliceType);\n        const secondLineStartCanvasResult = this.frac2canvasPosWithTile(secondLineStartFrac, angle.sliceType);\n        const secondLineEndCanvasResult = this.frac2canvasPosWithTile(secondLineEndFrac, angle.sliceType);\n        if (firstLineStartCanvasResult && firstLineEndCanvasResult && secondLineStartCanvasResult && secondLineEndCanvasResult && firstLineStartCanvasResult.tileIndex === firstLineEndCanvasResult.tileIndex && firstLineStartCanvasResult.tileIndex === secondLineStartCanvasResult.tileIndex && firstLineStartCanvasResult.tileIndex === secondLineEndCanvasResult.tileIndex) {\n          this.drawMeasurementTool(\n            [\n              firstLineStartCanvasResult.pos[0],\n              firstLineStartCanvasResult.pos[1],\n              firstLineEndCanvasResult.pos[0],\n              firstLineEndCanvasResult.pos[1]\n            ],\n            false\n          );\n          this.drawMeasurementTool(\n            [\n              secondLineStartCanvasResult.pos[0],\n              secondLineStartCanvasResult.pos[1],\n              secondLineEndCanvasResult.pos[0],\n              secondLineEndCanvasResult.pos[1]\n            ],\n            false\n          );\n          const angleForText = {\n            firstLine: [\n              firstLineStartCanvasResult.pos[0],\n              firstLineStartCanvasResult.pos[1],\n              firstLineEndCanvasResult.pos[0],\n              firstLineEndCanvasResult.pos[1]\n            ],\n            secondLine: [\n              secondLineStartCanvasResult.pos[0],\n              secondLineStartCanvasResult.pos[1],\n              secondLineEndCanvasResult.pos[0],\n              secondLineEndCanvasResult.pos[1]\n            ],\n            sliceIndex: angle.sliceIndex,\n            sliceType: angle.sliceType,\n            slicePosition: angle.slicePosition\n          };\n          this.drawAngleTextForAngle(angleForText);\n        }\n      }\n    }\n    const pos = this.frac2mm([this.scene.crosshairPos[0], this.scene.crosshairPos[1], this.scene.crosshairPos[2]]);\n    posString = pos[0].toFixed(2) + \"\\xD7\" + pos[1].toFixed(2) + \"\\xD7\" + pos[2].toFixed(2);\n    this.readyForSync = true;\n    this.sync();\n    this.drawAnchoredLabels();\n    this.drawBoundsBorder();\n    return posString;\n  }\n  /**\n   * Manage draw calls to prevent concurrency issues, calling drawSceneCore and handling refresh flags.\n   * @internal\n   */\n  drawScene() {\n    if (this.isBusy) {\n      this.needsRefresh = true;\n      return;\n    }\n    this.isBusy = false;\n    this.needsRefresh = false;\n    let posString = this.drawSceneCore();\n    if (this._gl !== null) {\n      this.gl.finish();\n    }\n    if (this.needsRefresh) {\n      posString = this.drawScene();\n    }\n    return posString;\n  }\n  /**\n   * Getter for WebGL2 rendering context; throws error if context is unavailable.\n   * @internal\n   */\n  get gl() {\n    if (!this._gl) {\n      throw new Error(\"unable to get WebGL context. Maybe the browser doesn't support WebGL2.\");\n    }\n    return this._gl;\n  }\n  /**\n   * Setter for WebGL2 rendering context.\n   * @internal\n   */\n  set gl(gl) {\n    this._gl = gl;\n  }\n  /**\n   * Find the first and last slices containing drawing data along a given axis\n   * @param sliceType - The slice orientation (AXIAL, CORONAL, or SAGITTAL)\n   * @returns Object containing first and last slice indices, or null if no data found\n   */\n  findDrawingBoundarySlices(sliceType) {\n    if (!this.back || !this.back.dims || !this.drawBitmap) {\n      return null;\n    }\n    const dims = { dimX: this.back.dims[1], dimY: this.back.dims[2], dimZ: this.back.dims[3] };\n    return findBoundarySlices(sliceType, this.drawBitmap, dims);\n  }\n  /**\n   * Interpolate between mask slices using geometric or intensity-guided methods\n   * @param sliceIndexLow - Lower slice index (optional, will auto-detect if not provided)\n   * @param sliceIndexHigh - Higher slice index (optional, will auto-detect if not provided)\n   * @param options - Interpolation options\n   */\n  interpolateMaskSlices(sliceIndexLow, sliceIndexHigh, options = {}) {\n    if (!this.back || !this.back.dims || !this.drawBitmap) {\n      throw new Error(\"Background image and drawing bitmap must be loaded\");\n    }\n    const dims = { dimX: this.back.dims[1], dimY: this.back.dims[2], dimZ: this.back.dims[3] };\n    const imageData = this.back.img;\n    const maxVal = this.back.global_max;\n    interpolateMaskSlices(\n      this.drawBitmap,\n      dims,\n      imageData,\n      maxVal,\n      sliceIndexLow,\n      sliceIndexHigh,\n      options,\n      () => this.refreshDrawing(true)\n    );\n  }\n};\n_eventsController = new WeakMap();\nexport {\n  COLORMAP_TYPE,\n  DEFAULT_OPTIONS,\n  DRAG_MODE,\n  INITIAL_SCENE_DATA,\n  LabelAnchorPoint,\n  LabelLineTerminator,\n  LabelTextAlignment,\n  MULTIPLANAR_TYPE,\n  NVDocument,\n  NVImage,\n  NVImageFromUrlOptions,\n  NVLabel3D,\n  NVLabel3DStyle,\n  NVMesh3 as NVMesh,\n  NVMeshFromUrlOptions,\n  NVMeshLayerDefaults,\n  NVMeshLoaders,\n  NVMeshUtilities,\n  NVUtilities,\n  Niivue,\n  PEN_TYPE,\n  SHOW_RENDER,\n  SLICE_TYPE,\n  cmapper,\n  ColorTables as colortables\n};\n//# sourceMappingURL=index.js.map","/**\n * Configuration constants for NIfTI Viewer\n * Centralizes all magic numbers and configuration values\n */\n\nexport const NIFTI_CONFIG = {\n    // Canvas dimensions\n    CANVAS_WIDTH: 512,\n    CANVAS_HEIGHT: 512,\n    CANVAS_BG_COLOR: [0.2, 0.2, 0.2, 1],\n\n    // Playback settings\n    PLAY_INITIAL_INTERVAL: 500,  // milliseconds between frames\n    PLAY_MIN_INTERVAL: 50,        // fastest playback speed\n    PLAY_SPEED_FACTOR: 0.5,       // speed multiplier on repeated play clicks\n\n    // UI responsiveness\n    SLIDER_DEBOUNCE_MS: 50,       // debounce time for slice slider\n\n    // Zoom settings\n    ZOOM_IN_FACTOR: 1.2,          // zoom in multiplier\n    ZOOM_OUT_FACTOR: 0.8,         // zoom out multiplier\n    ZOOM_DEFAULT: [0, 0, 0, 1],   // default pan/zoom state\n\n    // Network/Loading\n    LOAD_TIMEOUT_MS: 30000,       // 30 seconds timeout for file loading\n\n    // Crosshair (disabled)\n    CROSSHAIR_VISIBLE: false,\n\n    // Window/Level settings\n    AUTO_LEVEL_PERCENTILE_LOW: 0.02,   // 2 percentile per contrasto migliore\n    AUTO_LEVEL_PERCENTILE_HIGH: 0.98,  // 98 percentile per contrasto migliore\n    AUTO_LEVEL_SAMPLE_RATE: 100000,    // Max samples per calcolo percentili\n\n    // Window/Level Presets (for future implementation)\n    WINDOW_LEVEL_PRESETS: {\n        default: { level: 50, width: 400 },\n        brain: { level: 40, width: 80 },\n        bone: { level: 700, width: 400 },\n        lung: { level: -500, width: 1500 },\n        abdomen: { level: 60, width: 360 },\n        liver: { level: 80, width: 150 },\n    },\n\n    // Orientation modes\n    ORIENTATIONS: {\n        AXIAL: 'axial',\n        CORONAL: 'coronal',\n        SAGITTAL: 'sagittal'\n    },\n\n    // Niivue slice type mappings\n    SLICE_TYPES: {\n        axial: 0,\n        coronal: 1,\n        sagittal: 2,\n        multiplanar: 3,\n        render: 4\n    }\n};\n\nexport default NIFTI_CONFIG;\n","import View from '@girder/core/views/View';\nimport { Niivue } from '@niivue/niivue';\nimport { NIFTI_CONFIG } from '../constants/NiftiConfig';\n\n/**\n * Niivue-based widget for rendering NIfTI volumes.\n * Provides slice navigation, orientation control, and window/level adjustments.\n */\nconst NiftiSliceImageWidget = View.extend({\n    className: 'g-nifti-slice-image',\n\n    initialize: function (settings) {\n        this.nv = null;\n        this.volumeUrl = null;\n        this.volumeBuffer = null;  // ArrayBuffer for cached loading\n        this.volumeName = null;\n        this.volumeData = null;\n\n        // View state\n        this.currentOrientation = 'axial';\n        this.currentSliceIndex = 0;\n        this.maxSlices = { axial: 0, coronal: 0, sagittal: 0 };\n\n        // Callbacks for parent view\n        this.onSliceChange = settings.onSliceChange || null;\n        this.onVolumeLoaded = settings.onVolumeLoaded || null;\n\n        View.prototype.initialize.call(this, settings);\n    },\n\n    destroy: function () {\n        if (this.nv) {\n            // FIX: Properly cleanup Niivue volumes usando removeVolumeByIndex\n            if (this.nv.volumes && this.nv.volumes.length > 0) {\n                // Rimuovi tutti i volumi dalla fine all'inizio\n                for (let i = this.nv.volumes.length - 1; i >= 0; i--) {\n                    try {\n                        this.nv.removeVolumeByIndex(i);\n                    } catch (e) {\n                        console.warn('Error removing volume:', e);\n                    }\n                }\n            }\n            this.nv = null;\n        }\n\n        // CRITICAL FIX: Explicitly cleanup canvas to prevent memory leak\n        const canvas = this.el.querySelector('canvas');\n        if (canvas) {\n            // Force canvas cleanup by resetting dimensions\n            canvas.width = 0;\n            canvas.height = 0;\n            canvas.remove();\n        }\n\n        // Clear buffer reference for GC\n        this.volumeBuffer = null;\n        View.prototype.destroy.apply(this, arguments);\n    },\n\n    /**\n     * Set the volume URL for Niivue to load\n     * @param {string} url - URL to the NIfTI file\n     * @param {string} name - Name of the file (e.g., 'brain.nii.gz')\n     */\n    setVolumeUrl: function (url, name) {\n        this.volumeUrl = url;\n        this.volumeBuffer = null;  // Clear buffer if using URL\n        this.volumeName = name || 'volume.nii.gz';\n        return this;\n    },\n\n    /**\n     * Set the volume from an ArrayBuffer (preferred for caching)\n     * @param {ArrayBuffer} buffer - ArrayBuffer containing NIfTI data\n     * @param {string} name - Name of the file (e.g., 'brain.nii.gz')\n     */\n    setVolumeBuffer: function (buffer, name) {\n        this.volumeBuffer = buffer;\n        this.volumeUrl = null;  // Clear URL if using buffer\n        this.volumeName = name || 'volume.nii.gz';\n        return this;\n    },\n\n    /**\n     * Set orientation (axial, coronal, sagittal)\n     */\n    setOrientation: function (orientation) {\n        this.currentOrientation = orientation;\n        if (this.nv && this.nv.volumes.length > 0) {\n            this._applyOrientation();\n        }\n        return this;\n    },\n\n    /**\n     * Set the current slice index\n     */\n    setSlice: function (sliceIndex) {\n        this.currentSliceIndex = sliceIndex;\n        if (this.nv && this.nv.volumes.length > 0) {\n            this._applySlice();\n        }\n        return this;\n    },\n\n    /**\n     * Set window level and width (contrast/brightness)\n     */\n    setWindowLevel: function (level, width) {\n        if (this.nv && this.nv.volumes.length > 0) {\n            const vol = this.nv.volumes[0];\n            const min = level - width / 2;\n            const max = level + width / 2;\n            vol.cal_min = min;\n            vol.cal_max = max;\n            this.nv.updateGLVolume();\n        }\n        return this;\n    },\n\n    /**\n     * Get volume header info\n     */\n    getVolumeInfo: function () {\n        if (this.nv && this.nv.volumes.length > 0) {\n            const vol = this.nv.volumes[0];\n            return {\n                dims: vol.dims,\n                pixDims: vol.pixDims,\n                dataType: vol.hdr ? vol.hdr.datatypeCode : null,\n                cal_min: vol.cal_min,\n                cal_max: vol.cal_max,\n                global_min: vol.global_min,\n                global_max: vol.global_max\n            };\n        }\n        return null;\n    },\n\n    /**\n     * Get maximum slices for each orientation\n     */\n    getMaxSlices: function () {\n        return this.maxSlices;\n    },\n\n    /**\n     * Render the viewer\n     */\n    render: function () {\n        // Create canvas element for Niivue\n        this.$el.empty();\n        const canvas = document.createElement('canvas');\n        canvas.id = 'nifti-canvas-' + Date.now();\n        canvas.style.width = '512px';\n        canvas.style.height = '512px';\n        this.$el.append(canvas);\n\n        // Initialize Niivue\n        this.nv = new Niivue({\n            backColor: NIFTI_CONFIG.CANVAS_BG_COLOR,\n            show3Dcrosshair: false,\n            crosshairColor: [0, 0, 0, 0],  // Alpha = 0 per nascondere completamente il crosshair\n            crosshairWidth: 0,\n            multiplanarForceRender: false,\n            sliceType: this._getSliceType(),\n            isRadiologicalConvention: true,\n            logging: false,\n            // FIX: Usa dragMode pan per permettere spostamento con tasto destro\n            // 0 = none, 1 = contrast (windowing), 2 = measurement, 3 = pan\n            dragMode: 3  // pan mode: tasto destro sposta l'immagine senza windowing\n        });\n\n        this.nv.attachToCanvas(canvas);\n\n        // Previeni il menu contestuale del browser sul tasto destro\n        canvas.addEventListener('contextmenu', (e) => {\n            e.preventDefault();\n            return false;\n        });\n\n        // Load volume if buffer or URL is set (prefer buffer for caching)\n        if (this.volumeBuffer || this.volumeUrl) {\n            this._loadVolume();\n        }\n\n        return this;\n    },\n\n    /**\n     * Load volume from ArrayBuffer or URL\n     * Prefers ArrayBuffer (cached) over URL loading\n     */\n    _loadVolume: function () {\n        if (!this.nv) return;\n\n        let loadPromise;\n\n        // Prefer ArrayBuffer loading (cached) over URL\n        if (this.volumeBuffer) {\n            // Load from cached ArrayBuffer\n            loadPromise = this.nv.loadFromArrayBuffer(this.volumeBuffer, this.volumeName);\n        } else if (this.volumeUrl) {\n            // Fallback to URL loading\n            loadPromise = this.nv.loadVolumes([{ url: this.volumeUrl, name: this.volumeName }]);\n        } else {\n            return;\n        }\n\n        loadPromise\n            .then(() => {\n                if (this.nv.volumes.length > 0) {\n                    const vol = this.nv.volumes[0];\n\n                    // Calculate max slices for each orientation\n                    this.maxSlices = {\n                        axial: vol.dims[3] || 1,\n                        coronal: vol.dims[2] || 1,\n                        sagittal: vol.dims[1] || 1\n                    };\n\n                    // Apply initial settings\n                    this._applyOrientation();\n\n                    // Notify parent\n                    if (this.onVolumeLoaded) {\n                        this.onVolumeLoaded({\n                            dims: vol.dims,\n                            pixDims: vol.pixDims,\n                            maxSlices: this.maxSlices,\n                            cal_min: vol.cal_min,\n                            cal_max: vol.cal_max,\n                            global_min: vol.global_min,\n                            global_max: vol.global_max\n                        });\n                    }\n                }\n            })\n            .catch((error) => {\n                console.error('Failed to load NIfTI volume:', error);\n            });\n    },\n\n    /**\n     * Apply the current orientation\n     */\n    _applyOrientation: function () {\n        if (!this.nv) return;\n\n        const sliceType = this._getSliceType();\n        this.nv.setSliceType(sliceType);\n        \n        // Reset slice to middle of the new orientation\n        const maxSlice = this.maxSlices[this.currentOrientation] || 1;\n        this.currentSliceIndex = Math.floor(maxSlice / 2);\n        this._applySlice();\n    },\n\n    /**\n     * Apply the current slice\n     */\n    _applySlice: function () {\n        if (!this.nv || this.nv.volumes.length === 0) return;\n\n        const vol = this.nv.volumes[0];\n        const maxSlice = this.maxSlices[this.currentOrientation] || 1;\n        const frac = maxSlice > 1 ? this.currentSliceIndex / (maxSlice - 1) : 0.5;\n\n        // Set crosshair position based on orientation\n        switch (this.currentOrientation) {\n            case 'axial':\n                this.nv.scene.crosshairPos = [0.5, 0.5, frac];\n                break;\n            case 'coronal':\n                this.nv.scene.crosshairPos = [0.5, frac, 0.5];\n                break;\n            case 'sagittal':\n                this.nv.scene.crosshairPos = [frac, 0.5, 0.5];\n                break;\n        }\n        \n        this.nv.updateGLVolume();\n    },\n\n    /**\n     * Get Niivue slice type from orientation string\n     */\n    _getSliceType: function () {\n        // Niivue slice types: 0=axial, 1=coronal, 2=sagittal, 3=multiplanar, 4=render\n        switch (this.currentOrientation) {\n            case 'axial': return 0;\n            case 'coronal': return 1;\n            case 'sagittal': return 2;\n            default: return 0;\n        }\n    },\n\n    /**\n     * Auto-adjust window/level based on image histogram with percentiles\n     */\n    autoLevels: function () {\n        if (this.nv && this.nv.volumes.length > 0) {\n            const vol = this.nv.volumes[0];\n\n            let min, max;\n\n            // FIX: Calcola percentili per un contrasto migliore\n            if (vol.img && vol.img.length > 1000) {\n                // Campiona i voxel per performance (ogni N voxel)\n                const sampleRate = Math.max(1, Math.floor(vol.img.length / NIFTI_CONFIG.AUTO_LEVEL_SAMPLE_RATE));\n                const samples = [];\n\n                for (let i = 0; i < vol.img.length; i += sampleRate) {\n                    const value = vol.img[i];\n                    if (!isNaN(value) && isFinite(value)) {\n                        samples.push(value);\n                    }\n                }\n\n                if (samples.length > 10) {\n                    // Ordina e trova percentili\n                    samples.sort((a, b) => a - b);\n                    const p2Idx = Math.floor(samples.length * NIFTI_CONFIG.AUTO_LEVEL_PERCENTILE_LOW);\n                    const p98Idx = Math.floor(samples.length * NIFTI_CONFIG.AUTO_LEVEL_PERCENTILE_HIGH);\n\n                    min = samples[p2Idx];\n                    max = samples[p98Idx];\n                } else {\n                    // Fallback se non ci sono abbastanza samples\n                    min = vol.global_min;\n                    max = vol.global_max;\n                }\n            } else {\n                // Fallback: usa global_min/max con margine del 5%\n                const range = vol.global_max - vol.global_min;\n                min = vol.global_min + range * 0.05;\n                max = vol.global_max - range * 0.05;\n            }\n\n            // Evita min == max\n            if (min >= max) {\n                min = vol.global_min;\n                max = vol.global_max;\n            }\n\n            vol.cal_min = min;\n            vol.cal_max = max;\n            this.nv.updateGLVolume();\n\n            return {\n                level: (min + max) / 2,\n                width: max - min\n            };\n        }\n        return null;\n    },\n\n    /**\n     * Zoom in\n     */\n    zoomIn: function () {\n        if (this.nv) {\n            // FIX: Per le slice 2D, Niivue usa pan2Dxyzmm[3] per lo zoom\n            // setScale()  solo per il rendering 3D\n            const currentZoom = this.nv.scene.pan2Dxyzmm[3];\n            this.nv.scene.pan2Dxyzmm[3] = currentZoom * NIFTI_CONFIG.ZOOM_IN_FACTOR;\n            this.nv.drawScene();\n        }\n        return this;\n    },\n\n    /**\n     * Zoom out\n     */\n    zoomOut: function () {\n        if (this.nv) {\n            // FIX: Per le slice 2D, Niivue usa pan2Dxyzmm[3] per lo zoom\n            const currentZoom = this.nv.scene.pan2Dxyzmm[3];\n            this.nv.scene.pan2Dxyzmm[3] = currentZoom * NIFTI_CONFIG.ZOOM_OUT_FACTOR;\n            this.nv.drawScene();\n        }\n        return this;\n    },\n\n    /**\n     * Reset zoom to default\n     */\n    resetZoom: function () {\n        if (this.nv) {\n            // FIX: Reset zoom 2D a 1.0 e ripristina anche la posizione (pan)\n            // pan2Dxyzmm = [x, y, z, zoom]\n            // Resetta tutto a [0, 0, 0, 1.0]\n            this.nv.scene.pan2Dxyzmm = [0, 0, 0, 1.0];\n            this.nv.drawScene();\n        }\n        return this;\n    },\n\n    /**\n     * Navigate to next slice\n     */\n    nextSlice: function () {\n        const maxSlice = this.maxSlices[this.currentOrientation] || 1;\n        if (this.currentSliceIndex < maxSlice - 1) {\n            this.currentSliceIndex++;\n            this._applySlice();\n        }\n        return this.currentSliceIndex;\n    },\n\n    /**\n     * Navigate to previous slice\n     */\n    previousSlice: function () {\n        if (this.currentSliceIndex > 0) {\n            this.currentSliceIndex--;\n            this._applySlice();\n        }\n        return this.currentSliceIndex;\n    },\n\n    /**\n     * Go to first slice\n     */\n    firstSlice: function () {\n        this.currentSliceIndex = 0;\n        this._applySlice();\n        return this.currentSliceIndex;\n    },\n\n    /**\n     * Go to last slice\n     */\n    lastSlice: function () {\n        const maxSlice = this.maxSlices[this.currentOrientation] || 1;\n        this.currentSliceIndex = maxSlice - 1;\n        this._applySlice();\n        return this.currentSliceIndex;\n    },\n\n    /**\n     * Get current slice index\n     */\n    getCurrentSlice: function () {\n        return this.currentSliceIndex;\n    }\n});\n\nexport default NiftiSliceImageWidget;\n","//- NIfTI Viewer - Layout simile a DICOM viewer\n//- Left: Image viewer with controls\n//- Right: Metadata panel\n\n.g-nifti-container\n  .g-item-info-header\n    i.icon-doc-text\n    |  NIfTI Viewer\n.g-nifti-panes.clearfix\n  .g-nifti-left\n    //- Image display area\n    .g-nifti-image\n      //- Loading overlay\n      .g-nifti-loading(style=\"display:none\")\n        .g-nifti-spinner\n          i.icon-spin.icon-spinner\n        p.g-nifti-loading-text Loading\n          strong.g-nifti-loading-filename\n        .g-nifti-progress\n          .g-nifti-progress-bar(style=\"width: 0%\")\n        small.g-nifti-progress-text 0%\n\n    //- File info\n    .g-nifti-filename Loading...\n\n    //- Navigation controls (DICOM-style)\n    .g-nifti-controls\n      //- Slice slider\n      input.g-nifti-slider(type=\"range\", min=0, max=100, step=1, value=0)\n      \n      //- Navigation buttons (right side)\n      .right\n        button.g-nifti-first.btn.btn-sm.btn-default(title=\"First Slice\")\n          i.icon-angle-double-left\n        button.g-nifti-previous.btn.btn-sm.btn-default(title=\"Previous Slice\")\n          i.icon-angle-left\n        button.g-nifti-play.btn.btn-sm.btn-default(title=\"Play\")\n          i.icon-play\n        button.g-nifti-pause.btn.btn-sm.btn-default(title=\"Pause\")\n          i.icon-pause\n        button.g-nifti-next.btn.btn-sm.btn-default(title=\"Next Slice\")\n          i.icon-angle-right\n        button.g-nifti-last.btn.btn-sm.btn-default(title=\"Last Slice\")\n          i.icon-angle-double-right\n\n      //- Zoom controls (left side)\n      .left\n        button.g-nifti-zoom-in.btn.btn-sm.btn-default(title=\"Zoom In\")\n          i.icon-zoom-in\n        button.g-nifti-zoom-out.btn.btn-sm.btn-default(title=\"Zoom Out\")\n          i.icon-zoom-out\n        button.g-nifti-reset-zoom.btn.btn-sm.btn-default(title=\"Reset Zoom\")\n          i.icon-search\n        button.g-nifti-auto-levels.btn.btn-sm.btn-default(title=\"Auto Contrast\")\n          i.icon-adjust\n\n    //- Window/Level controls (collapsible)\n    .g-nifti-window-level-panel\n      .g-nifti-wl-header\n        i.icon-adjust\n        |  Contrast & Brightness\n        button.g-nifti-wl-toggle.btn.btn-xs.btn-link(title=\"Show/Hide\")\n          i.icon-angle-down\n      .g-nifti-wl-controls(style=\"display:none\")\n        .g-nifti-wl-row\n          label Window (Contrast):\n          input.g-nifti-window-slider(type=\"range\", min=1, max=5000, step=1, value=400, disabled)\n          span.g-nifti-window-value 400\n        .g-nifti-wl-row\n          label Level (Brightness):\n          input.g-nifti-level-slider(type=\"range\", min=-1000, max=3000, step=1, value=50, disabled)\n          span.g-nifti-level-value 50\n\n    //- Orientation selector\n    .g-nifti-orientation\n      .btn-group.btn-group-sm\n        button.g-nifti-orientation-btn.btn.btn-default.active(data-orientation=\"axial\") Axial\n        button.g-nifti-orientation-btn.btn.btn-default(data-orientation=\"coronal\") Coronal\n        button.g-nifti-orientation-btn.btn.btn-default(data-orientation=\"sagittal\") Sagittal\n\n  .g-nifti-right\n    //- Metadata panel\n    .g-nifti-tags\n","//- NIfTI Metadata template (simile a DICOM tags)\nif tags && tags.length > 0\n  table.table.table-condensed.g-nifti-metadata-table\n    tbody\n      each tag in tags\n        tr\n          td.g-nifti-tag-name= tag.name\n          td.g-nifti-tag-value= tag.value\nelse\n  p.text-muted Loading metadata...\n","import View from '@girder/core/views/View';\nimport { restRequest } from '@girder/core/rest';\n\nimport NiftiFileModel from '../models/NiftiFileModel';\nimport NiftiSliceImageWidget from './NiftiSliceImageWidget';\nimport { NIFTI_CONFIG } from '../constants/NiftiConfig';\n\nimport NiftiItemTemplate from '../templates/niftiItem.pug';\nimport '../stylesheets/niftiItem.styl';\nimport NiftiSliceMetadataTemplate from '../templates/niftiSliceMetadata.pug';\nimport '../stylesheets/niftiSliceMetadata.styl';\n\n// Simple debounce function to avoid underscore dependency issues\nfunction debounce(func, wait) {\n    let timeout;\n    return function (...args) {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => func.apply(this, args), wait);\n    };\n}\n\n/**\n * Widget to display NIfTI metadata (similar to DICOM tags)\n */\nconst NiftiSliceMetadataWidget = View.extend({\n    className: 'g-nifti-tags',\n\n    initialize: function (settings) {\n        this._metadata = null;\n        this._volumeInfo = null;\n        this._jsonMetadata = null;\n    },\n\n    setMetadata: function (metadata) {\n        this._metadata = metadata;\n        return this;\n    },\n\n    setVolumeInfo: function (volumeInfo) {\n        this._volumeInfo = volumeInfo;\n        return this;\n    },\n\n    setJsonMetadata: function (jsonMetadata) {\n        this._jsonMetadata = jsonMetadata;\n        return this;\n    },\n\n    render: function () {\n        const tags = this._buildTagList();\n        this.$el.html(NiftiSliceMetadataTemplate({ tags }));\n        return this;\n    },\n\n    _buildTagList: function () {\n        const tags = [];\n\n        // Add NIfTI header info\n        if (this._volumeInfo) {\n            const vi = this._volumeInfo;\n            \n            if (vi.dims) {\n                tags.push({ name: 'Dimensions', value: vi.dims.slice(1, 4).join('  ') });\n            }\n            if (vi.pixDims) {\n                tags.push({ name: 'Voxel Size (mm)', value: vi.pixDims.slice(1, 4).map(v => v.toFixed(2)).join('  ') });\n            }\n            if (vi.maxSlices) {\n                tags.push({ name: 'Axial Slices', value: vi.maxSlices.axial });\n                tags.push({ name: 'Coronal Slices', value: vi.maxSlices.coronal });\n                tags.push({ name: 'Sagittal Slices', value: vi.maxSlices.sagittal });\n            }\n            if (vi.global_min !== undefined && vi.global_max !== undefined) {\n                tags.push({ name: 'Intensity Range', value: `${vi.global_min.toFixed(2)} - ${vi.global_max.toFixed(2)}` });\n            }\n        }\n\n        // Add metadata from Girder item\n        if (this._metadata) {\n            for (const [key, value] of Object.entries(this._metadata)) {\n                if (typeof value === 'object') continue;\n                tags.push({ name: key, value: String(value) });\n            }\n        }\n\n        // Add JSON sidecar metadata (BIDS format)\n        if (this._jsonMetadata) {\n            tags.push({ name: '--- JSON Metadata ---', value: '' });\n            for (const [key, value] of Object.entries(this._jsonMetadata)) {\n                if (typeof value === 'object' && !Array.isArray(value)) continue;\n                let displayValue = Array.isArray(value) ? value.join(', ') : String(value);\n                if (displayValue.length > 100) displayValue = displayValue.substring(0, 100) + '...';\n                tags.push({ name: key, value: displayValue });\n            }\n        }\n\n        return tags;\n    }\n});\n\n/**\n * Main NIfTI viewer following DICOM viewer layout\n * Left side: image viewer with controls\n * Right side: metadata panel\n */\nconst NiftiView = View.extend({\n    className: 'g-nifti-view',\n\n    events: {\n        // Slice navigation via slider\n        'input .g-nifti-slider': '_onSliderInput',\n\n        // Navigation buttons\n        'click .g-nifti-first': '_firstSlice',\n        'click .g-nifti-previous': '_previousSlice',\n        'click .g-nifti-play': 'play',\n        'click .g-nifti-pause': 'pause',\n        'click .g-nifti-next': '_nextSlice',\n        'click .g-nifti-last': '_lastSlice',\n\n        // Zoom controls\n        'click .g-nifti-zoom-in': '_zoomIn',\n        'click .g-nifti-zoom-out': '_zoomOut',\n        'click .g-nifti-reset-zoom': '_resetZoom',\n        'click .g-nifti-auto-levels': '_autoLevels',\n\n        // Window/Level controls\n        'click .g-nifti-wl-header': '_toggleWindowLevelPanel',\n        'input .g-nifti-window-slider': '_onWindowChange',\n        'input .g-nifti-level-slider': '_onLevelChange',\n\n        // Orientation buttons\n        'click .g-nifti-orientation-btn': '_changeOrientation'\n    },\n\n    initialize: function (settings) {\n        this.item = settings.item;\n        this.parentView = settings.parentView;\n        this.niftiInfo = this.item.get('nifti');\n\n        // NiftiFileModel for cached volume loading\n        this._niftiFileModel = null;\n\n        // Volume and metadata state\n        this._volumeInfo = null;\n        this._jsonMetadata = null;\n\n        // View widgets\n        this._sliceImageWidget = null;\n        this._sliceMetadataWidget = null;\n\n        // Navigation state\n        this._currentOrientation = 'axial';\n        this._currentSlice = 0;\n        this._maxSlices = 0;\n\n        // Playback state\n        this._playing = false;\n        this._playInterval = NIFTI_CONFIG.PLAY_INITIAL_INTERVAL;\n        this._playTimer = null;\n\n        // Window/Level state\n        this._currentWindow = 400;\n        this._currentLevel = 50;\n        this._windowLevelPanelVisible = false;\n\n        // Create debounced slider handler\n        this._debouncedSliderHandler = debounce((sliceIndex) => {\n            this._setSlice(sliceIndex);\n        }, NIFTI_CONFIG.SLIDER_DEBOUNCE_MS);\n\n        // Create debounced window/level handlers\n        this._debouncedWindowHandler = debounce((window) => {\n            this._applyWindowLevel(this._currentLevel, window);\n        }, 50);\n\n        this._debouncedLevelHandler = debounce((level) => {\n            this._applyWindowLevel(level, this._currentWindow);\n        }, 50);\n    },\n\n    _onSliderInput: function (e) {\n        const sliceIndex = parseInt(e.target.value);\n        this._debouncedSliderHandler(sliceIndex);\n    },\n\n    render: function () {\n        // Get total files info\n        const files = this.niftiInfo.files || [];\n\n        this.$el.html(NiftiItemTemplate({\n            files: files,\n            nifti: this.niftiInfo\n        }));\n\n        // Initialize metadata widget\n        this._sliceMetadataWidget = new NiftiSliceMetadataWidget({\n            el: this.$('.g-nifti-tags'),\n            parentView: this\n        });\n        this._sliceMetadataWidget\n            .setMetadata(this.niftiInfo.meta || {})\n            .render();\n\n        // Initialize image widget with Niivue\n        this._sliceImageWidget = new NiftiSliceImageWidget({\n            el: this.$('.g-nifti-image'),\n            parentView: this,\n            onVolumeLoaded: (volumeInfo) => this._onVolumeLoaded(volumeInfo),\n            onSliceChange: (sliceIndex) => this._onSliceChangeFromWheel(sliceIndex)\n        });\n\n        // Get NIfTI file info\n        const niftiFile = this.niftiInfo.files[0];\n        const volumeName = niftiFile.name;\n\n        // Create NiftiFileModel for cached loading\n        this._niftiFileModel = new NiftiFileModel({ _id: niftiFile.id });\n\n        // Show loading overlay\n        this.$('.g-nifti-loading').show();\n        this.$('.g-nifti-loading-filename').text(volumeName);\n        this.$('.g-nifti-filename').text('Loading NIfTI file...');\n\n        // Load volume using cached model with progress tracking\n        this._niftiFileModel.getVolumeWithProgress((loaded, total) => {\n            // Update progress bar\n            if (total > 0) {\n                const percent = Math.round((loaded / total) * 100);\n                this.$('.g-nifti-progress-bar').css('width', percent + '%');\n                const loadedMB = (loaded / 1024 / 1024).toFixed(1);\n                const totalMB = (total / 1024 / 1024).toFixed(1);\n                this.$('.g-nifti-progress-text').text(`${loadedMB} MB / ${totalMB} MB (${percent}%)`);\n            }\n        })\n            .then((arrayBuffer) => {\n                // Hide loading overlay\n                this.$('.g-nifti-loading').hide();\n\n                // Pass cached ArrayBuffer to widget for fast loading\n                this._sliceImageWidget\n                    .setVolumeBuffer(arrayBuffer, volumeName)\n                    .render();\n            })\n            .catch((error) => {\n                console.error('Failed to load NIfTI volume:', error);\n\n                // Show detailed error message\n                const errorMessage = this._getErrorMessage(error);\n                this.$('.g-nifti-loading').html(`\n                    <div class=\"alert alert-danger\">\n                        <i class=\"icon-warning-sign\"></i>\n                        <strong>Failed to load NIfTI file</strong>\n                        <p>${errorMessage}</p>\n                        <button class=\"btn btn-sm btn-primary g-nifti-retry\">\n                            <i class=\"icon-refresh\"></i> Retry\n                        </button>\n                    </div>\n                `);\n\n                // Add retry handler\n                this.$('.g-nifti-retry').on('click', () => {\n                    this.render();\n                });\n            });\n\n        // Load JSON sidecar if available\n        this._loadJsonMetadata();\n\n        return this;\n    },\n\n    _onVolumeLoaded: function (volumeInfo) {\n        this._volumeInfo = volumeInfo;\n\n        // Set initial max slices for current orientation\n        this._maxSlices = volumeInfo.maxSlices[this._currentOrientation] || 1;\n        this._currentSlice = Math.floor(this._maxSlices / 2);\n\n        // Update UI controls\n        this.$('.g-nifti-slider')\n            .attr('max', this._maxSlices - 1)\n            .val(this._currentSlice);\n        this._updateSliceLabel();\n\n        // Enable controls\n        this._toggleControls(true);\n\n        // Add wheel event listener to slider for slice navigation\n        const slider = this.$('.g-nifti-slider')[0];\n        if (slider && !slider._wheelListenerAttached) {\n            slider.addEventListener('wheel', (e) => {\n                e.preventDefault();\n                const delta = e.deltaY > 0 ? 1 : -1;\n                let newSlice = this._currentSlice + delta;\n\n                // Clamp to valid range\n                if (newSlice < 0) newSlice = 0;\n                if (newSlice >= this._maxSlices) newSlice = this._maxSlices - 1;\n\n                if (newSlice !== this._currentSlice) {\n                    this._currentSlice = newSlice;\n                    this.$('.g-nifti-slider').val(newSlice);\n                    this._setSlice(newSlice);\n                }\n            });\n            slider._wheelListenerAttached = true;\n        }\n\n        // Update metadata widget with volume info\n        this._sliceMetadataWidget\n            .setVolumeInfo(volumeInfo)\n            .render();\n    },\n\n    _loadJsonMetadata: function () {\n        // Look for JSON sidecar file\n        const jsonFile = (this.niftiInfo.files || []).find(f => \n            f.name.endsWith('.json')\n        );\n\n        if (jsonFile) {\n            restRequest({\n                url: `file/${jsonFile.id}/download`,\n                method: 'GET',\n                error: null\n            }).done((data) => {\n                try {\n                    this._jsonMetadata = typeof data === 'string' ? JSON.parse(data) : data;\n                    this._sliceMetadataWidget\n                        .setJsonMetadata(this._jsonMetadata)\n                        .render();\n                } catch (e) {\n                    console.error('Failed to parse JSON metadata:', e);\n                }\n            });\n        }\n    },\n\n    _setSlice: function (sliceIndex) {\n        this._currentSlice = sliceIndex;\n        if (this._sliceImageWidget) {\n            this._sliceImageWidget.setSlice(sliceIndex);\n        }\n        this._updateSliceLabel();\n    },\n\n    _updateSliceLabel: function () {\n        this.$('.g-nifti-filename').text(\n            `${this._currentOrientation.charAt(0).toUpperCase() + this._currentOrientation.slice(1)}: ${this._currentSlice + 1} / ${this._maxSlices}`\n        );\n    },\n\n    _toggleControls: function (enable) {\n        this.$('.g-nifti-controls button').girderEnable(enable);\n    },\n\n    // Navigation methods\n    _firstSlice: function () {\n        this._setSlice(0);\n        this.$('.g-nifti-slider').val(0);\n    },\n\n    _previousSlice: function () {\n        let newSlice = this._currentSlice - 1;\n        if (newSlice < 0) newSlice = this._maxSlices - 1;\n        this._setSlice(newSlice);\n        this.$('.g-nifti-slider').val(newSlice);\n    },\n\n    _nextSlice: function () {\n        let newSlice = this._currentSlice + 1;\n        if (newSlice >= this._maxSlices) newSlice = 0;\n        this._setSlice(newSlice);\n        this.$('.g-nifti-slider').val(newSlice);\n    },\n\n    _lastSlice: function () {\n        this._setSlice(this._maxSlices - 1);\n        this.$('.g-nifti-slider').val(this._maxSlices - 1);\n    },\n\n    // Playback methods\n    play: function () {\n        // CRITICAL FIX: Clear any existing timer to prevent memory leak\n        if (this._playTimer) {\n            clearTimeout(this._playTimer);\n            this._playTimer = null;\n        }\n\n        if (this._playing) {\n            // Speed up on repeated play clicks\n            this._playInterval = Math.max(\n                NIFTI_CONFIG.PLAY_MIN_INTERVAL,\n                this._playInterval * NIFTI_CONFIG.PLAY_SPEED_FACTOR\n            );\n        } else {\n            this._playing = true;\n        }\n        this._step();\n    },\n\n    pause: function () {\n        this._playing = false;\n        this._playInterval = NIFTI_CONFIG.PLAY_INITIAL_INTERVAL;\n        if (this._playTimer) {\n            clearTimeout(this._playTimer);\n            this._playTimer = null;\n        }\n    },\n\n    _step: function () {\n        if (!this._playing) return;\n        this._nextSlice();\n        this._playTimer = setTimeout(() => this._step(), this._playInterval);\n    },\n\n    // Zoom methods\n    _zoomIn: function () {\n        if (this._sliceImageWidget) {\n            this._sliceImageWidget.zoomIn();\n        }\n    },\n\n    _zoomOut: function () {\n        if (this._sliceImageWidget) {\n            this._sliceImageWidget.zoomOut();\n        }\n    },\n\n    _resetZoom: function () {\n        if (this._sliceImageWidget) {\n            this._sliceImageWidget.resetZoom();\n        }\n    },\n\n    _autoLevels: function () {\n        if (this._sliceImageWidget) {\n            this._sliceImageWidget.autoLevels();\n        }\n    },\n\n    // Orientation change\n    _changeOrientation: function (e) {\n        e.preventDefault();\n        const $target = this.$(e.currentTarget);\n        const newOrientation = $target.data('orientation');\n\n        if (newOrientation !== this._currentOrientation) {\n            this._currentOrientation = newOrientation;\n\n            // Update button states\n            this.$('.g-nifti-orientation-btn').removeClass('active');\n            $target.addClass('active');\n\n            // Update widget\n            if (this._sliceImageWidget) {\n                this._sliceImageWidget.setOrientation(newOrientation);\n\n                // Get new max slices from widget\n                const maxSlices = this._sliceImageWidget.getMaxSlices();\n                this._maxSlices = maxSlices[newOrientation] || 1;\n                this._currentSlice = this._sliceImageWidget.getCurrentSlice();\n\n                // Update slider\n                this.$('.g-nifti-slider')\n                    .attr('max', this._maxSlices - 1)\n                    .val(this._currentSlice);\n            }\n\n            this._updateSliceLabel();\n        }\n    },\n\n    /**\n     * Handle slice change from mouse wheel navigation\n     * Updates slider and label to reflect Niivue's current position\n     */\n    _onSliceChangeFromWheel: function (sliceIndex) {\n        this._currentSlice = sliceIndex;\n\n        // Update slider position\n        this.$('.g-nifti-slider').val(sliceIndex);\n\n        // Update label\n        this._updateSliceLabel();\n    },\n\n    // Window/Level controls\n    _toggleWindowLevelPanel: function () {\n        this._windowLevelPanelVisible = !this._windowLevelPanelVisible;\n\n        const $controls = this.$('.g-nifti-wl-controls');\n        const $toggleIcon = this.$('.g-nifti-wl-toggle i');\n\n        if (this._windowLevelPanelVisible) {\n            $controls.slideDown(200);\n            $toggleIcon.removeClass('icon-angle-down').addClass('icon-angle-up');\n\n            // Enable sliders\n            this.$('.g-nifti-window-slider').prop('disabled', false);\n            this.$('.g-nifti-level-slider').prop('disabled', false);\n        } else {\n            $controls.slideUp(200);\n            $toggleIcon.removeClass('icon-angle-up').addClass('icon-angle-down');\n        }\n    },\n\n    _onWindowChange: function (e) {\n        const window = parseInt(e.target.value);\n        this._currentWindow = window;\n        this.$('.g-nifti-window-value').text(window);\n        this._debouncedWindowHandler(window);\n    },\n\n    _onLevelChange: function (e) {\n        const level = parseInt(e.target.value);\n        this._currentLevel = level;\n        this.$('.g-nifti-level-value').text(level);\n        this._debouncedLevelHandler(level);\n    },\n\n    _applyWindowLevel: function (level, window) {\n        if (this._sliceImageWidget) {\n            this._sliceImageWidget.setWindowLevel(level, window);\n        }\n    },\n\n    _getErrorMessage: function (error) {\n        // Parse error and return user-friendly message\n        const errorStr = error.message || error.toString();\n\n        if (errorStr.includes('404') || errorStr.includes('Not Found')) {\n            return 'File not found. The NIfTI file may have been deleted or moved.';\n        }\n        if (errorStr.includes('timeout') || errorStr.includes('Timeout')) {\n            return 'Request timeout. The file is too large or the connection is slow. Please try again.';\n        }\n        if (errorStr.includes('NetworkError') || errorStr.includes('Failed to fetch')) {\n            return 'Network error. Please check your internet connection and try again.';\n        }\n        if (errorStr.includes('403') || errorStr.includes('Forbidden')) {\n            return 'Access denied. You do not have permission to view this file.';\n        }\n        if (errorStr.includes('500') || errorStr.includes('Internal Server Error')) {\n            return 'Server error. Please contact your administrator.';\n        }\n        if (errorStr.includes('decode') || errorStr.includes('parse')) {\n            return 'Invalid NIfTI file format. The file may be corrupted.';\n        }\n\n        // Default error message\n        return `Error: ${errorStr}`;\n    },\n\n    destroy: function () {\n        this.pause();\n\n        if (this._sliceImageWidget) {\n            this._sliceImageWidget.destroy();\n        }\n        if (this._sliceMetadataWidget) {\n            this._sliceMetadataWidget.destroy();\n        }\n\n        // Clear cached volume if needed (optional - can keep for reuse)\n        // Uncomment to free memory immediately:\n        // if (this._niftiFileModel) {\n        //     this._niftiFileModel.clearCache();\n        // }\n\n        View.prototype.destroy.apply(this, arguments);\n    }\n});\n\nexport default NiftiView;\n","a.g-nifti-parse-item.g-item-list-command-icon(title=\"Force NIfTI parsing\")\n  i.icon-sitemap\n  |  Parse NIfTI\n","import { getCurrentUser } from '@girder/core/auth';\nimport { AccessType } from '@girder/core/constants';\nimport events from '@girder/core/events';\nimport { restRequest } from '@girder/core/rest';\nimport { wrap } from '@girder/core/utilities/PluginUtils';\n\nimport ItemView from '@girder/core/views/body/ItemView';\nimport SearchFieldWidget from '@girder/core/views/widgets/SearchFieldWidget';\n\nimport NiftiView from './views/NiftiView';\nimport ParseNiftiItemTemplate from './templates/parseNiftiItem.pug';\n\nwrap(ItemView, 'render', function (render) {\n    this.once('g:rendered', () => {\n        // Add a button to force NIfTI extraction\n        if (this.model.get('_accessLevel') >= AccessType.WRITE) {\n            this.$('.g-item-actions-menu').prepend(ParseNiftiItemTemplate({\n                item: this.model,\n                currentUser: getCurrentUser()\n            }));\n        }\n\n        // If the item has NIfTI data, render the viewer\n        if (this.model.has('nifti')) {\n            new NiftiView({\n                parentView: this,\n                item: this.model\n            })\n                .render()\n                .$el.insertAfter(this.$('.g-item-info'));\n        }\n    });\n    return render.call(this);\n});\n\nItemView.prototype.events['click .g-nifti-parse-item'] = function () {\n    restRequest({\n        method: 'POST',\n        url: `item/${this.model.id}/parseNifti`,\n        error: null\n    })\n        .done((resp) => {\n            // Show success message\n            events.trigger('g:alert', {\n                icon: 'ok',\n                text: 'NIfTI item parsed successfully.',\n                type: 'success',\n                timeout: 4000\n            });\n            \n            // Reload the item to show the viewer\n            this.model.fetch().done(() => {\n                this.render();\n            });\n        })\n        .fail((resp) => {\n            // Show error message\n            events.trigger('g:alert', {\n                icon: 'cancel',\n                text: resp.responseJSON.message || 'Failed to parse NIfTI item.',\n                type: 'danger',\n                timeout: 5000\n            });\n        });\n};\n\nSearchFieldWidget.addMode(\n    'nifti',\n    ['item'],\n    'NIfTI metadata search',\n    `You are searching for text in NIfTI metadata. Only Girder items which have been preprocessed to\n        extract NIfTI metadata will be searched. The search performs case-insensitive substring matching across:\n        - NIfTI header fields (orientation, datatype, dimensions, pixel spacing, units, etc.)\n        - BIDS JSON metadata (ProtocolName, Manufacturer, SeriesDescription, etc.)\n        - File names\n\n        Example searches: \"T1\", \"MPRAGE\", \"Siemens\", \"RAS\", \"256\", \"3.0\"`\n);\n"],"names":["NiftiFileModel","Model","onProgress","buffer","fileId","response","error","url","contentLength","total","reader","chunks","loaded","read","done","value","allChunks","position","chunk","EPSILON","ARRAY_TYPE","y","i","create","out","glMatrix.ARRAY_TYPE","fromMat4","a","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","invert","a00","a01","a02","a10","a11","a12","a20","a21","a22","b01","b11","b21","det","multiply","b","b00","b02","b10","b12","b20","b22","clone","copy","m03","m13","m23","m30","m31","m32","m33","identity","transpose","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","b0","b1","b2","b3","translate","v","x","z","scale","rotateX","rad","c","rotateZ","fromRotation","axis","len","s","t","glMatrix.EPSILON","orthoNO","left","right","bottom","top","near","far","lr","bt","nf","ortho","multiplyScalar","mul","length","add","subtract","min","max","distance","negate","normalize","dot","cross","ax","ay","az","bx","by","bz","lerp","transformMat3","m","angle","mag1","mag2","mag","cosine","sub","vec","stride","offset","count","fn","arg","w","transformMat4","IDX","HEX","BUFFER","v4","num","arrayEqual","arr1","arr2","VOID","PRIMITIVE","ARRAY","OBJECT","DATE","REGEXP","MAP","SET","ERROR","BIGINT","env","deserializer","$","_","as","index","unpair","type","arr","object","key","source","flags","map","set","name","message","deserialize","serialized","EMPTY","toString","keys","typeOf","asString","shouldSkip","TYPE","serializer","strict","json","pair","entry","spread","entries","serialize","lossy","u8","u16","i32","fleb","fdeb","clim","freb","eb","start","j","_a","fl","revfl","_b","fd","rev","hMap","cd","mb","r","l","le","co","rvb","sv","r_1","flt","fdt","flrm","fdrm","bits","d","p","o","bits16","shft","slc","e","ec","err","ind","msg","nt","inflt","dat","st","buf","dict","sl","dl","noBuf","resize","noSt","cbuf","bl","nbuf","final","pos","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","n","lt","dt","lms","dms","lpos","sym","dsym","end","shift","dend","et","gzs","flg","zs","gzl","zls","Inflate","opts","cb","bts","inflateSync","data","Gunzip","gunzipSync","unzlibSync","decompressSync","td","tds","NIFTIEXTENSION","esize","ecode","edata","littleEndian","__publicField","byteArray","view","_Utils","str","ctr","ch","dataView","low","high","result","voxOffset","extensions","extensionByteIndex","extensionLittleEndian","extension","ab","obj","shortFormat","val","crcTable","k","crc","Utils","_NIFTI1","code","A","B","C","R","r11","r12","r13","r21","r22","r23","r31","r32","r33","rawData","magicCookieVal","ctrOut","ctrIn","isExtensionCapable","fmt","string","qb","qc","qd","qx","qy","qz","dx","dy","dz","qfac","xd","yd","zd","xi","xj","xk","yi","yj","yk","zi","zj","zk","detQ","detP","q","ibest","jbest","kbest","pbest","qbest","rbest","M","vbest","Q","P","iChar","jChar","kChar","iSense","jSense","kSense","includeExtensions","byteSize","flattened","NIFTI1","_NIFTI2","NIFTI2","isNIFTI1","isHdrImgPairOK","mag3","isNIFTI2","isCompressed","magicCookie1","magicCookie2","decompress","decompressAsync","uint8Data","format","stream","writer","closePromise","decompressHeaderAsync","minOutputBytes","detectFormat","limitStream","controller","readable","writable","limitedReader","totalBytes","remainingSpace","acc","combined","readHeader","header","readHeaderAsync","isLitteEndian","isVers1","sigLittle","sigBig","vox_offset","hasExtension","readImage","imageOffset","timeDim","statDim","imageSize","fetch_range","merge_init","storeOverrides","requestOverrides","resolve","root","path","base","resolved","handle_response","fetch_suffix","suffix_length","init","use_suffix_request","content_length","FetchStore","options","__privateAdd","_FetchStore_instances","_overrides","_use_suffix_request","__privateSet","href","__privateMethod","merge_init_fn","range","__privateGet","overrides","BoolArray","byteOffset","_bytes","idx","ByteStringArray","chars","_encoder","values","encoded","_UnicodeStringArray","_data","UnicodeStringArray","json_decode_object","bytes","byteswap_inplace","bytes_per_element","numFlips","endByteIndex","get_ctr","data_type","match","kind","assert","get_strides","shape","order","rank","step","create_chunk_key_encoder","configuration","separator","chunk_coords","coerce_dtype","dtype","endian","rest","v2_to_v3_array_metadata","meta","attributes","codecs","id","v2_to_v3_group_metadata","_meta","is_dtype","query","is_boolean","is_string","is_bigint","is_object","is_sharding_codec","codec","ensure_correct_scalar","metadata","rethrow_unless","errors","ErrorClass","expression","signal","BitroundCodec","_arr","LITTLE_ENDIAN_OS","system_is_little_endian","TypedArray","_BytesCodec","_stride","_TypedArray","_BYTES_PER_ELEMENT","_shape","_endian","sample","BytesCodec","Crc32cCodec","GzipCodec","throw_on_nan_replacer","_key","sort_keys_replacer","sorted","_JsonCodec","_encoder_config","_decoder_config","encoding","skipkeys","ensure_ascii","check_circular","allow_nan","sort_keys","indent","separators","replacer_functions","items","replacer","new_value","sub_replacer","json_str","chr","full_str","JsonCodec","proxy","target","prop","empty_like","convert_array_order","src","n_dims","size","src_data","out_data","src_idx","out_idx","dim","get_order","matches_order","_TransposeCodec","_order","_inverseOrder","inverseOrder","TransposeCodec","_VLenUTF8","_strides","_chunk","decoder","item_length","VLenUTF8","ZlibCodec","create_default_registry","registry","create_codec_pipeline","chunk_metadata","load_codecs","chunk_meta","promises","Codec","array_to_array","array_to_bytes","bytes_to_bytes","is_typed_array_like_meta","NodeNotFoundError","context","KeyError","MAX_BIG_UINT","create_sharded_chunk_getter","location","shard_shape","encode_shard_key","sharding_config","get_range","index_shape","index_codec","cache","chunk_coord","shard_coord","shard_path","checksum_size","index_size","linear_offset","sel","Location","store","Group","_metadata","get_array_order","maybe_transpose_codec","CONTEXT_MARKER","get_context","create_context","shared_context","native_order","chunk_key","chunk_path","_c","maybe_bytes","stop","product","iterables","iterators","it","results","slice_indices","step_is_negative","lower","upper","slice","create_queue","IndexError","err_too_many_indices","selection","err_boundscheck","dim_len","err_negative_step","check_selection_length","normalize_integer_selection","dim_sel","IntDimIndexer","dim_chunk_len","dim_chunk_ix","dim_offset","dim_chunk_sel","SliceDimIndexer","dim_chunk_ix_from","dim_chunk_ix_to","dim_limit","dim_out_offset","dim_chunk_sel_start","remainder","dim_chunk_sel_stop","dim_chunk_nitems","dim_out_sel","normalize_selection","normalized","BasicIndexer","chunk_shape","ixr","sixr","dim_projections","mapping","unwrap","get","setter","indexer","queue","object_array_view","from","to","compat_chunk","get_typed_array_constructor","compat_scalar","dest","set_scalar_binary","projections","set_from_chunk_binary","get_with_setter","indices_len","out_selection","slices","curr_stride","proj","projs","dstride","dstrides","sstride","sstrides","sfrom","sstep","VERSION_COUNTER","create_version_counter","version_counts","get_counts","counts","version","load_attrs","meta_bytes","open_v2","loc","attrs","open_array_v2","open_group_v2","Array","_open_v3","meta_doc","open_v3","node","open","version_max","open_primary","open_secondary","__defProp","__typeError","__defNormalProp","__export","all","__accessCheck","member","getter","package_default","orientCube","_NiivueObject3D","vertexBuffer","mode","indexCount","indexBuffer","vao","mat4.create","gl","xyzMM","xyzMin","xyzMax","radius","sides","gap","geometry","vertices","indices","gapX","vec3.fromValues","v1","v2","vec3.normalize","verts","faces","nv","vNew","vec3.create","nNew","faceIndex","fx","fy","fz","vx","vy","vz","vec3.add","face","nUnique","remap","f","vtx","origin","nvtx","idx0","endcaps","vec3.subtract","v3","vec3.cross","num_v","num_f","setV","vec314","setI","startPole","destPole","pt1","pt2","nxt","colors","rgba255","clrs","NiivueObject3D","_Log","level","args","Log","log","cmaps_exports","itksnap_default","slicer3d_default","actc_default","afni_blues_inv_default","afni_reds_inv_default","batlow_default","bcgwhw_default","bcgwhw_dark_default","blue_default","blue2cyan_default","blue2magenta_default","blue2red_default","bluegrn_default","bone_default","bronze_default","cet_l17_default","cividis_default","cool_default","copper_default","copper2_default","ct_airways_default","ct_artery_default","ct_bones_default","ct_brain_default","ct_brain_gray_default","ct_cardiac_default","ct_head_default","ct_kidneys_default","ct_liver_default","ct_muscles_default","ct_scalp_default","ct_skull_default","ct_soft_default","ct_soft_tissue_default","ct_surface_default","ct_vessels_default","ct_w_contrast_default","cubehelix_default","electric_blue_default","freesurfer_default","ge_color_default","gold_default","gray_default","green_default","green2cyan_default","green2orange_default","hot_default","hotiron_default","hsv_default","inferno_default","jet_default","kry_default","linspecer_default","lipari_default","magma_default","mako_default","navia_default","nih_default","plasma_default","random_default","red_default","redyell_default","rocket_default","roi_i256_default","surface_default","thermal_default","turbo_default","violet_default","viridis_default","warm_default","winter_default","x_rain_default","ColorTables","cmapsSorted","cmap","isInvert","cm","alphaFill","maxIdx","nLabels","idxs","hasInvalid","As","mnIdx","mxIdx","nLabelsDense","lut","nL","explicitLUTbytes","Rsi","Gsi","Bsi","Asi","Isi","nIdx","Rs","Gs","Bs","Is","idxLo","idxHi","idxRng","cmapper","NVMeshUtilities","border","binary","nTri","v0","compress","isRGBA","attr","nface","nvert","nskip","headerSize","indexSize","vertexSize","colorSize","totalSize","objContent","numTriangles","bufferLength","arrayBuffer","i0","i1","i2","filename","blob","buff","rgba8","rgba32","pts","mxDx","mn","vec32.fromValues","mx","vec32.len","vec32.min","vec32.max","extentsMin","extentsMax","tris","normal","normalsDataLength","px","py","pz","index1","index2","index3","norms","numIndices","p1","p2","p3","_dataView","_index","_localFiles","_centralDirectories","_endOfCentralDirectory","Zip","signature","hasDataDescriptor","scanIndex","compressedSize","uncompressedSize","fileNameLength","extraLength","extraOffset","zip64Offset","foundZip64","fieldSignature","fieldLength","commentLength","NVUtilities","_NVUtilities","decompressed","isReplaceDots","magic","_buffer","raw","textDecoder","mat","getTensDigit","readArray","tagDataType","tagBytesStart","tagBytesEnd","readTag2","mtype","mrows","ncols","imagf","namlen","tagArrayItems","tagName","tagBytesPerItem","posEnd","base64","binaryString","encodings","byteLength","byteRemainder","mainLength","content","fileName","contentType","contentArray","file","reject","compressed","compressedBuffer","compressedView","latin1","ar2","ar","ai","input","uint8Array","s2","dutf8","r2","azimuth","elevation","Phi","Theta","ret","XYZ","mtx","sform","mat42.clone","mat42.transpose","vec42.fromValues","vec42.transformMat4","vec33.fromValues","utiltiesLogger","NVMeshLoaders","_NVMeshLoaders","readStr","startPos","line","readNumericTag","TagName","pos2","spos","epos","n_tracts","npt","offsetPt0","bundleTags","new_tracts","bundleTag","isLittleEndian","new_pts","dps","trans_to_mni","mat43.create","mat43.fromValues","mat43.transpose","parse_tt","track","dv","nvert3","newpts","sz","vec43.fromValues","vec43.transformMat4","dpgMap","groups","gi","gid","firstGroupId","firstEntries","tagOrder","tagSet","idsSeen","tag","perGroupArrays","totalLen","matches","conv","merged","off","decodeFloat16","exponent","fraction","noff","dpv","isOverflowUint64","zip","parts","fname","dname","pname","jsonString","nval","vals","u32","dpg","n_count","lines","n_vert","ptx","noffset","npt3","pty","ptz","vers","hdr_sz","n_scalars","voxel_sizeX","voxel_sizeY","voxel_sizeZ","zoomMat","n_properties","mat43.identity","vox2mmMat","mat43.mul","f32","ntracks","n_pts","dps32","dpv32","positions","items2","lineToInts","asciiInts","asciiIntsPos","numPoints","nstrip","vs","ntri","npoly","nvmesh","opacity","colormap","colormapNegative","useNegativeCmap","cal_min","cal_max","outlineBorder","layer","NVMeshLayerDefaults","re","ext","splitResult","vals2","mn3","current","mx3","mn2","mx2","nMaps","scalars","scalarsNew","n_vertex","n_time","sig0","sig1","sig2","isReadColortables","n_vertexDecimated","maxstruc","num_entries","LUT4","struc","labelLen","txt","G","nError","RGB","colormapLabel","isSkipBlank","isFloat64","posOK","isInt64","offsetPt02","isOverflowInt32","byteOffsetAfterPoly","maybeOffsetsLine","is32bitOverflow","connLine","connectivity","wrlText","coordRegex","indexRegex","colorRegex","coordMatch","indexMatch","colorMatch","nVert","LE","hdrBytes","vcoffset","tmp","isFace","isVert","isSCALAR","isDOUBLE","isAOMAP","isLOOKUP","bytesPerScalar","NSCALAR","FSizeWoScalars","scalarFloats","filepos","flt64","jsonBytes","jsonText","Labels","isAscii","dataTypeBytes","vertIsDouble","vertStride","indexStrideBytes","indexCountBytes","indexBytes","indexPaddingBytes","nIndexPadding","datatype","bytes2","positions2","indices2","idx1","j2","idx2","isTriangular","tri","isFlipWinding","num_p","num_c","nVertX3","colour_flag","nTriX3","headerBytes","new_t","tn","t0","tprev","tcurr","head0","isHeadOK","head1","head2","strings","FreeSurferTranlate","ver","oriX","oriY","oriZ","rVex","gVex","bVex","rCave","gCave","bCave","colorsIdx","nNearest","npts","ntri3","nVertLayer","nVertMesh","V0","orderLayer","orderMesh","nVLayer","nVMesh","anatomicalStructurePrimary","voxoffset","scl_slope","scl_inter","intent_code","readStrX","line2","tpos","indexOffset","surfaceNumberOfVertices","brainStructure","vertexIndices","nFrame4D","scalars2","bStruct","isMatch","n_mesh_vert","qform_code","sform_code","n_vox","is3D","nvertD","transformMat4homogeneous","xyz","sformInv","mat43.invert","nx","ny","nz","nxy","nOK","ijk","ixf","iyf","izf","ixc","iyc","izc","maxv","minv","fractionOK","version2","width","height","depth","nframes","bytesPerVertex","TAG_OLD_COLORTABLE","TAG_OLD_USEREALRAS","TAG_OLD_SURF_GEOM","TAG_OLD_MGH_XFORM","nBytes","tagType","plen","version3","nentries","num_entries_to_read","structure","startP","endP","readStringTag","fpos","delimiter","color","translation","rotation","rgba","rgbaGlobal","appearanceStyles","readAppearance","ref","diffuseColor","def","coordIndex","point","rem","triStart","rgbas","c3","c4","mat43.fromRotation","pti","ptj","vec43.add","pti3","vec34.fromValues","ptj3","readXMLtag","isEmptyTag","tagString","startTag","contentStartPos","contentEndPos","endPos","endTag","isIdx","isPts","isVectors","isColMajor","Dims","dataType","isGzip","isASCII","isDataSpaceScanner","isFloat","readBracketTag","datBin","nvert2","base64ToUint8","binary_string","len2","datZ","np","Float32Concat","first","second","firstLength","scalarsInt","scalarFloat","NVLabel3D","text","style","points","anchor","onClick","isPlatformLittleEndian","ImageType","ImageType3","NVIMAGE_TYPE","imageType","NVImageFromUrlOptions","urlImageData","trustCalMinMax","percentileFrac","ignoreZeroVoxels","useQFormNotSForm","frame4D","cal_minNeg","cal_maxNeg","colorbarVisible","alphaThreshold","str2Buffer","maxLen","char","hdrToArrayBuffer","hdr","isDrawing8","isInputEndian","getExtents","forceOriginInVolume","nV","vec35.fromValues","vec35.create","nLoops","loop","vec35.copy","vec35.min","vec35.max","vec35.subtract","vec35.len","ok","vec35.lerp","isAffineOK","iOK","jOK","uncompressStream","uncompressedStream","done2","value2","createNiftiHeader","dims","pixDims","affine","datatypeCode","bpv","createNiftiArray","img","finalHdrBytes","paddingSize","padding","imgBytes","totalLength","outputData","toUint8Array","nvImage","drawingBytes","isDrawing","hdrCopy","hasExtensions","extFlag","extensionsData","blocks","edataBytes","block","offset2","imageBytesToSave","drawingBytesCurrent","perm","nVox","nVoxRAS","dimsRAS","nativeData","inputDrawingRAS","rasIndex","rz","ry","rx","nativeIndex","preImageBytesSize","saveToUint8Array","fnm","drawing8","odata","compressedData","saveToDisk","saveData","blobUrl","link","getValues","isReadImaginary","vec44.fromValues","vec44.transformMat4","nVox3D","volOffset","finalVxIndex","dataArray","rawValue","slope","inter","getValue","getVolumeData","voxStartRAS","voxEndRAS","defaultResult","slabDims","slabNVox","OutputArrayConstructor","outputImg","sourceImg","outputIndex","minVal","maxVal","setVolumeData","slabData","targetImg","sourceIndex","mgh_exports","isFreeSurferLabelImage","optimizeFreeSurferLabels","readMgh","readTag","footerLength","tagToRead","strLen","contentPos","imgRaw","isInteger","expectedBytes","remainingBytes","footerStart","NIFTI12","spacingX","spacingY","spacingZ","xr","xa","xs","yr","ya","ys","zr","za","cr","ca","cs","rot44","mat44.fromValues","Pcrs","PxyzOffset","nBytesPerVoxel","nii_exports","readNifti","pairedImageData","dataBuffer","nrrd_exports","readNrrd","pairedImgData","NIFTI13","isGz","isMicron","isDetached","mat332","mat3.fromValues","vec36.fromValues","rot33","mat3.create","ts","mat45.multiplyScalar","mat3.multiply","mat45.fromValues","mm000","mm100","vec36.subtract","mm010","mm001","vec36.length","sourceBuffer","sourceOffset","dataSection","NVImage","_NVImage","colormapType","_pairedImgData","isNoColormap","uuidv4","bytesPerVol","nVol4D","affineOK","quatern_R","numBytesPerVoxel","theByte","i8","vx8","nvox","img1","bit","vx32","vxi32","i64","nvx","zarrData","newImg","u8s","mtx44","mat46.clone","mat46.transpose","dxtmp","xmax","dytmp","ymax","dztmp","zmax","fig_merit","oblique_angle","inImg","nVox3D2","xNeg","yNeg","zNeg","alpha","isFlipX","isFlipY","isFlipZ","LPI","X1mm","Y1mm","Z1mm","vec37.subtract","oblique","mat46.fromValues","XY","vec37.angle","XZ","YZ","vec45.fromValues","shim","mat46.translate","vec37.fromValues","pixdimX","pixdimY","pixdimZ","oform","originVoxel","mat46.create","mat46.invert","xyzDelta","xyzOrigin","orientSpecific","ORIENT_xyz","nif_x_axnum","nif_y_axnum","nif_z_axnum","axcode","axstep","axstart","ii","vec37.length","NIFTI14","filetype","vols","frame_duration","rawImg","hdr0","hdr3","voloffset","ipos","scale_factor","nvox3D","prevImg","isFDvaries","getTypeSize","dtype2","getDataTypeCode","magicBytes","expectedMagic","byte","headerLen","headerText","shapeMatch","dtypeMatch","numElements","dataStart","canvas","ctx","imageData","isGrayscale","grayscaleData","expectedLength","isRGB","retBuffer2","zxy2xyz","data2","X","Y","Z","voxelCount","rgb","offsets","srcIndex","dstIndex","retData","retBuffer","nSpatialTransforms","nValues","hasV1","xmm","ymm","zmm","nBytes3D","buff8v1","dir0","dir1","dir2","dirs","buff8","arrFA","mask","imgFA","img8","mod","extBuffer","newExtension","nlines","hasIJK_TO_DICOM_REAL","isInt","eol","mat32.fromValues","mmMat","mat32.multiply","layout","isBit","nTransform","TR","ndim","buffer1","instride","inflip","xlut","ylut","zlut","tlut","dlut","inVs","outVs","absR","ixyz","rotM","mat46.copy","flip","mat46.identity","residualR","mat46.multiply","aperm","outdim","inStep","outStep","outStart","nVolumes","readHeaderAsync2","nVolume","volSkip","imgRAS","vec45.transformMat4","mm","frac","pos3","vol","isBorder","nZero","nNan","nVol","skipVox","borders","bordersHi","isFastCalc","mnScale","mxScale","cmMin","cmMax","percentZero","isOverrideIgnoreZeroVoxels","n2pct","nBins","scl","hist","lo","hi","pct2","pct98","scaled","headers","manifestUrl","folderUrl","fileUrl","contents","minBytes","gunzip","decompressedChunks","totalDecompressed","doneReading","resolveFn","rejectFn","promise","finalize","contentDisposition","limitFrames4D","hdrU8s","hdrView","isNIfTI1","volsToLoad","bytesToLoad","responseImg","concatU8s","imgU8s","hdrCopyLength","bytesRead","remaining","urlImgData","isManifest","nvimage","getPrimaryExtension","rname","urlParams","zIndex","yIndex","xIndex","zRange","zarr.slice","yRange","xRange","zarrUrl","zarr.FetchStore","root2","zarr.root","zarr.open","zDim2","yDim","xDim","zarr.get","zDim","cDim","isTestNIfTI","sum","urlParts","limiter","resultView","headerBuffer","headerView","voxStart","voxEnd","base64ToArrayBuffer","base642","clonedImage","zeroClone","vox","isForceSliceMM","mm4","xform","DRAG_MODE","DRAG_MODE2","DEFAULT_OPTIONS","INITIAL_SCENE_DATA","vec38.fromValues","vec46.fromValues","diffOptions","defaults","diff","isArray","NVDocument","_NVDocument","crosshairPos","clipPlane","planes","pan2Dxyzmm","newGamma","dataURL","title","labels","image","imageOptions","imgOpt","b64","embedImages","embedDrawing","imageOptionsArray","label","volume","meshes","mesh","copyMesh","jsonTxt","mime","payload","document2","documentData","documentText","utf8decoder","dataString","sceneData","vec38.clone","callback","oldValue","NVMesh3","_NVMesh","visible","connectome","uuidv42","keysArray","va","posClrF32","v4ToV3","vec39.fromValues","primitiveRestart","n_line_vtx","n_streamlines","cyl_sides","f32PerVertex","prevV4","vec47.create","currV4","nextV4","vec39.create","prevV2","isLineEnd","vec47.fromValues","vec47.clone","vec39.subtract","vec39.normalize","D","vec39.cross","vec39.clone","vtxXYZ","vec39.add","fidx","n3","fidxU8","nidx","prevStartVtx","startVtx","prevStartVtxOverflow","startVtxOverflow","maxExtentsRange","bins","half","densityMap","prevVx","binsXbins","blur3D","dim1","dimXdim","mn0","binsXbinsXbins","vStart3","vEnd3","vec39.len","posClrU32","i3","i4","dither","ditherHalf","rgb2int32","g","direction2rgb","x1","y1","z1","x2","y2","z2","ditherFrac","fiberColor","streamlineVisible","groupVisible","lut255","ngroup","color255","RGBA","vStart","vEnd","vStart4","vEnd4","shadeRGBA","bias","shade","min_mm","Xmm","Ymm","Zmm","mnDx","isNegativeCmap","opa255","mnCal","isTranslucentBelowMin","scale255","opa","additiveRGBA","additiveBlend","scaleFlip","frame","frameOffset","v255s","alphas","minOpaque","v255","j4","posNormClr","maxAdditiveBlend","lut2","nLabel","atlasValues","hasNaN","onlyNaN","nanVtxs","nanIdxs","trisIn","nTriOK","k2","labelName","opaque","neglut","modulate","nF","ntarget","fac","F0","nVjprev","nVj","nFjprev","nFj","facJ","inputOrder","inputVLength","isPerVertexColors","pts2","nvm","newLayer","layerName","layers","Shiny_default","Roboto_Regular_default","Roboto_Regular_default2","defaultOptions","NVConnectome","_NVConnectome","nodes","colorValue","isValid","largest","lutNeg","hasNeg","legendLineThickness","isNeg","edges","updatedNode","node2","edge","closeNodes","nodes2","nNode","pt","vec310.fromValues","pts32","tris32","toNiivueObject3D","matRAS","pixDimsRAS","L","I","S","vox2mmFn","LAI","LPS","LAS","RPI","RAI","RPS","RAS","posTex","posTexBuffer","obj3D","allCorners","extents","vec311.clone","vec311.negate","encodeRLE","dp","rI","rp","rl","decodeRLE","rle","decodedlen","drawUndo","drawUndoBitmaps","currentDrawUndoBitmap","drawBitmap","findBoundarySlices","sliceType","dimX","dimY","dimZ","axisSize","firstSliceWithData","lastSliceWithData","slice2","hasData","extractSlice","sliceIndex","sliceData","srcIdx","dstIdx","extractIntensitySlice","insertColorMask","binaryThreshold","smoothSlice","temp","calculateIntensityWeight","intensity1","intensity2","targetIntensity","intensitySigma","diff1","diff2","weight1","weight2","totalWeight","doGeometricInterpolation","sliceLow","sliceHigh","sliceIndexLow","sliceIndexHigh","interpolatedSlice","fracHigh","fracLow","doIntensityGuidedInterpolation","intensityLow","intensityHigh","baseFracHigh","baseFracLow","intensityWeight","combinedWeightLow","combinedWeightHigh","interpolateMaskSlices","refreshDrawingCallback","sliceWidth","sliceHeight","maxSliceIndex","colorRanges","sliceIdx","colorSliceLow","colorSliceHigh","colorMaskLow","colorMaskHigh","colorInterpolated","vertRenderShader","kDrawFunc","kRenderFunc","kRenderInit","kRenderTail","fragRenderSliceShader","fragRenderShader","gradientOpacityLutCount","kFragRenderGradientDecl","fragRenderGradientShader","fragRenderGradientValuesShader","vertSliceMMShader","kFragSliceHead","fragSlice2DShader","kFragSliceTail","fragSliceMMShader","fragSliceV1Shader","fragRectShader","fragRectOutlineShader","vertColorbarShader","fragColorbarShader","vertRectShader","vertLineShader","vertLine3DShader","vertBmpShader","fragBmpShader","vertFontShader","fragFontShader","vertCircleShader","fragCircleShader","vertOrientShader","fragOrientShaderU","fragOrientShaderI","fragOrientShaderF","fragOrientShaderAtlas","fragOrientShader","fragPAQDOrientShader","fragRGBOrientShader","vertGrowCutShader","fragGrowCutShader","vertSurfaceShader","fragSurfaceShader","vertFiberShader","fragFiberShader","vertMeshShader","fragMeshDepthShader","fragMeshToonShader","fragMeshOutlineShader","fragMeshRimShader","fragMeshContourShader","fragMeshEdgeShader","fragMeshDiffuseEdgeShader","fragMeshSpecularEdgeShader","fragMeshShaderCrevice","fragCrosscutMeshShader","fragMeshShader","fragMeshMatcapShader","fragMeshMatteShader","fragMeshHemiShader","fragMeshShaderSHBlue","vertFlatMeshShader","fragFlatMeshShader","fragVolumePickingShader","vertOrientCubeShader","fragOrientCubeShader","vertPassThroughShader","fragPassThroughShader","blurVertShader","blurFragShader","sobelBlurFragShader","kGradientMagnitude","sobelFirstOrderFragShader","sobelSecondOrderFragShader","compileShader","vert","frag","fs","program","Shader","vertexSrc","fragmentSrc","regexUniform","matchUniformName","vertexUnifs","fragUnifs","unif","nice","round","exp","readFileAsDataURL","filePromise","resolve2","reject2","img2ras16","img16","unpackFloatFromVec4i","bitSh","intensityRaw2Scaled","loose_label","ntick","graphmin","graphmax","tickSpacing","deg2rad","deg","negMinMax","minNeg","maxNeg","clamp","swizzleVec3","vout","vec312.create","isRadiological","vRight","vec48.fromValues","vRotated","vec48.create","vec48.transformMat4","unProject","winX","winY","winZ","mvpMatrix","inp","finalMatrix","mat48.clone","mat48.invert","MESH_EXTENSIONS","LEFT_MOUSE_BUTTON","CENTER_MOUSE_BUTTON","RIGHT_MOUSE_BUTTON","TEXTURE0_BACK_VOL","TEXTURE1_COLORMAPS","TEXTURE2_OVERLAY_VOL","TEXTURE3_FONT","TEXTURE4_THUMBNAIL","TEXTURE5_MATCAP","TEXTURE6_GRADIENT","TEXTURE7_DRAW","TEXTURE8_PAQD","TEXTURE8_GRADIENT_TEMP","TEXTURE9_ORIENT","TEXTURE10_BLEND","TEXTURE11_GC_BACK","TEXTURE12_GC_STRENGTH0","TEXTURE13_GC_STRENGTH1","TEXTURE14_GC_LABEL0","TEXTURE15_GC_LABEL1","defaultSaveImageOptions","_eventsController","Niivue","propertyName","newValue","newSliceMosaicString","newVal","volumes","saveBlob","isAntiAlias","mutations","mutation","otherNV","syncOpts","thisMM","vec49.clone","thisGamma","otherGamma","dpi","basePointSize","screenWidthPts","screenHeightPts","screenAreaPts","refAreaPts","normalizedArea","fontPx","event","rect","button","shiftKey","ctrlKey","mouseConfig","isDoubleTouch","touchConfig","dragMode","finalClickPos","tileIdx","sliceInfo","slicePosition","secondLine","firstLineStartFrac","firstLineEndFrac","secondLineStartFrac","secondLineEndFrac","firstLineStartMM","firstLineEndMM","secondLineStartMM","secondLineEndMM","angleToSave","vec313.fromValues","array","volIdx","startVox","endVox","xrange","yrange","zrange","xdim","ydim","fracStart","fracEnd","tileStart","tileEnd","axCorSag","mmStart","mmEnd","vec313.create","vec313.sub","mmLength","vec313.len","isFunction","test","uiData","wasCenterDown","currentDragMode","startFrac","endFrac","startMM","endMM","vec313.distance","timeSinceTouch","wx","wy","gmn","gmx","activeDragMode","isRender","dist","now","elapsed","now2","dragStartSum","dragEndSum","validDrag","delta","scrollAmount","zoomDirection","zoom","zoomChange","fullname","upperCase","endExt","imageItem","itemToLoad","toExt","item","fileArray","dirReader","readAllEntries","directory","allEntiresInDir","getFileObjects","fileSystemEntries","allFileObects","getFile","fileEntry","readEntries","loader","fileExt","files","e2","pairedItem","pairedEntry","fileBaseName","pairedItemBaseName","dataUrl","nvdoc","imgfile","files2","fileArrayBuffers","loaderImage","loadedNvImages","pixels","isCornerOrientationText","isOrientationTextVisible","showAllOrientationMarkers","left1","top1","width1","height1","right1","bottom1","left2","top2","width2","height2","right2","bottom2","horizontallyOverlaps","verticallyOverlaps","isRadiologicalConvention","resetBriCon","meshThicknessOn2D","isSliceMM","isAdditiveBlend","forceDevicePixelRatio","drawFillOverwrites","bmp","drawingBitmap","isBinarize","mlevel","nBin","maxBin","h","scale2raw","bin2raw","bin","scale2bin","h2","levels","thresholds","drawImg","volIndex","otsu","threshold","saveOptions","isSaveDrawing","volumeByIndex","xyzmmZoom","toIndex","numberOfLoadedImages","numberOfLoadedMeshes","meshIndex","depthAziElevs","dae","plane","depthAzimuthElevation","crosshairWidth","trueOrFalse","penValue","isFilledPen","bounds","posChange","isDelta","newOpacity","_thick","_low","_high","gradientAmount","gradientOpacity","renderSilhouette","imgRGBA","halfX","halfY","halfZ","encodedImageBlobs","uint8ClampedArray","meshDataObject","meshInit","meshToAdd","connectomeString","drawingBase64","canvasId","esm","html","embedPreview","images","dicomList","dicom","dicomData","dicomArrayBuffer","dicomLoader","convertedArrayBuffer","nvImages","volumeList","meshOptions","mesh2","meshItem","mz3","meshList","texID","activeID","fb","background","label0","label1","kMAX_STRENGTH","strength0","strength1","shader","iterations","coordZ","readAttach","readTex","nv2D","slice16","isAx","isCor","isSag","halfPenSize","ptA","ptB","centerX","centerY","centerZ","radiusX","radiusY","radiusZ","distX","distY","distZ","seedXYZ","neighbors","xyz2vx","totalVoxels","seedIndex","seedValue","outputMask","neighborOffsets","offsets6","neighborIdx","nx2","seedVx","vx2xyz","testNeighbor","xyzN","vxT","newColor","growSelectedCluster","forceMin","forceMax","maxDistanceMM","is2D","targetBitmap","isGrowClusterTool","nxyz","originalBitmap","constrainXYZ","vx2mm","seedMM","maxDistanceMM2","isWithinDistance","xzyVox","originalSeedColor","baseIntensity","tempImgForIdentification","backImg","clusterSum","clusterCount","fillMin","fillMax","intensity","isSeedValidOriginal","img2D","dims2D","minPt","maxPt","minX","minY","maxX","maxY","capacity","head","tail","enqueue","dequeue","nPts","pen","drawLine2D","constrainXY","xy","startPt","prevPt","pad","pxl","startTime","xStride","yStride","zOffset","isForceRedraw","useClickToSegmentBitmap","selectedBitmap","bitmapDataSource","sliceBytes","isInit","isFlipVertical","drawData","rowSize","srcStart","destStart","pngUrl","textureNum","pngTexture","fontUrl","bmpUrl","scaleW","scaleH","glyph","fontSheetUrl","metricsUrl","meshShaderName","meshShaderNameOrNumber","shaderIndex","fragmentShaderText","sort","gradientOpacityLut","rendererInfo","vendor","renderer","glInfo","rectStrip","positionBuffer","tempTex3D","blurShader","blurRadius","status","sobelShader","sobelRadius","numVoxels","byteData","sliceOffset","readError","zeroSlice","texDims","expectedSize","textureData","clampedValue","visibleLayers","numLayers","masks","drawingIsMask","roiIsMask","area","imgMask","constantDim","varDims","centerVox","minVarDim0","maxVarDim0","minVarDim1","maxVarDim1","constDimVal","voxel","di","dj","radiusX_mm","radiusY_mm","kNot0","MNot0","SNot0","Mnext","stdev","stdevNot0","mnNot0","mxNot0","overlayItem","outTexture","mat49.clone","mat49.invert","volScale2","vox2","isAboveMax3D","nPix","vox3","img2D_U32","opacity2","intercept","cmap_U32","pickingShader","f000","f100","f010","f001","vec313.subtract","mat49.fromValues","orientShader","img32f","firstPAQD","isLabel","blendTexture","passShader","colormapLabelTexture","isColorbarFromZero","isAlphaThreshold","mnNeg","mxNeg","isZeroCrossing","modulateTexture","mhdr","modulateVolume","img2","isColormapNegative","mnNeg2","mxNeg2","scaleNeg","mpow","vRaw","outline","slicescl","volScale","DIM","bw","il","conn","tt","nabo","nr_set","kGrowArrayBy","ttn","cntr","ltn","ml","cl","ls","ls2bw","sumls","bwVal","lsVal","mxbw","vxs","binarize","onlyLargestClusterPerClass","nbw","bwMx","clusterImg","nii","img32","dst_min","dst_max","src_min","voxnum","f_low","f_high","src_max","scale2","srcimg","histosize","bin_size","nth","global_min","inDims","inAffine","outDim","outMM","toRAS","vec49.fromValues","Pxyz_c4","vec49.create","affineT","mat49.create","mat49.transpose","vec49.transformMat4","Pxyz_c","Mdc","MdcD","mat49.scale","vol_center","vec49.scale","out_affine","inv_out_affine","vox2vox","mat49.mul","inv_vox2vox","isLinear","asFloat32","isRobustMinMax","out_nvox","out_img","in_img","in_nvox","dimXY","voxidx","inv_vox2vox0","inv_vox2vox4","inv_vox2vox8","ixYZ","iyYZ","izYZ","ix","iy","iz","cx","cy","cz","rcx","rcy","rcz","rfx","rfy","rfz","fff","gs","out_img32","out_img8","ao","idTarget","idModulation","modulateAlpha","idxTarget","idxModulation","gamma","lutName","texture","nRow","nCol","nm","neg","vis","inv","nmesh","nlayers","luts","addColormap","forceVox","dimsMM","longestAxis","ltwh","depthAziElev","tileIndex","texFrac","voxelIntensity","brightOrDark","info","posNeg","vec313.clone","growMode","floodFillNewColor","isGrowTool","fovMM","regionX","regionY","regionW","regionH","pix10cm","pix1cm","thick","pixLeft","pixTop","clippedLeft","clippedRight","clippedY","startXYendXY","outlineColor","rulerColor","rulerWidth","w1cm","t2","xyxy","forceSlice","vec49.sub","isDrawText","extendTo","x0","y0","dX","dY","measureLineColor","sXYeXY","startXY","endXY","startMm","endMm","lenMM","decimals","stringMM","textCoords","terminus","line1","intersectionX","intersectionY","angleText","angle_degrees","v1x","v1y","v2x","v2y","cosAngle","slicePosition2","currentSliceType","currentSlicePosition2","currentSlicePosition","config","leftTopWidthHeight","lineColor","thickness","circleColor","fillPercent","yTop","definedMeshLabels","nonAnchoredLabels","nonAnchoredLabelSet","bulletMargin","widestBulletScale","tallestLabel","aSize","bSize","horizontalMargin","longestLabel","longestTextSize","longestTextLength","panelScale","verticalMargin","labelSize","textHeight","fullHt","isNegativeColor","txtHt","margin","barHt","barLTWH","rimLTWH","lx","thresholdTic","spacing","ticMin","humanize","tic","ticLTWH","txtTop","tticLTWH","maps","nmaps","nVisible","wid","byteSet","metrics","screenPxRange","LTWH","clr","isForceLinear","interp","isOutline","isNearest","clipTolerance","clipDepth","isRadiolgical","leftTopMM","projectionMatrix","mat49.ortho","modelMatrix","translateVec3","mat49.translate","mat49.rotateX","mat49.rotateZ","iModelMatrix","normalMatrix","modelViewProjectionMatrix","mat49.multiply","fov","forceSliceMM","mnMM2","mxMM2","fovMM2","mnMM","mxMM","extentsMinOrtho","extentsMaxOrtho","rotation2","eMin","eMax","padLeftTop","topText","leftText","bottomText","rightText","drawBelow","drawRight","drawAbove","drawLeft","ht","sliceFrac","sliceDim","denom","yMult","xMult","AxyzMxy","customMM","frac2mmTexture","screen","mesh2ortho","isStretchToScreen","pixPerMMw","pixPerMMh","pixPerMMmin","zoomW","zoomH","center","pan","panXY","sliceMM","flippedY","glLTWH","tile","imageWidthHeight","_unused","whratio","dirClip","proj3","mat33.fromValues","dirAfterProj","vec313.transformMat3","model3","mat33.create","mat33.fromMat4","invModel3","mat33.invert","worldRay","vec313.normalize","tiny","minExtents","maxExtents","vmn","vec313.min","vmx","vec313.max","pivot","vec313.add","vec313.scale","vec313.length","maxVols","graph","axialTop","gridLineAlpha","selectedLineAlpha","volMn","volMx","ticMax","digits","fntSize","fntScale","maxTextWid","lineH","frameWid","frameHt","plotLTWH","rangeH","plotBottom","thinColor","halfThick","lineRGBA","pixelX","pixelY","rgbaPixel","depthZ","fracX","fracY","rayDir","object3D","planeI","translateUpForColorbar","_mn","_mx","dynamicDecimals","deci","flt2str","valStr","pct1","mm2","defaultStyle","labelStyle","screenPoint","textWidth","panelHeight","panelWidth","secondPass","legendWidth","scaling","bulletSize","rectTop","rectLeft","textLeft","blend","depthFunc","anchoredLabels","rectHeightDiff","rectWidthDiff","rectHorizontalOffset","rectVerticalOffset","isMosaic","relativeLTWH","posString","isDepthTest","modelMtx","normMtx","hasFibers","meshAlpha","meshThicknessMM","mvpMtx","is2DView","crosshairsShader","restrict0to1","isMirror","canvasPos","preferredSliceType","worldMM","bestMatch","expectedZ","tolerance","screenFracX","screenFracY","screenX","screenY","clampedFracX","clampedFracY","padPixelsWH","canvasWH","canvasW","canvasH","scalePix","wPix","hPix","endXYZ","dottedLineColor","segment","vec2.fromValues","vec2.length","vec2.normalize","vec2.scale","segmentLength","segmentCount","currentSegmentXY","segmentStartXYendXY","LTRB","axiMM","corMM","sagMM","linesH","linesV","mm2screen","screenXY","fracZ","dimV","mmV","fracH","fracV","dimH","mosaicStr","fovRenderMM","fovSliceMM","marginLeft","marginTop","tileGap","pass","isCrossLines","rowHt","mxRowWid","horizontalOverlap","prevW","inf","containerWidth","containerHeight","xScale","yScale","aspectRatio","containerAspect","actualWidth","actualHeight","yBot","evt","clientX","clientY","touch","cssX","cssY","bh","my","dpr","cssW","cssH","vpX","vpY","vpW","vpH","glX","glY","isDrawGraph","heroImageWH","isHeroImage","actualDimensions","cols","rows","innerPad","isShowRender","isDrawPenDown","actualScale","ltwh2x2","ltwh3x1","ltwh4x1","ltwh1x3","ltwh1x4","isDraw3D","isDrawColumn","isDrawGrid","isDrawRow","heroW","heroH","ltwh2","sX","sY","sZ","actualX","actualY","actualZ","sMx","measurement","startCanvasResult","endCanvasResult","firstLineStartCanvasResult","firstLineEndCanvasResult","secondLineStartCanvasResult","secondLineEndCanvasResult","angleForText","NIFTI_CONFIG","NiftiSliceImageWidget","View","settings","orientation","loadPromise","maxSlice","sampleRate","samples","p2Idx","p98Idx","currentZoom","pug_attr","pug_rethrow","template","locals","pug_html","pug_debug_filename","pug_debug_line","pug_escape","pug_match_html","pug_interp","locals_for_with","tags","$$obj","pug_index0","$$l","debounce","func","wait","timeout","NiftiSliceMetadataWidget","volumeInfo","jsonMetadata","NiftiSliceMetadataTemplate","vi","displayValue","NiftiView","window","NiftiItemTemplate","niftiFile","volumeName","percent","loadedMB","totalMB","errorMessage","slider","newSlice","jsonFile","restRequest","enable","$target","newOrientation","maxSlices","$controls","$toggleIcon","errorStr","wrap","ItemView","render","AccessType","ParseNiftiItemTemplate","getCurrentUser","resp","events","SearchFieldWidget"],"mappings":"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;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA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CA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ,GAGIC,KAAmB;AAAA,EACrB,QAAQ;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ,GAGIC,KAAe;AAAA,EACjB,GAAG,CAAC,GAAG,GAAG,IAAI,KAAK,GAAG;AAAA,EACtB,GAAG,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC;AAAA,EACrB,GAAG,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC;AAAA,EACnB,GAAG,CAAC,GAAG,IAAI,IAAI,IAAI,GAAG;AAAA,EACtB,GAAG,CAAC,GAAG,IAAI,KAAK,KAAK,GAAG;AAC1B,GAGIG,KAAiB;AAAA,EACnB,GAAG,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA,EAC9G,GAAG,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA,EACnH,GAAG,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AAAA,EACzG,GAAG,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;AAAA,EACjG,GAAG,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,GAAG;AACjH,GAGIE,KAAsB;AAAA,EACxB,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ,GAGID,KAAiB;AAAA,EACnB,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ,GAGIK,KAAmB;AAAA,EACrB,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG;AAAA,EACxB,GAAG,CAAC,GAAG,IAAI,KAAK,KAAK,KAAK,EAAE;AAAA,EAC5B,GAAG,CAAC,GAAG,KAAK,KAAK,GAAG,GAAG,CAAC;AAAA,EACxB,GAAG,CAAC,GAAG,KAAK,IAAI,IAAI,IAAI,GAAG;AAAA,EAC3B,GAAG,CAAC,GAAG,GAAG,IAAI,KAAK,KAAK,GAAG;AAC7B,GAGID,KAAuB;AAAA,EACzB,GAAG,CAAC,GAAG,GAAG;AAAA,EACV,GAAG,CAAC,GAAG,CAAC;AAAA,EACR,GAAG,CAAC,KAAK,GAAG;AAAA,EACZ,GAAG,CAAC,GAAG,GAAG;AAAA,EACV,GAAG,CAAC,GAAG,GAAG;AACZ,GAGID,KAAoB;AAAA,EACtB,GAAG,CAAC,GAAG,CAAC;AAAA,EACR,GAAG,CAAC,GAAG,GAAG;AAAA,EACV,GAAG,CAAC,KAAK,GAAG;AAAA,EACZ,GAAG,CAAC,GAAG,GAAG;AAAA,EACV,GAAG,CAAC,GAAG,GAAG;AACZ,GAGIG,KAAkB;AAAA,EACpB,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,EACd,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG;AAAA,EAClB,GAAG,CAAC,GAAG,KAAK,KAAK,EAAE;AAAA,EACnB,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG;AAAA,EACjB,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG;AACpB,GAGIJ,KAAe;AAAA,EACjB,GAAG,CAAC,GAAG,GAAG,CAAC;AAAA,EACX,GAAG,CAAC,GAAG,GAAG,CAAC;AAAA,EACX,GAAG,CAAC,GAAG,KAAK,GAAG;AAAA,EACf,GAAG,CAAC,GAAG,IAAI,GAAG;AAAA,EACd,GAAG,CAAC,GAAG,KAAK,GAAG;AACjB,GAGIK,KAAe;AAAA,EACjB,GAAG,CAAC,GAAG,KAAK,GAAG;AAAA,EACf,GAAG,CAAC,GAAG,KAAK,GAAG;AAAA,EACf,GAAG,CAAC,GAAG,KAAK,GAAG;AAAA,EACf,GAAG,CAAC,GAAG,IAAI,GAAG;AAAA,EACd,GAAG,CAAC,GAAG,KAAK,GAAG;AACjB,GAGIC,KAAiB;AAAA,EACnB,GAAG,CAAC,GAAG,IAAI,KAAK,KAAK,KAAK,GAAG;AAAA,EAC7B,GAAG,CAAC,GAAG,GAAG,IAAI,KAAK,KAAK,GAAG;AAAA,EAC3B,GAAG,CAAC,GAAG,GAAG,IAAI,IAAI,KAAK,GAAG;AAAA,EAC1B,GAAG,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,EAAE;AAAA,EACzB,GAAG,CAAC,GAAG,IAAI,KAAK,KAAK,KAAK,GAAG;AAC/B,GAGIC,KAAkB;AAAA,EACpB,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;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CA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IA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ACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,I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,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ,GAGIS,KAAc,MAAM;AAAA;AAAA;AAAA;AAAA,EAItB,cAAc;AACZ,IAAAhkB,EAAc,MAAM,SAAS,CAAC,GAC9BA,EAAc,MAAM,WAAW,GAAG,GAClCA,EAAc,MAAM,SAAS,EAAE;AAE/B,UAAMikB,IADW,OAAO,KAAK1E,EAAa,EACb,OAAO,CAACle,MAAM,CAACA,EAAE,WAAW,GAAG,CAAC,EAAE,KAAK,IAAI,KAAK,SAAS,IAAI,EAAE,OAAO;AACnG,eAAWvJ,KAAOmsB;AAChB,WAAK,MAAMnsB,CAAG,IAAIynB,GAAcznB,CAAG;AAAA,EAEvC;AAAA,EACA,YAAYA,GAAKosB,GAAM;AACrB,SAAK,MAAMpsB,CAAG,IAAIosB;AAAA,EACpB;AAAA,EACA,YAAY;AACV,WAAO,OAAO,KAAK,KAAK,KAAK;AAAA,EAC/B;AAAA;AAAA,EAEA,YAAY;AACV,WAAO,KAAK,UAAA;AAAA,EACd;AAAA;AAAA,EAEA,gBAAgB/rB,GAAM;AACpB,QAAI+rB,IAAO,KAAK,MAAM/rB,CAAI;AAK1B,WAJI+rB,MAAS,WAGbA,IAAO,KAAK,MAAM/rB,EAAK,YAAA,CAAa,GAChC+rB,MAAS,UACJA,KAEL/rB,EAAK,SAAS,KAChBmnB,EAAI,KAAK,wBAAwBnnB,CAAI,GAEhC;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,GAAG,CAAC,GAAG,GAAG;AAAA,MACV,GAAG,CAAC,GAAG,GAAG;AAAA,MACV,GAAG,CAAC,GAAG,GAAG;AAAA,MACV,GAAG,CAAC,GAAG,GAAG;AAAA,MACV,GAAG,CAAC,GAAG,GAAG;AAAA,IAAA;AAAA,EAEd;AAAA;AAAA,EAEA,SAASL,IAAM,IAAIqsB,IAAW,IAAO;AACnC,UAAMD,IAAO,KAAK,gBAAgBpsB,CAAG;AACrC,WAAO,KAAK,QAAQosB,EAAK,GAAGA,EAAK,GAAGA,EAAK,GAAGA,EAAK,GAAGA,EAAK,GAAGC,CAAQ;AAAA,EACtE;AAAA,EACA,aAAaC,GAAIC,IAAY,KAAKC,IAAS,OAAU;AACnD,QAAIF,EAAG,MAAM,UAAUA,EAAG,MAAM,UAAUA,EAAG,MAAM;AACjD,YAAM,IAAI,MAAM,2BAA2BA,CAAE,EAAE;AAEjD,UAAMG,IAAUH,EAAG,EAAE,QACfI,IAAOJ,EAAG,KAAK,CAAC,GAAG,MAAMG,CAAO,EAAE,MAAM;AAC9C,QAAIE,IAAa;AACjB,aAASv2B,IAAI,GAAGA,IAAIs2B,EAAK,QAAQt2B;AAC/B,MAAIs2B,EAAKt2B,CAAC,IAAIo2B,MACZG,IAAa,IACbD,EAAKt2B,CAAC,IAAIo2B;AAMd,QAHIG,KACFnF,EAAI,KAAK,qDAAqD,GAE5DiF,MAAYH,EAAG,EAAE,UAAUG,MAAYH,EAAG,EAAE,UAAUG,MAAYC,EAAK;AACzE,YAAM,IAAI;AAAA,QACR,iCAAiCJ,CAAE,OAAOA,EAAG,EAAE,MAAM,OAAOA,EAAG,EAAE,MAAM,OAAOA,EAAG,EAAE,MAAM,OAAOI,EAAK,MAAM;AAAA,MAAA;AAG/G,QAAIE,IAAK,IAAI,kBAAkBH,CAAO,EAAE,KAAKF,CAAS;AACtD,IAAAK,EAAG,CAAC,IAAI,GACJN,EAAG,MAAM,WACXM,IAAK,kBAAkB,KAAKN,EAAG,CAAC;AAElC,UAAMO,IAAQ,KAAK,IAAI,GAAGH,CAAI,GACxBI,IAAQ,KAAK,IAAI,GAAGJ,CAAI,GACxBK,IAAeD,IAAQD,IAAQ,GAC/BG,IAAM,IAAI,kBAAkBD,IAAe,CAAC,EAAE,KAAK,CAAC;AAC1D,aAAS32B,IAAI,GAAGA,IAAIq2B,GAASr2B,KAAK;AAChC,UAAImT,KAAKmjB,EAAKt2B,CAAC,IAAIy2B,KAAS;AAC5B,MAAAG,EAAIzjB,GAAG,IAAI+iB,EAAG,EAAEl2B,CAAC,GACjB42B,EAAIzjB,GAAG,IAAI+iB,EAAG,EAAEl2B,CAAC,GACjB42B,EAAIzjB,GAAG,IAAI+iB,EAAG,EAAEl2B,CAAC,GACjB42B,EAAIzjB,GAAG,IAAIqjB,EAAGx2B,CAAC;AAAA,IACjB;AACA,UAAMg2B,IAAO;AAAA,MACX,KAAAY;AAAA,MACA,KAAKH;AAAA,MACL,KAAKC;AAAA,IAAA;AAEP,QAAIR,EAAG,QAAQ;AACb,YAAMW,IAAKX,EAAG,OAAO;AACrB,UAAIW,MAAOF;AACT,QAAAX,EAAK,SAASE,EAAG;AAAA,eACRW,MAAOR,GAAS;AACzB,QAAAL,EAAK,SAAS,MAAMW,CAAY,EAAE,KAAK,GAAG;AAC1C,iBAAS32B,IAAI,GAAGA,IAAIq2B,GAASr2B,KAAK;AAChC,gBAAMkc,IAAMoa,EAAKt2B,CAAC;AAClB,UAAAg2B,EAAK,OAAO9Z,CAAG,IAAIga,EAAG,OAAOl2B,CAAC;AAAA,QAChC;AAAA,MACF;AAAA,IACF;AACA,WAAOg2B;AAAA,EACT;AAAA,EACA,MAAM,oBAAoB/rB,GAAMksB,IAAY,KAAKC,IAAS,OAAU;AAElE,UAAMF,IAAK,OADM,MAAM,MAAMjsB,CAAI,GACP,KAAA;AAC1B,WAAO,KAAK,aAAaisB,GAAIC,GAAWC,CAAM;AAAA,EAChD;AAAA;AAAA;AAAA,EAGA,YAAYnsB,GAAM;AAChB,QAAI+rB,IAAO,OAAO/rB,KAAS,WAAWA,IAAOonB,GAAcpnB,CAAI;AAC/D,IAAI+rB,MAAS,WACX5E,EAAI,KAAK,uBAAuBnnB,CAAI,GACpC+rB,IAAO,KAAK,gBAAgB,EAAE;AAEhC,UAAME,IAAK,KAAK,aAAaF,GAAM,GAAG;AAItC,QAHIE,EAAG,WAAW,WAChBA,EAAG,SAAS,CAAA,IAEVA,EAAG,OAAO,SAAS,KAAK;AAC1B,YAAMpqB,IAAIoqB,EAAG,OAAO;AACpB,eAASl2B,IAAI8L,GAAG9L,IAAI,KAAKA;AACvB,QAAAk2B,EAAG,OAAO,KAAKl2B,EAAE,SAAA,CAAU;AAAA,IAE/B;AACA,UAAM42B,IAAM,IAAI,kBAAkB,MAAM,CAAC;AACzC,QAAIzjB,IAAI;AACR,aAASnT,IAAI,GAAGA,IAAI,KAAKA;AACvB,MAAA42B,EAAIzjB,GAAG,IAAI,KACXyjB,EAAIzjB,GAAG,IAAI,GACXyjB,EAAIzjB,GAAG,IAAI,GACXyjB,EAAIzjB,GAAG,IAAI;AAEb,IAAAyjB,EAAI,CAAC,IAAI;AACT,UAAME,IAAmB,KAAK,IAAIZ,EAAG,IAAI,QAAQ,MAAM,CAAC;AACxD,QAAIY,IAAmB;AACrB,eAAS92B,IAAI,GAAGA,IAAI82B,GAAkB92B;AACpC,QAAA42B,EAAI52B,CAAC,IAAIk2B,EAAG,IAAIl2B,CAAC;AAGrB,WAAO;AAAA,MACL,KAAA42B;AAAA,MACA,QAAQV,EAAG;AAAA,IAAA;AAAA,EAEf;AAAA;AAAA,EAEA,QAAQa,GAAKC,GAAKC,GAAKC,GAAKC,GAAKlB,GAAU;AACzC,UAAMmB,IAAOL,EAAI,QACXM,IAAK,CAAC,GAAGN,CAAG,GACZO,IAAK,CAAC,GAAGN,CAAG,GACZO,IAAK,CAAC,GAAGN,CAAG;AAClB,QAAI,CAACE,GAAK;AACR,MAAAA,IAAM,IAAI,MAAMC,CAAI;AACpB,eAASp3B,IAAI,GAAGA,IAAIo3B,GAAMp3B;AACxB,QAAAm3B,EAAIn3B,CAAC,IAAIA,KAAKo3B,IAAO,KAAK;AAAA,IAE9B;AACA,IAAKF,MACHA,IAAM,IAAI,MAAME,CAAI,EAAE,KAAK,EAAE,GAC7BF,EAAI,CAAC,IAAI;AAEX,QAAIV,IAAK,kBAAkB,KAAKU,CAAG,GAC/BM,IAAK,kBAAkB,KAAKL,CAAG;AACnC,QAAIlB;AACF,eAASj2B,IAAI,GAAGA,IAAIo3B,GAAMp3B;AACxB,QAAAq3B,EAAGr3B,CAAC,IAAI+2B,EAAIK,IAAO,IAAIp3B,CAAC,GACxBs3B,EAAGt3B,CAAC,IAAIg3B,EAAII,IAAO,IAAIp3B,CAAC,GACxBu3B,EAAGv3B,CAAC,IAAIi3B,EAAIG,IAAO,IAAIp3B,CAAC,GACxBw2B,EAAGx2B,CAAC,IAAI,MAAMk3B,EAAIE,IAAO,IAAIp3B,CAAC,GAC9Bw3B,EAAGx3B,CAAC,IAAI,MAAMm3B,EAAIC,IAAO,IAAIp3B,CAAC;AAGlC,UAAM42B,IAAM,IAAI,kBAAkB,MAAM,CAAC;AACzC,QAAI,OAAOY,IAAO,KAAa;AAC7B,MAAAA,IAAK,IAAI,kBAAkBJ,CAAI,EAAE,KAAK,CAAC;AACvC,eAASp3B,IAAI,GAAGA,IAAIo3B,GAAMp3B;AACxB,QAAAw3B,EAAGx3B,CAAC,IAAI,KAAK,MAAMA,IAAI,OAAOo3B,IAAO,EAAE;AAAA,IAE3C;AACA,IAAI,OAAOZ,IAAO,QAChBA,IAAK,IAAI,kBAAkBY,CAAI,EAAE,KAAK,EAAE,GACxCZ,EAAG,CAAC,IAAI;AAEV,aAASx2B,IAAI,GAAGA,IAAIo3B,IAAO,GAAGp3B,KAAK;AACjC,YAAMy3B,IAAQD,EAAGx3B,CAAC;AAClB,UAAI03B,IAAQF,EAAGx3B,IAAI,CAAC;AACpB,MAAIA,MAAM,KAAKy3B,MAAU,KACvBrG,EAAI,KAAK,yDAAyDqG,CAAK,GAErEz3B,MAAMw3B,EAAG,SAAS,KAAKE,MAAU,QACnCtG,EAAI,KAAK,wDAAwDsG,CAAK,GACtEA,IAAQ;AAEV,YAAMC,IAASD,IAAQD;AACvB,UAAItkB,IAAIskB,IAAQ;AAChB,eAAS3rB,IAAI2rB,GAAO3rB,KAAK4rB,GAAO5rB,KAAK;AACnC,cAAM2jB,KAAK3jB,IAAI2rB,KAASE;AACxB,QAAAf,EAAIzjB,GAAG,IAAIkkB,EAAGr3B,CAAC,IAAIyvB,KAAK4H,EAAGr3B,IAAI,CAAC,IAAIq3B,EAAGr3B,CAAC,IACxC42B,EAAIzjB,GAAG,IAAImkB,EAAGt3B,CAAC,IAAIyvB,KAAK6H,EAAGt3B,IAAI,CAAC,IAAIs3B,EAAGt3B,CAAC,IACxC42B,EAAIzjB,GAAG,IAAIokB,EAAGv3B,CAAC,IAAIyvB,KAAK8H,EAAGv3B,IAAI,CAAC,IAAIu3B,EAAGv3B,CAAC,IACxC42B,EAAIzjB,GAAG,IAAIqjB,EAAGx2B,CAAC,IAAIyvB,KAAK+G,EAAGx2B,IAAI,CAAC,IAAIw2B,EAAGx2B,CAAC;AAAA,MAC1C;AAAA,IACF;AACA,QAAI,KAAK,UAAU;AACjB,aAAO42B;AAET,aAAS52B,IAAI,GAAGA,IAAI,MAAM,GAAGA;AAC3B,MAAIA,IAAI,MAAM,MAGd42B,EAAI52B,CAAC,IAAI,KAAK,IAAI42B,EAAI52B,CAAC,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI;AAEpD,WAAO42B;AAAA,EACT;AACF,GACIgB,KAAU,IAAI9B,GAAA,GAId+B,KAAkB,MAAM;AAAA,EAC1B,OAAO,qBAAqBxsB,GAAIojB,GAAO;AACrC,UAAMqJ,IAAS,IAAI,MAAMzsB,EAAG,MAAM,EAAE,KAAK,EAAK,GACxC0sB,IAAS,IAAI,MAAM1sB,EAAG,MAAM,EAAE,KAAK,EAAK;AAC9C,aAASrL,IAAI,GAAGA,IAAIqL,EAAG,QAAQrL;AAC7B,MAAIqL,EAAGrL,CAAC,IAAI,MACV+3B,EAAO/3B,CAAC,IAAI;AAGhB,UAAMg4B,IAAOvJ,EAAM,SAAS;AAC5B,QAAI3iB,IAAI;AACR,aAAS9L,IAAI,GAAGA,IAAIg4B,GAAMh4B,KAAK;AAC7B,YAAMi4B,IAAKxJ,EAAM3iB,CAAC,GACZuiB,IAAKI,EAAM3iB,IAAI,CAAC,GAChBwiB,IAAKG,EAAM3iB,IAAI,CAAC;AAEtB,MADAA,KAAK,GACD,EAAAisB,EAAOE,CAAE,MAAMF,EAAO1J,CAAE,KAAK0J,EAAOE,CAAE,MAAMF,EAAOzJ,CAAE,KAAKyJ,EAAO1J,CAAE,MAAM0J,EAAOzJ,CAAE,OAGtFwJ,EAAOG,CAAE,IAAI,IACbH,EAAOzJ,CAAE,IAAI,IACbyJ,EAAOxJ,CAAE,IAAI;AAAA,IACf;AACA,WAAOwJ;AAAA,EACT;AAAA,EACA,aAAa,KAAK5mB,GAAM;AACtB,UAAMoH,IAAS,IAAI,kBAAkB,MAAM,GACrCC,IAASD,EAAO,SAAS,UAAA;AAC/B,IAAAC,EAAO,MAAMrH,CAAI,EAAE,MAAM,QAAQ,KAAK;AACtC,UAAMsH,IAAeD,EAAO,MAAA,EAAQ,MAAM,QAAQ,KAAK,GACjDxZ,IAAW,IAAI,SAASuZ,EAAO,QAAQ,GACvC9F,IAAS,IAAI,WAAW,MAAMzT,EAAS,aAAa;AAC1D,iBAAMyZ,GACChG;AAAA,EACT;AAAA,EACA,OAAO,UAAUyb,GAAUC,GAASgK,IAAW,IAAOtH,IAAS,MAAM;AAEnE,UAAMuH,IAASvH,aAAkB,cAAcA,EAAO,WAAW3C,EAAS,SAAS,IAAI,GACjFmK,IAAOD,IAAS,IAAI,GACpBE,IAAQnK,EAAQ,SAAS,GACzBoK,IAAQrK,EAAS,SAAS,GAC1BsK,IAAQ,GACRC,IAAa,IACbC,IAAYJ,IAAQ,IAAI,GACxBK,IAAaJ,IAAQ,IAAI,GACzBK,IAAYR,IAASvH,EAAO,SAAS,GACrCgI,IAAYJ,IAAaC,IAAYC,IAAaC,GAClD95B,IAAS,IAAI,YAAY+5B,CAAS,GAClCrgB,IAAS,IAAI,SAAS1Z,CAAM;AAClC,IAAA0Z,EAAO,UAAU,GAAG,OAAO,EAAI,GAC/BA,EAAO,UAAU,GAAG6f,GAAM,EAAI,GAC9B7f,EAAO,UAAU,GAAG8f,GAAO,EAAI,GAC/B9f,EAAO,UAAU,GAAG+f,GAAO,EAAI,GAC/B/f,EAAO,UAAU,IAAIggB,GAAO,EAAI;AAChC,QAAI7wB,IAAS8wB;AAQb,QAPA,IAAI,YAAY35B,GAAQ6I,GAAQwmB,EAAQ,MAAM,EAAE,IAAIA,CAAO,GAC3DxmB,KAAU+wB,GACV,IAAI,aAAa55B,GAAQ6I,GAAQumB,EAAS,MAAM,EAAE,IAAIA,CAAQ,GAC1DkK,MACFzwB,KAAUgxB,GACV,IAAI,WAAW75B,GAAQ6I,GAAQkpB,EAAO,MAAM,EAAE,IAAIA,CAAM,IAEtDsH;AACF,YAAM,IAAI,MAAM,6CAA6C;AAE/D,WAAOr5B;AAAA,EACT;AAAA,EACA,aAAa,eAAeovB,GAAUC,GAASgK,IAAW,IAAOtH,IAAS,MAAM;AAC9E,UAAM/xB,IAAS,KAAK,UAAUovB,GAAUC,GAASgK,GAAUtH,CAAM;AACjE,WAAIsH,IACK,MAAM,KAAK,KAAK,IAAI,WAAWr5B,CAAM,CAAC,IAExCA;AAAA,EACT;AAAA,EACA,OAAO,UAAUovB,GAAUC,GAAS;AAClC,QAAI2K,IAAa;AACjB,aAAS74B,IAAI,GAAGA,IAAIiuB,EAAS,QAAQjuB,KAAK;AACxC,MAAA64B,KAAc,KAAK5K,EAASjuB,CAAC,CAAC,IAAIiuB,EAASjuB,IAAI,CAAC,CAAC,IAAIiuB,EAASjuB,IAAI,CAAC,CAAC;AAAA;AAGtE,aAASA,IAAI,GAAGA,IAAIkuB,EAAQ,QAAQluB,KAAK;AACvC,MAAA64B,KAAc,KAAK3K,EAAQluB,CAAC,IAAI,CAAC,IAAIkuB,EAAQluB,IAAI,CAAC,IAAI,CAAC,IAAIkuB,EAAQluB,IAAI,CAAC,IAAI,CAAC;AAAA;AAK/E,WAFgB,IAAI,YAAA,EACQ,OAAO64B,CAAU,EAAE;AAAA,EAEjD;AAAA,EACA,OAAO,UAAU5K,GAAUC,GAAS;AAClC,UAAM4K,IAAe5K,EAAQ,SAAS,GAChC6K,IAAe,KAAKD,IAAe,IACnCE,IAAc,IAAI,YAAYD,CAAY,GAC1C1mB,IAAW,IAAI,SAAS2mB,CAAW;AACzC,aAASh5B,IAAI,GAAGA,IAAI,IAAIA;AACtB,MAAAqS,EAAS,SAASrS,GAAG,CAAC;AAExB,IAAAqS,EAAS,UAAU,IAAIymB,GAAc,EAAI;AACzC,QAAIpxB,IAAS;AACb,aAAS1H,IAAI,GAAGA,IAAIkuB,EAAQ,QAAQluB,KAAK,GAAG;AAC1C,YAAMi5B,IAAK/K,EAAQluB,CAAC,IAAI,GAClBk5B,IAAKhL,EAAQluB,IAAI,CAAC,IAAI,GACtBm5B,IAAKjL,EAAQluB,IAAI,CAAC,IAAI;AAC5B,MAAAqS,EAAS,WAAW3K,GAAQ,GAAG,EAAI,GACnC2K,EAAS,WAAW3K,IAAS,GAAG,GAAG,EAAI,GACvC2K,EAAS,WAAW3K,IAAS,GAAG,GAAG,EAAI,GACvCA,KAAU,IACV2K,EAAS,WAAW3K,GAAQumB,EAASgL,CAAE,GAAG,EAAI,GAC9C5mB,EAAS,WAAW3K,IAAS,GAAGumB,EAASgL,IAAK,CAAC,GAAG,EAAI,GACtD5mB,EAAS,WAAW3K,IAAS,GAAGumB,EAASgL,IAAK,CAAC,GAAG,EAAI,GACtDvxB,KAAU,IACV2K,EAAS,WAAW3K,GAAQumB,EAASiL,CAAE,GAAG,EAAI,GAC9C7mB,EAAS,WAAW3K,IAAS,GAAGumB,EAASiL,IAAK,CAAC,GAAG,EAAI,GACtD7mB,EAAS,WAAW3K,IAAS,GAAGumB,EAASiL,IAAK,CAAC,GAAG,EAAI,GACtDxxB,KAAU,IACV2K,EAAS,WAAW3K,GAAQumB,EAASkL,CAAE,GAAG,EAAI,GAC9C9mB,EAAS,WAAW3K,IAAS,GAAGumB,EAASkL,IAAK,CAAC,GAAG,EAAI,GACtD9mB,EAAS,WAAW3K,IAAS,GAAGumB,EAASkL,IAAK,CAAC,GAAG,EAAI,GACtDzxB,KAAU,IACV2K,EAAS,UAAU3K,GAAQ,GAAG,EAAI,GAClCA,KAAU;AAAA,IACZ;AACA,WAAOsxB;AAAA,EACT;AAAA,EACA,OAAO,oBAAoBn6B,GAAQu6B,GAAU;AAC3C,UAAMC,IAAO,IAAI,KAAK,CAACx6B,CAAM,GAAG,EAAE,MAAM,4BAA4B,GAC9DI,IAAM,IAAI,gBAAgBo6B,CAAI,GAC9Bh5B,IAAI,SAAS,cAAc,GAAG;AACpC,IAAAA,EAAE,OAAOpB,GACToB,EAAE,WAAW+4B,GACb,SAAS,KAAK,YAAY/4B,CAAC,GAC3BA,EAAE,MAAM,UAAU,QAClBA,EAAE,MAAA,GACF,WAAW,MAAM;AACf,eAAS,KAAK,YAAYA,CAAC,GAC3B,IAAI,gBAAgBpB,CAAG;AAAA,IACzB,GAAG,CAAC;AAAA,EACN;AAAA,EACA,aAAa,SAASgvB,GAAUC,GAASkL,IAAW,QAAQlB,IAAW,IAAO;AAC5E,QAAIoB,IAAO,IAAI,YAAY,CAAC;AAC5B,WAAI,UAAU,KAAKF,CAAQ,IACzBE,IAAO,KAAK,UAAUrL,GAAUC,CAAO,IAC9B,UAAU,KAAKkL,CAAQ,IAChCE,IAAO,KAAK,UAAUrL,GAAUC,CAAO,KAElC,UAAU,KAAKkL,CAAQ,MAC1BA,KAAY,SAEdE,IAAO,MAAM,KAAK,eAAerL,GAAUC,GAASgK,CAAQ,IAE1DkB,EAAS,SAAS,KACpB,KAAK,oBAAoBE,GAAMF,CAAQ,GAElCE;AAAA,EACT;AAAA,EACA,OAAO,mBAAmBC,GAAO9K,GAAO;AACtC,UAAM+K,IAAS,IAAI,YAAYD,EAAM,MAAM,GACrCzB,IAAS,IAAI,MAAM0B,EAAO,MAAM,EAAE,KAAK,EAAK,GAC5CxB,IAAOvJ,EAAM,SAAS;AAC5B,QAAI3iB,IAAI;AACR,aAAS9L,IAAI,GAAGA,IAAIg4B,GAAMh4B,KAAK;AAC7B,YAAMi4B,IAAKxJ,EAAM3iB,CAAC,GACZuiB,IAAKI,EAAM3iB,IAAI,CAAC,GAChBwiB,IAAKG,EAAM3iB,IAAI,CAAC;AAEtB,MADAA,KAAK,GACD,EAAA0tB,EAAOvB,CAAE,MAAMuB,EAAOnL,CAAE,KAAKmL,EAAOvB,CAAE,MAAMuB,EAAOlL,CAAE,KAAKkL,EAAOnL,CAAE,MAAMmL,EAAOlL,CAAE,OAGtFwJ,EAAOG,CAAE,IAAI,IACbH,EAAOzJ,CAAE,IAAI,IACbyJ,EAAOxJ,CAAE,IAAI;AAAA,IACf;AACA,WAAOwJ;AAAA,EACT;AAAA;AAAA,EAEA,OAAO,WAAW2B,GAAK;AACrB,QAAI,CAAC,YAAY,OAAOA,CAAG,KAAK,CAAC,MAAM,QAAQA,CAAG,KAAKA,EAAI,SAAS;AAClE,aAAO,EAAE,MAAM,GAAG,YAAY,GAAG,YAAY,EAAA;AAE/C,QAAIC,IAAO;AACX,UAAMC,IAAKC,EAAiBH,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,CAAC,GAC5CI,IAAKD,EAAiBH,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,CAAC;AAClD,aAASz5B,IAAI,GAAGA,IAAIy5B,EAAI,QAAQz5B,KAAK,GAAG;AACtC,YAAMoE,IAAIw1B,EAAiBH,EAAIz5B,CAAC,GAAGy5B,EAAIz5B,IAAI,CAAC,GAAGy5B,EAAIz5B,IAAI,CAAC,CAAC;AACzD,MAAA05B,IAAO,KAAK,IAAIA,GAAMI,GAAU11B,CAAC,CAAC,GAClC21B,GAAUJ,GAAIA,GAAIv1B,CAAC,GACnB41B,GAAUH,GAAIA,GAAIz1B,CAAC;AAAA,IACrB;AACA,UAAM61B,IAAa,CAACN,EAAG,CAAC,GAAGA,EAAG,CAAC,GAAGA,EAAG,CAAC,CAAC,GACjCO,IAAa,CAACL,EAAG,CAAC,GAAGA,EAAG,CAAC,GAAGA,EAAG,CAAC,CAAC;AACvC,WAAO,EAAE,MAAAH,GAAM,YAAAO,GAAY,YAAAC,EAAA;AAAA,EAC7B;AAAA;AAAA;AAAA,EAGA,OAAO,gBAAgBT,GAAKU,GAAM;AAChC,UAAMC,IAAS,CAAA;AACf,QAAIjoB;AACJ,UAAMkoB,IAAoBZ,EAAI;AAC9B,QAAI1kB,GACAC,GACAC,GACAqlB,GACAC,GACAC,GACAC,GACAC,GACAC;AACJ,UAAMC,IAAQ,IAAI,aAAaP,CAAiB,GAC1CQ,IAAaV,EAAK;AACxB,SAAKhoB,IAAM,GAAGA,IAAM0oB,GAAY1oB,KAAO,GAAG;AACxC,MAAAsoB,IAASN,EAAKhoB,CAAG,IAAI,GACrBuoB,IAASP,EAAKhoB,IAAM,CAAC,IAAI,GACzBwoB,IAASR,EAAKhoB,IAAM,CAAC,IAAI;AACzB,YAAM2oB,IAAK,CAACrB,EAAIgB,CAAM,GAAGhB,EAAIgB,IAAS,CAAC,GAAGhB,EAAIgB,IAAS,CAAC,CAAC,GACnDM,IAAK,CAACtB,EAAIiB,CAAM,GAAGjB,EAAIiB,IAAS,CAAC,GAAGjB,EAAIiB,IAAS,CAAC,CAAC,GACnDM,IAAK,CAACvB,EAAIkB,CAAM,GAAGlB,EAAIkB,IAAS,CAAC,GAAGlB,EAAIkB,IAAS,CAAC,CAAC;AACzD,MAAA5lB,IAAKgmB,EAAG,CAAC,IAAID,EAAG,CAAC,GACjB9lB,IAAK+lB,EAAG,CAAC,IAAID,EAAG,CAAC,GACjB7lB,IAAK8lB,EAAG,CAAC,IAAID,EAAG,CAAC,GACjBR,IAAKU,EAAG,CAAC,IAAIF,EAAG,CAAC,GACjBP,IAAKS,EAAG,CAAC,IAAIF,EAAG,CAAC,GACjBN,IAAKQ,EAAG,CAAC,IAAIF,EAAG,CAAC,GACjBV,EAAO,CAAC,IAAIG,IAAKtlB,IAAKulB,IAAKxlB,GAC3BolB,EAAO,CAAC,IAAII,IAAKzlB,IAAKulB,IAAKrlB,GAC3BmlB,EAAO,CAAC,IAAIE,IAAKtlB,IAAKulB,IAAKxlB,GAC3B6lB,EAAMH,CAAM,KAAKL,EAAO,CAAC,GACzBQ,EAAMH,IAAS,CAAC,KAAKL,EAAO,CAAC,GAC7BQ,EAAMH,IAAS,CAAC,KAAKL,EAAO,CAAC,GAC7BQ,EAAMF,CAAM,KAAKN,EAAO,CAAC,GACzBQ,EAAMF,IAAS,CAAC,KAAKN,EAAO,CAAC,GAC7BQ,EAAMF,IAAS,CAAC,KAAKN,EAAO,CAAC,GAC7BQ,EAAMD,CAAM,KAAKP,EAAO,CAAC,GACzBQ,EAAMD,IAAS,CAAC,KAAKP,EAAO,CAAC,GAC7BQ,EAAMD,IAAS,CAAC,KAAKP,EAAO,CAAC;AAAA,IAC/B;AACA,SAAKjoB,IAAM,GAAGA,IAAMkoB,GAAmBloB,KAAO,GAAG;AAC/C,MAAAioB,EAAO,CAAC,IAAI,KAAKQ,EAAMzoB,CAAG,GAC1BioB,EAAO,CAAC,IAAI,KAAKQ,EAAMzoB,IAAM,CAAC,GAC9BioB,EAAO,CAAC,IAAI,KAAKQ,EAAMzoB,IAAM,CAAC;AAC9B,UAAIrN,IAAMs1B,EAAO,CAAC,IAAIA,EAAO,CAAC,IAAIA,EAAO,CAAC,IAAIA,EAAO,CAAC,IAAIA,EAAO,CAAC,IAAIA,EAAO,CAAC;AAC9E,MAAIt1B,IAAM,MACRA,IAAM,IAAI,KAAK,KAAKA,CAAG,GACvBs1B,EAAO,CAAC,KAAKt1B,GACbs1B,EAAO,CAAC,KAAKt1B,GACbs1B,EAAO,CAAC,KAAKt1B,IAEf81B,EAAMzoB,CAAG,IAAIioB,EAAO,CAAC,GACrBQ,EAAMzoB,IAAM,CAAC,IAAIioB,EAAO,CAAC,GACzBQ,EAAMzoB,IAAM,CAAC,IAAIioB,EAAO,CAAC;AAAA,IAC3B;AACA,WAAOQ;AAAA,EACT;AACF,GAQIK,GAAWC,IAAQC,IAAaC,IAAqBC,IACrDC,KAAM,MAAM;AAAA,EACd,YAAYtC,GAAa;AACvB,IAAA5d,GAAa,MAAM6f,CAAS,GAC5B7f,GAAa,MAAM8f,IAAQ,CAAC,GAC5B9f,GAAa,MAAM+f,IAAa,EAAE,GAClC/f,GAAa,MAAMggB,IAAqB,EAAE,GAC1ChgB,GAAa,MAAMigB,EAAsB,GACzC7f,GAAa,MAAMyf,GAAW,IAAI,SAASjC,CAAW,CAAC,GACvD,KAAK,KAAA;AAAA,EACP;AAAA,EACA,MAAM,QAAQhuB,GAAO;AACnB,UAAMnM,IAAS,IAAI,WAAWgd,EAAa,MAAMof,CAAS,EAAE,OAAO,MAAMjwB,EAAM,UAAUA,EAAM,WAAWA,EAAM,cAAc,CAAC;AAC/H,QAAIA,EAAM,sBAAsB;AAC9B,aAAOnM;AACT,QAAWmM,EAAM,sBAAsB,GAAG;AACxC,YAAMsN,IAAS,IAAI,oBAAoB,aAAa,GAC9CC,IAASD,EAAO,SAAS,UAAA;AAC/B,MAAAC,EAAO,MAAM1Z,CAAM,EAAE,MAAM,QAAQ,KAAK;AACxC,YAAM2Z,IAAeD,EAAO,MAAA,EAAQ,MAAM,QAAQ,KAAK,GACjDxZ,IAAW,IAAI,SAASuZ,EAAO,QAAQ,GACvC9F,IAAS,IAAI,WAAW,MAAMzT,EAAS,aAAa;AAC1D,mBAAMyZ,GACChG;AAAA,IACT;AACA,UAAM,IAAI,MAAM,mCAAmCxH,EAAM,iBAAiB,EAAE;AAAA,EAC9E;AAAA,EACA,OAAO;AACL,WAAO,CAAC6Q,EAAa,MAAMwf,EAAsB,KAAKxf,EAAa,MAAMqf,EAAM,IAAIrf,EAAa,MAAMof,CAAS,EAAE,cAAY;AAC3H,YAAMM,IAAY1f,EAAa,MAAMof,CAAS,EAAE,UAAUpf,EAAa,MAAMqf,EAAM,GAAG,EAAI;AAC1F,UAAIK,MAAc,UAAU;AAC1B,cAAMvwB,IAAQ,KAAK,cAAc6Q,EAAa,MAAMqf,EAAM,CAAC;AAC3D,QAAAlwB,EAAM,UAAU,KAAK,QAAQ,KAAK,MAAMA,CAAK,GAC7C6Q,EAAa,MAAMsf,EAAW,EAAE,KAAKnwB,CAAK;AAC1C,cAAMwwB,KAAqBxwB,EAAM,iBAAiB,OAAO;AAEzD,YADAA,EAAM,WAAW6Q,EAAa,MAAMqf,EAAM,IAAI,KAAKlwB,EAAM,iBAAiBA,EAAM,aAC5EA,EAAM,mBAAmB,KAAKwwB,GAAmB;AACnD,cAAIC,IAAYzwB,EAAM;AACtB,iBAAOywB,IAAY,MAAM5f,EAAa,MAAMof,CAAS,EAAE,cAAY;AAEjE,gBAD0Bpf,EAAa,MAAMof,CAAS,EAAE,UAAUQ,GAAW,EAAI,MACvD,aACT5f,EAAa,MAAMof,CAAS,EAAE,UAAUQ,IAAY,IAAI,EAAI,MAAM,OACrE;AACV,cAAAA,KAAa;AACb;AAAA,YACF;AAEF,YAAAA;AAAA,UACF;AACA,UAAAzwB,EAAM,MAAM6Q,EAAa,MAAMof,CAAS,EAAE,UAAUQ,GAAW,EAAI,GACnEzwB,EAAM,iBAAiB6Q,EAAa,MAAMof,CAAS,EAAE,UAAUQ,IAAY,GAAG,EAAI,GAClFzwB,EAAM,mBAAmB6Q,EAAa,MAAMof,CAAS,EAAE,UAAUQ,IAAY,GAAG,EAAI,GACpFjgB,GAAa,MAAM0f,IAAQO,IAAY,EAAE;AAAA,QAC3C;AACE,UAAAjgB,GAAa,MAAM0f,IAAQlwB,EAAM,WAAWA,EAAM,cAAc;AAAA,MAEpE,WAAWuwB,MAAc,UAAU;AACjC,cAAMvwB,IAAQ,KAAK,qBAAqB6Q,EAAa,MAAMqf,EAAM,CAAC;AAClE,QAAArf,EAAa,MAAMuf,EAAmB,EAAE,KAAKpwB,CAAK,GAClDwQ,GAAa,MAAM0f,IAAQrf,EAAa,MAAMqf,EAAM,KAAK,KAAKlwB,EAAM,iBAAiBA,EAAM,cAAcA,EAAM,kBAAkB;AAAA,MACnI,WAAWuwB,MAAc,WAAW;AAClC,QAAA/f,GAAa,MAAM6f,IAAwB,KAAK,wBAAwBxf,EAAa,MAAMqf,EAAM,CAAC,CAAC;AACnG;AAAA,MACF,WAAWK,MAAc,WAAW;AAClC,QAAA/f,GAAa,MAAM6f,IAAwB,KAAK,0BAA0Bxf,EAAa,MAAMqf,EAAM,CAAC,CAAC;AACrG;AAAA,MACF,OAAO;AACL,gBAAQ,MAAM,8BAA8BK,EAAU,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,CAAC,aAAa1f,EAAa,MAAMqf,EAAM,CAAC,EAAE;AAC5H;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,cAAcxzB,GAAQ;AACpB,QAAIg0B,IAAiB7f,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI,GAC1Ei0B,IAAmB9f,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAChF,UAAMk0B,IAAiB/f,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI,GAC1Em0B,IAAchgB,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI,GACvEo0B,IAAcp0B,IAAS,KAAKk0B;AAElC,QADc,KAAK,WAAWE,GAAaD,CAAW,GAClDH,MAAmB,cAAcC,MAAqB,YAAY;AACpE,UAAII,IAAcD,GACdE,IAAa;AACjB,aAAOD,IAAcD,IAAcD,IAAc,KAAG;AAClD,cAAMI,IAAiBpgB,EAAa,MAAMof,CAAS,EAAE,UAAUc,GAAa,EAAI,GAC1EG,IAAcrgB,EAAa,MAAMof,CAAS,EAAE,UAAUc,IAAc,GAAG,EAAI;AAEjF,YADAA,KAAe,GACXE,MAAmB;AACrB,cAAIC,KAAe,IAAI;AACrB,YAAAP,IAAmB,OAAO9f,EAAa,MAAMof,CAAS,EAAE,aAAac,GAAa,EAAI,CAAC,GACvFA,KAAe,GACfL,IAAiB,OAAO7f,EAAa,MAAMof,CAAS,EAAE,aAAac,GAAa,EAAI,CAAC,GACrFC,IAAa;AACb;AAAA,UACF;AACE,kBAAM,IAAI;AAAA,cACR,6EAA6EE,CAAW;AAAA,YAAA;AAI9F,QAAAH,KAAeG;AAAA,MACjB;AACA,UAAI,CAACF;AACH,cAAM,IAAI,MAAM,yDAAyD;AAAA,IAE7E;AACA,WAAO;AAAA,MACL,WAAW,KAAK,WAAWt0B,GAAQ,CAAC;AAAA,MACpC,SAASmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,GAAG,EAAI;AAAA,MACjE,gBAAgBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,GAAG,EAAI;AAAA,MACxE,mBAAmBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,GAAG,EAAI;AAAA,MAC3E,kBAAkBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MAC3E,kBAAkBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MAC3E,KAAKmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MAC9D,gBAAAg0B;AAAA,MACA,kBAAAC;AAAA,MACA,gBAAAC;AAAA,MACA,aAAAC;AAAA,MACA,UAAU,KAAK,WAAWn0B,IAAS,IAAIk0B,CAAc;AAAA,MACrD,OAAO,KAAK,WAAWl0B,IAAS,KAAKk0B,GAAgBC,CAAW;AAAA,IAAA;AAAA,EAEpE;AAAA,EACA,qBAAqBn0B,GAAQ;AAC3B,WAAO;AAAA,MACL,gBAAgBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,GAAG,EAAI;AAAA,MACxE,eAAemU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,GAAG,EAAI;AAAA,MACvE,gBAAgBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MACzE,aAAamU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MACtE,mBAAmBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MAC5E,YAAYmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MACrE,oBAAoBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MAC7E,oBAAoBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MAC7E,QAAQmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MACjE,UAAU,KAAK,WAAWA,IAAS,IAAImU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI,CAAC;AAAA,IAAA;AAAA,EAErG;AAAA,EACA,wBAAwBA,GAAQ;AAC9B,UAAMy0B,IAAgBtgB,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAC/E,WAAO;AAAA,MACL,eAAemU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,GAAG,EAAI;AAAA,MACvE,2BAA2BmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,GAAG,EAAI;AAAA,MACnF,yCAAyCmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,GAAG,EAAI;AAAA,MACjG,+BAA+BmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MACxF,sBAAsBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MAC/E,wBAAwBmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MACjF,eAAAy0B;AAAA,MACA,SAAS,KAAK,WAAWz0B,IAAS,IAAIy0B,CAAa;AAAA,IAAA;AAAA,EAEvD;AAAA,EACA,0BAA0Bz0B,GAAQ;AAChC,UAAMy0B,IAAgB,OAAOtgB,EAAa,MAAMof,CAAS,EAAE,aAAavzB,IAAS,GAAG,EAAI,CAAC;AACzF,WAAO;AAAA,MACL,eAAemU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MACxE,2BAA2BmU,EAAa,MAAMof,CAAS,EAAE,UAAUvzB,IAAS,IAAI,EAAI;AAAA,MACpF,yCAAyC,OAAOmU,EAAa,MAAMof,CAAS,EAAE,aAAavzB,IAAS,IAAI,EAAI,CAAC;AAAA,MAC7G,+BAA+B,OAAOmU,EAAa,MAAMof,CAAS,EAAE,aAAavzB,IAAS,IAAI,EAAI,CAAC;AAAA,MACnG,sBAAsB,OAAOmU,EAAa,MAAMof,CAAS,EAAE,aAAavzB,IAAS,IAAI,EAAI,CAAC;AAAA,MAC1F,wBAAwB,OAAOmU,EAAa,MAAMof,CAAS,EAAE,aAAavzB,IAAS,IAAI,EAAI,CAAC;AAAA,MAC5F,eAAAy0B;AAAA,MACA,SAAS;AAAA,IAAA;AAAA,EAEb;AAAA,EACA,WAAWz0B,GAAQ3B,GAAQ;AACzB,WAAO,MAAM,KAAK,EAAE,QAAAA,EAAA,GAAU,CAACsD,GAAGrJ,MAAM,OAAO,aAAa6b,EAAa,MAAMof,CAAS,EAAE,SAASvzB,IAAS1H,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE;AAAA,EAC1H;AAAA,EACA,IAAI,UAAU;AACZ,WAAO6b,EAAa,MAAMsf,EAAW;AAAA,EACvC;AACF;AACAF,wBAAgB,QAAA;AAChBC,yBAAa,QAAA;AACbC,yBAAkB,QAAA;AAClBC,yBAA0B,QAAA;AAC1BC,yBAA6B,QAAA;AAC7B,IAAIe,IAAc,MAAMC,GAAa;AAAA,EACnC,OAAO,oBAAoBrD,GAAa;AACtC,UAAMpc,IAAQ,IAAI,WAAWoc,CAAW;AACxC,WAAOqD,GAAa,WAAWzf,CAAK;AAAA,EACtC;AAAA,EACA,aAAa,WAAW1L,GAAM;AAC5B,UAAMmH,IAASnH,EAAK,CAAC,MAAM,MAAMA,EAAK,CAAC,MAAM,OAAOA,EAAK,CAAC,MAAM,IAAI,SAASA,EAAK,CAAC,MAAM,QAAQA,EAAK,CAAC,MAAM,KAAKA,EAAK,CAAC,MAAM,MAAMA,EAAK,CAAC,MAAM,OAAOA,EAAK,CAAC,MAAM,OAAO,YAAY,eAChLoH,IAAS,IAAI,oBAAoBD,CAAM,GACvCE,IAASD,EAAO,SAAS,UAAA;AAC/B,IAAAC,EAAO,MAAMrH,CAAI,EAAE,MAAM,QAAQ,KAAK;AACtC,UAAMsH,IAAeD,EAAO,MAAA,EAAQ,MAAM,QAAQ,KAAK,GACjDxZ,IAAW,IAAI,SAASuZ,EAAO,QAAQ,GACvC9F,IAAS,IAAI,WAAW,MAAMzT,EAAS,aAAa;AAC1D,iBAAMyZ,GACChG;AAAA,EACT;AAAA,EACA,aAAa,mBAAmBtB,GAAM;AACpC,UAAMorB,IAAe,MAAMD,GAAa,WAAWnrB,CAAI;AACvD,WAAOorB,EAAa,OAAO,MAAMA,EAAa,YAAYA,EAAa,aAAaA,EAAa,UAAU;AAAA,EAC7G;AAAA,EACA,aAAa,UAAUz9B,GAAQ09B,IAAgB,IAAO;AACpD,QAAIz3B,IAAMjG,EAAO;AACjB,QAAIiG,IAAM;AACR,YAAM,IAAI,MAAM,0CAA0CjG,EAAO,UAAU;AAE7E,QAAIO,IAAS,IAAI,SAASP,CAAM,GAC5B29B,IAAQp9B,EAAO,UAAU,GAAG,EAAI,GAChCq9B,IAAU59B;AACd,QAAI29B,MAAU,SAASA,MAAU,MAAM;AACrC,YAAME,IAAM,MAAM,KAAK,WAAW,IAAI,WAAW79B,CAAM,CAAC;AACxD,MAAAO,IAAS,IAAI,SAASs9B,EAAI,MAAM,GAChCF,IAAQp9B,EAAO,UAAU,GAAG,EAAI,GAChCq9B,IAAUC,EAAI,QACd53B,IAAM23B,EAAQ;AAAA,IAChB;AACA,UAAME,IAAc,IAAI,YAAY,OAAO,GACrC/f,IAAQ,IAAI,WAAW6f,CAAO;AACpC,QAAI3tB,IAAM;AACV,UAAM8tB,IAAM,CAAA;AACZ,aAASC,EAAaz4B,GAAG;AACvB,aAAO,KAAK,MAAMA,IAAI,EAAE,IAAI;AAAA,IAC9B;AACA,aAAS04B,EAAUC,GAAaC,GAAeC,GAAa;AAC1D,YAAMlrB,IAAY,IAAI,WAAW6K,EAAM,SAASogB,GAAeC,CAAW,CAAC;AAC3E,aAAIF,MAAgB,IACX,IAAI,aAAahrB,EAAU,MAAM,IAEtCgrB,MAAgB,IACX,IAAI,WAAWhrB,EAAU,MAAM,IAEpCgrB,MAAgB,IACX,IAAI,WAAWhrB,EAAU,MAAM,IAEpCgrB,MAAgB,IACX,IAAI,YAAYhrB,EAAU,MAAM,IAErCgrB,MAAgB,IACX,IAAI,WAAWhrB,EAAU,MAAM,IAEjC,IAAI,aAAaA,EAAU,MAAM;AAAA,IAC1C;AACA,aAASmrB,IAAW;AAClB,YAAMC,IAAQ/9B,EAAO,UAAU0P,GAAK,EAAI,GAClCsuB,IAAQh+B,EAAO,UAAU0P,IAAM,GAAG,EAAI,GACtCuuB,IAAQj+B,EAAO,UAAU0P,IAAM,GAAG,EAAI,GACtCwuB,IAAQl+B,EAAO,UAAU0P,IAAM,IAAI,EAAI,GACvCyuB,IAASn+B,EAAO,UAAU0P,IAAM,IAAI,EAAI;AAE9C,UADAA,KAAO,IACHwuB,MAAU;AACZ,cAAM,IAAI,MAAM,qDAAqD;AAEvE,YAAME,IAAgBJ,IAAQC;AAC9B,UAAIG,IAAgB;AAClB,cAAM,IAAI,MAAM,wCAAwC;AAE1D,YAAMzrB,IAAY,IAAI,WAAW6K,EAAM,SAAS9N,GAAKA,IAAMyuB,CAAM,CAAC;AAClE,UAAIE,IAAUd,EAAY,OAAO5qB,CAAS,EAAE,OAAO,WAAW,MAAM,EAAE;AACtE,MAAIwqB,MACFkB,IAAUA,EAAQ,WAAW,KAAK,GAAG;AAEvC,YAAMV,IAAcF,EAAaM,CAAK;AACtC,UAAIO,IAAkB;AACtB,UAAIX,KAAe,KAAKA,KAAe;AACrC,QAAAW,IAAkB;AAAA,eACTX,KAAe,KAAKA,KAAe;AAC5C,QAAAW,IAAkB;AAAA,eACTX,MAAgB;AACzB,QAAAW,IAAkB;AAAA,eACTX,MAAgB;AACzB,cAAM,IAAI,MAAM,+BAA+B;AAGjD,UADAjuB,KAAOyuB,GACHJ,IAAQ;AACV,cAAM,IAAI,MAAM,oDAAoD;AAEtE,YAAMQ,IAAS7uB,IAAM0uB,IAAgBE;AACrC,MAAAd,EAAIa,CAAO,IAAIX,EAAUC,GAAajuB,GAAK6uB,CAAM,GACjD7uB,IAAM6uB;AAAA,IACR;AACA,WAAO7uB,IAAM,KAAKhK;AAChB,MAAAo4B,EAAA;AAEF,WAAON;AAAA,EACT;AAAA;AAAA,EAEA,OAAO,WAAWgB,GAAQ;AACxB,UAAMC,IAAe,KAAKD,CAAM,GAC1B73B,IAAS83B,EAAa,QACtBjhB,IAAQ,IAAI,WAAW7W,CAAM;AACnC,aAAS/F,IAAI,GAAGA,IAAI+F,GAAQ/F;AAC1B,MAAA4c,EAAM5c,CAAC,IAAI69B,EAAa,WAAW79B,CAAC;AAEtC,WAAO4c;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,OAAO,WAAWA,GAAO;AACvB,QAAIghB,IAAS;AACb,UAAME,IAAY,oEACZC,IAAanhB,EAAM,YACnBohB,IAAgBD,IAAa,GAC7BE,IAAaF,IAAaC;AAChC,QAAI39B,GAAG0B,GAAG,GAAGqL,GACTxN;AACJ,aAASI,IAAI,GAAGA,IAAIi+B,GAAYj+B,IAAIA,IAAI;AACtC,MAAAJ,IAAQgd,EAAM5c,CAAC,KAAK,KAAK4c,EAAM5c,IAAI,CAAC,KAAK,IAAI4c,EAAM5c,IAAI,CAAC,GACxDK,KAAKT,IAAQ,aAAa,IAC1BmC,KAAKnC,IAAQ,WAAW,IACxB,KAAKA,IAAQ,SAAS,GACtBwN,IAAIxN,IAAQ,IACZg+B,KAAUE,EAAUz9B,CAAC,IAAIy9B,EAAU/7B,CAAC,IAAI+7B,EAAU,CAAC,IAAIA,EAAU1wB,CAAC;AAEpE,WAAI4wB,MAAkB,KACpBp+B,IAAQgd,EAAMqhB,CAAU,GACxB59B,KAAKT,IAAQ,QAAQ,GACrBmC,KAAKnC,IAAQ,MAAM,GACnBg+B,KAAUE,EAAUz9B,CAAC,IAAIy9B,EAAU/7B,CAAC,IAAI,QAC/Bi8B,MAAkB,MAC3Bp+B,IAAQgd,EAAMqhB,CAAU,KAAK,IAAIrhB,EAAMqhB,IAAa,CAAC,GACrD59B,KAAKT,IAAQ,UAAU,IACvBmC,KAAKnC,IAAQ,SAAS,GACtB,KAAKA,IAAQ,OAAO,GACpBg+B,KAAUE,EAAUz9B,CAAC,IAAIy9B,EAAU/7B,CAAC,IAAI+7B,EAAU,CAAC,IAAI,MAElDF;AAAA,EACT;AAAA;AAAA,EAEA,OAAO,SAASM,GAASC,GAAUC,GAAa;AAC9C,UAAM/9B,IAAI,SAAS,cAAc,GAAG,GAC9Bg+B,IAAe,MAAM,QAAQH,CAAO,IAAIA,IAAU,CAACA,CAAO,GAC1DI,IAAO,IAAI,KAAKD,GAAc,EAAE,MAAMD,GAAa;AACzD,IAAA/9B,EAAE,OAAO,IAAI,gBAAgBi+B,CAAI,GACjCj+B,EAAE,WAAW89B,GACb99B,EAAE,MAAA;AAAA,EACJ;AAAA,EACA,OAAO,cAAci+B,GAAM;AACzB,WAAO,IAAI,QAAQ,CAAC/jB,GAASgkB,MAAW;AACtC,YAAMn/B,IAAS,IAAI,WAAA;AACnB,MAAAA,EAAO,SAAS,MAAM;AACpB,QAAAmb,EAAQnb,EAAO,MAAM;AAAA,MACvB,GACAA,EAAO,UAAUm/B,GACjBn/B,EAAO,kBAAkBk/B,CAAI;AAAA,IAC/B,CAAC;AAAA,EACH;AAAA,EACA,OAAO,aAAajF,GAAM;AACxB,WAAO,IAAI,QAAQ,CAAC9e,MAAY;AAC9B,YAAMnb,IAAS,IAAI,WAAA;AACnB,MAAAA,EAAO,YAAY,MAAMmb,EAAQnb,EAAO,MAAM,GAC9CA,EAAO,cAAci6B,CAAI;AAAA,IAC3B,CAAC;AAAA,EACH;AAAA,EACA,aAAa,uBAAuBuE,GAAQ;AAC1C,UAAMY,IAAa,KAAKZ,CAAM,GACxBa,IAAmB,IAAI,YAAYD,EAAW,MAAM,GACpDE,IAAiB,IAAI,WAAWD,CAAgB;AACtD,aAASz+B,IAAI,GAAGA,IAAIw+B,EAAW,QAAQx+B;AACrC,MAAA0+B,EAAe1+B,CAAC,IAAIw+B,EAAW,WAAWx+B,CAAC;AAE7C,WAAOq8B,GAAa,sBAAsBqC,CAAc;AAAA,EAC1D;AAAA,EACA,aAAa,uBAAuB/pB,GAAQ;AAC1C,UAAMxG,IAAM,MAAMkuB,GAAa,4BAA4B1nB,CAAM;AACjE,WAAO0nB,GAAa,WAAW,IAAI,WAAWluB,CAAG,CAAC;AAAA,EACpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,OAAO,QAAQ+D,GAAKysB,GAAQ;AAC1B,QAAIA,GAAQ;AACV,YAAMC,IAAM,IAAI,WAAW1sB,EAAI,MAAM;AACrC,eAASlS,IAAI,GAAGA,IAAIkS,EAAI,QAAQ,EAAElS;AAChC,QAAA4+B,EAAI5+B,CAAC,IAAIkS,EAAI,WAAWlS,CAAC;AAE3B,aAAO4+B;AAAA,IACT;AACA,UAAMnyB,IAAIyF,EAAI,QACRzE,IAAM,CAACrJ,GAAGW,GAAG2I,QAIbA,KAAK,QAAQA,IAAItJ,EAAE,YACrBsJ,IAAItJ,EAAE,SAED,IAAI,WAAWA,EAAE,SAASW,GAAG2I,CAAC,CAAC;AAExC,QAAImxB,IAAK,IAAI,WAAW3sB,EAAI,UAAUA,EAAI,UAAU,EAAE,GAClD4sB,IAAK;AACT,UAAMh3B,IAAI,CAAC1D,MAAM;AACf,MAAAy6B,EAAGC,GAAI,IAAI16B;AAAA,IACb;AACA,aAASpE,IAAI,GAAGA,IAAIyM,GAAG,EAAEzM,GAAG;AAC1B,UAAI8+B,IAAK,IAAID,EAAG,QAAQ;AACtB,cAAMjvB,IAAI,IAAI,WAAWkvB,IAAK,KAAKryB,IAAIzM,KAAK,EAAE;AAC9C,QAAA4P,EAAE,IAAIivB,CAAE,GACRA,IAAKjvB;AAAA,MACP;AACA,UAAI,IAAIsC,EAAI,WAAWlS,CAAC;AACxB,MAAI,IAAI,OAAO2+B,IACb72B,EAAE,CAAC,IACM,IAAI,QACbA,EAAE,MAAM,KAAK,CAAC,GACdA,EAAE,MAAM,IAAI,EAAE,MACL,IAAI,SAAS,IAAI,OAC1B,IAAI,SAAS,IAAI,WAAcoK,EAAI,WAAW,EAAElS,CAAC,IAAI,MACrD8H,EAAE,MAAM,KAAK,EAAE,GACfA,EAAE,MAAM,KAAK,KAAK,EAAE,GACpBA,EAAE,MAAM,KAAK,IAAI,EAAE,GACnBA,EAAE,MAAM,IAAI,EAAE;AAAA,IAQlB;AACA,WAAO2F,EAAIoxB,GAAI,GAAGC,CAAE;AAAA,EACtB;AAAA,EACA,aAAa,SAAS5tB,GAAMmH,IAAS,QAAQ;AAC3C,UAAMC,IAAS,IAAI,kBAAkBD,CAAM,GACrCE,IAASD,EAAO,SAAS,UAAA;AAC/B,IAAAC,EAAO,MAAMrH,CAAI,EAAE,MAAM,QAAQ,KAAK;AACtC,UAAMsH,IAAeD,EAAO,MAAA,EAAQ,MAAM,QAAQ,KAAK,GAEjD/F,IAAS,MADE,IAAI,SAAS8F,EAAO,QAAQ,EACf,YAAA;AAC9B,iBAAME,GACChG;AAAA,EACT;AAAA,EACA,aAAa,4BAA4BusB,GAAO;AAC9C,UAAMC,IAAa,KAAK,QAAQD,CAAK;AACrC,WAAO,MAAM,KAAK,SAASC,CAAU;AAAA,EACvC;AAAA,EACA,OAAO,wBAAwBngC,GAAQ;AACrC,QAAIA,KAAUA,EAAO,YAAY;AAC/B,YAAM6K,IAAM,IAAI,WAAW7K,CAAM;AAEjC,cADoB6K,EAAI,CAAC,KAAK,IAAIA,EAAI,CAAC,OAChB;AAAA,IACzB;AACE,aAAO;AAAA,EAEX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,OAAO,UAAUuE,GAAK0wB,GAAQ;AAC5B,QAAIA,GAAQ;AACV,UAAInyB,IAAI;AACR,eAASxM,IAAI,GAAGA,IAAIiO,EAAI,QAAQjO,KAAK;AACnC,QAAAwM,KAAK,OAAO,aAAa,MAAM,MAAMyB,EAAI,SAASjO,GAAGA,IAAI,KAAK,CAAC;AAEjE,aAAOwM;AAAA,IACT,OAAO;AACL,YAAMiB,IAAM,CAACrJ,GAAG66B,GAAIvxB,QACduxB,KAAM,QAAQA,IAAK,OACrBA,IAAK,KAEHvxB,KAAK,QAAQA,IAAItJ,EAAE,YACrBsJ,IAAItJ,EAAE,SAED,IAAI,WAAWA,EAAE,SAAS66B,GAAIvxB,CAAC,CAAC,IAEnCwxB,IAAQ,CAAC9xB,MAAM;AACnB,iBAAS+xB,IAAK,IAAIn/B,IAAI,OAAO;AAC3B,cAAI0E,IAAI0I,EAAEpN,GAAG;AACb,gBAAM4L,KAAMlH,IAAI,QAAQA,IAAI,QAAQA,IAAI;AACxC,cAAI1E,IAAI4L,IAAKwB,EAAE;AACb,mBAAO,EAAE,GAAG+xB,GAAI,GAAG1xB,EAAIL,GAAGpN,IAAI,CAAC,EAAA;AAEjC,UAAK4L,IAEMA,MAAO,KAChBlH,MAAMA,IAAI,OAAO,MAAM0I,EAAEpN,GAAG,IAAI,OAAO,MAAMoN,EAAEpN,GAAG,IAAI,OAAO,IAAIoN,EAAEpN,GAAG,IAAI,MAAM,OAChFm/B,KAAM,OAAO,aAAa,QAAQz6B,KAAK,IAAI,QAAQA,IAAI,IAAI,KAClDkH,IAAK,IACduzB,KAAM,OAAO,cAAcz6B,IAAI,OAAO,IAAI0I,EAAEpN,GAAG,IAAI,EAAE,IAErDm/B,KAAM,OAAO,cAAcz6B,IAAI,OAAO,MAAM0I,EAAEpN,GAAG,IAAI,OAAO,IAAIoN,EAAEpN,GAAG,IAAI,EAAE,IAP3Em/B,KAAM,OAAO,aAAaz6B,CAAC;AAAA,QAS/B;AAAA,MACF,GACM,EAAE,GAAAK,GAAG,GAAAyH,MAAM0yB,EAAMjxB,CAAG;AAC1B,UAAIzB,EAAE;AACJ,cAAM,IAAI,MAAM,6CAA6C;AAE/D,aAAOzH;AAAA,IACT;AAAA,EACF;AAAA,EACA,aAAa,sBAAsBlG,GAAQ;AACzC,UAAMy9B,IAAe,MAAM,KAAK,WAAW,IAAI,WAAWz9B,CAAM,CAAC;AACjE,WAAO,KAAK,UAAUy9B,CAAY;AAAA,EACpC;AAAA,EACA,OAAO,eAAej8B,GAAG0B,GAAG;AAC1B,WAAOsG,GAAWhI,GAAG0B,CAAC;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,OAAO,MAAM8J,GAAO6a,GAAMhJ,GAAM;AAC9B,WAAO,MAAM,KAAK,EAAE,SAASgJ,IAAO7a,KAAS6R,IAAO,EAAA,GAAK,CAACrU,GAAGrJ,MAAM6L,IAAQ7L,IAAI0d,CAAI;AAAA,EACrF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,OAAO,YAAY0hB,GAASC,GAAW;AACrC,UAAMC,IAAM,CAACD,KAAa,KAAK,KAAK,MAC9BE,KAASH,IAAU,MAAM,OAAO,KAAK,KAAK,MAC1CI,IAAM,CAAC,KAAK,IAAIF,CAAG,IAAI,KAAK,IAAIC,CAAK,GAAG,KAAK,IAAID,CAAG,IAAI,KAAK,IAAIC,CAAK,GAAG,KAAK,IAAID,CAAG,CAAC,GACtFx6B,IAAM,KAAK,KAAK06B,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,CAAC;AACzE,WAAI16B,KAAO,MAGX06B,EAAI,CAAC,KAAK16B,GACV06B,EAAI,CAAC,KAAK16B,GACV06B,EAAI,CAAC,KAAK16B,IACH06B;AAAA,EACT;AAAA,EACA,OAAO,OAAOC,GAAKC,GAAK;AACtB,UAAMC,IAAQC,GAAYF,CAAG;AAC7BG,IAAAA,GAAgBF,GAAOA,CAAK;AAC5B,UAAM7wB,IAAMgxB,GAAiBL,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAG,CAAC;AACtDM,WAAAA,GAAoBjxB,GAAKA,GAAK6wB,CAAK,GACtBK,EAAiBlxB,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,CAAC;AAAA,EAEtD;AACF,GAGImxB,KAAiB7O,GACjB8O,KAAgB,MAAMC,GAAe;AAAA;AAAA,EAEvC,OAAO,UAAUthC,GAAQ;AACvB,UAAMiG,IAAMjG,EAAO;AACnB,QAAIiG,IAAM;AACR,YAAM,IAAI,MAAM,8CAA8CA,CAAG;AAEnE,UAAM1F,IAAS,IAAI,SAASP,CAAM,GAC5B+d,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAIiQ,IAAM;AACV,aAASsxB,IAAU;AACjB,aAAOtxB,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAEF,YAAMuxB,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAGF,aADAA,KACIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,YAAA,EAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC,EAAE,KAAA;AAAA,IACnE;AACA,QAAIwxB,IAAOF,EAAA;AACX,aAASG,EAAeC,GAAS;AAC/B,YAAMC,IAAOH,EAAK,QAAQE,CAAO;AACjC,UAAIC,IAAO;AACT,eAAO;AAET,YAAMC,IAAOJ,EAAK,QAAQ,KAAKG,CAAI,IAAI,GACjCE,IAAOL,EAAK,QAAQ,KAAKI,CAAI,GAC7BxuB,IAAMouB,EAAK,MAAMI,GAAMC,CAAI;AACjC,aAAO,SAASzuB,CAAG;AAAA,IACrB;AACA,UAAM0uB,IAAWL,EAAe,WAAW;AAC3C,KAAI,CAACD,EAAK,WAAW,UAAU,KAAKM,IAAW,MAC7CxP,EAAI,KAAK,yCAAyCkP,CAAI;AAExD,QAAIO,IAAM;AACV,UAAMC,IAAY,CAAA;AAClB,IAAAA,EAAU,KAAKD,CAAG;AAClB,UAAMpH,IAAM,CAAA,GACNsH,IAAa,CAAA;AACnB,aAAS/7B,IAAI,GAAGA,IAAI47B,GAAU57B,KAAK;AACjC,MAAAs7B,IAAOF,EAAA;AACP,YAAMY,IAAaT,EAAe,WAAW,GACvCU,IAAYV,EAAe,aAAa,GACxCW,IAAiBZ,EAAK,SAAS,iBAAiB;AACtD,eAAStgC,IAAI,GAAGA,IAAIghC,GAAYhhC,KAAK;AACnC,QAAA8O,KAAO;AACP,cAAMqyB,IAAU/hC,EAAO,UAAU0P,GAAKoyB,CAAc,IAAI;AACxD,QAAApyB,KAAO;AACP,iBAAShD,IAAI,GAAGA,IAAIq1B,GAASr1B;AAC3B,UAAA2tB,EAAI,KAAKr6B,EAAO,WAAW0P,GAAKoyB,CAAc,CAAC,GAC/CpyB,KAAO,GACP2qB,EAAI,KAAK,CAACr6B,EAAO,WAAW0P,GAAKoyB,CAAc,CAAC,GAChDpyB,KAAO,GACP2qB,EAAI,KAAKr6B,EAAO,WAAW0P,GAAKoyB,CAAc,CAAC,GAC/CpyB,KAAO;AAET,QAAA+xB,KAAOM,GACPL,EAAU,KAAKD,CAAG,GAClBE,EAAW,KAAKE,CAAS;AAAA,MAC3B;AACA,MAAAX,IAAOF,EAAA;AAAA,IACT;AACA,UAAMgB,IAAM,CAAA;AACZ,WAAAA,EAAI,KAAK;AAAA,MACP,IAAI;AAAA,MACJ,MAAM,aAAa,KAAKL,CAAU;AAAA,IAAA,CACnC,GACM;AAAA,MACL,KAAK,IAAI,aAAatH,CAAG;AAAA,MACzB,WAAW,IAAI,YAAYqH,CAAS;AAAA,MACpC,KAAAM;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,OAAOviC,GAAQ;AAC1B,QAAIiiC,IAAY,IAAI,YAAY,CAAC,GAC7BrH,IAAM,IAAI,aAAa,CAAC;AAC5B,UAAMmD,IAAM,MAAMR,EAAY,UAAUv9B,CAAM;AAC9C,QAAI,EAAE,kBAAkB+9B;AACtB,YAAM,IAAI,MAAM,yCAAyC;AAE3D,QAAI,EAAE,gBAAgBA;AACpB,YAAM,IAAI,MAAM,uCAAuC;AAEzD,QAAI,EAAE,WAAWA;AACf,YAAM,IAAI,MAAM,kCAAkC;AAEpD,QAAIyE,IAAeC,GAAM;AACzB,UAAMr6B,IAAI21B,EAAI;AACd,IAAAyE,IAAeE;AAAAA,MACbt6B,EAAE,CAAC;AAAA,MACHA,EAAE,CAAC;AAAA,MACHA,EAAE,CAAC;AAAA,MACHA,EAAE,CAAC;AAAA,MACHA,EAAE,CAAC;AAAA,MACHA,EAAE,CAAC;AAAA,MACHA,EAAE,CAAC;AAAA,MACHA,EAAE,CAAC;AAAA,MACHA,EAAE,CAAC;AAAA,MACHA,EAAE,CAAC;AAAA,MACHA,EAAE,EAAE;AAAA,MACJA,EAAE,EAAE;AAAA,MACJA,EAAE,EAAE;AAAA,MACJA,EAAE,EAAE;AAAA,MACJA,EAAE,EAAE;AAAA,MACJA,EAAE,EAAE;AAAA,IAAA,GAENu6B,GAAgBH,GAAcA,CAAY;AAC1C,aAASI,EAASC,GAAO;AACvB,YAAMC,IAAK,IAAI,SAASD,EAAM,MAAM,GAC9B5yB,IAAM,CAAA;AACZ,UAAI8yB,IAAS,GACT5hC,IAAI;AACR,aAAOA,IAAI0hC,EAAM,UAAQ;AACvB,QAAA5yB,EAAI,KAAK9O,CAAC;AACV,cAAM6hC,IAASF,EAAG,UAAU3hC,GAAG,EAAI;AACnC,QAAAA,IAAIA,IAAI6hC,IAAS,IACjBD,KAAUC;AAAA,MACZ;AACA,MAAAf,IAAY,IAAI,YAAYhyB,EAAI,SAAS,CAAC,GAC1C2qB,IAAM,IAAI,aAAamI,CAAM;AAC7B,UAAIf,IAAM;AACV,eAAS1H,IAAK,GAAGA,IAAKrqB,EAAI,QAAQqqB,KAAM;AACtC,QAAA2H,EAAU3H,CAAE,IAAI0H,IAAM;AACtB,YAAI,IAAI/xB,EAAIqqB,CAAE;AACd,cAAM2I,IAAKH,EAAG,UAAU,GAAG,EAAI,IAAI;AACnC,YAAI,IAAIA,EAAG,SAAS,IAAI,GAAG,EAAI,GAC3B5hC,IAAI4hC,EAAG,SAAS,IAAI,GAAG,EAAI,GAC3Br9B,IAAIq9B,EAAG,SAAS,IAAI,IAAI,EAAI;AAChC,aAAK,IACLlI,EAAIoH,GAAK,IAAI,GACbpH,EAAIoH,GAAK,IAAI9gC,GACb05B,EAAIoH,GAAK,IAAIv8B;AACb,iBAASwH,IAAI,GAAGA,KAAKg2B,GAAIh2B;AACvB,cAAI,IAAI61B,EAAG,QAAQ,GAAG,GACtB5hC,IAAIA,IAAI4hC,EAAG,QAAQ,GAAG,GACtBr9B,IAAIA,IAAIq9B,EAAG,QAAQ,GAAG,GACtBlI,EAAIoH,GAAK,IAAI,GACbpH,EAAIoH,GAAK,IAAI9gC,GACb05B,EAAIoH,GAAK,IAAIv8B;AAAA,MAEjB;AACA,eAAS60B,IAAK,GAAGA,IAAK0H,GAAK1H;AACzB,QAAAM,EAAIN,CAAE,IAAIM,EAAIN,CAAE,IAAI;AAEtB,UAAI/0B,IAAI;AACR,eAAS+0B,IAAK,GAAGA,IAAK0H,IAAM,GAAG1H,KAAM;AACnC,cAAMsH,IAAOsB,GAAiBtI,EAAIr1B,CAAC,GAAGq1B,EAAIr1B,IAAI,CAAC,GAAGq1B,EAAIr1B,IAAI,CAAC,GAAG,CAAC;AAC/D49B,QAAAA,GAAoBvB,GAAMA,GAAMY,CAAY,GAC5C5H,EAAIr1B,GAAG,IAAIq8B,EAAK,CAAC,GACjBhH,EAAIr1B,GAAG,IAAIq8B,EAAK,CAAC,GACjBhH,EAAIr1B,GAAG,IAAIq8B,EAAK,CAAC;AAAA,MACnB;AACA,MAAAK,EAAUhyB,EAAI,MAAM,IAAI+xB,IAAM;AAAA,IAChC;AACA,WAAAY,EAAS7E,EAAI,KAAK,GACX;AAAA,MACL,KAAAnD;AAAA,MACA,WAAAqH;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBA,OAAO,mBAAmBmB,GAAQC,GAAQ;AACxC,QAAI,CAAC,MAAM,QAAQA,CAAM,KAAKA,EAAO,WAAW;AAC9C,YAAM,IAAI,MAAM,wEAAwE;AAE1F,aAASC,IAAK,GAAGA,IAAKD,EAAO,QAAQC,KAAM;AACzC,YAAMC,IAAM,OAAOF,EAAOC,CAAE,EAAE,EAAE;AAChC,UAAI,CAACF,EAAOG,CAAG;AACb,cAAM,IAAI,MAAM,uDAAuDA,CAAG,IAAI;AAEhF,UAAI,CAAC,MAAM,QAAQH,EAAOG,CAAG,CAAC;AAC5B,cAAM,IAAI,MAAM,+BAA+BA,CAAG,qBAAqB;AAAA,IAE3E;AACA,UAAMC,IAAe,OAAOH,EAAO,CAAC,EAAE,EAAE,GAClCI,IAAeL,EAAOI,CAAY,GAClCE,IAAW,CAAA,GACXC,wBAA6B,IAAA;AACnC,eAAW90B,KAAK40B,GAAc;AAC5B,UAAI,CAAC50B,KAAK,OAAOA,EAAE,MAAO;AACxB,cAAM,IAAI,MAAM,+CAA+C20B,CAAY,IAAI;AAEjF,UAAIG,EAAO,IAAI90B,EAAE,EAAE;AACjB,cAAM,IAAI,MAAM,sCAAsCA,EAAE,EAAE,eAAe20B,CAAY,IAAI;AAE3F,MAAAG,EAAO,IAAI90B,EAAE,EAAE,GACf60B,EAAS,KAAK70B,EAAE,EAAE;AAAA,IACpB;AACA,QAAI80B,EAAO,SAAS;AAClB,YAAM,IAAI,MAAM,+CAA+CH,CAAY,IAAI;AAEjF,aAASF,IAAK,GAAGA,IAAKD,EAAO,QAAQC,KAAM;AACzC,YAAMC,IAAM,OAAOF,EAAOC,CAAE,EAAE,EAAE,GAC1Bj3B,IAAU+2B,EAAOG,CAAG,GACpBK,wBAA8B,IAAA;AACpC,iBAAW/0B,KAAKxC,GAAS;AACvB,YAAI,CAACwC,KAAK,OAAOA,EAAE,MAAO;AACxB,gBAAM,IAAI,MAAM,+CAA+C00B,CAAG,IAAI;AAExE,QAAAK,EAAQ,IAAI/0B,EAAE,KAAK+0B,EAAQ,IAAI/0B,EAAE,EAAE,KAAK,KAAK,CAAC;AAAA,MAChD;AACA,iBAAW,CAAC6Q,GAAI5W,CAAK,KAAK86B,EAAQ;AAChC,YAAI96B,IAAQ;AACV,gBAAM,IAAI,MAAM,iDAAiD4W,CAAE,eAAe6jB,CAAG,IAAI;AAG7F,UAAIK,EAAQ,SAASD,EAAO;AAC1B,cAAM,IAAI;AAAA,UACR,wDAAwDJ,CAAG,eAAeI,EAAO,IAAI,mBAAmBC,EAAQ,IAAI;AAAA,QAAA;AAGxH,iBAAWz9B,KAAKw9B;AACd,YAAI,CAACC,EAAQ,IAAIz9B,CAAC;AAChB,gBAAM,IAAI,MAAM,8BAA8Bo9B,CAAG,kBAAkBp9B,CAAC,IAAI;AAAA,IAG9E;AACA,UAAMwN,IAAS,CAAA;AACf,eAAWkwB,KAAOH,GAAU;AAC1B,YAAMI,IAAiB,CAAA;AACvB,UAAIC,IAAW;AACf,eAAST,IAAK,GAAGA,IAAKD,EAAO,QAAQC,KAAM;AACzC,cAAMC,IAAM,OAAOF,EAAOC,CAAE,EAAE,EAAE,GAE1BU,IADUZ,EAAOG,CAAG,EACF,OAAO,CAAC10B,MAAMA,EAAE,OAAOg1B,CAAG;AAClD,YAAIG,EAAQ,WAAW;AACrB,gBAAM,IAAI,MAAM,oCAAoCH,CAAG,gBAAgBN,CAAG,IAAI;AAEhF,YAAIS,EAAQ,SAAS;AACnB,gBAAM,IAAI,MAAM,iDAAiDH,CAAG,eAAeN,CAAG,IAAI;AAE5F,cAAMp3B,IAAQ63B,EAAQ,CAAC;AACvB,YAAI73B,EAAM,gBAAgB;AACxB,UAAA23B,EAAe,KAAK33B,EAAM,IAAI,GAC9B43B,KAAY53B,EAAM,KAAK;AAAA;AAEvB,cAAI;AACF,kBAAM83B,IAAO,aAAa,KAAK93B,EAAM,IAAI;AACzC,YAAA23B,EAAe,KAAKG,CAAI,GACxBF,KAAYE,EAAK;AAAA,UACnB,QAAc;AACZ,kBAAM,IAAI,MAAM,6CAA6CJ,CAAG,eAAeN,CAAG,IAAI;AAAA,UACxF;AAAA,MAEJ;AACA,YAAMW,IAAS,IAAI,aAAaH,CAAQ;AACxC,UAAII,IAAM;AACV,iBAAWt5B,KAAOi5B;AAChB,QAAAI,EAAO,IAAIr5B,GAAKs5B,CAAG,GACnBA,KAAOt5B,EAAI;AAEb,MAAA8I,EAAO,KAAK;AAAA,QACV,IAAIkwB;AAAA,QACJ,MAAMK;AAAA;AAAA;AAAA,MAAA,CAGP;AAAA,IACH;AACA,WAAOvwB;AAAA,EACT;AAAA;AAAA;AAAA,EAGA,aAAa,QAAQ3T,GAAQ;AAC3B,aAASokC,EAAclL,GAAQ;AAE7B,YAAMmL,KAAYnL,IAAS,UAAU,IAC/BoL,IAAWpL,IAAS;AAC1B,cAAQA,KAAU,KAAK,KAAK,MAAMmL,IAAWA,MAAa,KAAKC,IAAW,MAAM,QAAW,KAAK,IAAI,GAAGD,IAAW,EAAE,KAAK,IAAIC,IAAW,QAAQ,kBAAkBA,IAAW;AAAA,IAC/K;AACA,QAAIC,IAAO,GACPvC,IAAM,GACNpH,IAAM,IAAI,aAAa,EAAE;AAC7B,UAAMqH,IAAY,CAAA,GACZmB,IAAS,CAAA,GACTC,IAAS,CAAA,GACTd,IAAM,CAAA,GACNiC,IAAM,CAAA;AACZ,QAAI/pB,IAAS,CAAA,GACTgqB,IAAmB;AACvB,UAAMC,IAAM,IAAIjI,GAAIz8B,CAAM;AAC1B,aAASmB,IAAI,GAAGA,IAAIujC,EAAI,QAAQ,QAAQvjC,KAAK;AAC3C,YAAMgL,IAAQu4B,EAAI,QAAQvjC,CAAC;AAC3B,UAAIgL,EAAM,qBAAqB;AAC7B;AAEF,YAAMw4B,IAAQx4B,EAAM,SAAS,MAAM,GAAG,GAChCy4B,IAAQD,EAAM,MAAM,EAAE,EAAE,CAAC;AAC/B,UAAIC,EAAM,WAAW,GAAG;AACtB;AAEF,YAAMC,IAAQF,EAAM,MAAM,EAAE,EAAE,CAAC,GACzBG,IAAQH,EAAM,MAAM,EAAE,EAAE,CAAC,GACzBd,IAAMe,EAAM,MAAM,GAAG,EAAE,CAAC,GACxBvyB,IAAO,MAAMlG,EAAM,QAAA;AACzB,UAAIy4B,EAAM,SAAS,aAAa,GAAG;AACjC,cAAMG,IAAa,IAAI,cAAc,OAAO1yB,CAAI;AAChD,QAAAoI,IAAS,KAAK,MAAMsqB,CAAU;AAC9B;AAAA,MACF;AACA,UAAIC,IAAO,GACPC,IAAO,CAAA;AACX,UAAIL,EAAM,SAAS,SAAS,KAAKA,EAAM,SAAS,QAAQ,GAAG;AACzD,QAAAI,IAAO3yB,EAAK,SAAS,GACrB4yB,IAAO,IAAI,YAAYD,CAAI;AAC3B,cAAME,IAAM,IAAI,YAAY7yB,EAAK,MAAM;AACvC,YAAIpF,IAAI;AACR,iBAASqtB,IAAK,GAAGA,IAAK0K,GAAM1K;AAC1B,UAAA2K,EAAK3K,CAAE,IAAI4K,EAAIj4B,CAAC,GACZi4B,EAAIj4B,IAAI,CAAC,MAAM,MACjBw3B,IAAmB,KAErBx3B,KAAK;AAAA,MAET,WAAW23B,EAAM,SAAS,SAAS;AACjC,QAAAK,IAAO,IAAI,YAAY5yB,EAAK,MAAM;AAAA,eACzBuyB,EAAM,SAAS,SAAS;AACjC,QAAAK,IAAO,IAAI,YAAY5yB,EAAK,MAAM;AAAA,eACzBuyB,EAAM,SAAS,QAAQ;AAChC,QAAAK,IAAO,IAAI,WAAW5yB,EAAK,MAAM;AAAA,eACxBuyB,EAAM,SAAS,QAAQ;AAChC,QAAAK,IAAO,IAAI,WAAW5yB,EAAK,MAAM;AAAA,eACxBuyB,EAAM,SAAS,QAAQ;AAChC,QAAAK,IAAO,IAAI,WAAW5yB,EAAK,MAAM;AAAA,eACxBuyB,EAAM,SAAS,OAAO;AAC/B,QAAAK,IAAO,IAAI,UAAU5yB,EAAK,MAAM;AAAA,eACvBuyB,EAAM,SAAS,UAAU;AAClC,QAAAK,IAAO,IAAI,aAAa5yB,EAAK,MAAM;AAAA,eAC1BuyB,EAAM,SAAS,UAAU;AAClC,QAAAK,IAAO,IAAI,aAAa5yB,EAAK,MAAM;AAAA,eAC1BuyB,EAAM,SAAS,UAAU,GAAG;AACrC,QAAAI,IAAO3yB,EAAK,SAAS,GACrB4yB,IAAO,IAAI,aAAaD,CAAI;AAC5B,cAAMv4B,IAAM,IAAI,YAAY4F,EAAK,MAAM,GACjC0lB,IAAM,IAAI,aAAa,KAAK;AAClC,iBAASuC,IAAK,GAAGA,IAAK,OAAOA;AAC3B,UAAAvC,EAAIuC,CAAE,IAAI8J,EAAc9J,CAAE;AAE5B,iBAASA,IAAK,GAAGA,IAAK0K,GAAM1K;AAC1B,UAAA2K,EAAK3K,CAAE,IAAIvC,EAAItrB,EAAI6tB,CAAE,CAAC;AAAA,MAE1B;AACE;AAGF,UADA0K,IAAOC,EAAK,QACRH,EAAM,SAAS,QAAQ,GAAG;AAC5B,QAAAzB,EAAO,KAAK;AAAA,UACV,IAAIQ;AAAA,UACJ,MAAM,aAAa,KAAKoB,EAAK,OAAO;AAAA,QAAA,CACrC;AACD;AAAA,MACF;AACA,UAAIJ,EAAM,SAAS,KAAK,GAAG;AACzB,cAAM95B,IAAM,OAAO+5B,CAAK;AACxB,QAAK1B,EAAOr4B,CAAG,MACbq4B,EAAOr4B,CAAG,IAAI,CAAA,IAEhBq4B,EAAOr4B,CAAG,EAAE,KAAK;AAAA,UACf,IAAI84B;AAAA,UACJ,MAAM,aAAa,KAAKoB,EAAK,OAAO;AAAA,QAAA,CACrC;AACD;AAAA,MACF;AACA,UAAIH,EAAM,SAAS,KAAK,GAAG;AACzB,QAAAN,EAAI,KAAK;AAAA,UACP,IAAIX;AAAA,UACJ,MAAM,aAAa,KAAKoB,EAAK,OAAO;AAAA,QAAA,CACrC;AACD;AAAA,MACF;AACA,UAAIH,EAAM,SAAS,KAAK,GAAG;AACzB,QAAAvC,EAAI,KAAK;AAAA,UACP,IAAIsB;AAAA,UACJ,MAAM,aAAa,KAAKoB,EAAK,OAAO;AAAA,QAAA,CACrC;AACD;AAAA,MACF;AACA,UAAIL,EAAM,WAAW,UAAU,GAAG;AAChC,QAAAL,IAAOS;AACP,iBAAS1K,IAAK,GAAGA,IAAK0K,GAAM1K;AAC1B,UAAA2H,EAAU3H,CAAE,IAAI2K,EAAK3K,CAAE;AAAA,MAE3B;AACA,MAAIsK,EAAM,WAAW,cAAc,MACjC5C,IAAMgD,GACNpK,IAAM,IAAI,aAAaqK,CAAI;AAAA,IAE/B;AACA,QAAIV,MAAS,KAAKvC,MAAQ;AACxB,YAAM,IAAI,MAAM,oDAAoD;AAEtE,QAAIyC;AACF,YAAM,IAAI,MAAM,gEAAgE;AAElF,QAAIU,IAAM,CAAA;AACV,WAAI9B,EAAO,SAAS,KAAKD,KAAU,OAAO,KAAKA,CAAM,EAAE,SAAS,MAC9D+B,IAAM,KAAK,mBAAmB/B,GAAQC,CAAM,IAE9CpB,EAAUsC,CAAI,IAAIvC,IAAM,GACjB;AAAA,MACL,KAAApH;AAAA,MACA,WAAW,IAAI,YAAYqH,CAAS;AAAA,MACpC,KAAAkD;AAAA,MACA,KAAA5C;AAAA,MACA,KAAAiC;AAAA,MACA,QAAAnB;AAAA,MACA,QAAA5oB;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA,EAGA,OAAO,QAAQza,GAAQolC,IAAU,GAAG;AAElC,UAAMC,IADO,IAAI,YAAY,OAAO,EAAE,OAAOrlC,CAAM,EAChC,MAAM,UAAU,EAAE,OAAO,CAAC4N,MAAMA,EAAE,OAAO,SAAS,CAAC;AACtE,IAAIw3B,KAAW,MACbA,IAAUC,EAAM;AAElB,UAAMJ,IAAO,IAAI,aAAaG,CAAO;AACrC,aAASjkC,IAAI,GAAGA,IAAIikC,KAAWjkC,IAAIkkC,EAAM,QAAQlkC,KAAK;AACpD,YAAMoE,IAAI,WAAW8/B,EAAMlkC,CAAC,EAAE,MAAM;AACpC,MAAA8jC,EAAK9jC,CAAC,IAAI,OAAO,SAASoE,CAAC,IAAIA,IAAI;AAAA,IACrC;AACA,WAAO0/B;AAAA,EACT;AAAA;AAAA;AAAA,EAGA,OAAO,QAAQjlC,GAAQslC,IAAS,GAAG;AACjC,UAAML,IAAO,IAAI,aAAaK,CAAM,GAC9Br/B,IAAMjG,EAAO;AACnB,QAAIiG,IAAM;AACR,YAAM,IAAI,MAAM,uCAAuCA,CAAG;AAE5D,UAAM8X,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAIiQ,IAAM;AACV,aAASsxB,IAAU;AACjB,aAAOtxB,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAEF,YAAMuxB,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAGF,aADAA,KACIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,cAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC;AAAA,IACjE;AACA,QAAIwxB,IAAOF,EAAA;AACX,QAAI,CAACE,EAAK,SAAS,sBAAsB;AACvC,YAAM,IAAI,MAAM,sBAAsB;AAExC,QAAI54B,IAAS;AACb,WAAOoH,IAAMhK,KAAO,CAACw7B,EAAK,SAAS,KAAK;AAKtC,UAJAA,IAAOF,EAAA,GACHE,EAAK,YAAA,EAAc,WAAW,OAAO,MACvC54B,IAAS,SAAS44B,EAAK,MAAM,GAAG,EAAE,KAAK,IAErCA,EAAK,YAAA,EAAc,WAAW,WAAW,KAAK,CAACA,EAAK,SAAS,WAAW;AAC1E,cAAM,IAAI,MAAM,wCAAwC;AAG5D,QAAI54B,IAAS;AACX,YAAM,IAAI,MAAM,4CAA4C;AAE9D,IAAAoH,IAAMpH;AACN,UAAMtI,IAAS,IAAI,SAASP,CAAM;AAClC,QAAIgiC,IAAM;AACV,WAAO/xB,IAAM,KAAKhK,KAAO+7B,IAAMsD,KAAQ;AACrC,YAAMC,IAAMhlC,EAAO,WAAW0P,GAAK,EAAI;AAEvC,UADAA,KAAO,GACF,SAASs1B,CAAG;AAKf,QAAAN,EAAKjD,GAAK,IAAIuD;AAAA,eAJV,CAAC,MAAMA,CAAG;AACZ;AAAA,IAKN;AACA,WAAON;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,QAAQjlC,GAAQ;AACrB,UAAMiG,IAAMjG,EAAO;AACnB,QAAIiG,IAAM;AACR,YAAM,IAAI,MAAM,uCAAuCA,CAAG;AAE5D,UAAM8X,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAIiQ,IAAM;AACV,aAASsxB,IAAU;AACjB,aAAOtxB,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAEF,YAAMuxB,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAGF,aADAA,KACIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,cAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC;AAAA,IACjE;AACA,QAAIwxB,IAAOF,EAAA;AACX,QAAI,CAACE,EAAK,SAAS,eAAe;AAChC,YAAM,IAAI,MAAM,sBAAsB;AAExC,QAAI54B,IAAS;AACb,WAAOoH,IAAMhK,KAAO,CAACw7B,EAAK,SAAS,KAAK;AACtC,MAAAA,IAAOF,EAAA,GACHE,EAAK,YAAA,EAAc,WAAW,OAAO,MACvC54B,IAAS,SAAS44B,EAAK,MAAM,GAAG,EAAE,KAAK;AAG3C,QAAI54B,IAAS;AACX,YAAM,IAAI,MAAM,4CAA4C;AAE9D,IAAAoH,IAAMpH;AACN,UAAMtI,IAAS,IAAI,SAASP,CAAM;AAClC,QAAIgiC,IAAM,GACNC,IAAY,IAAI,YAAYh8B,KAAO,IAAI,EAAE,GACzCu/B,IAAU,GACVC,IAAO,GACP7K,IAAM,IAAI,aAAa30B,IAAM,CAAC;AAElC,SADAg8B,EAAU,CAAC,IAAI,GACRhyB,IAAM,KAAKhK,KAAK;AACrB,YAAMs/B,IAAMhlC,EAAO,WAAW0P,GAAK,EAAI;AACvC,MAAAA,KAAO;AACP,YAAMy1B,IAAMnlC,EAAO,WAAW0P,GAAK,EAAI;AACvC,MAAAA,KAAO;AACP,YAAM01B,IAAMplC,EAAO,WAAW0P,GAAK,EAAI;AAEvC,UADAA,KAAO,GACF,SAASs1B,CAAG;AAMf,QAAA3K,EAAI6K,GAAM,IAAIF,GACd3K,EAAI6K,GAAM,IAAIC,GACd9K,EAAI6K,GAAM,IAAIE,GACd3D;AAAA,eARAC,EAAUuD,GAAS,IAAIxD,GACnB,CAAC,MAAMuD,CAAG;AACZ;AAAA,IAQN;AACA,WAAA3K,IAAMA,EAAI,MAAM,GAAG6K,CAAI,GACvBxD,IAAYA,EAAU,MAAM,GAAGuD,CAAO,GAC/B;AAAA,MACL,KAAA5K;AAAA,MACA,WAAAqH;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,aAAa,QAAQjiC,GAAQ;AAC3B,QAAIO,IAAS,IAAI,SAASP,CAAM,GAC5B29B,IAAQp9B,EAAO,UAAU,GAAG,EAAI;AACpC,QAAIo9B,MAAU,YAAY;AACxB,UAAIE;AACJ,UAAIF,MAAU;AACZ,cAAM,IAAI,MAAM,yCAAyC;AAEzD,MAAAE,IAAM,MAAMN,EAAY,WAAW,IAAI,WAAWv9B,CAAM,CAAC,GAE3DA,IAAS69B,EAAI,QACbt9B,IAAS,IAAI,SAASP,CAAM,GAC5B29B,IAAQp9B,EAAO,UAAU,GAAG,EAAI;AAAA,IAClC;AACA,UAAMqlC,IAAOrlC,EAAO,UAAU,KAAK,EAAI,GACjCslC,IAAStlC,EAAO,UAAU,KAAK,EAAI;AACzC,QAAIqlC,IAAO,KAAKC,MAAW,OAAOlI,MAAU;AAC1C,YAAM,IAAI,MAAM,sBAAsB;AAExC,UAAMmI,IAAYvlC,EAAO,SAAS,IAAI,EAAI,GACpCikC,IAAM,CAAA;AACZ,aAASlK,IAAK,GAAGA,IAAKwL,GAAWxL,KAAM;AACrC,YAAMzvB,IAAM,IAAI,WAAW7K,EAAO,MAAM,KAAKs6B,IAAK,IAAI,KAAKA,IAAK,EAAE,CAAC,GAC7DjnB,IAAM,IAAI,YAAA,EAAc,OAAOxI,CAAG,EAAE,MAAM,IAAI,EAAE,MAAA;AACtD,MAAA25B,EAAI,KAAK;AAAA,QACP,IAAInxB,EAAI,KAAA;AAAA;AAAA,QAER,MAAM,CAAA;AAAA,MAAC,CACR;AAAA,IACH;AACA,UAAM0yB,IAAcxlC,EAAO,WAAW,IAAI,EAAI,GACxCylC,IAAczlC,EAAO,WAAW,IAAI,EAAI,GACxC0lC,IAAc1lC,EAAO,WAAW,IAAI,EAAI,GACxC2lC,IAAUxD;AAAAA,MACd,IAAIqD;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,IAAIC;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,IAAIC;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA,GAEIE,IAAe5lC,EAAO,SAAS,KAAK,EAAI,GACxCgiC,IAAM,CAAA;AACZ,aAASjI,IAAK,GAAGA,IAAK6L,GAAc7L,KAAM;AACxC,YAAMzvB,IAAM,IAAI,WAAW7K,EAAO,MAAM,MAAMs6B,IAAK,IAAI,MAAMA,IAAK,EAAE,CAAC,GAC/DjnB,IAAM,IAAI,YAAA,EAAc,OAAOxI,CAAG,EAAE,MAAM,IAAI,EAAE,MAAA;AACtD,MAAA03B,EAAI,KAAK;AAAA,QACP,IAAIlvB,EAAI,KAAA;AAAA;AAAA,QAER,MAAM,CAAA;AAAA,MAAC,CACR;AAAA,IACH;AACA,UAAM0qB,IAAM0E,GAAM;AAClB,aAASnI,IAAK,GAAGA,IAAK,IAAIA;AACxB,MAAAyD,EAAIzD,CAAE,IAAI/5B,EAAO,WAAW,MAAM+5B,IAAK,GAAG,EAAI;AAEhD,IAAIyD,EAAI,EAAE,MAAM,MACdxL,EAAI,KAAK,wBAAwB,GACjC6T,GAAerI,CAAG;AAEpB,UAAMsI,IAAY5D,GAAM;AACxB6D,IAAAA,GAAUD,GAAWH,GAASnI,CAAG;AACjC,QAAIrxB,IAAM,MACN65B,IAAM;AACV,IAAA75B,IAAM,IAAI,WAAW1M,EAAO,MAAM6lC,CAAM,CAAC,GACzCU,IAAM,IAAI,aAAa75B,EAAI,MAAM;AACjC,UAAM85B,IAAU95B,EAAI;AACpB,QAAI85B,IAAU;AACZ,YAAM,IAAI,MAAM,iBAAiB;AAEnC,QAAIrlC,IAAI,GACJ6gC,IAAM,GACNC,IAAY,IAAI,YAAYv1B,EAAI,SAAS,CAAC,GAC1C84B,IAAU,GACV5K,IAAM,IAAI,aAAaluB,EAAI,MAAM,GACjC+4B,IAAO;AACX,WAAOtkC,IAAIqlC,KAAS;AAClB,YAAMC,IAAQ/5B,EAAIvL,CAAC;AACnB,MAAAA,IAAIA,IAAI,GACR8gC,EAAUuD,GAAS,IAAIxD;AACvB,eAAS/0B,IAAI,GAAGA,IAAIw5B,GAAOx5B,KAAK;AAC9B,cAAMs4B,IAAMgB,EAAIplC,IAAI,CAAC,GACfukC,IAAMa,EAAIplC,IAAI,CAAC,GACfwkC,IAAMY,EAAIplC,IAAI,CAAC;AAKrB,YAJAA,KAAK,GACLy5B,EAAI6K,GAAM,IAAIF,IAAMc,EAAU,CAAC,IAAIX,IAAMW,EAAU,CAAC,IAAIV,IAAMU,EAAU,CAAC,IAAIA,EAAU,CAAC,GACxFzL,EAAI6K,GAAM,IAAIF,IAAMc,EAAU,CAAC,IAAIX,IAAMW,EAAU,CAAC,IAAIV,IAAMU,EAAU,CAAC,IAAIA,EAAU,CAAC,GACxFzL,EAAI6K,GAAM,IAAIF,IAAMc,EAAU,CAAC,IAAIX,IAAMW,EAAU,CAAC,IAAIV,IAAMU,EAAU,EAAE,IAAIA,EAAU,EAAE,GACtFP,IAAY;AACd,mBAAS5/B,IAAI,GAAGA,IAAI4/B,GAAW5/B;AAC7B,YAAAs+B,EAAIt+B,CAAC,EAAE,KAAK,KAAKqgC,EAAIplC,CAAC,CAAC,GACvBA;AAGJ,QAAA6gC;AAAA,MACF;AACA,UAAImE,IAAe;AACjB,iBAASl5B,IAAI,GAAGA,IAAIk5B,GAAcl5B;AAChC,UAAAs1B,EAAIt1B,CAAC,EAAE,KAAK,KAAKs5B,EAAIplC,CAAC,CAAC,GACvBA;AAAA,IAGN;AACA,UAAMulC,IAAQ,CAAA;AACd,aAASpM,IAAK,GAAGA,IAAKiI,EAAI,QAAQjI;AAChC,MAAAoM,EAAM,KAAK;AAAA,QACT,IAAInE,EAAIjI,CAAE,EAAE;AAAA,QACZ,MAAM,aAAa,KAAKiI,EAAIjI,CAAE,EAAE,IAAI;AAAA,MAAA,CACrC;AAEH,UAAMqM,IAAQ,CAAA;AACd,aAASrM,IAAK,GAAGA,IAAKkK,EAAI,QAAQlK;AAChC,MAAAqM,EAAM,KAAK;AAAA,QACT,IAAInC,EAAIlK,CAAE,EAAE;AAAA,QACZ,MAAM,aAAa,KAAKkK,EAAIlK,CAAE,EAAE,IAAI;AAAA,MAAA,CACrC;AAEH,WAAA2H,EAAUuD,GAAS,IAAIxD,GACvBpH,IAAMA,EAAI,MAAM,GAAG6K,CAAI,GACvBxD,IAAYA,EAAU,MAAM,GAAGuD,CAAO,GAC/B;AAAA,MACL,KAAA5K;AAAA,MACA,WAAAqH;AAAA,MACA,KAAKyE;AAAA,MACL,KAAKC;AAAA,IAAA;AAAA,EAET;AAAA;AAAA;AAAA,EAGA,OAAO,WAAW3mC,GAAQ;AAGxB,UAAMqlC,IAFM,IAAI,YAAY,OAAO,EACnB,OAAOrlC,CAAM,EACX,MAAM;AAAA,CAAI;AAE5B,QADUqlC,EAAM,SACR,KAAK,CAACA,EAAM,CAAC,EAAE,WAAW,gBAAgB;AAChD,YAAM,IAAI,MAAM,mBAAmB;AAErC,QAAI,CAACA,EAAM,CAAC,EAAE,WAAW,OAAO;AAC9B,YAAM,IAAI,MAAM,oBAAoB;AAEtC,QAAIp1B,IAAM;AACV,WAAOo1B,EAAMp1B,CAAG,EAAE,SAAS;AACzB,MAAAA;AAEF,QAAI,CAACo1B,EAAMp1B,CAAG,EAAE,SAAS,UAAU;AACjC,YAAM,IAAI,MAAM,wBAAwB;AAG1C,SADAA,KACOo1B,EAAMp1B,CAAG,EAAE,SAAS;AACzB,MAAAA;AAEF,QAAI,CAACo1B,EAAMp1B,CAAG,EAAE,WAAW,QAAQ;AACjC,YAAM,IAAI,MAAM,gBAAgB;AAElC,QAAI0S,IAAQ0iB,EAAMp1B,CAAG,EAAE,KAAA,EAAO,MAAM,KAAK;AACzC,UAAMwpB,IAAQ,SAAS9W,EAAM,CAAC,CAAC,GACzBogB,IAAStJ,IAAQ,GACjBmN,IAAY,IAAI,aAAanN,IAAQ,CAAC;AAC5C,QAAIl0B,IAAI;AACR,WAAOA,IAAIk0B,IAAQ,KAAG;AACpB,MAAAxpB;AAEA,YAAM2qB,IADMyK,EAAMp1B,CAAG,EAAE,KAAA,EACP,KAAA,EAAO,MAAM,KAAK;AAClC,eAAS9O,IAAI,GAAGA,IAAIy5B,EAAI,UAClB,EAAAr1B,KAAKw9B,IADqB5hC;AAI9B,QAAAylC,EAAUrhC,CAAC,IAAI,WAAWq1B,EAAIz5B,CAAC,CAAC,GAChCoE;AAAA,IAEJ;AACA,UAAM+1B,IAAO,CAAA;AAEb,SADArrB,KACOo1B,EAAMp1B,CAAG,EAAE,SAAS;AACzB,MAAAA;AAEF,QAAIo1B,EAAMp1B,CAAG,EAAE,WAAW,UAAU,GAAG;AACrC,aAAOo1B,EAAMp1B,CAAG,EAAE,SAAS;AACzB,QAAAA;AAEF,MAAAA;AAAA,IACF;AAGA,QAFA0S,IAAQ0iB,EAAMp1B,CAAG,EAAE,KAAA,EAAO,MAAM,KAAK,GACrCA,KACI0S,EAAM,CAAC,EAAE,SAAS,OAAO,GAAG;AAC9B,YAAMyiB,IAAU,SAASziB,EAAM,CAAC,CAAC;AACjC,UAAIyiB,IAAU;AACZ,cAAM,IAAI,MAAM,qBAAqB;AAEvC,UAAI/xB,IAAMgyB,EAAMp1B,CAAG,EAAE,KAAA;AACrB,YAAMgyB,IAAY,CAAA;AAClB,UAAIrH,IAAM,CAAA;AACV,UAAIvnB,EAAI,WAAW,SAAS,GAAG;AAC7B,QAAApD;AACA,YAAIpK,IAAI;AACR,eAAOA,IAAIu/B,KAAS;AAClB,UAAA/xB,IAAMgyB,EAAMp1B,CAAG,EAAE,KAAA,GACjBA;AACA,gBAAM42B,IAASxzB,EAAI,KAAA,EAAO,MAAM,KAAK;AACrC,mBAASlS,IAAI,GAAGA,IAAI0lC,EAAO,WACzB5E,EAAUp8B,CAAC,IAAI,SAASghC,EAAO1lC,CAAC,CAAC,GACjC0E,KACI,EAAAA,KAAKu/B,KAHwBjkC;AAGjC;AAAA,QAIJ;AACA,QAAAy5B,IAAM,MAAM,KAAKgM,CAAS;AAAA,MAC5B,OAAO;AACL,YAAIE,IAAa,WAAW;AAC1B,UAAAzzB,IAAMgyB,EAAMp1B,CAAG,EAAE,KAAA;AACjB,gBAAM42B,IAASxzB,EAAI,KAAA,EAAO,MAAM,KAAK;AACrC,UAAA0zB,IAAY,CAAA;AACZ,mBAAS5lC,IAAI,GAAGA,IAAI0lC,EAAO,QAAQ1lC;AACjC,YAAA4lC,EAAU,KAAK,SAASF,EAAO1lC,CAAC,CAAC,CAAC;AAEpC,UAAA6lC,IAAe,GACf/2B;AAAA,QACF,GACI+xB,IAAM;AACV,QAAAC,EAAU,CAAC,IAAI;AACf,YAAI8E,IAAY,CAAA,GACZC,IAAe;AACnB,QAAAF,EAAA;AACA,iBAASjhC,IAAI,GAAGA,IAAIu/B,GAASv/B,KAAK;AAChC,UAAImhC,KAAgBD,EAAU,UAC5BD,EAAA;AAEF,gBAAMG,IAAYF,EAAUC,GAAc;AAC1C,UAAAhF,KAAOiF,GACPhF,EAAUp8B,IAAI,CAAC,IAAIm8B;AACnB,mBAAS7gC,IAAI,GAAGA,IAAI8lC,GAAW9lC,KAAK;AAClC,YAAI6lC,KAAgBD,EAAU,UAC5BD,EAAA;AAEF,kBAAMzpB,IAAM0pB,EAAUC,GAAc,IAAI;AACxC,YAAApM,EAAI,KAAKgM,EAAUvpB,IAAM,CAAC,CAAC,GAC3Bud,EAAI,KAAKgM,EAAUvpB,IAAM,CAAC,CAAC,GAC3Bud,EAAI,KAAKgM,EAAUvpB,IAAM,CAAC,CAAC;AAAA,UAC7B;AAAA,QACF;AAAA,MACF;AACA,aAAO;AAAA,QACL,KAAK,aAAa,KAAKud,CAAG;AAAA,QAC1B,WAAW,YAAY,KAAKqH,CAAS;AAAA,MAAA;AAAA,IAEzC,WAAWtf,EAAM,CAAC,EAAE,SAAS,iBAAiB,GAAG;AAC/C,YAAMukB,IAAS,SAASvkB,EAAM,CAAC,CAAC;AAChC,eAASxhB,IAAI,GAAGA,IAAI+lC,GAAQ/lC,KAAK;AAC/B,cAAMkS,IAAMgyB,EAAMp1B,CAAG,EAAE,KAAA;AACvB,QAAAA;AACA,cAAMk3B,IAAK9zB,EAAI,KAAA,EAAO,MAAM,KAAK,GAC3B+zB,IAAO,SAASD,EAAG,CAAC,CAAC,IAAI;AAC/B,YAAI7yB,IAAI;AACR,iBAASnO,IAAI,GAAGA,IAAIihC,GAAMjhC;AACxB,UAAIA,IAAI,KACNm1B,EAAK,KAAK,SAAS6L,EAAG7yB,IAAI,CAAC,CAAC,CAAC,GAC7BgnB,EAAK,KAAK,SAAS6L,EAAG7yB,IAAI,CAAC,CAAC,CAAC,GAC7BgnB,EAAK,KAAK,SAAS6L,EAAG7yB,CAAC,CAAC,CAAC,MAEzBgnB,EAAK,KAAK,SAAS6L,EAAG7yB,CAAC,CAAC,CAAC,GACzBgnB,EAAK,KAAK,SAAS6L,EAAG7yB,IAAI,CAAC,CAAC,CAAC,GAC7BgnB,EAAK,KAAK,SAAS6L,EAAG7yB,IAAI,CAAC,CAAC,CAAC,IAE/BA,KAAK;AAAA,MAET;AAAA,IACF,WAAWqO,EAAM,CAAC,EAAE,SAAS,UAAU,GAAG;AACxC,YAAM0kB,IAAQ,SAAS1kB,EAAM,CAAC,CAAC;AAC/B,eAASxhB,IAAI,GAAGA,IAAIkmC,GAAOlmC,KAAK;AAC9B,cAAMkS,IAAMgyB,EAAMp1B,CAAG,EAAE,KAAA;AACvB,QAAAA;AACA,cAAMk3B,IAAK9zB,EAAI,KAAA,EAAO,MAAM,KAAK,GAC3B+zB,IAAO,SAASD,EAAG,CAAC,CAAC,IAAI,GACzBjX,IAAK,SAASiX,EAAG,CAAC,CAAC;AACzB,YAAIhX,IAAK,SAASgX,EAAG,CAAC,CAAC;AACvB,iBAAShhC,IAAI,GAAGA,IAAIihC,GAAMjhC,KAAK;AAC7B,gBAAMiqB,IAAK,SAAS+W,EAAG,IAAIhhC,CAAC,CAAC;AAC7B,UAAAm1B,EAAK,KAAKpL,CAAE,GACZoL,EAAK,KAAKnL,CAAE,GACZmL,EAAK,KAAKlL,CAAE,GACZD,IAAKC;AAAA,QACP;AAAA,MACF;AAAA,IACF;AACE,YAAM,IAAI,MAAM,oCAAoCzN,EAAM,CAAC,CAAC;AAE9D,UAAM0M,IAAU,IAAI,YAAYiM,CAAI;AACpC,WAAO;AAAA,MACL,WAAAsL;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA,EAGA,aAAa,UAAUjkB,IAAO,IAAIpL,GAAQsnC,GAAQC,IAAU,KAAKC,IAAW,QAAQC,IAAmB,UAAUC,IAAkB,IAAOC,IAAU,MAAMC,IAAU,MAAMC,IAAgB,GAAG;AAC3L,UAAMC,IAAQ;AAAA,MACZ,GAAGC;AAAA,MACH,gBAAgB;AAAA,MAChB,cAAc;AAAA;AAAA,MAEd,0BAA0B;AAAA,MAC1B,iBAAiB;AAAA,MACjB,iBAAiB;AAAA,MACjB,eAAe;AAAA,IAAA,GAGXC,IAAK;AACX,QAAIC,IAAMD,EAAG,KAAK58B,CAAI,EAAE,CAAC;AACzB,IAAA68B,IAAMA,EAAI,YAAA,GACNA,MAAQ,SACVA,IAAMD,EAAG,KAAK58B,EAAK,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAClC68B,IAAMA,EAAI,YAAA;AAEZ,UAAM3C,IAASgC,EAAO,cAAc;AACpC,QAAIA,EAAO,WAAW;AACpB,YAAMY,IAAc98B,EAAK,MAAM,GAAG;AAClC,UAAIy4B,IAAM;AAOV,UANIqE,EAAY,SAAS,KACVA,EAAY,IAAA,MAEvBrE,IAAMA,EAAI,MAAM,GAAG,EAAE,MAAM,GAAG,EAAE,EAAE,KAAK,GAAG,IAG1CoE,MAAQ,OAAO;AACjB,cAAM7C,IAAUkC,EAAO,UAAU,SAAS,GACpCa,IAAQ7G,GAAe,QAAQthC,GAAQolC,CAAO;AACpD,YAAI+C,EAAM,WAAW/C;AACnB,gBAAM,IAAI,MAAM,gBAAgB+C,EAAM,MAAM,wCAAwC/C,CAAO,IAAI;AAEjG,QAAKkC,EAAO,QACVA,EAAO,MAAM,CAAA;AAEf,cAAMc,IAAMD,EAAM,OAAO,CAAC7tB,GAAK+tB,MAAY,KAAK,IAAI/tB,GAAK+tB,CAAO,CAAC,GAC3DC,IAAMH,EAAM,OAAO,CAAC7tB,GAAK+tB,MAAY,KAAK,IAAI/tB,GAAK+tB,CAAO,CAAC;AACjE,eAAAf,EAAO,IAAI,KAAK;AAAA,UACd,IAAIzD;AAAA,UACJ,MAAM,aAAa,KAAKsE,EAAM,OAAO;AAAA,UACrC,YAAYC;AAAA,UACZ,YAAYE;AAAA,UACZ,SAASF;AAAA,UACT,SAASE;AAAA,QAAA,CACV,GACMR;AAAA,MACT;AACA,UAAIG,MAAQ;AACV,cAAM,IAAI,MAAM,4DAA4D;AAE9E,YAAMjG,IAAMsF,EAAO,IAAI,SAAS,GAC1BrC,IAAO3D,GAAe,QAAQthC,GAAQgiC,CAAG;AAC/C,MAAKsF,EAAO,QACVA,EAAO,MAAM,CAAA;AAEf,YAAMiB,IAAMtD,EAAK,OAAO,CAAC3qB,GAAK+tB,MAAY,KAAK,IAAI/tB,GAAK+tB,CAAO,CAAC,GAC1DG,IAAMvD,EAAK,OAAO,CAAC3qB,GAAK+tB,MAAY,KAAK,IAAI/tB,GAAK+tB,CAAO,CAAC;AAChE,aAAAf,EAAO,IAAI,KAAK;AAAA,QACd,IAAIzD;AAAA,QACJ,MAAM,aAAa,KAAKoB,EAAK,OAAO;AAAA,QACpC,YAAYsD;AAAA,QACZ,YAAYC;AAAA,QACZ,SAASD;AAAA,QACT,SAASC;AAAA,MAAA,CACV,GACMV;AAAA,IACT;AACA,QAAIxC,IAAS,GAAG;AACd,MAAA/S,EAAI,MAAM,qBAAqB;AAC/B;AAAA,IACF;AACA,QAAI0V,MAAQ,OAAO;AACjB,YAAM/zB,IAAM,MAAMotB,GAAe,QAAQthC,GAAQslC,CAAM;AACvD,MAAAwC,EAAM,SAAS5zB,EAAI,SACf,mBAAmBA,MACrB4zB,EAAM,gBAAgB5zB,EAAI;AAAA,IAE9B,WAAW+zB,MAAQ,SAGV;AACL,YAAM/zB,IAAMotB,GAAe,UAAUthC,GAAQslC,GAAQ,EAAI;AACzD,MAAMpxB,aAAe,cAInB4zB,EAAM,SAAS5zB,KAHf4zB,EAAM,SAAS5zB,EAAI,SACnB4zB,EAAM,gBAAgB5zB,EAAI;AAAA,IAI9B,WACS+zB,MAAQ,SAASA,MAAQ,UAAUA,MAAQ,eAAeA,MAAQ;AAC3E,MAAAH,EAAM,SAASxG,GAAe,SAASthC,GAAQslC,CAAM,GACrDwC,EAAM,2BAA2B;AAAA,aACxBG,MAAQ,OAAO;AACxB,YAAM/zB,IAAM,MAAMotB,GAAe,QAAQthC,GAAQslC,CAAM;AACvD,MAAAwC,EAAM,SAAS5zB,EAAI,SACnB4zB,EAAM,gBAAgB5zB,EAAI;AAAA,IAC5B,WAAW+zB,MAAQ,SAASA,MAAQ,OAG3B;AACL,YAAM/zB,IAAM,MAAMotB,GAAe,QAAQthC,GAAQslC,GAAQ,EAAI;AAC7D,MAAI,aAAapxB,KACf4zB,EAAM,SAAS5zB,EAAI,SACnB4zB,EAAM,gBAAgB5zB,EAAI,iBAE1B4zB,EAAM,SAAS5zB;AAAA,IAEnB,WACS+zB,MAAQ;AACjB,MAAAH,EAAM,SAAS,MAAMxG,GAAe;AAAA,QAClCthC;AAAA,QACAsnC,EAAO;AAAA,QACPA,EAAO;AAAA,MAAA;AAAA,aAEAW,MAAQ;AACjB,MAAAH,EAAM,SAAS,MAAMxG,GAAe,QAAQthC,GAAQslC,CAAM;AAAA,aACjD2C,MAAQ;AACjB,MAAAH,EAAM,SAASxG,GAAe,QAAQthC,GAAQslC,CAAM;AAAA,aAC3ChE,GAAe,OAAOthC,CAAM;AACrC,MAAA8nC,EAAM,SAASxG,GAAe,SAASthC,GAAQslC,CAAM,GACrDwC,EAAM,2BAA2B;AAAA;AAEjC,aAAAvV,EAAI,KAAK,kCAAkCnnB,CAAI,GACxC08B;AAET,QAAI,CAACA,EAAM,QAAQ;AACjB,MAAAvV,EAAI,MAAM,oBAAoB;AAC9B;AAAA,IACF;AACA,IAAAuV,EAAM,WAAWA,EAAM,OAAO,SAASxC,GACvCwC,EAAM,UAAU,GAChBA,EAAM,gBAAgBD;AACtB,QAAI/M,IAAKgN,EAAM,OAAO,CAAC,GACnB9M,IAAK8M,EAAM,OAAO,CAAC;AACvB,aAAS3mC,IAAI,GAAGA,IAAI2mC,EAAM,OAAO,QAAQ3mC;AACvC,MAAA25B,IAAK,KAAK,IAAIA,GAAIgN,EAAM,OAAO3mC,CAAC,CAAC,GACjC65B,IAAK,KAAK,IAAIA,GAAI8M,EAAM,OAAO3mC,CAAC,CAAC;AAEnC,WAAA2mC,EAAM,aAAahN,GACnBgN,EAAM,aAAa9M,GACnB8M,EAAM,UAAUH,KAAW,GACtBA,MACHG,EAAM,UAAUhN,IAElBgN,EAAM,UAAUF,KAAW,GACtBA,MACHE,EAAM,UAAU9M,IAElB8M,EAAM,aAAa,KACnBA,EAAM,aAAa,KACnBA,EAAM,UAAUP,GAChBO,EAAM,WAAWN,GACjBM,EAAM,mBAAmBL,GACzBK,EAAM,kBAAkBJ,GACjBI;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,QAAQ9nC,GAAQslC,GAAQ;AACnC,UAAMr/B,IAAMjG,EAAO;AACnB,QAAIO,IAAS,IAAI,SAASP,CAAM,GAC5B4lC,IAAOrlC,EAAO,UAAU,GAAG,EAAI;AACnC,QAAIqlC,IAAO,GAAG;AACZ,YAAM/H,IAAM,MAAMN,EAAY,WAAW,IAAI,WAAWv9B,CAAM,CAAC;AAC/D,MAAAO,IAAS,IAAI,SAASs9B,EAAI,MAAM,GAChC+H,IAAOrlC,EAAO,UAAU,GAAG,EAAI,GAC/BP,IAAS69B,EAAI;AAAA,IACf;AACA,IAAI+H,IAAO,KACTrT,EAAI,MAAM,qDAAqDqT,CAAI;AAErE,UAAMnM,IAAQl5B,EAAO,UAAU,GAAG,EAAI;AACtC,IAAIk5B,MAAU6L,KACZ/S,EAAI,MAAM,kBAAkBkH,IAAQ,oCAAoC6L,CAAM;AAEhF,UAAMmD,IAAQloC,EAAO,UAAU,GAAG,EAAI,GAChCmoC,IAAU,IAAI,aAAajP,IAAQgP,CAAK;AAE9C,QAAIx4B,IAAM;AACV,aAASsxB,IAAU;AACjB,YAAMC,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO1F,EAAO,SAAS0P,CAAG,MAAM;AAC3C,QAAAA;AAEF,aAAAA,KACO,IAAI,cAAc,OAAOjQ,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC;AAAA,IACjE;AACqB,IAAAsxB,EAAA;AACrB,aAASpgC,IAAI,GAAGA,IAAIsnC,GAAOtnC,KAAK;AAC9B,YAAMiH,IAAI,CAAA;AACV,MAAAA,EAAE,UAAU7H,EAAO,UAAU0P,GAAK,EAAI,GACtCA,KAAO,GACH21B,KAAQ,KAAKx9B,EAAE,YAAY,MAC7BA,EAAE,QAAQ7H,EAAO,UAAU0P,GAAK,EAAI,GACpCA,KAAO,GACP7H,EAAE,QAAQ7H,EAAO,UAAU0P,GAAK,EAAI,GACpCA,KAAO,GACP7H,EAAE,QAAQ7H,EAAO,UAAU0P,GAAK,EAAI,GACpCA,KAAO,GACP7H,EAAE,YAAY7H,EAAO,UAAU0P,GAAK,EAAI,GACxCA,KAAO,IAET7H,EAAE,cAAc7H,EAAO,UAAU0P,GAAK,EAAI,GAC1CA,KAAO,GACP7H,EAAE,eAAe7H,EAAO,SAAS0P,CAAG,GACpCA,KAAO,GACP7H,EAAE,aAAa7H,EAAO,WAAW0P,GAAK,EAAI,GAC1CA,KAAO,GACP7H,EAAE,YAAY7H,EAAO,WAAW0P,GAAK,EAAI,GACzCA,KAAO,GACH21B,KAAQ,MACVx9B,EAAE,gCAAgC7H,EAAO,UAAU0P,GAAK,EAAI,GAC5DA,KAAO,IAET7H,EAAE,MAAM7H,EAAO,UAAU0P,GAAK,EAAI,GAClCA,KAAO,GACP7H,EAAE,MAAM7H,EAAO,UAAU0P,GAAK,EAAI,GAClCA,KAAO,GACH21B,KAAQ,KACVx9B,EAAE,aAAa7H,EAAO,UAAU0P,GAAK,EAAI,GACzCA,KAAO,KAEP7H,EAAE,aAAa,GAEjBA,EAAE,mBAAmB7H,EAAO,UAAU0P,GAAK,EAAI,GAC/CA,KAAO,GACP7H,EAAE,YAAY,CAAC,GAAG,GAAG,CAAC,GACtBA,EAAE,YAAY,CAAC,GAAG,GAAG,CAAC,GACtBA,EAAE,YAAY,CAAC,GAAG,GAAG,CAAC,GACtBA,EAAE,YAAY,CAAC,GAAG,GAAG,CAAC,GAClBw9B,KAAQ,MACVx9B,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACI21B,KAAQ,MACVx9B,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,KACA7H,EAAE,UAAU,CAAC,IAAI7H,EAAO,SAAS0P,CAAG,GACpCA,MAEF7H,EAAE,iBAAiB7H,EAAO,SAAS0P,CAAG,GACtCA,KACI21B,KAAQ,MACVx9B,EAAE,MAAMm5B,EAAA,IAEVn5B,EAAE,aAAa7H,EAAO,WAAW0P,GAAK,EAAI,GAC1CA,KAAO,IAET7H,EAAE,OAAOm5B,EAAA;AACT,YAAMoH,IAAa,IAAI,aAAa3oC,GAAQiQ,GAAKwpB,CAAK;AACtD,MAAAiP,EAAQ,IAAIC,GAAYxnC,IAAIs4B,CAAK,GACjCxpB,KAAOwpB,IAAQ;AAAA,IAEjB;AACA,WAAOiP;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,QAAQ1oC,GAAQslC,GAAQ;AAC7B,UAAM/kC,IAAS,IAAI,SAASP,CAAM,GAC5B4oC,IAAWroC,EAAO,SAAS,GAAG,EAAK;AACzC,QAAIqoC,MAAatD;AACf,YAAM,IAAI,MAAM,iBAAiBsD,IAAW,yBAAyBtD,CAAM;AAE7E,QAAIr1B,IAAM,KAAK24B,IAAW;AAC1B,UAAMC,IAAStoC,EAAO,UAAU0P,GAAK,EAAK;AAC1C,IAAAA,KAAO;AACP,UAAMs2B,IAAM,IAAI,aAAasC,IAASD,CAAQ;AAC9C,aAASznC,IAAI,GAAGA,IAAI0nC,IAASD,GAAUznC;AACrC,MAAAolC,EAAIplC,CAAC,IAAIZ,EAAO,WAAW0P,GAAK,EAAK,GACrCA,KAAO;AAET,WAAOs2B;AAAA,EACT;AAAA;AAAA,EAEA,OAAO,OAAOvmC,GAAQ;AACpB,UAAMmT,IAAO,IAAI,SAASnT,CAAM,GAC1B8oC,IAAO31B,EAAK,SAAS,CAAC,GACtB41B,IAAO51B,EAAK,SAAS,CAAC,GACtB61B,IAAO71B,EAAK,SAAS,CAAC;AAC5B,WAAI21B,MAAS,OAAOC,MAAS,OAAOC,MAAS,OAC3C5H,GAAe,MAAM,yEAAyE,GACvF,MAEF;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,SAASphC,GAAQslC,GAAQ;AAC9B,UAAMnyB,IAAO,IAAI,SAASnT,CAAM,GAC1B8oC,IAAO31B,EAAK,SAAS,CAAC,GACtB41B,IAAO51B,EAAK,SAAS,CAAC,GACtB61B,IAAO71B,EAAK,SAAS,CAAC,GACtBy1B,IAAWz1B,EAAK,UAAU,GAAG,EAAK,GAClC01B,IAAS11B,EAAK,UAAU,IAAI,EAAK;AAIvC,SAHI21B,MAAS,OAAOC,MAAS,OAAOC,MAAS,QAC3C5H,GAAe,MAAM,yEAAyE,GAE5FkE,MAAWsD;AACb,YAAM,IAAI,MAAM,kDAAkDA,IAAW,iBAAiBtD,IAAS,GAAG;AAE5G,QAAItlC,EAAO,aAAa,KAAK,IAAI4oC,IAAWC;AAC1C,YAAM,IAAI,MAAM,kCAAkC;AAEpD,UAAMtC,IAAM,IAAI,aAAasC,IAASD,CAAQ;AAC9C,QAAI34B,IAAM;AACV,aAAS9O,IAAI,GAAGA,IAAI0nC,IAASD,GAAUznC;AACrC,MAAAolC,EAAIplC,CAAC,IAAIgS,EAAK,WAAWlD,GAAK,EAAK,GACnCA,KAAO;AAET,QAAI6qB,IAAKyL,EAAI,CAAC,GACVvL,IAAKuL,EAAI,CAAC;AACd,aAASplC,IAAI,GAAGA,IAAIolC,EAAI,QAAQplC;AAC9B,MAAA25B,IAAK,KAAK,IAAIA,GAAIyL,EAAIplC,CAAC,CAAC,GACxB65B,IAAK,KAAK,IAAIA,GAAIuL,EAAIplC,CAAC,CAAC;AAE1B,UAAMuE,IAAQ,KAAKs1B,IAAKF;AACxB,aAAS35B,IAAI,GAAGA,IAAIolC,EAAI,QAAQplC;AAC9B,MAAAolC,EAAIplC,CAAC,IAAI,KAAKolC,EAAIplC,CAAC,IAAI25B,KAAMp1B;AAE/B,WAAO6gC;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,UAAUvmC,GAAQslC,GAAQ2D,IAAoB,IAAO;AAC1D,UAAM91B,IAAO,IAAI,SAASnT,CAAM,GAC1B4oC,IAAWz1B,EAAK,UAAU,GAAG,EAAK,GAClC+1B,IAAoB,KAAK,sBAAsBN,GAAUtD,CAAM;AACrE,QAAIA,MAAW4D;AACb,YAAM,IAAI,MAAM,uDAAuD;AAEzE,QAAIlpC,EAAO,aAAa,IAAI,IAAI4oC;AAC9B,YAAM,IAAI,MAAM,mCAAmC;AAErD,QAAI34B,IAAM;AACV,UAAM0qB,IAAS,IAAI,YAAYiO,CAAQ;AACvC,aAASznC,IAAI,GAAGA,IAAIynC,GAAUznC,KAAK;AACjC,YAAMkc,IAAMlK,EAAK,UAAUlD,KAAO,GAAG,EAAK;AAC1C,MAAA0qB,EAAOtd,CAAG,IAAIlK,EAAK,UAAUlD,KAAO,GAAG,EAAK;AAAA,IAC9C;AACA,QAAI,CAACg5B;AACH,aAAOtO;AAET,QAAIkJ,IAAM;AACV,QAAI;AACF,MAAAA,IAAM1wB,EAAK,SAASlD,KAAO,GAAG,EAAK;AAAA,IACrC,QAAgB;AACd,aAAO0qB;AAAA,IACT;AAMA,QAJIkJ,MADuB,KAIP1wB,EAAK,SAASlD,KAAO,GAAG,EAAK,IAC/B;AAChB,aAAO0qB;AAET,UAAMwO,IAAWh2B,EAAK,SAASlD,KAAO,GAAG,EAAK,GACxChK,IAAMkN,EAAK,SAASlD,KAAO,GAAG,EAAK;AACzC,IAAAA,KAAOhK;AACP,UAAMmjC,IAAcj2B,EAAK,SAASlD,KAAO,GAAG,EAAK;AACjD,QAAIm5B,IAAc;AAChB,aAAOzO;AAET,UAAM0O,IAAO;AAAA,MACX,GAAG,MAAMF,CAAQ,EAAE,KAAK,CAAC;AAAA,MACzB,GAAG,MAAMA,CAAQ,EAAE,KAAK,CAAC;AAAA,MACzB,GAAG,MAAMA,CAAQ,EAAE,KAAK,CAAC;AAAA,MACzB,GAAG,MAAMA,CAAQ,EAAE,KAAK,CAAC;AAAA,MACzB,GAAG,MAAMA,CAAQ,EAAE,KAAK,CAAC;AAAA,MACzB,QAAQ,MAAMA,CAAQ,EAAE,KAAK,EAAE;AAAA,IAAA;AAEjC,aAAShoC,IAAI,GAAGA,IAAIioC,GAAajoC,KAAK;AACpC,YAAMmoC,IAAQn2B,EAAK,SAASlD,KAAO,GAAG,EAAK,GACrCs5B,IAAWp2B,EAAK,SAASlD,KAAO,GAAG,EAAK;AAC9C,MAAAA,KAAO;AACP,UAAIu5B,IAAM;AACV,eAAS3jC,IAAI,GAAGA,IAAI0jC,GAAU1jC,KAAK;AACjC,cAAMuO,IAAMjB,EAAK,SAASlD,GAAK;AAC/B,YAAImE,MAAQ;AACV;AAEF,QAAAo1B,KAAO,OAAO,aAAap1B,CAAG;AAAA,MAChC;AACA,MAAAnE,KAAO;AACP,YAAM6E,IAAI3B,EAAK,SAASlD,KAAO,GAAG,EAAK,GACjCw5B,IAAIt2B,EAAK,SAASlD,KAAO,GAAG,EAAK,GACjC2E,IAAIzB,EAAK,SAASlD,KAAO,GAAG,EAAK,GACjC0E,IAAIxB,EAAK,SAASlD,KAAO,GAAG,EAAK;AACvC,UAAIq5B,IAAQ,KAAKA,KAASH,GAAU;AAClC,QAAA5W,EAAI,KAAK,0BAA0B;AACnC;AAAA,MACF;AACA,MAAA8W,EAAK,EAAEC,CAAK,IAAIx0B,GAChBu0B,EAAK,EAAEC,CAAK,IAAIG,GAChBJ,EAAK,EAAEC,CAAK,IAAI10B,GAChBy0B,EAAK,EAAEC,CAAK,IAAI30B,GAChB00B,EAAK,EAAEC,CAAK,KAAK30B,KAAK,OAAOC,KAAK,OAAO60B,KAAK,KAAK30B,GACnDu0B,EAAK,OAAOC,CAAK,IAAIE;AAAA,IACvB;AACA,UAAMd,IAAU,IAAI,aAAaE,CAAQ;AACzC,IAAAF,EAAQ,KAAK,EAAE;AACf,QAAIgB,IAAS;AACb,aAASvoC,IAAI,GAAGA,IAAImkC,GAAQnkC,KAAK;AAC/B,YAAMwoC,IAAMhP,EAAOx5B,CAAC;AACpB,eAAS0E,IAAI,GAAGA,IAAIsjC,GAAUtjC;AAC5B,YAAIwjC,EAAK,EAAExjC,CAAC,MAAM8jC,GAAK;AACrB,UAAAjB,EAAQvnC,CAAC,IAAI0E;AACb;AAAA,QACF;AAEF,MAAI6iC,EAAQvnC,CAAC,IAAI,MACfuoC,KACAhB,EAAQvnC,CAAC,IAAI;AAAA,IAEjB;AACA,IAAIuoC,IAAS,KACXnX,EAAI,MAAM,oCAAoCmX,CAAM,OAAOd,CAAQ,YAAY;AAEjF,aAASznC,IAAI,GAAGA,IAAIgoC,GAAUhoC;AAC5B,MAAAkoC,EAAK,EAAEloC,CAAC,IAAIA;AAEd,UAAMyoC,IAAgB7Q,GAAQ,aAAasQ,CAAI;AAC/C,WAAO;AAAA,MACL,SAAAX;AAAA,MACA,eAAAkB;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,OAAO5pC,GAAQ;AACpB,UAAMiG,IAAMjG,EAAO,YACb+d,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAIiQ,IAAM;AACV,aAASsxB,IAAU;AACjB,aAAOtxB,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAEF,YAAMuxB,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAGF,aADAA,KACIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,cAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC;AAAA,IACjE;AACA,QAAIwpB,IAAQ,GACR2N,IAAO,GACP7hC,IAAI,GACJY,IAAI,GACJygC,GACAvX;AACJ,WAAOpf,IAAMhK,KAAK;AAChB,YAAMw7B,IAAOF,EAAA;AACb,UAAIE,EAAK,WAAW,GAAG;AACrB;AAEF,YAAM9e,IAAQ8e,EAAK,KAAA,EAAO,MAAM,KAAK;AACrC,UAAIhI,IAAQ,GAAG;AACb,QAAAA,IAAQ,SAAS9W,EAAM,CAAC,CAAC,GACzBikB,IAAY,IAAI,aAAanN,IAAQ,CAAC;AACtC;AAAA,MACF;AACA,UAAIl0B,IAAIk0B,IAAQ,GAAG;AACjB,QAAAmN,EAAUrhC,CAAC,IAAI,WAAWod,EAAM,CAAC,CAAC,GAClCikB,EAAUrhC,IAAI,CAAC,IAAI,WAAWod,EAAM,CAAC,CAAC,GACtCikB,EAAUrhC,IAAI,CAAC,IAAI,WAAWod,EAAM,CAAC,CAAC,GACtCpd,KAAK;AACL;AAAA,MACF;AACA,UAAI6hC,IAAO,GAAG;AACZ,QAAAA,IAAO,SAASzkB,EAAM,CAAC,CAAC,GACxB0M,IAAU,IAAI,YAAY+X,IAAO,CAAC;AAClC;AAAA,MACF;AACA,UAAIjhC,KAAKihC,IAAO;AACd;AAEF,MAAA/X,EAAQlpB,IAAI,CAAC,IAAI,SAASwc,EAAM,CAAC,CAAC,IAAI,GACtC0M,EAAQlpB,IAAI,CAAC,IAAI,SAASwc,EAAM,CAAC,CAAC,IAAI,GACtC0M,EAAQlpB,IAAI,CAAC,IAAI,SAASwc,EAAM,CAAC,CAAC,IAAI,GACtCxc,KAAK;AAAA,IACP;AACA,WAAO;AAAA,MACL,WAAAygC;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,OAAO,QAAQrvB,GAAQ;AACrB,UAAMiG,IAAMjG,EAAO,YACb+d,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAIiQ,IAAM;AACV,aAASsxB,IAAU;AACjB,aAAOtxB,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAEF,YAAMuxB,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAGF,aADAA,KACIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,cAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC;AAAA,IACjE;AACA,QAAIwxB,IAAOF,EAAA;AACX,IAAKE,EAAK,WAAW,SAAS,KAC5BlP,EAAI,KAAK,kBAAkB,GAE7BkP,IAAOF,EAAA;AACP,QAAI5e,IAAQ8e,EAAK,KAAA,EAAO,MAAM,KAAK;AACnC,UAAMhI,IAAQ,SAAS9W,EAAM,CAAC,CAAC,GACzBykB,IAAO,SAASzkB,EAAM,CAAC,CAAC,GACxBikB,IAAY,IAAI,aAAanN,IAAQ,CAAC;AAC5C,QAAIxsB,IAAI;AACR,aAAS9L,IAAI,GAAGA,IAAIs4B,GAAOt4B;AACzB,MAAAsgC,IAAOF,EAAA,GACP5e,IAAQ8e,EAAK,OAAO,MAAM,KAAK,GAC/BmF,EAAU35B,CAAC,IAAI,WAAW0V,EAAM,CAAC,CAAC,GAClCikB,EAAU35B,IAAI,CAAC,IAAI,WAAW0V,EAAM,CAAC,CAAC,GACtCikB,EAAU35B,IAAI,CAAC,IAAI,WAAW0V,EAAM,CAAC,CAAC,GACtC1V,KAAK;AAEP,UAAMoiB,IAAU,IAAI,YAAY+X,IAAO,CAAC;AACxC,IAAAn6B,IAAI;AACJ,aAAS9L,IAAI,GAAGA,IAAIimC,GAAMjmC;AACxB,MAAAsgC,IAAOF,EAAA,GACP5e,IAAQ8e,EAAK,OAAO,MAAM,KAAK,GAC/BpS,EAAQpiB,CAAC,IAAI,SAAS0V,EAAM,CAAC,CAAC,GAC9B0M,EAAQpiB,IAAI,CAAC,IAAI,SAAS0V,EAAM,CAAC,CAAC,GAClC0M,EAAQpiB,IAAI,CAAC,IAAI,SAAS0V,EAAM,CAAC,CAAC,GAClC1V,KAAK;AAEP,WAAO;AAAA,MACL,WAAA25B;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA,EAGA,OAAO,QAAQrvB,GAAQ;AACrB,UAAMiG,IAAMjG,EAAO;AACnB,QAAIiG,IAAM;AACR,YAAM,IAAI,MAAM,uCAAuCjG,EAAO,UAAU;AAE1E,UAAM+d,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAIiQ,IAAM;AACV,aAASsxB,EAAQsI,IAAc,IAAM;AACnC,UAAIA;AACF,eAAO55B,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,UAAAA;AAGJ,YAAMuxB,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAGF,aADAA,KACIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,cAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC;AAAA,IACjE;AACA,QAAIwxB,IAAOF,EAAA;AACX,QAAI,CAACE,EAAK,WAAW,gBAAgB;AACnC,YAAM,IAAI,MAAM,kBAAkB;AAIpC,QAFAA,IAAOF,EAAQ,EAAK,GACpBE,IAAOF,EAAA,GACHE,EAAK,WAAW,OAAO;AACzB,aAAOH,GAAe,WAAWthC,CAAM;AACzC,QAAW,CAACyhC,EAAK,WAAW,QAAQ;AAClC,YAAM,IAAI,MAAM,iDAAiDA,CAAI;AAGvE,QADAA,IAAOF,EAAA,GACH,CAACE,EAAK,SAAS,UAAU;AAC3B,YAAM,IAAI,MAAM,oCAAoCA,CAAI;AAE1D,IAAAA,IAAOF,EAAA,IACH,CAACE,EAAK,SAAS,QAAQ,KAAK,CAACA,EAAK,SAAS,QAAQ,KAAK,CAACA,EAAK,SAAS,OAAO,MAChFlP,EAAI,KAAK,iDAAiDkP,CAAI;AAEhE,UAAMqI,IAAYrI,EAAK,SAAS,QAAQ;AACxC,QAAI9e,IAAQ8e,EAAK,KAAA,EAAO,MAAM,KAAK;AAEnC,UAAMsB,IADQ,SAASpgB,EAAM,CAAC,CAAC,IACR,GACjBikB,IAAY,IAAI,aAAa7D,CAAM,GACnCxiC,IAAS,IAAI,SAASP,CAAM;AAClC,QAAI8pC;AACF,eAAS3oC,IAAI,GAAGA,IAAI4hC,GAAQ5hC;AAC1B,QAAAylC,EAAUzlC,CAAC,IAAIZ,EAAO,WAAW0P,GAAK,EAAK,GAC3CA,KAAO;AAAA;AAGT,eAAS9O,IAAI,GAAGA,IAAI4hC,GAAQ5hC;AAC1B,QAAAylC,EAAUzlC,CAAC,IAAIZ,EAAO,WAAW0P,GAAK,EAAK,GAC3CA,KAAO;AAGX,IAAAwxB,IAAOF,EAAA,GACP5e,IAAQ8e,EAAK,OAAO,MAAM,KAAK;AAC/B,UAAMnG,IAAO,CAAA;AACb,QAAI3Y,EAAM,CAAC,EAAE,SAAS,OAAO,GAAG;AAC9B,YAAMyiB,IAAU,SAASziB,EAAM,CAAC,CAAC,GAC3BonB,IAAQ95B;AAEd,UADAwxB,IAAOF,EAAA,GACHE,EAAK,WAAW,SAAS,GAAG;AAC9B,YAAIuI,IAAU;AACd,QAAIvI,EAAK,SAAS,OAAO,MACvBuI,IAAU;AAEZ,cAAMC,IAAa,IAAI,YAAY7E,CAAO;AAC1C,YAAI4E,GAAS;AACX,cAAIE,IAAkB;AACtB,mBAASrkC,IAAI,GAAGA,IAAIu/B,GAASv/B,KAAK;AAChC,gBAAIwX,IAAM9c,EAAO,SAAS0P,GAAK,EAAK;AACpC,YAAIoN,MAAQ,MACV6sB,IAAkB,KAEpBj6B,KAAO,GACPoN,IAAM9c,EAAO,SAAS0P,GAAK,EAAK,GAChCA,KAAO,GACPg6B,EAAWpkC,CAAC,IAAIwX;AAAA,UAClB;AACA,UAAI6sB,KACF3X,EAAI,KAAK,mDAAmD;AAAA,QAEhE;AACE,mBAAS1sB,IAAI,GAAGA,IAAIu/B,GAASv/B,KAAK;AAChC,kBAAMwX,IAAM9c,EAAO,SAAS0P,GAAK,EAAK;AACtC,YAAAA,KAAO,GACPg6B,EAAWpkC,CAAC,IAAIwX;AAAA,UAClB;AAGF,eAAO;AAAA,UACL,KAFWupB;AAAA,UAGX,WAAWqD;AAAA,QAAA;AAAA,MAEf;AACA,MAAAh6B,IAAM85B;AACN,UAAI/H,IAAM;AACV,YAAMC,IAAY,CAAA,GACZrH,IAAM,CAAA;AACZ,MAAAqH,EAAU,KAAKD,CAAG;AAClB,eAASn8B,IAAI,GAAGA,IAAIu/B,GAASv/B,KAAK;AAChC,cAAMohC,IAAY1mC,EAAO,SAAS0P,GAAK,EAAK;AAC5C,QAAAA,KAAO,GACP+xB,KAAOiF,GACPhF,EAAU,KAAKD,CAAG;AAClB,iBAAS7gC,IAAI,GAAGA,IAAI8lC,GAAW9lC,KAAK;AAClC,gBAAMkc,IAAM9c,EAAO,SAAS0P,GAAK,EAAK,IAAI;AAC1C,UAAAA,KAAO,GACP2qB,EAAI,KAAKgM,EAAUvpB,IAAM,CAAC,CAAC,GAC3Bud,EAAI,KAAKgM,EAAUvpB,IAAM,CAAC,CAAC,GAC3Bud,EAAI,KAAKgM,EAAUvpB,IAAM,CAAC,CAAC;AAAA,QAC7B;AAAA,MACF;AACA,aAAO;AAAA,QACL,KAAK,aAAa,KAAKud,CAAG;AAAA,QAC1B,WAAW,YAAY,KAAKqH,CAAS;AAAA,MAAA;AAAA,IAEzC,WAAWtf,EAAM,CAAC,EAAE,SAAS,iBAAiB,GAAG;AAC/C,YAAMukB,IAAS,SAASvkB,EAAM,CAAC,CAAC;AAChC,eAASxhB,IAAI,GAAGA,IAAI+lC,GAAQ/lC,KAAK;AAC/B,cAAMimC,IAAO7mC,EAAO,SAAS0P,GAAK,EAAK,IAAI;AAC3C,QAAAA,KAAO;AACP,iBAAS9J,IAAI,GAAGA,IAAIihC,GAAMjhC;AACxB,UAAIA,IAAI,KACNm1B,EAAK,KAAK/6B,EAAO,SAAS0P,IAAM,GAAG,EAAK,CAAC,GACzCqrB,EAAK,KAAK/6B,EAAO,SAAS0P,IAAM,GAAG,EAAK,CAAC,GACzCqrB,EAAK,KAAK/6B,EAAO,SAAS0P,GAAK,EAAK,CAAC,MAErCqrB,EAAK,KAAK/6B,EAAO,SAAS0P,GAAK,EAAK,CAAC,GACrCqrB,EAAK,KAAK/6B,EAAO,SAAS0P,IAAM,GAAG,EAAK,CAAC,GACzCqrB,EAAK,KAAK/6B,EAAO,SAAS0P,IAAM,GAAG,EAAK,CAAC,IAE3CA,KAAO;AAET,QAAAA,KAAO;AAAA,MACT;AAAA,IACF,WAAW0S,EAAM,CAAC,EAAE,SAAS,UAAU,GAAG;AACxC,YAAM0kB,IAAQ,SAAS1kB,EAAM,CAAC,CAAC,GACzBwnB,IAAsBl6B,GACtBm6B,IAAmB7I,EAAA;AACzB,UAAI6I,EAAiB,WAAW,SAAS,GAAG;AAC1C,YAAIJ,IAAUI,EAAiB,SAAS,OAAO;AAC/C,cAAMvhC,IAAS,IAAI,YAAYw+B,CAAK;AACpC,YAAIgD,IAAkB;AACtB,iBAASlpC,IAAI,GAAGA,IAAIkmC,GAAOlmC;AACzB,UAAI6oC,MACEzpC,EAAO,SAAS0P,GAAK,EAAK,MAAM,MAClCo6B,IAAkB,KAEpBp6B,KAAO,IAETpH,EAAO1H,CAAC,IAAIZ,EAAO,SAAS0P,GAAK,EAAK,GACtCA,KAAO;AAET,YAAI,CAAC,OAAO,cAAco3B,CAAK,KAAKA,KAAS,cAAcgD;AACzD,gBAAM,IAAI,MAAM,yBAAyB;AAE3C,cAAMC,IAAW/I,EAAA;AACjB,YAAI,CAAC+I,EAAS,WAAW,cAAc;AACrC,gBAAM,IAAI,MAAM,qCAAqC;AAEvD,QAAAN,IAAUM,EAAS,SAAS,OAAO;AACnC,cAAMtO,IAAanzB,EAAOw+B,IAAQ,CAAC,GAC7BkD,IAAe,IAAI,YAAYvO,CAAU;AAC/C,iBAAS76B,IAAI,GAAGA,IAAI66B,GAAY76B;AAC9B,UAAI6oC,MACF/5B,KAAO,IAETs6B,EAAappC,CAAC,IAAIZ,EAAO,SAAS0P,GAAK,EAAK,GAC5CA,KAAO;AAET,iBAAS9O,IAAI,GAAGA,IAAIkmC,GAAOlmC,KAAK;AAC9B,gBAAM6L,IAAQ7L,MAAM,IAAI,IAAI0H,EAAO1H,IAAI,CAAC,GAClCoQ,IAAM1I,EAAO1H,CAAC;AACpB,mBAASgF,IAAI,GAAGA,IAAIoL,IAAMvE,IAAQ,GAAG7G;AACnC,YAAAm1B,EAAK,KAAKiP,EAAav9B,CAAK,CAAC,GAC7BsuB,EAAK,KAAKiP,EAAav9B,IAAQ7G,CAAC,CAAC,GACjCm1B,EAAK,KAAKiP,EAAav9B,IAAQ7G,IAAI,CAAC,CAAC;AAAA,QAEzC;AAAA,MACF,OAAO;AACL,QAAA8J,IAAMk6B;AACN,iBAAShpC,IAAI,GAAGA,IAAIkmC,GAAOlmC,KAAK;AAC9B,gBAAMimC,IAAO7mC,EAAO,SAAS0P,GAAK,EAAK,IAAI;AAC3C,cAAI9O,MAAM,KAAKimC,IAAO;AACpB,kBAAM,IAAI,MAAM,+DAA+D;AAEjF,UAAAn3B,KAAO;AACP,gBAAMigB,IAAK3vB,EAAO,SAAS0P,GAAK,EAAK;AACrC,UAAAA,KAAO;AACP,cAAIkgB,IAAK5vB,EAAO,SAAS0P,GAAK,EAAK;AACnC,UAAAA,KAAO;AACP,mBAAS9J,IAAI,GAAGA,IAAIihC,GAAMjhC,KAAK;AAC7B,kBAAMiqB,IAAK7vB,EAAO,SAAS0P,GAAK,EAAK;AACrC,YAAAA,KAAO,GACPqrB,EAAK,KAAKpL,GAAIC,GAAIC,CAAE,GACpBD,IAAKC;AAAA,UACP;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACE,YAAM,IAAI,MAAM,qCAAqCzN,EAAM,CAAC,CAAC;AAE/D,UAAM0M,IAAU,IAAI,YAAYiM,CAAI;AACpC,WAAO;AAAA,MACL,WAAAsL;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA,EAEA,OAAO,QAAQrvB,GAAQ;AACrB,UAAMwqC,IAAU,IAAI,YAAY,OAAO,EAAE,OAAOxqC,CAAM,GAChDyqC,IAAa,oDACbC,IAAa,+BACbC,IAAa,+CACbC,IAAaH,EAAW,KAAKD,CAAO,GACpCK,IAAaH,EAAW,KAAKF,CAAO,GACpCM,IAAaH,EAAW,KAAKH,CAAO;AAC1C,QAAI,CAACI,KAAc,CAACC;AAClB,YAAM,IAAI,MAAM,uDAAuD;AAEzE,UAAMjE,IAAY,IAAI;AAAA,MACpBgE,EAAW,CAAC,EAAE,KAAA,EAAO,MAAM,QAAQ,EAAE,IAAI,MAAM;AAAA,IAAA;AAEjD,QAAI7Y,IAAS;AACb,QAAI+Y,GAAY;AACd,MAAA/Y,IAAS,IAAI;AAAA,QACX+Y,EAAW,CAAC,EAAE,KAAA,EAAO,MAAM,QAAQ,EAAE,IAAI,MAAM;AAAA,MAAA;AAEjD,YAAMC,IAAQnE,EAAU,SAAS;AACjC,MAAI7U,EAAO,WAAWgZ,IAAQ,MAC5B,QAAQ,KAAK,oCAAoCA,IAAQ,CAAC,SAAShZ,EAAO,MAAM,EAAE,GAClFA,IAAS;AAAA,IAEb;AACA,UAAM1C,IAAU,IAAI;AAAA,MAClBwb,EAAW,CAAC,EAAE,KAAA,EAAO,MAAM,QAAQ,EAAE,IAAI,MAAM,EAAE,OAAO,CAACtlC,MAAMA,MAAM,EAAE;AAAA,IAAA;AAEzE,WAAO,EAAE,WAAAqhC,GAAW,SAAAvX,GAAS,QAAA0C,EAAA;AAAA,EAC/B;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,QAAQ/xB,GAAQ;AACrB,UAAMO,IAAS,IAAI,SAASP,CAAM,GAC5B29B,IAAQp9B,EAAO,UAAU,GAAG,EAAI,GAChCyqC,IAAKzqC,EAAO,UAAU,GAAG,EAAI;AACnC,KAAIo9B,MAAU,cAAcqN,MAAO,UACjCzY,EAAI,KAAK,yCAAyC;AAEpD,UAAM0Y,IAAW1qC,EAAO,UAAU,IAAI,EAAI,GACpCi5B,IAAQj5B,EAAO,UAAU,IAAI,EAAI,GACjCk5B,IAAQl5B,EAAO,UAAU,IAAI,EAAI,GACjC2qC,IAAW3qC,EAAO,UAAU,IAAI,EAAI;AAC1C,QAAI0P,IAAMg7B;AACV,UAAM5b,IAAU,IAAI,YAAYrvB,GAAQiQ,GAAKupB,IAAQ,CAAC;AACtD,IAAAvpB,KAAOupB,IAAQ,IAAI;AACnB,UAAMoN,IAAY,IAAI,aAAa5mC,GAAQiQ,GAAKwpB,IAAQ,CAAC;AACzD,aAASt4B,IAAI,GAAGA,IAAIs4B,IAAQ,GAAGt4B,KAAK,GAAG;AACrC,YAAMgqC,IAAMvE,EAAUzlC,CAAC;AACvB,MAAAylC,EAAUzlC,CAAC,IAAIylC,EAAUzlC,IAAI,CAAC,GAC9BylC,EAAUzlC,IAAI,CAAC,IAAIgqC;AAAA,IACrB;AACA,QAAIpZ;AACJ,WAAImZ,KAAY,MACdnZ,IAAS,IAAI,aAAa/xB,GAAQkrC,GAAUzR,IAAQ,CAAC,IAEhD;AAAA,MACL,WAAAmN;AAAA,MACA,SAAAvX;AAAA,MACA,QAAA0C;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA,EAGA,aAAa,QAAQ/xB,GAAQslC,IAAS,GAAG;AACvC,QAAItlC,EAAO,aAAa;AACtB,YAAM,IAAI,MAAM,uCAAuCA,EAAO,UAAU;AAE1E,QAAIO,IAAS,IAAI,SAASP,CAAM,GAC5B49B,IAAU59B,GACV29B,IAAQp9B,EAAO,UAAU,GAAG,EAAI;AACpC,QAAIo9B,MAAU,SAASA,MAAU,MAAM;AACrC,YAAME,IAAM,MAAMN,EAAY,WAAW,IAAI,WAAWv9B,CAAM,CAAC;AAC/D,MAAAO,IAAS,IAAI,SAASs9B,EAAI,MAAM,GAChCF,IAAQp9B,EAAO,UAAU,GAAG,EAAI,GAChCq9B,IAAUC,EAAI;AAAA,IAChB;AACA,UAAMtE,IAAOh5B,EAAO,UAAU,GAAG,EAAI,GAC/Bi5B,IAAQj5B,EAAO,UAAU,GAAG,EAAI;AACtC,QAAIk5B,IAAQl5B,EAAO,UAAU,GAAG,EAAI;AACpC,UAAMm5B,IAAQn5B,EAAO,UAAU,IAAI,EAAI;AAEvC,QADA6gC,GAAe,MAAM,gDAAgDzD,GAAOpE,GAAMC,GAAOC,GAAOC,CAAK,GACjGiE,MAAU;AACZ,YAAM,IAAI,MAAM,kBAAkB;AAEpC,UAAMyN,KAAU7R,IAAO,OAAO,GACxB8R,KAAU9R,IAAO,OAAO,GACxBD,KAAUC,IAAO,OAAO;AAC9B,QAAI+R,KAAY/R,IAAO,OAAO;AAC9B,UAAMgS,KAAYhS,IAAO,QAAQ,GAC3BiS,KAAWjS,IAAO,QAAQ,GAC1BkS,KAAYlS,IAAO,QAAQ;AAIjC,QAHA6H,GAAe;AAAA,MACb,UAAUgK,CAAM,WAAWC,CAAM,WAAW/R,CAAM,aAAagS,CAAQ,aAAaC,CAAQ,YAAYC,CAAO,aAAaC,CAAQ;AAAA,IAAA,GAElIlS,IAAO;AACT,YAAM,IAAI,MAAM,wCAAwC;AAE1D,QAAImS,IAAiB;AACrB,IAAIH,MACFG,IAAiB;AAEnB,QAAIC,IAAU;AAId,QAHIrG,IAAS,KAAK,CAAC8F,KAAU5R,IAAQ,KAAK,CAACF,MACzCgS,IAAW,KAETA,GAAU;AACZ,YAAMzb,IAAKyV,KAAU7L,GACfmS,IAAiB,KAAKlS,KAAS0R,IAAS5R,IAAQ,KAAK,MAAM6R,IAASxb,IAAK,KAAK,MAAMyJ,IAASzJ,IAAK,IAAI,IACtGgc,IAAe,KAAK,OAAOjO,EAAQ,aAAagO,KAAkBF,CAAc;AACtF,MAAIjS,MAAU6L,KAAUuG,IAAevG,MAAW,MAChD7L,IAAQ6L,IAEVqG,IAAU,KAAK,MAAME,IAAepS,CAAK,GACrCkS,IAAU,MACZpZ,EAAI,KAAK,wDAAwD,GACjE+Y,IAAW;AAAA,IAEf;AACA,QAAI7R,IAAQ,KAAK6L,IAAS;AACxB,YAAM,IAAI,MAAM,oCAAoC;AAEtD,IAAIA,IAAS,KAAKA,MAAW7L,KAC3BlH,EAAI,KAAK,eAAekH,IAAQ,uCAAuC6L,CAAM;AAE/E,QAAIwG,IAAU,KAAKpS;AACnB,UAAMvmB,IAAO,IAAI,SAASyqB,CAAO;AACjC,QAAIvO,IAAU;AACd,QAAI+b,GAAQ;AACV,MAAA/b,IAAU,IAAI,YAAYmK,IAAQ,CAAC;AACnC,eAASr4B,IAAI,GAAGA,IAAIq4B,IAAQ,GAAGr4B;AAC7B,QAAAkuB,EAAQluB,CAAC,IAAIgS,EAAK,UAAU24B,GAAS,EAAI,GACzCA,KAAW;AAAA,IAEf;AACA,QAAIlF,IAAY;AAChB,QAAIyE,GAAQ;AACV,MAAAzE,IAAY,IAAI,aAAanN,IAAQ,CAAC;AACtC,eAASt4B,IAAI,GAAGA,IAAIs4B,IAAQ,GAAGt4B;AAC7B,QAAAylC,EAAUzlC,CAAC,IAAIgS,EAAK,WAAW24B,GAAS,EAAI,GAC5CA,KAAW;AAAA,IAEf;AACA,QAAI/Z,IAAS;AACb,QAAIuH,GAAQ;AACV,MAAAvH,IAAS,IAAI,aAAa0H,IAAQ,CAAC;AACnC,eAASt4B,IAAI,GAAGA,IAAIs4B,GAAOt4B,KAAK;AAC9B,iBAAS8L,IAAI,GAAGA,IAAI,GAAGA;AACrB,UAAA8kB,EAAO5wB,IAAI,IAAI8L,CAAC,IAAIkG,EAAK,SAAS24B,GAAS,IAAI;AAEjD,QAAAA;AAAA,MACF;AAAA,IACF;AACA,QAAIpD,IAAU,IAAI,aAAA;AAClB,QAAI4C,KAAYK,IAAU;AACxB,UAAIJ,GAAU;AACZ,cAAMQ,IAAQ,IAAI,aAAaJ,IAAUlS,CAAK;AAC9C,iBAASt4B,IAAI,GAAGA,IAAIwqC,IAAUlS,GAAOt4B;AACnC,UAAA4qC,EAAM5qC,CAAC,IAAIgS,EAAK,WAAW24B,GAAS,EAAI,GACxCA,KAAW;AAEb,QAAApD,IAAU,aAAa,KAAKqD,CAAK;AAAA,MACnC,OAAO;AACL,QAAArD,IAAU,IAAI,aAAaiD,IAAUlS,CAAK;AAC1C,iBAASt4B,IAAI,GAAGA,IAAIwqC,IAAUlS,GAAOt4B;AACnC,UAAAunC,EAAQvnC,CAAC,IAAIgS,EAAK,WAAW24B,GAAS,EAAI,GAC1CA,KAAW;AAAA,MAEf;AAEF,QAAIxG,IAAS,KAAKmG,KAAYH,GAAU;AACtC,YAAM5mB,IAAU,IAAI,YAAY,OAAO,GACjCsnB,IAAY,IAAI,WAAWpO,GAAS,IAAIlE,CAAK,GAC7CuS,IAAWvnB,EAAQ,OAAOsnB,CAAS,GACnCxE,IAAW,KAAK,MAAMyE,CAAQ,GAC9BrC,IAAgB7Q,GAAQ,aAAayO,CAAQ;AACnD,aAAO,EAAE,SAAAkB,GAAS,eAAAkB,EAAA;AAAA,IACpB;AACA,QAAItE,IAAS,KAAKhM,KAAUgS,GAAU;AACpC,UAAItQ,IAAK0N,EAAQ,CAAC;AAClB,eAASvnC,IAAI,GAAGA,IAAIs4B,GAAOt4B;AACzB,QAAA65B,IAAK,KAAK,IAAIA,GAAI0N,EAAQvnC,CAAC,CAAC;AAE9B,YAAM+qC,IAAS,EAAE,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,QAAQ,CAAA,EAAC;AAC7D,eAAS/qC,IAAI,GAAGA,KAAK65B,GAAI75B;AACvB,iBAASoE,IAAI,GAAGA,IAAIk0B,GAAOl0B;AACzB,cAAIpE,MAAMunC,EAAQnjC,CAAC,GAAG;AACpB,kBAAM4rB,IAAK5rB,IAAI;AACf,YAAA2mC,EAAO,EAAE,KAAK/qC,CAAC,GACf+qC,EAAO,EAAE,KAAKna,EAAOZ,CAAE,IAAI,GAAG,GAC9B+a,EAAO,EAAE,KAAKna,EAAOZ,IAAK,CAAC,IAAI,GAAG,GAClC+a,EAAO,EAAE,KAAKna,EAAOZ,IAAK,CAAC,IAAI,GAAG,GAClC+a,EAAO,EAAE,KAAK,GAAG,GACjBA,EAAO,OAAO,KAAK,GAAG/qC,CAAC,EAAE;AACzB;AAAA,UACF;AAGJ,YAAMyoC,IAAgB7Q,GAAQ,aAAamT,CAAM;AACjD,aAAO,EAAE,SAAAxD,GAAS,eAAAkB,EAAA;AAAA,IACpB;AACA,WAAItE,IAAS,IACJ,EAAE,SAAAoD,EAAA,IAEJ,EAAE,WAAA9B,GAAW,SAAAvX,GAAS,SAAAqZ,GAAS,QAAA3W,EAAA;AAAA,EACxC;AAAA;AAAA;AAAA,EAGA,OAAO,QAAQ/xB,GAAQ;AACrB,UAAMiG,IAAMjG,EAAO,YACb+d,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAIiQ,IAAM;AACV,aAASsxB,IAAU;AACjB,aAAOtxB,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAEF,YAAMuxB,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAGF,aADAA,KACIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,cAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC;AAAA,IACjE;AACA,QAAIwxB,IAAOF,EAAA;AACX,QAAI,CAACE,EAAK,WAAW,KAAK;AACxB,YAAM,IAAI,MAAM,sBAAsB;AAExC,IAAAA,IAAOF,EAAA;AACP,UAAM4K,IAAU1K,EAAK,SAAS,OAAO;AACrC,aAAS2K,EAAc/4B,GAAK;AAC1B,UAAIA,MAAQ,UAAUA,MAAQ,WAAWA,MAAQ,UAAUA,MAAQ;AACjE,eAAO;AAET,UAAIA,MAAQ,WAAWA,MAAQ,YAAYA,MAAQ,WAAWA,MAAQ;AACpE,eAAO;AAET,UAAIA,MAAQ,SAASA,MAAQ,UAAUA,MAAQ,WAAWA,MAAQ,YAAYA,MAAQ,WAAWA,MAAQ;AACvG,eAAO;AAET,UAAIA,MAAQ;AACV,eAAO;AAET,YAAM,IAAI,MAAM,wBAAwBA,CAAG;AAAA,IAC7C;AACA,UAAMgvB,IAAiBZ,EAAK,SAAS,sBAAsB;AAC3D,QAAIhI,IAAQ,GACR4S,IAAe,IACfC,IAAa,GACbC,IAAmB,GACnBC,IAAkB,GAClBC,IAAa,GACbC,IAAoB,GACpBC,IAAgB,GAChBnT,IAAQ;AACZ,WAAOvpB,IAAMhK,KAAO,CAACw7B,EAAK,WAAW,YAAY,KAAG;AAElD,UADAA,IAAOF,EAAA,GACHE,EAAK,WAAW,SAAS;AAC3B;AAEF,UAAI9e,IAAQ8e,EAAK,MAAM,IAAI;AAC3B,UAAIA,EAAK,WAAW,gBAAgB;AAIlC,aAHAhI,IAAQ,SAAS9W,EAAMA,EAAM,SAAS,CAAC,CAAC,GACxC8e,IAAOF,EAAA,GACP5e,IAAQ8e,EAAK,MAAM,IAAI,GAChBA,EAAK,WAAW,UAAU,KAAG;AAClC,gBAAMmL,IAAWjqB,EAAM,CAAC;AACxB,UAAIA,EAAM,CAAC,MAAM,OAAOiqB,EAAS,WAAW,QAAQ,IAClDP,IAAe,KACN1pB,EAAM,CAAC,MAAM,OAAO,CAACiqB,EAAS,WAAW,OAAO,KACzDra,EAAI,MAAM,kDAAkDkP,CAAI,GAElE6K,KAAcF,EAAcQ,CAAQ,GACpCnL,IAAOF,EAAA,GACP5e,IAAQ8e,EAAK,MAAM,IAAI;AAAA,QACzB;AAEF,UAAIA,EAAK,WAAW,cAAc;AAIhC,aAHAjI,IAAQ,SAAS7W,EAAMA,EAAM,SAAS,CAAC,CAAC,GACxC8e,IAAOF,EAAA,GACP5e,IAAQ8e,EAAK,MAAM,IAAI,GAChBA,EAAK,WAAW,UAAU,KAAG;AAClC,cAAI9e,EAAM,CAAC,MAAM;AACf,YAAA6pB,IAAkBJ,EAAczpB,EAAM,CAAC,CAAC,GACxC8pB,IAAaL,EAAczpB,EAAM,CAAC,CAAC,GACnC4pB,KAAoBC,IAAkB,IAAIC;AAAA,eACrC;AACL,kBAAMI,IAAST,EAAczpB,EAAM,CAAC,CAAC;AACrC,YAAA4pB,KAAoBM,GAChBJ,MAAe,MACjBC,KAAqBG,GACrBF;AAAA,UAEJ;AACA,UAAAlL,IAAOF,EAAA,GACP5e,IAAQ8e,EAAK,MAAM,IAAI;AAAA,QACzB;AAAA,IAEJ;AACA,QAAI0K,GAAS;AACX,MAAI3S,IAAQ,KACVjH,EAAI,MAAM,+BAA+BiH,CAAK,GAAG;AAEnD,YAAMsT,IAAa,IAAI,aAAarT,IAAQ,CAAC;AAC7C,UAAIl0B,IAAI;AACR,eAASpE,IAAI,GAAGA,IAAIs4B,GAAOt4B,KAAK;AAC9B,QAAAsgC,IAAOF,EAAA;AACP,cAAM5e,IAAQ8e,EAAK,MAAM,IAAI;AAC7B,QAAAqL,EAAWvnC,CAAC,IAAI,WAAWod,EAAM,CAAC,CAAC,GACnCmqB,EAAWvnC,IAAI,CAAC,IAAI,WAAWod,EAAM,CAAC,CAAC,GACvCmqB,EAAWvnC,IAAI,CAAC,IAAI,WAAWod,EAAM,CAAC,CAAC,GACvCpd,KAAK;AAAA,MACP;AACA,UAAIwnC,IAAW,IAAI,YAAYvT,IAAQ,CAAC,GACpC5I,IAAI;AACR,eAASzvB,IAAI,GAAGA,IAAIq4B,GAAOr4B,KAAK;AAC9B,QAAAsgC,IAAOF,EAAA;AACP,cAAM5e,IAAQ8e,EAAK,MAAM,IAAI,GACvBtI,IAAO,SAASxW,EAAMgqB,CAAa,CAAC,IAAI;AAC9C,YAAIxT,IAAO;AACT;AAEF,YAAIvI,IAAIuI,IAAO,IAAI4T,EAAS,QAAQ;AAClC,gBAAMlnC,IAAI,IAAI,YAAYknC,EAAS,SAASA,EAAS,MAAM;AAC3D,UAAAlnC,EAAE,IAAIknC,CAAQ,GACdA,IAAWlnC,EAAE,MAAA;AAAA,QACf;AACA,cAAMmrB,IAAO,SAASrO,EAAMgqB,IAAgB,CAAC,CAAC;AAC9C,YAAIK,IAAO,SAASrqB,EAAMgqB,IAAgB,CAAC,CAAC;AAC5C,iBAASM,IAAK,GAAGA,IAAK9T,GAAM8T,KAAM;AAChC,gBAAMC,IAAO,SAASvqB,EAAMgqB,IAAgB,IAAIM,CAAE,CAAC;AACnD,UAAAF,EAASnc,IAAI,CAAC,IAAII,GAClB+b,EAASnc,IAAI,CAAC,IAAIoc,GAClBD,EAASnc,IAAI,CAAC,IAAIsc,GAClBF,IAAOE,GACPtc,KAAK;AAAA,QACP;AAAA,MACF;AACA,aAAImc,EAAS,WAAWnc,MACtBmc,IAAWA,EAAS,MAAM,GAAGnc,CAAC,IAEzB;AAAA,QACL,WAAWkc;AAAA,QACX,SAASC;AAAA,MAAA;AAAA,IAEb;AACA,KAAIT,IAAa,MAAME,IAAkB,KAAKC,IAAa,KAAKjT,IAAQ,MACtEjH,EAAI;AAAA,MACF,gCAAgC+Z,CAAU,UAAUE,CAAe,WAAWC,CAAU,iBAAiBF,CAAgB,cAAcG,CAAiB,UAAUlT,CAAK;AAAA,IAAA;AAG3K,UAAMj5B,IAAS,IAAI,SAASP,CAAM;AAClC,QAAI4mC;AACJ,QAAI32B,IAAM,MAAM,KAAKq8B,MAAe,MAAMjK;AACxC,MAAAuE,IAAY,IAAI,aAAa5mC,GAAQiQ,GAAKwpB,IAAQ,CAAC,GACnDxpB,KAAOwpB,IAAQ6S;AAAA,SACV;AACL,MAAA1F,IAAY,IAAI,aAAanN,IAAQ,CAAC;AACtC,UAAIl0B,IAAI;AACR,eAASpE,IAAI,GAAGA,IAAIs4B,GAAOt4B;AACzB,QAAIkrC,KACFzF,EAAUrhC,CAAC,IAAIhF,EAAO,WAAW0P,GAAKoyB,CAAc,GACpDuE,EAAUrhC,IAAI,CAAC,IAAIhF,EAAO,WAAW0P,IAAM,GAAGoyB,CAAc,GAC5DuE,EAAUrhC,IAAI,CAAC,IAAIhF,EAAO,WAAW0P,IAAM,IAAIoyB,CAAc,MAE7DuE,EAAUrhC,CAAC,IAAIhF,EAAO,WAAW0P,GAAKoyB,CAAc,GACpDuE,EAAUrhC,IAAI,CAAC,IAAIhF,EAAO,WAAW0P,IAAM,GAAGoyB,CAAc,GAC5DuE,EAAUrhC,IAAI,CAAC,IAAIhF,EAAO,WAAW0P,IAAM,GAAGoyB,CAAc,IAE9D98B,KAAK,GACL0K,KAAOq8B;AAAA,IAEX;AACA,UAAMjd,IAAU,IAAI,YAAYmK,IAAQ,CAAC;AACzC,QAAI2T,IAAe,IACflgC,IAAI;AACR,QAAIu/B,MAAoB,KAAKC,MAAe,KAAKF,MAAqB;AACpE,eAASprC,IAAI,GAAGA,IAAIq4B,GAAOr4B,KAAK;AAC9B,cAAMo3B,IAAOh4B,EAAO,SAAS0P,CAAG;AAChC,QAAAA,KAAOu8B,GACHjU,MAAS,MACX4U,IAAe,KAEjB9d,EAAQpiB,CAAC,IAAI1M,EAAO,UAAU0P,GAAKoyB,CAAc,GACjDpyB,KAAO,GACPof,EAAQpiB,IAAI,CAAC,IAAI1M,EAAO,UAAU0P,GAAKoyB,CAAc,GACrDpyB,KAAO,GACPof,EAAQpiB,IAAI,CAAC,IAAI1M,EAAO,UAAU0P,GAAKoyB,CAAc,GACrDpyB,KAAO,GACPhD,KAAK;AAAA,MACP;AAAA,SACK;AACL,UAAIu0B,IAAWvxB;AACf,eAAS9O,IAAI,GAAGA,IAAIq4B,GAAOr4B,KAAK;AAC9B,QAAA8O,IAAMuxB,IAAWkL;AACjB,YAAInU,IAAO;AACX,QAAIiU,MAAoB,IACtBjU,IAAOh4B,EAAO,SAAS0P,CAAG,IACjBu8B,MAAoB,IAC7BjU,IAAOh4B,EAAO,UAAU0P,GAAKoyB,CAAc,IAClCmK,MAAoB,MAC7BjU,IAAOh4B,EAAO,UAAU0P,GAAKoyB,CAAc,IAE7CpyB,KAAOu8B,GACHjU,MAAS,MACX4U,IAAe;AAEjB,iBAAS74B,IAAI,GAAGA,IAAI,GAAGA;AACrB,UAAIm4B,MAAe,IACjBpd,EAAQpiB,CAAC,IAAI1M,EAAO,SAAS0P,CAAG,IACvBw8B,MAAe,IACxBpd,EAAQpiB,CAAC,IAAI1M,EAAO,UAAU0P,GAAKoyB,CAAc,IACxCoK,MAAe,MACxBpd,EAAQpiB,CAAC,IAAI1M,EAAO,UAAU0P,GAAKoyB,CAAc,IAEnDp1B,KACAgD,KAAOw8B;AAET,QAAAjL,KAAY+K;AAAA,MACd;AAAA,IACF;AACA,WAAKY,KACH5a,EAAI,KAAK,oDAAoD,GAExD;AAAA,MACL,WAAAqU;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAO,QAAQrvB,GAAQ;AAGrB,UAAMqlC,IAFM,IAAI,YAAY,OAAO,EACnB,OAAOrlC,CAAM,EACX,MAAM;AAAA,CAAI;AAC5B,QAAIya,IAAS4qB,EAAM,CAAC,EAAE,KAAA,EAAO,MAAM,KAAK;AACxC,IAAI5qB,EAAO,SAAS,KAClB8X,EAAI,KAAK,8CAA8C;AAEzD,UAAMlB,IAAQ,SAAS5W,EAAO,CAAC,CAAC,GAC1BmsB,IAAY,IAAI,aAAavV,IAAQ,CAAC;AAC5C,QAAIoQ,IAAO;AACX,aAAStgC,IAAI,GAAGA,IAAIkwB,GAAOlwB,KAAK;AAC9B,YAAMwhB,IAAQ0iB,EAAM5D,CAAI,EAAE,KAAA,EAAO,MAAM,KAAK;AAC5C,MAAAA;AACA,UAAIpkB,IAAM,SAASsF,EAAM,CAAC,CAAC,IAAI;AAC/B,YAAMnd,IAAI,WAAWmd,EAAM,CAAC,CAAC,GACvBzhB,IAAI,WAAWyhB,EAAM,CAAC,CAAC,GACvBld,IAAI,WAAWkd,EAAM,CAAC,CAAC;AAC7B,UAAItF,IAAM,KAAKA,KAAOgU,GAAO;AAC3B,QAAAkB,EAAI,MAAM,wBAAwB;AAClC;AAAA,MACF;AACA,MAAAlV,KAAO,GACPupB,EAAUvpB,CAAG,IAAI7X,GACjBohC,EAAUvpB,IAAM,CAAC,IAAInc,GACrB0lC,EAAUvpB,IAAM,CAAC,IAAI5X;AAAA,IACvB;AACA,IAAAgV,IAAS4qB,EAAM5D,CAAI,EAAE,KAAA,EAAO,MAAM,KAAK,GACvCA;AACA,UAAMnQ,IAAQ,SAAS7W,EAAO,CAAC,CAAC,GAC1B4U,IAAU,IAAI,YAAYiC,IAAQ,CAAC;AACzC,aAASnwB,IAAI,GAAGA,IAAImwB,GAAOnwB,KAAK;AAC9B,YAAMwhB,IAAQ0iB,EAAM5D,CAAI,EAAE,KAAA,EAAO,MAAM,KAAK;AAC5C,MAAAA;AACA,UAAIpkB,IAAM,SAASsF,EAAM,CAAC,CAAC,IAAI;AAC/B,YAAMnd,IAAI,SAASmd,EAAM,CAAC,CAAC,IAAI,GACzBzhB,IAAI,SAASyhB,EAAM,CAAC,CAAC,IAAI,GACzBld,IAAI,SAASkd,EAAM,CAAC,CAAC,IAAI;AAC/B,UAAItF,IAAM,KAAKA,KAAOiU,GAAO;AAC3B,QAAAiB,EAAI,MAAM,uBAAuB;AACjC;AAAA,MACF;AACA,MAAAlV,KAAO,GACPgS,EAAQhS,CAAG,IAAI7X,GACf6pB,EAAQhS,IAAM,CAAC,IAAInc,GACnBmuB,EAAQhS,IAAM,CAAC,IAAI5X;AAAA,IACrB;AACA,aAASwH,IAAI,GAAGA,IAAIoiB,EAAQ,QAAQpiB,KAAK,GAAG;AAC1C,YAAMmgC,IAAM/d,EAAQpiB,CAAC;AACrB,MAAAoiB,EAAQpiB,CAAC,IAAIoiB,EAAQpiB,IAAI,CAAC,GAC1BoiB,EAAQpiB,IAAI,CAAC,IAAImgC;AAAA,IACnB;AACA,WAAO;AAAA,MACL,WAAAxG;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,OAAO,QAAQrvB,GAAQqtC,IAAgB,IAAO;AAG5C,UAAMhI,IAFM,IAAI,YAAY,OAAO,EACnB,OAAOrlC,CAAM,EACX,MAAM;AAAA,CAAI,GACtBya,IAAS4qB,EAAM,CAAC,EAAE,KAAA,EAAO,MAAM,KAAK,GACpCiI,IAAQ,SAAS7yB,EAAO,CAAC,CAAC;AAChC,QAAI4W,IAAQ,SAAS5W,EAAO,CAAC,CAAC,GAC1B6W,IAAQ,SAAS7W,EAAO,CAAC,CAAC;AAC9B,UAAM8yB,IAAQ,SAAS9yB,EAAO,CAAC,CAAC;AAChC,KAAI6yB,IAAQ,KAAKC,MAAUjc,IAAQ,MACjCiB,EAAI,KAAK,qDAAqD;AAEhE,UAAMqI,IAAM,CAAA;AACZ,IAAAvJ,KAAS;AACT,QAAI9rB,IAAI,GACJk8B,IAAO;AACX,WAAOl8B,IAAI8rB,KAAO;AAChB,YAAM1O,IAAQ0iB,EAAM5D,CAAI,EAAE,KAAA,EAAO,MAAM,KAAK;AAC5C,MAAAA;AACA,eAAStgC,IAAI,GAAGA,IAAIwhB,EAAM,WACxBiY,EAAI,KAAK,WAAWjY,EAAMxhB,CAAC,CAAC,CAAC,GAC7BoE,KACI,EAAAA,KAAK8rB,KAHuBlwB;AAGhC;AAAA,IAIJ;AACA,UAAMgF,IAAI,CAAA;AACV,IAAAmrB,KAAS;AACT,QAAIV,IAAI;AACR,WAAOA,IAAIU,KAAO;AAChB,YAAM3O,IAAQ0iB,EAAM5D,CAAI,EAAE,KAAA,EAAO,MAAM,KAAK;AAC5C,MAAAA;AACA,eAAStgC,IAAI,GAAGA,IAAIwhB,EAAM,WACxBxc,EAAE,KAAK,KAAK,IAAI,SAASwc,EAAMxhB,CAAC,CAAC,CAAC,IAAI,CAAC,GACvCyvB,KACI,EAAAA,KAAKU,KAHuBnwB;AAGhC;AAAA,IAIJ;AACA,QAAIksC;AACF,eAASpgC,IAAI,GAAGA,IAAI9G,EAAE,QAAQ8G,KAAK,GAAG;AACpC,cAAMmgC,IAAMjnC,EAAE8G,CAAC;AACf,QAAA9G,EAAE8G,CAAC,IAAI9G,EAAE8G,IAAI,CAAC,GACd9G,EAAE8G,IAAI,CAAC,IAAImgC;AAAA,MACb;AAEF,UAAMxG,IAAY,IAAI,aAAahM,CAAG,GAChCvL,IAAU,IAAI,YAAYlpB,CAAC;AACjC,WAAO;AAAA,MACL,WAAAygC;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,QAAQrvB,GAAQ;AAGrB,UAAMqlC,IAFM,IAAI,YAAY,OAAO,EACnB,OAAOrlC,CAAM,EACX,MAAM;AAAA,CAAI,GACtB46B,IAAM,CAAA,GACNz0B,IAAI,CAAA;AACV,QAAIhF,IAAI;AACR,IAAKkkC,EAAMlkC,CAAC,EAAE,SAAS,KAAK,IAG1BA,MAFAoxB,EAAI,KAAK,8BAA8B;AAIzC,QAAI5P,IAAQ0iB,EAAMlkC,CAAC,EAAE,KAAA,EAAO,MAAM,KAAK;AACvC,UAAMkwB,IAAQ,SAAS1O,EAAM,CAAC,CAAC,GACzB2O,IAAQ,SAAS3O,EAAM,CAAC,CAAC;AAC/B,IAAAxhB;AACA,aAAS8L,IAAI,GAAGA,IAAIokB,GAAOpkB;AAEzB,MAAA0V,IADY0iB,EAAMlkC,CAAC,EACP,OAAO,MAAM,KAAK,GAC9By5B,EAAI,KAAK,WAAWjY,EAAM,CAAC,CAAC,CAAC,GAC7BiY,EAAI,KAAK,WAAWjY,EAAM,CAAC,CAAC,CAAC,GAC7BiY,EAAI,KAAK,WAAWjY,EAAM,CAAC,CAAC,CAAC,GAC7BxhB;AAEF,aAAS8L,IAAI,GAAGA,IAAIqkB,GAAOrkB;AAEzB,MAAA0V,IADY0iB,EAAMlkC,CAAC,EACP,OAAO,MAAM,KAAK,GACpB,SAASwhB,EAAM,CAAC,CAAC,MACjB,KACR4P,EAAI,KAAK,oDAAoD,GAE/DpsB,EAAE,KAAK,SAASwc,EAAM,CAAC,CAAC,CAAC,GACzBxc,EAAE,KAAK,SAASwc,EAAM,CAAC,CAAC,CAAC,GACzBxc,EAAE,KAAK,SAASwc,EAAM,CAAC,CAAC,CAAC,GACzBxhB;AAEF,UAAMylC,IAAY,IAAI,aAAahM,CAAG,GAChCvL,IAAU,IAAI,YAAYlpB,CAAC;AACjC,WAAO;AAAA,MACL,WAAAygC;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA,EAEA,OAAO,WAAWrvB,GAAQ;AAGxB,UAAM2iB,IAFM,IAAI,YAAY,OAAO,EACnB,OAAO3iB,CAAM,EACX,KAAA,EAAO,MAAM,aAAa;AAC5C,KAAI2iB,EAAM,SAAS,KAAKA,EAAM,CAAC,MAAM,QACnC4P,EAAI,KAAK,mCAAmC;AAE9C,QAAItlB,IAAI;AACR,UAAM89B,IAAQ,SAASpoB,EAAM1V,GAAG,CAAC,GAC3BugC,IAAUzC,IAAQ,GAClBnE,IAAY,IAAI,aAAa4G,CAAO;AAC1C,aAASrsC,IAAI,GAAGA,IAAIqsC,GAASrsC;AAC3B,MAAAylC,EAAUzlC,CAAC,IAAI,WAAWwhB,EAAM1V,GAAG,CAAC;AAEtC,IAAAA,KAAKugC;AACL,UAAMrU,IAAO,SAASxW,EAAM1V,GAAG,CAAC,GAC1BwgC,IAAc,SAAS9qB,EAAM1V,GAAG,CAAC;AACvC,KAAIksB,IAAO,KAAKsU,IAAc,KAAKA,IAAc,MAC/Clb,EAAI,KAAK,mCAAmC;AAE9C,QAAIgb,IAAQ;AACZ,IAAIE,MAAgB,IAClBF,IAAQpU,IACCsU,MAAgB,MACzBF,IAAQxC,IAEV99B,KAAKsgC,IAAQ,GACbtgC,KAAKksB;AACL,UAAMuU,IAASvU,IAAO,GAChB9J,IAAU,IAAI,YAAYqe,CAAM;AACtC,aAASvsC,IAAI,GAAGA,IAAIusC,GAAQvsC;AAC1B,MAAAkuB,EAAQluB,CAAC,IAAI,SAASwhB,EAAM1V,GAAG,CAAC;AAElC,WAAO;AAAA,MACL,WAAA25B;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA,EAEA,aAAa,QAAQrvB,GAAQ;AAC3B,UAAM2tC,IAAc,IAAI,WAAW3tC,GAAQ,GAAG,CAAC;AAC/C,IAAI2tC,EAAY,CAAC,MAAM,MAAMA,EAAY,CAAC,MAAM,QAC9C3tC,IAAS,MAAMu9B,EAAY,mBAAmB,IAAI,WAAWv9B,CAAM,CAAC;AAGtE,UAAMwpC,IADM,IAAI,YAAY,OAAO,EACnB,OAAOxpC,CAAM;AAC7B,QAAIwpC,EAAI,CAAC,MAAM;AACb,aAAO,KAAK,WAAWxpC,CAAM;AAE/B,UAAMqlC,IAAQmE,EAAI,MAAM;AAAA,CAAI,GACtB,IAAInE,EAAM,QACVzK,IAAM,CAAA,GACNU,IAAO,CAAA;AACb,aAASn6B,IAAI,GAAGA,IAAI,GAAGA,KAAK;AAC1B,YAAMkS,IAAMgyB,EAAMlkC,CAAC;AACnB,UAAIkS,EAAI,CAAC,MAAM,OAAOA,EAAI,CAAC,MAAM,KAAK;AACpC,cAAMsP,IAAQtP,EAAI,KAAA,EAAO,MAAM,KAAK;AACpC,QAAAunB,EAAI,KAAK,WAAWjY,EAAM,CAAC,CAAC,CAAC,GAC7BiY,EAAI,KAAK,WAAWjY,EAAM,CAAC,CAAC,CAAC,GAC7BiY,EAAI,KAAK,WAAWjY,EAAM,CAAC,CAAC,CAAC;AAAA,MAC/B;AACA,UAAItP,EAAI,CAAC,MAAM,KAAK;AAClB,cAAMsP,IAAQtP,EAAI,KAAA,EAAO,MAAM,KAAK,GAC9Bu6B,IAAQjrB,EAAM,SAAS;AAC7B,YAAIirB,IAAQ;AACV;AAEF,YAAIC,IAAKlrB,EAAM,CAAC,EAAE,MAAM,GAAG;AAC3B,cAAMmrB,IAAK,SAASD,EAAG,CAAC,CAAC,IAAI;AAC7B,QAAAA,IAAKlrB,EAAM,CAAC,EAAE,MAAM,GAAG;AACvB,YAAIorB,IAAQ,SAASF,EAAG,CAAC,CAAC,IAAI;AAC9B,iBAAS5gC,IAAI,GAAGA,IAAI2gC,GAAO3gC,KAAK;AAC9B,UAAA4gC,IAAKlrB,EAAM,IAAI1V,CAAC,EAAE,MAAM,GAAG;AAC3B,gBAAM+gC,IAAQ,SAASH,EAAG,CAAC,CAAC,IAAI;AAChC,UAAAvS,EAAK,KAAKwS,CAAE,GACZxS,EAAK,KAAKyS,CAAK,GACfzS,EAAK,KAAK0S,CAAK,GACfD,IAAQC;AAAA,QACV;AAAA,MACF;AAAA,IACF;AACA,UAAMpH,IAAY,IAAI,aAAahM,CAAG,GAChCvL,IAAU,IAAI,YAAYiM,CAAI;AACpC,QAAIj0B,IAAMgoB,EAAQ,CAAC,GACf/nB,IAAM+nB,EAAQ,CAAC;AACnB,aAASluB,IAAI,GAAGA,IAAIkuB,EAAQ,QAAQluB;AAClC,MAAIkuB,EAAQluB,CAAC,IAAIkG,MACfA,IAAMgoB,EAAQluB,CAAC,IAEbkuB,EAAQluB,CAAC,IAAImG,MACfA,IAAM+nB,EAAQluB,CAAC;AAGnB,QAAImG,IAAMD,IAAM,IAAIu/B,EAAU,SAAS;AACrC,YAAM,IAAI,MAAM,sBAAsB;AAExC,aAASzlC,IAAI,GAAGA,IAAIkuB,EAAQ,QAAQluB;AAClC,MAAAkuB,EAAQluB,CAAC,KAAKkG;AAEhB,WAAO;AAAA,MACL,WAAAu/B;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA,EAGA,OAAO,eAAervB,GAAQ;AAC5B,UAAM+d,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAI+d,EAAM,CAAC,MAAM,MAAMA,EAAM,CAAC,MAAM,MAAMA,EAAM,CAAC,MAAM;AACrD,aAAOujB,GAAe,QAAQthC,CAAM;AAEtC,UAAMmT,IAAO,IAAI,SAASnT,CAAM,GAC1B8oC,IAAO31B,EAAK,UAAU,GAAG,EAAK,GAC9B41B,IAAO51B,EAAK,UAAU,GAAG,EAAK;AACpC,KAAI21B,MAAS,cAAcC,MAAS,eAClC3H,GAAe,MAAM,yEAAyE;AAEhG,QAAIv4B,IAAS;AACb,WAAOsK,EAAK,SAAStK,CAAM,MAAM;AAC/B,MAAAA;AAEF,IAAAA,KAAU;AACV,QAAIgnB,IAAK1c,EAAK,UAAUtK,GAAQ,EAAK;AACrC,IAAAA,KAAU;AACV,QAAI/B,IAAKqM,EAAK,UAAUtK,GAAQ,EAAK;AACrC,IAAAA,KAAU,GACVgnB,KAAM;AACN,UAAM+W,IAAY,IAAI,aAAa/W,CAAE;AACrC,aAAS1uB,IAAI,GAAGA,IAAI0uB,GAAI1uB;AACtB,MAAAylC,EAAUzlC,CAAC,IAAIgS,EAAK,WAAWtK,GAAQ,EAAK,GAC5CA,KAAU;AAEZ,IAAA/B,KAAM;AACN,UAAMuoB,IAAU,IAAI,YAAYvoB,CAAE;AAClC,aAAS3F,IAAI,GAAGA,IAAI2F,GAAI3F;AACtB,MAAAkuB,EAAQluB,CAAC,IAAIgS,EAAK,UAAUtK,GAAQ,EAAK,GACzCA,KAAU;AAEZ,UAAMolC,IAAQ96B,EAAK,UAAUtK,GAAQ,EAAK;AAC1C,IAAAA,KAAU;AACV,QAAIqlC,IAAWD,MAAU;AACzB,QAAI,CAACC,GAAU;AACb,YAAMC,IAAQh7B,EAAK,UAAUtK,GAAQ,EAAK;AAC1C,MAAAA,KAAU;AACV,YAAMulC,IAAQj7B,EAAK,UAAUtK,GAAQ,EAAK;AAC1C,MAAAA,KAAU,GACVqlC,IAAWD,MAAU,KAAKE,MAAU,KAAKC,MAAU;AAAA,IACrD;AACA,QAAI,CAACF;AACH,MAAA3b,EAAI,KAAK,yCAAyC;AAAA,SAC7C;AAEL,YAAM8b,IADS,IAAI,YAAA,EAAc,OAAOruC,EAAO,MAAM6I,CAAM,CAAC,EAAE,KAAA,EACvC,MAAM;AAAA,CAAI;AACjC,eAAS3C,IAAI,GAAGA,IAAImoC,EAAQ,QAAQnoC,KAAK;AACvC,YAAI,CAACmoC,EAAQnoC,CAAC,EAAE,WAAW,MAAM;AAC/B;AAGF,cAAMooC,IADOD,EAAQnoC,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,EAAE,KAAA,EACN,MAAM,GAAG,EAAE,IAAI,MAAM,GAC/CuzB,IAAQ,KAAK,MAAMmN,EAAU,SAAS,CAAC;AAC7C,YAAIzlC,IAAI;AACR,iBAAS,IAAI,GAAG,IAAIs4B,GAAO;AACzB,UAAAmN,EAAUzlC,CAAC,KAAKmtC,EAAmB,CAAC,GACpCntC,KACAylC,EAAUzlC,CAAC,KAAKmtC,EAAmB,CAAC,GACpCntC,KACAylC,EAAUzlC,CAAC,KAAKmtC,EAAmB,CAAC,GACpCntC;AAAA,MAEJ;AAAA,IACF;AACA,WAAO;AAAA,MACL,WAAAylC;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,QAAQrvB,GAAQ;AAC3B,UAAM+d,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAI+d,EAAM,CAAC,MAAM,MAAMA,EAAM,CAAC,MAAM,MAAMA,EAAM,CAAC,MAAM;AACrD,aAAOujB,GAAe,QAAQthC,CAAM;AAEtC,IAAI+d,EAAM,CAAC,MAAM,MAAMA,EAAM,CAAC,MAAM,QAElC/d,KADY,MAAMu9B,EAAY,WAAW,IAAI,WAAWv9B,CAAM,CAAC,GAClD;AAEf,UAAMO,IAAS,IAAI,SAASP,CAAM,GAC5BuuC,IAAMhuC,EAAO,WAAW,GAAG,EAAI,GAC/BwqC,IAAQxqC,EAAO,UAAU,GAAG,EAAI,GAChC44B,IAAO54B,EAAO,UAAU,IAAI,EAAI,GAChCiuC,IAAOjuC,EAAO,WAAW,IAAI,EAAI,GACjCkuC,IAAOluC,EAAO,WAAW,IAAI,EAAI,GACjCmuC,IAAOnuC,EAAO,WAAW,IAAI,EAAI,GACjCqmC,IAAY,IAAI,aAAamE,IAAQ,CAAC;AAC5C,QAAI96B,IAAM,IACNhD,IAAI;AACR,aAAS9L,IAAI,GAAGA,IAAI4pC,GAAO5pC;AACzB,MAAAylC,EAAU35B,CAAC,IAAI,CAAC1M,EAAO,WAAW0P,GAAK,EAAI,IAAIu+B,GAC/CvhC,KAAK,GACLgD,KAAO;AAET,IAAAhD,IAAI;AACJ,aAAS9L,IAAI,GAAGA,IAAI4pC,GAAO5pC;AACzB,MAAAylC,EAAU35B,CAAC,IAAI,CAAC1M,EAAO,WAAW0P,GAAK,EAAI,IAAIw+B,GAC/CxhC,KAAK,GACLgD,KAAO;AAET,IAAAhD,IAAI;AACJ,aAAS9L,IAAI,GAAGA,IAAI4pC,GAAO5pC;AACzB,MAAAylC,EAAU35B,CAAC,IAAI,CAAC1M,EAAO,WAAW0P,GAAK,EAAI,IAAIy+B,GAC/CzhC,KAAK,GACLgD,KAAO;AAET,IAAAA,IAAM,KAAK,IAAI,IAAI86B;AACnB,UAAM4D,IAAOpuC,EAAO,WAAW0P,GAAK,EAAI,GAClC2+B,IAAOruC,EAAO,WAAW0P,IAAM,GAAG,EAAI,GACtC4+B,IAAOtuC,EAAO,WAAW0P,IAAM,GAAG,EAAI,GACtC6+B,IAAQvuC,EAAO,WAAW0P,IAAM,IAAI,EAAI,GACxC8+B,IAAQxuC,EAAO,WAAW0P,IAAM,IAAI,EAAI,GACxC++B,IAAQzuC,EAAO,WAAW0P,IAAM,IAAI,EAAI;AAC9C,IAAAA,KAAO,IAAI;AACX,UAAM8hB,IAAS,IAAI,aAAagZ,IAAQ,CAAC,GACnCkE,IAAY,IAAI,YAAYjvC,GAAQiQ,GAAK86B,CAAK;AACpD,IAAA99B,IAAI;AACJ,aAAS9L,IAAI,GAAGA,IAAI4pC,GAAO5pC,KAAK;AAC9B,YAAM0E,IAAIopC,EAAU9tC,CAAC;AACrB,MAAI0E,IAAI,eACNksB,EAAO9kB,IAAI,CAAC,KAAKpH,KAAK,KAAK,OAAO,KAClCksB,EAAO9kB,IAAI,CAAC,KAAKpH,KAAK,IAAI,OAAO,KACjCksB,EAAO9kB,IAAI,CAAC,KAAKpH,IAAI,OAAO,MAE1BA,MAAM,MACRksB,EAAO9kB,IAAI,CAAC,IAAI0hC,GAChB5c,EAAO9kB,IAAI,CAAC,IAAI2hC,GAChB7c,EAAO9kB,IAAI,CAAC,IAAI4hC,IAEdhpC,MAAM,MACRksB,EAAO9kB,IAAI,CAAC,IAAI6hC,GAChB/c,EAAO9kB,IAAI,CAAC,IAAI8hC,GAChBhd,EAAO9kB,IAAI,CAAC,IAAI+hC,IAElB/hC,KAAK;AAAA,IACP;AACA,IAAAgD,KAAO86B,IAAQ;AACf,aAAS5pC,IAAI,GAAGA,IAAI4pC,GAAO5pC,KAAK;AAC9B,YAAM+tC,IAAW3uC,EAAO,UAAU0P,GAAK,EAAI;AAC3C,MAAAA,KAAO,IAAI,IAAIi/B;AAAA,IACjB;AACA,UAAM7f,IAAU,IAAI,YAAY8J,IAAO,CAAC;AACxC,aAASh4B,IAAI,GAAGA,IAAIg4B,IAAO,GAAGh4B;AAC5B,MAAAkuB,EAAQluB,CAAC,IAAIZ,EAAO,SAAS0P,GAAK,EAAI,GACtCA,KAAO;AAET,WAAIs+B,MAAQ,KACVhc,EAAI,KAAK,eAAe,GAEnB;AAAA,MACL,WAAAqU;AAAA,MACA,SAAAvX;AAAA,MACA,QAAA0C;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,WAAW/xB,GAAQ;AAGxB,UAAMqlC,IAFM,IAAI,YAAY,OAAO,EACnB,OAAOrlC,CAAM,EACX,MAAM;AAAA,CAAI;AAC5B,QAAI,CAACqlC,EAAM,CAAC,EAAE,WAAW,OAAO;AAC9B,YAAM,IAAI,MAAM,sBAAsB;AAExC,UAAMzK,IAAM,CAAA;AACZ,aAASz5B,IAAI,GAAGA,IAAIkkC,EAAM,QAAQlkC,KAAK;AACrC,UAAI,CAACkkC,EAAMlkC,CAAC,EAAE,SAAS,QAAQ;AAC7B;AAEF,YAAMwhB,IAAQ0iB,EAAMlkC,CAAC,EAAE,KAAA,EAAO,MAAM,KAAK;AACzC,eAAS8L,IAAI,GAAGA,IAAI0V,EAAM,QAAQ1V;AAChC,QAAA2tB,EAAI,KAAK,WAAWjY,EAAM1V,CAAC,CAAC,CAAC;AAAA,IAEjC;AACA,UAAMkiC,IAAO,KAAK,MAAMvU,EAAI,SAAS,CAAC;AACtC,QAAIuU,IAAO,MAAMvU,EAAI;AACnB,YAAM,IAAI,MAAM,iCAAiC;AAEnD,UAAMgM,IAAY,IAAI,aAAahM,CAAG,GAChCvL,IAAU,IAAI,YAAY8f,CAAI;AACpC,aAAShuC,IAAI,GAAGA,IAAIguC,GAAMhuC;AACxB,MAAAkuB,EAAQluB,CAAC,IAAIA;AAEf,WAAO;AAAA,MACL,WAAAylC;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,QAAQrvB,GAAQ;AACrB,QAAIA,EAAO,aAAa;AACtB,YAAM,IAAI,MAAM,uCAAuCA,EAAO,UAAU;AAE1E,UAAMO,IAAS,IAAI,SAASP,CAAM;AAElC,QADYO,EAAO,UAAU,GAAG,EAAI,MACxB;AACV,aAAO+gC,GAAe,WAAWthC,CAAM;AAEzC,UAAMonC,IAAO7mC,EAAO,UAAU,IAAI,EAAI,GAChC6uC,IAAQ,IAAIhI;AAClB,QAAIpnC,EAAO,aAAa,KAASonC,IAAO;AACtC,YAAM,IAAI,MAAM,6CAA6CA,CAAI;AAEnE,UAAM/X,IAAU,IAAI,YAAY+f,CAAK,GAC/BxI,IAAY,IAAI,aAAawI,IAAQ,CAAC;AAC5C,QAAIn/B,IAAM,IACN1K,IAAI;AACR,aAASpE,IAAI,GAAGA,IAAIimC,GAAMjmC,KAAK;AAC7B,eAAS8L,IAAI,GAAGA,IAAI,GAAGA;AACrB,QAAA25B,EAAUrhC,CAAC,IAAIhF,EAAO,WAAW0P,GAAK,EAAI,GAC1C1K,KAAK,GACL0K,KAAO;AAET,MAAAA,KAAO;AAAA,IACT;AACA,aAAS9O,IAAI,GAAGA,IAAIiuC,GAAOjuC;AACzB,MAAAkuB,EAAQluB,CAAC,IAAIA;AAEf,WAAO;AAAA,MACL,WAAAylC;AAAA,MACA,SAAAvX;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA,EAEA,OAAO,sBAAsBggB,GAAYC,GAAW;AAClD,QAAID,IAAaC,MAAc;AAC7B,aAAOD;AAET,UAAME,IAAK,IACLC,IAAa,KAAK,MAAM,KAAK,KAAKH,IAAa,MAAME,IAAK,EAAE,IAAI,KAAK,IAAI,CAAC,CAAC,GAC3EE,IAAY,KAAK,MAAM,KAAK,KAAKH,IAAY,MAAMC,IAAK,EAAE,IAAI,KAAK,IAAI,CAAC,CAAC,GACzEG,IAAU,KAAK,IAAI,GAAGF,CAAU,KAAKD,IAAK,KAAK,GAC/CI,IAAS,KAAK,IAAI,GAAGF,CAAS,KAAKF,IAAK,KAAK;AACnD,WAAIG,MAAYL,KAAcM,MAAWL,IAChCD,IAEFC;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,SAAStvC,GAAQslC,IAAS,GAAGsK,IAA6B,IAAI;AACzE,QAAIlH,IAAU,IAAI,aAAA;AAClB,UAAMziC,IAAMjG,EAAO;AACnB,QAAIqiC,IAAiB;AACrB,UAAM9hC,IAAS,IAAI,SAASP,CAAM;AAClC,QAAI29B,IAAQp9B,EAAO,UAAU,GAAG8hC,CAAc;AAK9C,QAJI1E,MAAU,cACZ0E,IAAiB,IACjB1E,IAAQp9B,EAAO,UAAU,GAAG8hC,CAAc,IAExC1E,MAAU;AACZ,YAAM,IAAI,MAAM,6BAA6B;AAE/C,UAAMkS,IAAY,OAAOtvC,EAAO,YAAY,KAAK8hC,CAAc,CAAC,GAC1DyN,IAAYvvC,EAAO,WAAW,KAAK8hC,CAAc,GACjD0N,IAAYxvC,EAAO,WAAW,KAAK8hC,CAAc;AACvD,KAAIyN,MAAc,KAAKC,MAAc,MACnCxd,EAAI,KAAK,oCAAoC;AAE/C,UAAMyd,IAAczvC,EAAO,UAAU,KAAK8hC,CAAc,GAClDuK,IAAWrsC,EAAO,UAAU,IAAI8hC,CAAc;AACpD,QAAIuK,MAAa,KAAKA,MAAa,KAAKA,MAAa,KAAKA,MAAa;AACrE,YAAM,IAAI,MAAM,gCAAgCA,CAAQ;AAE1D,QAAInT,IAAQ;AACZ,UAAM1V,IAAM,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACnC,aAAS5iB,IAAI,GAAGA,IAAI,GAAGA;AACrB,MAAA4iB,EAAI5iB,CAAC,IAAI,KAAK,IAAI,OAAOZ,EAAO,YAAY,KAAKY,IAAI,GAAGkhC,CAAc,CAAC,GAAG,CAAC,GAC3E5I,KAAS1V,EAAI5iB,CAAC;AAEhB,QAAI6uC,KAAe,OAAOA,KAAe,QAAQH,IAAY,KAAK;AAChE,UAAII,IAAW,WAAW;AACxB,eAAOhgC,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,UAAAA;AAEF,cAAMuxB,IAAWvxB;AACjB,eAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,UAAAA;AAGF,eADAA,KACIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,YAAA,EAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC,EAAE,KAAA;AAAA,MACnE,GAAGsxB,IAAU,WAAW;AACtB,YAAI2O,IAAQD,EAAA;AACZ,YAAI,CAACC,EAAM,WAAW,GAAG,KAAKA,EAAM,SAAS,GAAG;AAC9C,iBAAOA;AAET,eAAOjgC,IAAMhK,KAAO,CAACiqC,EAAM,SAAS,GAAG;AACrC,UAAAA,KAASD,EAAA;AAEX,eAAOC;AAAA,MACT,GAAGxO,IAAiB,SAASC,GAAS/1B,IAAW,IAAO;AACtD,cAAMukC,IAAO1O,EAAK,QAAQE,CAAO;AACjC,YAAIwO,IAAO;AACT,iBAAO;AAET,cAAMtO,IAAOJ,EAAK,QAAQ,KAAK0O,CAAI,IAAI,GACjCrO,IAAOL,EAAK,QAAQ,KAAKI,CAAI,GAC7BxuB,IAAMouB,EAAK,MAAMI,GAAMC,CAAI;AACjC,eAAIl2B,IACKyH,IAEF,SAASA,CAAG;AAAA,MACrB,GACI+8B,IAAc,GACd5hB,IAAa,GACb6hB,IAA0B,GAC1BC,IAAiB,IACjBC,IAAgB,IAAI,YAAA;AACxB,YAAMxyB,IAAQ,IAAI,WAAW/d,CAAM;AACnC,UAAIiQ,IAAM,KACNwxB;AACJ,YAAM+O,IAAWzsB,EAAI,CAAC,GAChB0sB,IAAW,IAAI,aAAanL,IAASkL,CAAQ;AACnD,aAAOvgC,IAAMhK,MACXw7B,IAAOF,EAAA,GACH,CAAAE,EAAK,SAAS,UAAU;AAG5B,YAAIA,EAAK,SAAS,aAAa,GAAG;AAChC,gBAAM5R,IAAK6R,EAAe,0BAA0B,GAC9CgP,IAAUhP,EAAe,mBAAmB,EAAI,EAAE,YAAA;AACxD,cAAI7R,IAAKyV,MAAW;AAClB;AAEF,cAAIqL,IAAU;AAcd,cAbIf,EAA2B,SAAS,QAAQ,KAAKc,EAAQ,SAAS,QAAQ,MAC5EC,IAAU,KAER,CAACA,MAGLA,IAAU,IACNf,EAA2B,SAAS,MAAM,KAAKc,EAAQ,SAAS,MAAM,MACxEC,IAAU,KAERf,EAA2B,SAAS,OAAO,KAAKc,EAAQ,SAAS,OAAO,MAC1EC,IAAU,KAER,CAACA;AACH;AASF,cAPAN,IAA0BxgB,GAC1BugB,IAAc1O,EAAe,cAAc,GAC3ClT,IAAakT,EAAe,aAAa,GACzC4O,IAAiBI,GACZjP,EAAK,SAAS,iBAAiB,MAClCA,IAAOF,EAAA,IAEL,CAACE,EAAK,WAAW,iBAAiB,KAAK,CAACA,EAAK,SAAS,kBAAkB;AAC1E,mBAAAlP,EAAI,KAAK,sCAAsC,GACxCke;AAET,UAAAhP,IAAOA,EAAK,MAAM,IAAI,GAAG;AACzB,gBAAM9e,IAAQ8e,EAAK,KAAA,EAAO,MAAM,KAAK;AACrC,UAAI9e,EAAM,SAAS6L,KACjB+D,EAAI,MAAM,6BAA6B,GAEzCge,IAAgB,IAAI,YAAY/hB,CAAU;AAC1C,mBAASrtB,IAAI,GAAGA,IAAIqtB,GAAYrtB;AAC9B,YAAAovC,EAAcpvC,CAAC,IAAI,SAASwhB,EAAMxhB,CAAC,CAAC;AAAA,QAExC;AAEF,UAAIkvC,MAA4B,KAAKE,EAAc,WAAW;AAC5D,eAAAhe,EAAI,KAAK,uDAAuD,GACzDke;AAET,UAAI7D,MAAa;AACf,eAAAra,EAAI,KAAK,wDAAwD,GAC1Dke;AAET,YAAMxL,IAAO,IAAI,aAAazW,IAAagiB,CAAQ,GAC7CrM,IAAM0L,IAAYW,IAAWJ,IAAc;AACjD,eAASjvC,IAAI,GAAGA,IAAIqtB,IAAagiB,GAAUrvC;AACzC,QAAA8jC,EAAK9jC,CAAC,IAAIZ,EAAO,WAAW4jC,IAAMhjC,IAAI,GAAGkhC,CAAc;AAEzD,UAAIp1B,IAAI;AACR,eAAS9L,IAAI,GAAGA,IAAIqtB,GAAYrtB;AAC9B,iBAASyvB,IAAI,GAAGA,IAAI4f,GAAU5f;AAC5B,UAAA6f,EAASF,EAAcpvC,CAAC,IAAIyvB,IAAI0U,CAAM,IAAIL,EAAKh4B,CAAC,GAChDA;AAGJ,aAAAslB,EAAI;AAAA,QACF;AAAA,QACA8d;AAAA,QACAC;AAAA,QACAF;AAAA,QACA5hB;AAAA,QACA4hB;AAAA,QACAR;AAAA,MAAA,GAEKa;AAAA,IACT;AAEA,QADAhX,IAAQ,KAAK,sBAAsBA,GAAO6L,CAAM,GAC5C7L,IAAQ6L,MAAW;AACrB,YAAM,IAAI,MAAM,wBAAwB7L,IAAQ,gDAAgD6L,IAAS,GAAG;AAE9G,QAAIjD;AACF,MAAIuK,MAAa,KACflE,IAAU,IAAI,aAAa1oC,GAAQ6vC,GAAWpW,CAAK,IAC1CmT,MAAa,IACtBlE,IAAU,IAAI,WAAW1oC,GAAQ6vC,GAAWpW,CAAK,IACxCmT,MAAa,MACtBlE,IAAU,IAAI,WAAW1oC,GAAQ6vC,GAAWpW,CAAK;AAAA,aAG/CmT,MAAa,IAAI;AACnB,MAAAlE,IAAU,IAAI,aAAajP,CAAK;AAChC,eAASt4B,IAAI,GAAGA,IAAIs4B,GAAOt4B;AACzB,QAAAunC,EAAQvnC,CAAC,IAAIZ,EAAO,WAAWsvC,IAAY1uC,IAAI,GAAGkhC,CAAc;AAAA,IAEpE,WAAWuK,MAAa,GAAG;AACzB,MAAAlE,IAAU,IAAI,WAAWjP,CAAK;AAC9B,eAASt4B,IAAI,GAAGA,IAAIs4B,GAAOt4B;AACzB,QAAAunC,EAAQvnC,CAAC,IAAIZ,EAAO,SAASsvC,IAAY1uC,IAAI,GAAGkhC,CAAc;AAAA,IAElE,WAAWuK,MAAa,GAAG;AACzB,MAAAlE,IAAU,IAAI,WAAWjP,CAAK;AAC9B,eAASt4B,IAAI,GAAGA,IAAIs4B,GAAOt4B;AACzB,QAAAunC,EAAQvnC,CAAC,IAAIZ,EAAO,SAASsvC,IAAY1uC,IAAI,GAAGkhC,CAAc;AAAA,IAElE;AAEF,WAAIuK,MAAa,MACflE,IAAU,IAAI,WAAW1oC,GAAQ6vC,GAAWpW,CAAK,IAE5CiP;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,QAAQ1oC,GAAQ46B,GAAKgV,IAA6B,IAAI;AACjE,UAAMgB,IAAchW,EAAI,SAAS;AACjC,QAAI8N,IAAU,IAAI,aAAA,GACdrG,IAAiB,IACjB9hC,IAAS,IAAI,SAASP,CAAM,GAC5B29B,IAAQp9B,EAAO,UAAU,GAAG8hC,CAAc;AAC9C,QAAI1E,MAAU,OAAOA,MAAU;AAC7B,aAAO2D,GAAe,SAASthC,GAAQ4wC,GAAahB,CAA0B;AAMhF,QAJIjS,MAAU,UACZ0E,IAAiB,IACjB1E,IAAQp9B,EAAO,UAAU,GAAG8hC,CAAc,IAExC1E,MAAU,KAAK;AACjB,YAAME,IAAM,MAAMN,EAAY,WAAW,IAAI,WAAWv9B,CAAM,CAAC;AAI/D,UAHAO,IAAS,IAAI,SAASs9B,EAAI,MAAM,GAChC79B,IAAS69B,EAAI,QACbF,IAAQp9B,EAAO,UAAU,GAAG8hC,CAAc,GACtC1E,MAAU,OAAOA,MAAU;AAC7B,eAAO2D,GAAe,SAASthC,GAAQ4wC,GAAahB,CAA0B;AAEhF,MAAIjS,MAAU,UACZ0E,IAAiB,IACjB1E,IAAQp9B,EAAO,UAAU,GAAG8hC,CAAc;AAAA,IAE9C;AACA,IAAI1E,MAAU,OACZpL,EAAI,MAAM,0BAA0B;AAEtC,UAAMsd,IAAYtvC,EAAO,WAAW,KAAK8hC,CAAc,GACjDyN,IAAYvvC,EAAO,WAAW,KAAK8hC,CAAc,GACjD0N,IAAYxvC,EAAO,WAAW,KAAK8hC,CAAc,GACjDwO,IAAatwC,EAAO,UAAU,KAAK8hC,CAAc,GACjDyO,IAAavwC,EAAO,UAAU,KAAK8hC,CAAc,GACjDuK,IAAWrsC,EAAO,UAAU,IAAI8hC,CAAc;AACpD,QAAIuK,MAAa,KAAKA,MAAa,KAAKA,MAAa,KAAKA,MAAa;AACrE,YAAM,IAAI,MAAM,gCAAgCA,CAAQ;AAE1D,UAAM9L,IAAQ2B,GAAM;AACpB,aAASthC,IAAI,GAAGA,IAAI,IAAIA;AACtB,MAAA2/B,EAAM3/B,CAAC,IAAIZ,EAAO,WAAW,MAAMY,IAAI,GAAGkhC,CAAc;AAE1D,QAAI0O,IAAQ;AACZ,UAAMhtB,IAAM,IAAI,MAAM,CAAC;AACvB,aAAS5iB,IAAI,GAAGA,IAAI,GAAGA;AAErB,MADA4iB,EAAI5iB,CAAC,IAAIZ,EAAO,UAAU,KAAKY,IAAI,GAAGkhC,CAAc,GAChD,EAAAlhC,IAAI,OAGR4vC,KAAShtB,EAAI5iB,CAAC,KAAK;AAErB,QAAI6vC,IAAO,IACPC,IAAS,KAAK,sBAAsBF,GAAOH,CAAW;AAC1D,QAAIK,IAASL,MAAgB;AAC3B,UAAI7sB,EAAI,CAAC,KAAK,KAAKA,EAAI,CAAC,IAAI,KAAKA,EAAI,CAAC,IAAI,KAAKA,EAAI,CAAC,IAAI;AACtD,QAAAitB,IAAO,IACPC,IAASltB,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC;AAAA;AAEhC,cAAM,IAAI,MAAM,sBAAsBgtB,IAAQ,gDAAgDH,IAAc,GAAG;AAInH,QADAG,IAAQE,GACJ5O;AACF,MAAIuK,MAAa,KACflE,IAAU,IAAI,aAAa1oC,GAAQ6vC,GAAWkB,CAAK,IAC1CnE,MAAa,IACtBlE,IAAU,IAAI,WAAW1oC,GAAQ6vC,GAAWkB,CAAK,IACxCnE,MAAa,MACtBlE,IAAU,IAAI,WAAW1oC,GAAQ6vC,GAAWkB,CAAK;AAAA,aAG/CnE,MAAa,IAAI;AACnB,MAAAlE,IAAU,IAAI,aAAaqI,CAAK;AAChC,eAAS5vC,IAAI,GAAGA,IAAI4vC,GAAO5vC;AACzB,QAAAunC,EAAQvnC,CAAC,IAAIZ,EAAO,WAAWsvC,IAAY1uC,IAAI,GAAGkhC,CAAc;AAAA,IAEpE,WAAWuK,MAAa,GAAG;AACzB,MAAAlE,IAAU,IAAI,WAAWqI,CAAK;AAC9B,eAAS5vC,IAAI,GAAGA,IAAI4vC,GAAO5vC;AACzB,QAAAunC,EAAQvnC,CAAC,IAAIZ,EAAO,SAASsvC,IAAY1uC,IAAI,GAAGkhC,CAAc;AAAA,IAElE,WAAWuK,MAAa,GAAG;AACzB,MAAAlE,IAAU,IAAI,WAAWqI,CAAK;AAC9B,eAAS5vC,IAAI,GAAGA,IAAI4vC,GAAO5vC;AACzB,QAAAunC,EAAQvnC,CAAC,IAAIZ,EAAO,SAASsvC,IAAY1uC,IAAI,GAAGkhC,CAAc;AAAA,IAElE;AAKF,QAHIuK,MAAa,MACflE,IAAU,IAAI,WAAW1oC,GAAQ6vC,GAAWkB,CAAK,IAE/CjB,MAAc,KAAKC,MAAc,GAAG;AACtC,YAAMxJ,IAAM,IAAI,aAAawK,CAAK;AAClC,eAAS5vC,IAAI,GAAGA,IAAI4vC,GAAO5vC;AACzB,QAAAolC,EAAIplC,CAAC,IAAIunC,EAAQvnC,CAAC,IAAI2uC,IAAYC;AAEpC,MAAArH,IAAUnC;AAAA,IACZ;AACA,aAASplC,IAAI,GAAGA,IAAI4vC,GAAO5vC;AACzB,MAAI,MAAMunC,EAAQvnC,CAAC,CAAC,MAClBunC,EAAQvnC,CAAC,IAAI;AAGjB,QAAI6vC,GAAM;AACR,UAAIE,IAA2B,SAASC,GAAK/oC,GAAG;AAC9C,cAAM/G,IAAM,CAAC,GAAG,GAAG,CAAC;AACpB,eAAAA,EAAI,CAAC,IAAI+G,EAAE,CAAC,IAAI+oC,EAAI,CAAC,IAAI/oC,EAAE,CAAC,IAAI+oC,EAAI,CAAC,IAAI/oC,EAAE,CAAC,IAAI+oC,EAAI,CAAC,IAAI/oC,EAAE,CAAC,GAC5D/G,EAAI,CAAC,IAAI+G,EAAE,CAAC,IAAI+oC,EAAI,CAAC,IAAI/oC,EAAE,CAAC,IAAI+oC,EAAI,CAAC,IAAI/oC,EAAE,CAAC,IAAI+oC,EAAI,CAAC,IAAI/oC,EAAE,CAAC,GAC5D/G,EAAI,CAAC,IAAI+G,EAAE,CAAC,IAAI+oC,EAAI,CAAC,IAAI/oC,EAAE,CAAC,IAAI+oC,EAAI,CAAC,IAAI/oC,EAAE,EAAE,IAAI+oC,EAAI,CAAC,IAAI/oC,EAAE,EAAE,GACvD/G;AAAA,MACT;AACA,YAAMklC,IAAM,IAAI,aAAawK,CAAK;AAClC,MAAAxe,EAAI,KAAK,0EAA0E,IAC/Ese,IAAaC,KAAcA,KAAc,MAC3Cve,EAAI,KAAK,sCAAsCue,CAAU,GAAG;AAE9D,YAAMM,IAAW3O,GAAM;AACvB4O,MAAAA,GAAaD,GAAUtQ,CAAK;AAC5B,YAAMwQ,IAAKvtB,EAAI,CAAC,GACVwtB,IAAKxtB,EAAI,CAAC,GACVytB,IAAKztB,EAAI,CAAC,GACV0tB,IAAMH,IAAKC;AACjB,UAAItkC,IAAI,GACJqH,IAAI,GACJo9B,IAAM;AACV,aAAOp9B,IAAIs8B,KAAa;AACtB,cAAMO,IAAM,CAACvW,EAAI3tB,CAAC,GAAG2tB,EAAI3tB,IAAI,CAAC,GAAG2tB,EAAI3tB,IAAI,CAAC,CAAC,GACrC0kC,IAAMT,EAAyBC,GAAKC,CAAQ;AAClD,QAAAnkC,KAAK,GACLqH,KAAK;AACL,cAAMs9B,IAAM,KAAK,MAAMD,EAAI,CAAC,CAAC,GACvBE,IAAM,KAAK,MAAMF,EAAI,CAAC,CAAC,GACvBG,IAAM,KAAK,MAAMH,EAAI,CAAC,CAAC,GACvBI,IAAM,KAAK,KAAKJ,EAAI,CAAC,CAAC,GACtBK,IAAM,KAAK,KAAKL,EAAI,CAAC,CAAC,GACtBM,IAAM,KAAK,KAAKN,EAAI,CAAC,CAAC;AAC5B,YAAIC,IAAM,KAAKG,KAAOT,KAAMO,IAAM,KAAKG,KAAOT,KAAMO,IAAM,KAAKG,KAAOT;AACpE;AAEF,cAAM31B,IAAO+1B,IAAMC,IAAMP,IAAKQ,IAAML,GAC9BtK,IAAK,IAAI,aAAa,CAAC;AAC7B,QAAAA,EAAG,CAAC,IAAIuB,EAAQ7sB,CAAI,GACpBsrB,EAAG,CAAC,IAAIuB,EAAQ7sB,IAAO,CAAC,GACxBsrB,EAAG,CAAC,IAAIuB,EAAQ7sB,IAAOy1B,CAAE,GACzBnK,EAAG,CAAC,IAAIuB,EAAQ7sB,IAAOy1B,IAAK,CAAC,GAC7BnK,EAAG,CAAC,IAAIuB,EAAQ7sB,IAAO41B,CAAG,GAC1BtK,EAAG,CAAC,IAAIuB,EAAQ7sB,IAAO41B,IAAM,CAAC,GAC9BtK,EAAG,CAAC,IAAIuB,EAAQ7sB,IAAO41B,IAAMH,CAAE,GAC/BnK,EAAG,CAAC,IAAIuB,EAAQ7sB,IAAO41B,IAAMH,IAAK,CAAC;AACnC,YAAIY,IAAO/K,EAAG,CAAC,GACXgL,KAAOD;AACX,iBAAS/wC,KAAI,GAAGA,KAAI,GAAGA;AACrB,UAAA+wC,IAAO,KAAK,IAAIA,GAAM/K,EAAGhmC,EAAC,CAAC,GAC3BgxC,KAAO,KAAK,IAAIA,IAAMhL,EAAGhmC,EAAC,CAAC;AAE7B,QAAI,KAAK,IAAIgxC,EAAI,IAAID,MACnBA,IAAOC,KAET5L,EAAIjyB,IAAI,CAAC,IAAI49B,GACbR;AAAA,MACF;AACA,YAAMU,IAAaV,IAAMd;AACzB,MAAIwB,IAAa,OACf7f,EAAI,KAAK,GAAGmf,CAAG,OAAOd,CAAW,wBAAwBwB,IAAa,KAAK,QAAQ,CAAC,CAAC,IAAI,GAE3F1J,IAAUnC;AAAA,IACZ;AACA,WAAOmC;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,QAAQ1oC,GAAQslC,IAAS,GAAG2D,IAAoB,IAAO;AAClE,QAAI1oC,IAAS,IAAI,SAASP,CAAM,GAC5B69B,IAAM79B;AACV,QAAIO,EAAO,SAAS,CAAC,MAAM,MAAMA,EAAO,SAAS,CAAC,MAAM,KAAK;AAC3D,YAAMk9B,IAAe,MAAMF,EAAY,WAAW,IAAI,WAAWv9B,CAAM,CAAC;AACxE,MAAA69B,IAAM,IAAI,YAAYJ,EAAa,UAAU,GAC7C,IAAI,WAAWI,CAAG,EAAE,IAAI,IAAI,WAAWJ,CAAY,CAAC,GACpDl9B,IAAS,IAAI,SAASk9B,EAAa,MAAM;AAAA,IAC3C;AACA,UAAM4U,IAAW9xC,EAAO,SAAS,GAAG,EAAK,GACnC+xC,IAAQ,KAAK,IAAI,GAAG/xC,EAAO,SAAS,GAAG,EAAK,CAAC,GAC7CgyC,IAAS,KAAK,IAAI,GAAGhyC,EAAO,SAAS,GAAG,EAAK,CAAC,GAC9CiyC,IAAQ,KAAK,IAAI,GAAGjyC,EAAO,SAAS,IAAI,EAAK,CAAC,GAC9CkyC,IAAU,KAAK,IAAI,GAAGlyC,EAAO,SAAS,IAAI,EAAK,CAAC,GAChD+9B,IAAQ/9B,EAAO,SAAS,IAAI,EAAK;AACvC,QAAIsvC,IAAY;AAChB,UAAMxN,IAAiB;AACvB,KAAIgQ,MAAa,KAAK/T,IAAQ,KAAKA,IAAQ,MACzC/L,EAAI,KAAK,sBAAsB;AAEjC,QAAIkH,IAAQ6Y,IAAQC,IAASC,IAAQC,GACjC/J,IAAU,CAAA;AAEd,QADAjP,IAAQ,KAAK,sBAAsBA,GAAO6L,CAAM,GAC5C7L,IAAQ6L,MAAW;AACrB,aAAA/S,EAAI,KAAK,wBAAwBkH,IAAQ,gDAAgD6L,IAAS,GAAG,GAC9FoD;AAET,QAAIpK,MAAU,GAAG;AACf,MAAAoK,IAAU,IAAI,aAAajP,CAAK;AAChC,eAASt4B,IAAI,GAAGA,IAAIs4B,GAAOt4B;AACzB,QAAAunC,EAAQvnC,CAAC,IAAIZ,EAAO,WAAWsvC,IAAY1uC,IAAI,GAAGkhC,CAAc;AAAA,IAEpE,WAAW/D,MAAU,GAAG;AACtB,MAAAoK,IAAU,IAAI,WAAWjP,CAAK;AAC9B,eAASt4B,IAAI,GAAGA,IAAIs4B,GAAOt4B;AACzB,QAAAunC,EAAQvnC,CAAC,IAAIZ,EAAO,SAASsvC,IAAY1uC,IAAI,GAAGkhC,CAAc;AAAA,IAElE,WAAW/D,MAAU,GAAG;AACtB,MAAAoK,IAAU,IAAI,WAAWjP,CAAK;AAC9B,eAASt4B,IAAI,GAAGA,IAAIs4B,GAAOt4B;AACzB,QAAAunC,EAAQvnC,CAAC,IAAIZ,EAAO,SAASsvC,IAAY1uC,IAAI,GAAGkhC,CAAc;AAAA,IAElE,MAAA,CAAW/D,MAAU,MACnBoK,IAAU,IAAI,WAAW1oC,GAAQ6vC,GAAWpW,CAAK;AAEnD,QAAI,CAACwP;AACH,aAAOP;AAET,QAAIgK,IAAiB;AACrB,IAAIpU,MAAU,MACZoU,IAAiB,IAEfpU,MAAU,MACZoU,IAAiB,IAEnB7C,KAAa6C,IAAiBjZ,GAC9BoW,KAAa,IAAI;AACjB,UAAM8C,IAAqB,GACrBC,IAAqB,GACrBC,IAAoB,IACpBC,IAAoB,IACpBC,IAASlV,EAAI;AACnB,QAAI+L;AACJ,WAAOiG,IAAYkD,IAAS,KAAG;AAC7B,YAAMC,IAAUzyC,EAAO,SAASsvC,KAAa,GAAGxN,CAAc;AAC9D,UAAI4Q,IAAO;AACX,cAAQD,GAAA;AAAA,QACN,KAAKF;AACH,UAAAG,IAAO1yC,EAAO,SAASsvC,KAAa,GAAGxN,CAAc,IAAI;AACzD;AAAA,QACF,KAAKwQ;AAAA,QAEL,KAAKD;AACH,UAAAK,IAAO;AACP;AAAA,QACF,KAAKN;AACH,UAAAM,IAAO;AACP;AACE,gBAAIC,IAAW3yC,EAAO,SAASsvC,KAAa,GAAGxN,CAAc;AAC7D,gBAAI6Q,IAAW;AACb,qBAAA3gB,EAAI,KAAK,kCAAkC,GACpCmW;AAGT,gBADAwK,IAAW,CAACA,GACRA,MAAa;AACf,qBAAA3gB,EAAI,KAAK,qCAAqC,GACvCmW;AAET,kBAAMyK,IAAW5yC,EAAO,SAASsvC,KAAa,GAAGxN,CAAc;AAC/D,gBAAI8Q,IAAW;AACb,qBAAA5gB,EAAI,KAAK,uCAAuC4gB,CAAQ,GACjDzK;AAET,kBAAMziC,IAAM1F,EAAO,SAASsvC,KAAa,GAAGxN,CAAc;AAC1D,YAAAwN,KAAa5pC;AACb,kBAAMmtC,IAAsB7yC,EAAO,SAASsvC,KAAa,GAAGxN,CAAc;AAC1E,gBAAI+Q,IAAsB;AACxB,qBAAO1K;AAET,kBAAMwD,IAAS,EAAE,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,QAAQ,CAAA,EAAC;AAC7D,qBAAS/qC,IAAI,GAAGA,IAAIiyC,GAAqBjyC,KAAK;AAC5C,oBAAMkyC,IAAY9yC,EAAO,SAASsvC,KAAa,GAAGxN,CAAc,GAC1DkH,IAAWhpC,EAAO,SAASsvC,KAAa,GAAGxN,CAAc;AAC/D,kBAAIpyB,IAAM4/B,IAAY,GAClBrG,IAAM;AACV,uBAAS3jC,IAAI,GAAGA,IAAI0jC,GAAU1jC,KAAK;AACjC,sBAAMuO,IAAM7T,EAAO,SAAS0P,GAAK;AACjC,oBAAImE,MAAQ;AACV;AAEF,gBAAAo1B,KAAO,OAAO,aAAap1B,CAAG;AAAA,cAChC;AACA,cAAAy7B,KAAatG;AACb,oBAAMz0B,IAAIvU,EAAO,SAASsvC,KAAa,GAAGxN,CAAc,GAClDoH,IAAIlpC,EAAO,SAASsvC,KAAa,GAAGxN,CAAc,GAClDztB,IAAIrU,EAAO,SAASsvC,KAAa,GAAGxN,CAAc,GAClD1tB,IAAI,MAAMpU,EAAO,SAASsvC,KAAa,GAAGxN,CAAc;AAC9D,cAAA6J,EAAO,EAAE,KAAKmH,CAAS,GACvBnH,EAAO,EAAE,KAAKp3B,CAAC,GACfo3B,EAAO,EAAE,KAAKzC,CAAC,GACfyC,EAAO,EAAE,KAAKt3B,CAAC,GACfs3B,EAAO,EAAE,KAAKv3B,CAAC,GACfu3B,EAAO,OAAO,KAAK1C,CAAG;AAAA,YACxB;AACA,YAAAI,IAAgB7Q,GAAQ,aAAamT,CAAM;AAAA,UAC7C;AACA;AAAA,QACF;AACE,UAAA+G,IAAO1yC,EAAO,SAASsvC,KAAa,GAAGxN,CAAc;AAAA,MAAA;AAEzD,MAAAwN,KAAaoD;AAAA,IACf;AACA,WAAO;AAAA,MACL,SAAAvK;AAAA,MACA,eAAAkB;AAAA;AAAA,IAAA;AAAA,EAGJ;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,QAAQ5pC,GAAQ;AACrB,UAAMiG,IAAMjG,EAAO;AACnB,QAAIiG,IAAM;AACR,YAAM,IAAI,MAAM,uCAAuCA,CAAG;AAE5D,UAAM8X,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAIiQ,IAAM;AACV,aAASsxB,IAAU;AACjB,aAAOtxB,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAEF,YAAMqjC,IAASrjC;AACf,aAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAEF,YAAMsjC,IAAOtjC;AACb,aAAO,IAAI,YAAA,EAAc,OAAOjQ,EAAO,MAAMszC,GAAQC,IAAO,CAAC,CAAC,EAAE,KAAA;AAAA,IAClE;AACA,QAAI9R,IAAOF,EAAA;AACX,aAASiS,EAAc7R,GAAS;AAC9B,YAAM8R,IAAOhS,EAAK,QAAQE,IAAU,GAAG;AACvC,UAAI8R,IAAO;AACT,eAAO;AAET,YAAMC,IAAYjS,EAAKgS,IAAO9R,EAAQ,SAAS,CAAC,GAC1CE,IAAOJ,EAAK,QAAQiS,GAAWD,CAAI,IAAI,GACvC3R,IAAOL,EAAK,QAAQiS,GAAW7R,CAAI;AACzC,aAAOJ,EAAK,MAAMI,GAAMC,CAAI;AAAA,IAC9B;AACA,aAASJ,EAAeC,GAAS;AAC/B,YAAM8R,IAAOhS,EAAK,QAAQE,IAAU,GAAG;AACvC,UAAI8R,IAAO;AACT,eAAO;AAET,YAAMC,IAAYjS,EAAKgS,IAAO9R,EAAQ,SAAS,CAAC,GAC1CE,IAAOJ,EAAK,QAAQiS,GAAWD,CAAI,IAAI,GACvC3R,IAAOL,EAAK,QAAQiS,GAAW7R,CAAI;AACzC,UAAIxuB,IAAMouB,EAAK,MAAMI,GAAMC,CAAI,EAAE,KAAA;AACjC,MAAAzuB,IAAMA,EAAI,QAAQ,SAAS,EAAE;AAC7B,YAAMsP,IAAQtP,EAAI,KAAA,EAAO,MAAM,aAAa;AAC5C,UAAIsP,EAAM,SAAS;AACjB,eAAO,WAAWtP,CAAG;AAEvB,UAAIstB,IAAM,IAAI,MAAMhe,EAAM,MAAM,GAC5B1V,IAAI;AACR,eAAS9L,IAAI,GAAGA,IAAIwhB,EAAM,QAAQxhB,KAAK;AACrC,cAAMoE,IAAI,WAAWod,EAAMxhB,CAAC,CAAC;AAC7B,QAAK,SAASoE,CAAC,MAGfo7B,EAAI1zB,CAAC,IAAI1H,GACT0H;AAAA,MACF;AACA,aAAA0zB,IAAMA,EAAI,MAAM,GAAG1zB,CAAC,GACb0zB;AAAA,IACT;AACA,IAAKc,EAAK,SAAS,aAAa,KAC9BlP,EAAI,KAAK,iBAAiB;AAE5B,QAAIqU,IAAY,CAAA,GACZvX,IAAU,CAAA,GACV2C,IAAU,CAAA,GACV2hB,IAAQ,CAAA,GACRC,IAAc,CAAC,GAAG,GAAG,GAAG,CAAC,GACzBC,IAAW,CAAC,GAAG,GAAG,GAAG,CAAC,GACtBC,IAAO,CAAC,KAAK,KAAK,KAAK,GAAG,GAC1BC,IAAa,CAAC,KAAK,KAAK,KAAK,GAAG;AACpC,UAAMC,IAAmB,CAAA;AACzB,aAASC,IAAiB;AACxB,UAAI,CAACxS,EAAK,SAAS,IAAI;AACrB,YAAIA,EAAK,WAAW,cAAc;AAChC,iBAAOxxB,IAAMhK,KAAO,CAACw7B,EAAK,SAAS,eAAe;AAChD,YAAAA,KAAQF,EAAA;AAAA;AAGV,iBAAOtxB,IAAMhK,KAAO,CAACw7B,EAAK,SAAS,IAAI;AACrC,YAAAA,KAAQF,EAAA;AAId,YAAM2S,IAAMV,EAAc,KAAK;AAC/B,UAAIU,EAAI,SAAS,GAAG;AAClB,QAAIA,KAAOF,IACTF,IAAOE,EAAiBE,CAAG,IAE3B3hB,EAAI,KAAK,4BAA4B2hB,CAAG;AAE1C;AAAA,MACF;AACA,YAAMC,IAAezS,EAAe,cAAc;AAClD,UAAIyS,EAAa,SAAS;AACxB;AAEF,MAAAL,EAAK,CAAC,IAAI,KAAK,MAAMK,EAAa,CAAC,IAAI,GAAG,GAC1CL,EAAK,CAAC,IAAI,KAAK,MAAMK,EAAa,CAAC,IAAI,GAAG,GAC1CL,EAAK,CAAC,IAAI,KAAK,MAAMK,EAAa,CAAC,IAAI,GAAG;AAC1C,YAAMC,IAAMZ,EAAc,KAAK;AAC/B,MAAIY,EAAI,SAAS,MAGjBJ,EAAiBI,CAAG,IAAIN;AAAA,IAC1B;AACA,WAAO7jC,IAAMhK;AAWX,UAVAw7B,IAAOF,EAAA,GACPuS,IAAOC,EAAW,MAAA,GACdtS,EAAK,WAAW,YAAY,MAC9BmS,IAAclS,EAAe,aAAa,GAC1CmS,IAAWnS,EAAe,UAAU,IAElCD,EAAK,WAAW,aAAa,MAC/BwS,EAAA,GACAF,IAAaD,EAAK,MAAA,IAEhBrS,EAAK,WAAW,QAAQ,GAAG;AAC7B,YAAIzS,IAAS,GACTujB,IAAS,GACT8B,IAAa,CAAA,GACbC,IAAQ,CAAA;AACZ,eAAOrkC,IAAMhK,MACXw7B,IAAOF,EAAA,GACHE,EAAK,WAAW,aAAa,KAC/BwS,EAAA,GAEE,CAAAxS,EAAK,WAAW,SAAS,MALb;AA4BhB,cApBIA,EAAK,WAAW,SAAS,MAC3BzS,IAAS0S,EAAe,QAAQ,GAChC6Q,IAAS,KAEP9Q,EAAK,WAAW,WAAW,MAC7BzS,IAAS0S,EAAe,QAAQ,GAChC6Q,IAAS7Q,EAAe,QAAQ,IAE9BD,EAAK,WAAW,iBAAiB,MACnC8Q,IAAS,IACT8B,IAAa3S,EAAe,YAAY,IAEtCD,EAAK,WAAW,qBAAqB,MACvC8Q,IAAS,IACT8B,IAAa3S,EAAe,OAAO,IAEjCD,EAAK,WAAW,0BAA0B,MAC5C8Q,IAAS,IACT8B,IAAa3S,EAAe,OAAO,IAEjCD,EAAK,WAAW,aAAa,GAAG;AAClC,YAAA6S,IAAQ5S,EAAe,OAAO;AAC9B,kBAAM6S,IAAMD,EAAM,SAAS;AAC3B,YAAIC,MAAQ,MACVD,IAAQA,EAAM,MAAM,GAAG,CAACC,CAAG;AAAA,UAE/B;AACA,UAAI9S,EAAK,WAAW,QAAQ,MAC1BkS,IAAQjS,EAAe,OAAO,IAE5BD,EAAK,WAAW,MAAM,MACxB8Q,IAAS,IACThgB,EAAI,KAAK,4BAA4B,IAEnCkP,EAAK,WAAW,OAAO,MACzB8Q,IAAS,IACThgB,EAAI,KAAK,6BAA6B,IAEpCkP,EAAK,WAAW,gBAAgB,MAClC8Q,IAAS,IACThgB,EAAI,KAAK,sCAAsC;AAAA,QAEnD;AACA,YAAI,EAAAggB,IAAS,MAAMA,MAAW,IAC9B,KAAWA,IAAS,IAAI;AACtB,cAAI8B,EAAW,SAAS,KAAKC,EAAM,SAAS,KAAKA,EAAM,WAAW,QAAQ;AACxE,YAAA/hB,EAAI,KAAK,8CAA8C;AACvD;AAAA,UACF;AACA,gBAAMvB,IAAO,KAAK,MAAM4V,EAAU,SAAS,CAAC;AAC5C,cAAI35B,IAAI;AACR,cAAIslC,MAAW;AACb,YAAAljB,IAAU,CAAC,GAAGA,GAAS,GAAGglB,CAAU;AAAA,mBAC3B9B,MAAW,IAAI;AACxB,gBAAIiC,IAAW;AACf,mBAAOvnC,IAAIonC,EAAW;AACpB,cAAIA,EAAWpnC,CAAC,KAAK,KACnBoiB,EAAQ,KAAKglB,EAAWG,CAAQ,IAAIxjB,CAAI,GACxC3B,EAAQ,KAAKglB,EAAWpnC,IAAI,CAAC,IAAI+jB,CAAI,GACrC3B,EAAQ,KAAKglB,EAAWpnC,IAAI,CAAC,IAAI+jB,CAAI,GACrC/jB,KAAK,MAELA,KAAK,GACLunC,IAAWvnC,IAAI;AAAA,UAGrB;AACE,mBAAOA,IAAIonC,EAAW;AACpB,cAAIA,EAAWpnC,CAAC,KAAK,KACnBoiB,EAAQ,KAAKglB,EAAWpnC,IAAI,CAAC,IAAI+jB,CAAI,GACrC3B,EAAQ,KAAKglB,EAAWpnC,IAAI,CAAC,IAAI+jB,CAAI,GACrC3B,EAAQ,KAAKglB,EAAWpnC,IAAI,CAAC,IAAI+jB,CAAI,GACrC/jB,KAAK,KAELA,KAAK;AAIX,UAAA25B,IAAY,CAAC,GAAGA,GAAW,GAAG0N,CAAK;AACnC,gBAAMtS,IAAM,KAAK,MAAMsS,EAAM,SAAS,CAAC,GACjCG,IAAQ,MAAMzS,CAAG,EAAE,KAAK8R,CAAI,EAAE,KAAA;AACpC,cAAIH,EAAM,WAAW3R,IAAM,GAAG;AAC5B,gBAAI0S,IAAK,GACLC,IAAK;AACT,qBAASxzC,IAAI,GAAGA,IAAI6gC,GAAK7gC,KAAK;AAC5B,uBAAS8rC,IAAK,GAAGA,IAAK,GAAGA;AACvB,gBAAAwH,EAAME,CAAE,IAAI,KAAK,MAAMhB,EAAMe,CAAE,IAAI,GAAG,GACtCA,KACAC;AAEF,cAAAA;AAAA,YACF;AAAA,UACF;AACA,UAAA3iB,IAAU,CAAC,GAAGA,GAAS,GAAGyiB,CAAK;AAAA,QACjC,WAAWlC,IAAS;AAClB,UAAArgB,GAAe,kBAAkB0U,GAAWvX,GAAS2C,GAAShD,GAAQ4kB,GAAaE,CAAI;AAAA,aAClF;AACL,gBAAMnmC,IAAI80B,GAAM;AAChBmS,UAAAA,GAAmBjnC,GAAGkmC,EAAS,CAAC,GAAG,CAACA,EAAS,CAAC,GAAGA,EAAS,CAAC,GAAGA,EAAS,CAAC,CAAC,CAAC;AAC1E,gBAAMgB,IAAM3R,GAAiB,GAAG,CAACqP,IAAS,KAAK,GAAG,CAAC,GAC7CuC,IAAM5R,GAAiB,GAAG,CAACqP,IAAS,KAAK,GAAG,CAAC;AACnDpP,UAAAA,GAAoB0R,GAAKA,GAAKlnC,CAAC,GAC/Bw1B,GAAoB2R,GAAKA,GAAKnnC,CAAC,GAC/BonC,GAAUF,GAAKA,GAAKjB,CAAW,GAC/BmB,GAAUD,GAAKA,GAAKlB,CAAW;AAC/B,gBAAMoB,IAAOC,EAAiBJ,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,CAAC,GAC9CK,IAAOD,EAAiBH,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,CAAC;AACpD,UAAA5iB,GAAe,oBAAoB0U,GAAWvX,GAAS2C,GAASgjB,GAAME,GAAMlmB,GAAQ8kB,CAAI;AAAA,QAC1F;AAAA,MACF;AAEF,WAAO;AAAA,MACL,WAAW,aAAa,KAAKlN,CAAS;AAAA,MACtC,SAAS,YAAY,KAAKvX,CAAO;AAAA,MACjC,SAAS,WAAW,KAAK2C,CAAO;AAAA,IAAA;AAAA,EAEpC;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,QAAQhyB,GAAQslC,IAAS,GAAG;AACvC,QAAIr/B,IAAMjG,EAAO;AACjB,QAAIiG,IAAM;AACR,YAAM,IAAI,MAAM,uCAAuCA,CAAG;AAE5D,QAAIsX,IAAQ,IAAI,YAAY,OAAO,EAAE,OAAOvd,CAAM;AAClD,QAAIud,EAAM,CAAC,EAAE,WAAW,CAAC,MAAM,IAAI;AACjC,YAAMsgB,IAAM,MAAMN,EAAY,WAAW,IAAI,WAAWv9B,CAAM,CAAC;AAC/D,MAAAA,IAAS69B,EAAI,QACbtgB,IAAQ,IAAI,YAAY,OAAO,EAAE,OAAOsgB,EAAI,MAAM;AAAA,IACpD;AACA,QAAI5tB,IAAM;AACV,aAASklC,IAAa;AACpB,UAAIC,IAAa,IACb5T,IAAWvxB;AACf,aAAOmlC,KAAY;AACjB,eAAOnlC,IAAMhK,KAAOsX,EAAMtN,CAAG,MAAM;AACjC,UAAAA;AAGF,aADAuxB,IAAWvxB,GACJA,IAAMhK,KAAOsX,EAAMtN,CAAG,MAAM;AACjC,UAAAA;AAOF,YALAmlC,IAAa73B,EAAMtN,IAAM,CAAC,MAAM,KAC5BuxB,IAAW,IAAIv7B,KAAOsX,EAAMikB,IAAW,CAAC,MAAM,QAChDvxB,KAAO,GACPmlC,IAAa,KAEXnlC,KAAOhK;AACT;AAAA,MAEJ;AACA,YAAMovC,IAAY,IAAI,YAAA,EAAc,OAAOr1C,EAAO,MAAMwhC,IAAW,GAAGvxB,CAAG,CAAC,EAAE,KAAA,GACtEqlC,IAAWD,EAAU,MAAM,GAAG,EAAE,CAAC,EAAE,KAAA,GACnCE,IAAkBtlC;AACxB,UAAIulC,IAAgBvlC,GAChBwlC,IAASxlC;AACb,UAAIsN,EAAMikB,IAAW,CAAC,MAAM,OAAOjkB,EAAMikB,IAAW,CAAC,MAAM,KAAK;AAC9D,cAAMkU,IAAS,OAAOJ,IAAW;AACjC,QAAAE,IAAgBj4B,EAAM,QAAQm4B,GAAQH,CAAe,GACrDE,IAASD,IAAgBE,EAAO,SAAS;AAAA,MAC3C;AACA,aAAO;AAAA,QACL,MAAML;AAAA,QACN,UAAA7T;AAAA,QACA,iBAAA+T;AAAA,QACA,eAAAC;AAAA,QACA,QAAAC;AAAA,MAAA;AAAA,IAEJ;AACA,QAAI5R,IAAMsR,EAAA;AACV,QAAI,CAACtR,EAAI,KAAK,WAAW,MAAM;AAC7B,YAAM,IAAI,MAAM,2BAA2B;AAE7C,WAAO,CAACA,EAAI,KAAK,WAAW,OAAO,KAAKA,EAAI,SAAS59B;AACnD,MAAA49B,IAAMsR,EAAA;AAER,QAAI,CAACtR,EAAI,KAAK,WAAW,OAAO,KAAKA,EAAI,oBAAoBA,EAAI;AAC/D,YAAM,IAAI,MAAM,8CAA8C;AAEhE,IAAA59B,IAAM49B,EAAI;AACV,QAAI+C,IAAY,IAAI,aAAA,GAChBvX,IAAU,IAAI,YAAA,GACdqZ,IAAU,IAAI,aAAA,GACdkH,IAA6B,IAC7B+F,IAAQ,IACRC,IAAQ,IACRC,IAAY,IACZC,IAAa,IACbC,IAAO,CAAC,GAAG,GAAG,CAAC;AACnB,UAAMzH,IAAqB,CAAC,GAAG,GAAG,CAAC;AACnC,QAAI0H,IAAW,GACXC,IAAS,IACTC,IAAU,IACVzc,IAAQ,GACR0c,IAAqB;AACzB,IAAAtS,EAAI,SAASA,EAAI;AACjB,QAAIpC,IAAO;AACX,aAASC,EAAeC,GAASyU,IAAU,IAAO;AAChD,YAAMxU,IAAOH,EAAK,QAAQE,CAAO;AACjC,UAAIC,IAAO;AACT,eAAO;AAET,YAAMC,IAAOJ,EAAK,QAAQ,KAAKG,CAAI,IAAI,GACjCE,IAAOL,EAAK,QAAQ,KAAKI,CAAI,GAC7BxuB,IAAMouB,EAAK,MAAMI,GAAMC,CAAI;AACjC,aAAIsU,IACK,WAAW/iC,CAAG,IAEd,SAASA,CAAG;AAAA,IAEvB;AACA,aAASgjC,EAAe1U,GAAS;AAC/B,YAAMC,IAAOH,EAAK,QAAQE,CAAO;AACjC,UAAIC,IAAO;AACT,eAAO;AAET,YAAMC,IAAOD,IAAOD,EAAQ,QACtBG,IAAOL,EAAK,QAAQ,KAAKI,CAAI;AACnC,aAAOJ,EAAK,MAAMI,GAAMC,CAAI;AAAA,IAC9B;AACA,UAAMoK,IAAS,EAAE,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,GAAG,CAAA,GAAI,QAAQ,CAAA,EAAC;AAC7D,WAAOrI,EAAI,SAAS59B,KAAO49B,EAAI,KAAK,SAAS,KAAG;AAY9C,UAXAA,IAAMsR,EAAA,GACFtR,EAAI,KAAK,WAAW,WAAW,MACjCpC,IAAOoC,EAAI,MACXqI,EAAO,EAAE,KAAKxK,EAAe,MAAM,CAAC,GACpCwK,EAAO,EAAE,KAAK,KAAK,MAAM,MAAMxK,EAAe,QAAQ,EAAI,CAAC,CAAC,GAC5DwK,EAAO,EAAE,KAAK,KAAK,MAAM,MAAMxK,EAAe,UAAU,EAAI,CAAC,CAAC,GAC9DwK,EAAO,EAAE,KAAK,KAAK,MAAM,MAAMxK,EAAe,SAAS,EAAI,CAAC,CAAC,GAC7DwK,EAAO,EAAE,KAAK,KAAK,MAAM,MAAMxK,EAAe,SAAS,EAAI,CAAC,CAAC,GAC7DD,IAAO,IAAI,YAAA,EAAc,OAAOzhC,EAAO,MAAM6jC,EAAI,kBAAkB,GAAGA,EAAI,aAAa,CAAC,EAAE,KAAA,GAC1FqI,EAAO,OAAO,KAAKmK,EAAe,WAAW,CAAC,IAE5CxS,EAAI,KAAK,KAAA,MAAW,QAAQ;AAC9B,YAAIgS;AACF;AAEF,QAAApU,IAAO,IAAI,YAAA,EAAc,OAAOzhC,EAAO,MAAM6jC,EAAI,kBAAkB,GAAGA,EAAI,aAAa,CAAC,EAAE,KAAA;AAC1F,YAAIyS;AACJ,YAAIJ,GAAS;AACX,gBAAMK,IAASR,EAAK,CAAC,IAAIA,EAAK,CAAC,IAAIA,EAAK,CAAC,GACnC1Q,IAAQ5D,EAAK,MAAM,KAAK;AAC9B,cAAI8U,MAAWlR,EAAM;AACnB,kBAAM,IAAI,MAAM,6BAA6B;AAQ/C,cANI2Q,MAAa,MACfA,IAAW,IAETA,MAAa,OACfA,IAAW,KAETA,MAAa,GAAG;AAClB,YAAAM,IAAS,IAAI,WAAWC,CAAM;AAC9B,qBAAShxC,IAAI,GAAGA,IAAIgxC,GAAQhxC;AAC1B,cAAA+wC,EAAO/wC,CAAC,IAAI,SAAS8/B,EAAM9/B,CAAC,CAAC;AAAA,UAEjC;AACA,cAAIywC,MAAa,IAAI;AACnB,YAAAM,IAAS,IAAI,aAAaC,CAAM;AAChC,qBAAShxC,IAAI,GAAGA,IAAIgxC,GAAQhxC;AAC1B,cAAA+wC,EAAO/wC,CAAC,IAAI,WAAW8/B,EAAM9/B,CAAC,CAAC;AAAA,UAEnC;AAAA,QACF,WAAW,OAAO,SAAW,KAAa;AACxC,cAAIixC,IAAgB,SAASzX,GAAQ;AACnC,kBAAM0X,IAAgB,KAAK1X,CAAM,GAC3B2X,IAAOD,EAAc,QACrB14B,IAAQ,IAAI,WAAW24B,CAAI;AACjC,qBAASv1C,IAAI,GAAGA,IAAIu1C,GAAMv1C;AACxB,cAAA4c,EAAM5c,CAAC,IAAIs1C,EAAc,WAAWt1C,CAAC;AAEvC,mBAAO4c;AAAA,UACT;AACA,cAAIk4B,GAAQ;AACV,kBAAMU,IAAOH,EAAc/U,EAAK,MAAA,CAAO;AACvC,YAAA6U,IAAS,MAAM/Y,EAAY,WAAW,IAAI,WAAWoZ,CAAI,CAAC;AAAA,UAC5D;AACE,YAAAL,IAASE,EAAc/U,EAAK,OAAO;AAAA,QAEvC,WACMwU,GAAQ;AACV,gBAAMU,IAAO,OAAO,KAAKlV,EAAK,MAAA,GAAS,QAAQ;AAC/C,UAAA6U,IAAS,MAAM/Y,EAAY,WAAW,IAAI,WAAWoZ,CAAI,CAAC;AAAA,QAC5D;AACE,UAAAL,IAAS,OAAO,KAAK7U,EAAK,MAAA,GAAS,QAAQ;AAG/C,YAAImU;AAKF,cAJII,MAAa,MACfzjB,EAAI,KAAK,6BAA6B,GAExCqU,IAAY,IAAI,aAAa0P,EAAO,MAAM,GACtCR,GAAY;AACd,kBAAM3K,IAAMvE,EAAU,MAAA,GAChBgQ,IAAKzL,EAAI,SAAS;AACxB,gBAAIl+B,IAAI;AACR,qBAASuB,IAAI,GAAGA,IAAIooC,GAAIpoC;AACtB,uBAASrN,IAAI,GAAGA,IAAI,GAAGA;AACrB,gBAAAylC,EAAU35B,CAAC,IAAIk+B,EAAIhqC,IAAIy1C,IAAKpoC,CAAC,GAC7BvB;AAAA,UAGN;AAAA,mBACS0oC;AAKT,cAJIK,MAAa,KACfzjB,EAAI,KAAK,yBAAyB,GAEpClD,IAAU,IAAI,YAAYinB,EAAO,MAAM,GACnCR,GAAY;AACd,kBAAM3K,IAAM9b,EAAQ,MAAA,GACdunB,IAAKzL,EAAI,SAAS;AACxB,gBAAIl+B,IAAI;AACR,qBAASuB,IAAI,GAAGA,IAAIooC,GAAIpoC;AACtB,uBAASrN,IAAI,GAAGA,IAAI,GAAGA;AACrB,gBAAAkuB,EAAQpiB,CAAC,IAAIk+B,EAAIhqC,IAAIy1C,IAAKpoC,CAAC,GAC3BvB;AAAA,UAGN;AAAA,eACK;AACL,cAAI4pC,IAAgB,SAASC,GAAOC,GAAQ;AAC1C,kBAAMC,IAAcF,EAAM,QACpBnjC,IAAS,IAAI,aAAaqjC,IAAcD,EAAO,MAAM;AAC3D,mBAAApjC,EAAO,IAAImjC,CAAK,GAChBnjC,EAAO,IAAIojC,GAAQC,CAAW,GACvBrjC;AAAA,UACT;AACA,UAAA8lB,IAAQsc,EAAK,CAAC,IAAIA,EAAK,CAAC,IAAIA,EAAK,CAAC,GAC9BzQ,MAAW,KACT7L,IAAQ6L,MAAW,KACrB/S,EAAI,KAAK,2CAA2CkH,IAAQ,4BAA4B6L,IAAS,GAAG;AAGxG,cAAIqD;AACJ,cAAIqN,MAAa,GAAG;AAClB,kBAAMiB,IAAa,IAAI,WAAWX,EAAO,MAAM;AAC/C,YAAA3N,IAAa,aAAa,KAAKsO,CAAU;AAAA,UAC3C,WAAWjB,MAAa,GAAG;AACzB,kBAAMiB,IAAa,IAAI,WAAWX,EAAO,MAAM;AAC/C,YAAA3N,IAAa,aAAa,KAAKsO,CAAU;AAAA,UAC3C,WAAWjB,MAAa;AACtB,YAAArN,IAAa,IAAI,aAAa2N,EAAO,MAAM;AAAA,mBAClCN,MAAa,IAAI;AAC1B,kBAAMkB,IAAc,IAAI,aAAaZ,EAAO,MAAM;AAClD,YAAA3N,IAAa,aAAa,KAAKuO,CAAW;AAAA,UAC5C;AACE,kBAAM,IAAI,MAAM,qBAAqBlB,CAAQ,EAAE;AAEjD,UAAAtN,IAAUmO,EAAcnO,GAASC,CAAU;AAAA,QAC7C;AACA;AAAA,MACF;AAOA,UANI9E,EAAI,KAAK,KAAA,MAAW,gBACtBpC,IAAO,IAAI,YAAA,EAAc,OAAOzhC,EAAO,MAAM6jC,EAAI,kBAAkB,GAAGA,EAAI,aAAa,CAAC,EAAE,KAAA,GACtFpC,EAAK,SAAS,0BAA0B,MAC1C0U,IAAqB,MAGrBtS,EAAI,KAAK,KAAA,MAAW,SACtBpC,IAAO,IAAI,YAAA,EAAc,OAAOzhC,EAAO,MAAM6jC,EAAI,kBAAkB,GAAGA,EAAI,aAAa,CAAC,EAAE,KAAA,GACtFpC,EAAK,SAAS,4BAA4B,KAAKA,EAAK,SAAS,QAAQ,MACvEmO,IAA6ByG,EAAe,kBAAkB,EAAE,YAAA,IAE9D5U,EAAK,SAAS,SAAS,KAAKA,EAAK,SAAS,QAAQ,IAAG;AACvD,YAAI5yB,IAAI;AAUR,YATI4yB,EAAK,SAAS,YAAY,MAC5B5yB,IAAI,IAEF4yB,EAAK,SAAS,YAAY,MAC5B5yB,IAAI,IAEF4yB,EAAK,SAAS,YAAY,MAC5B5yB,IAAI,IAEFA,IAAI;AACN;AAEF,QAAAy/B,EAAmBz/B,CAAC,IAAI,WAAWwnC,EAAe,kBAAkB,CAAC;AAAA,MACvE;AAEF,MAAKxS,EAAI,KAAK,WAAW,WAAW,MAGpCpC,IAAOoC,EAAI,MACXkS,IAAO,CAAC,GAAG,GAAG,CAAC,GACfE,IAASxU,EAAK,SAAS,6BAA6B,GACpDyU,IAAUzU,EAAK,SAAS,kBAAkB,GAC1CkU,IAAQlU,EAAK,SAAS,gCAAgC,GACtDmU,IAAQnU,EAAK,SAAS,gCAAgC,GACtDoU,IAAYpU,EAAK,SAAS,8BAA8B,GACxDqU,IAAarU,EAAK,SAAS,uCAAuC,GAC9DA,EAAK,SAAS,6BAA6B,MAC7CuU,IAAW,IAETvU,EAAK,SAAS,6BAA6B,MAC7CuU,IAAW,IAETvU,EAAK,SAAS,+BAA+B,MAC/CuU,IAAW,KAETvU,EAAK,SAAS,+BAA+B,MAC/CuU,IAAW,KAEbD,EAAK,CAAC,IAAIrU,EAAe,OAAO,GAChCqU,EAAK,CAAC,IAAIrU,EAAe,OAAO,GAChCqU,EAAK,CAAC,IAAIrU,EAAe,OAAO;AAAA,IAClC;AACA,QAAIkI;AAQJ,QAPIsC,EAAO,EAAE,SAAS,MACHA,EAAO,EAAE,KAAK,CAAC1qC,MAAMA,IAAI,CAAC,KAEzC0qC,EAAO,EAAE,KAAK,GAAG,GAEnBtC,IAAgB7Q,GAAQ,aAAamT,CAAM,IAEzC5G,IAAS;AACX,aAAO,EAAE,SAAAoD,GAAS,eAAAkB,GAAe,4BAAAgG,EAAA;AAEnC,QAAIhJ,EAAU,SAAS,KAAK,CAACuP,MAAuB7H,EAAmB,CAAC,MAAM,KAAKA,EAAmB,CAAC,MAAM,KAAKA,EAAmB,CAAC,MAAM,IAAI;AAC9I,MAAA7U,IAAQ,KAAK,MAAMmN,EAAU,SAAS,CAAC;AACvC,UAAIzlC,IAAI;AACR,eAASoE,IAAI,GAAGA,IAAIk0B,GAAOl0B;AACzB,QAAAqhC,EAAUzlC,CAAC,KAAKmtC,EAAmB,CAAC,GACpCntC,KACAylC,EAAUzlC,CAAC,KAAKmtC,EAAmB,CAAC,GACpCntC,KACAylC,EAAUzlC,CAAC,KAAKmtC,EAAmB,CAAC,GACpCntC;AAAA,IAEJ;AACA,WAAO;AAAA,MACL,WAAAylC;AAAA,MACA,SAAAvX;AAAA,MACA,SAAAqZ;AAAA,MACA,eAAAkB;AAAA,MACA,4BAAAgG;AAAA,IAAA;AAAA,EAEJ;AAAA;AAEF,GA2DIuH,KAAY,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMpB,YAAYC,GAAMC,GAAOC,GAAQC,GAAQC,GAAS;AAChD,IAAAvkC,EAAc,MAAM,MAAM,GAC1BA,EAAc,MAAM,OAAO,GAC3BA,EAAc,MAAM,QAAQ,GAC5BA,EAAc,MAAM,QAAQ,GAC5BA,EAAc,MAAM,SAAS,GAC7B,KAAK,OAAOmkC,GACZ,KAAK,QAAQC,GACb,KAAK,SAASC,GACd,KAAK,SAASC,KAAU,GACxB,KAAK,UAAUC;AAAA,EACjB;AACF,GAeIC,KAAyB,MAAM;AACjC,QAAMz3C,IAAS,IAAI,YAAY,CAAC;AAChC,aAAI,SAASA,CAAM,EAAE,SAAS,GAAG,KAAK,EAAI,GACnC,IAAI,WAAWA,CAAM,EAAE,CAAC,MAAM;AACvC,GACI03C,uBAA8BC,OAChCA,EAAWA,EAAW,UAAa,CAAC,IAAI,WACxCA,EAAWA,EAAW,MAAS,CAAC,IAAI,OACpCA,EAAWA,EAAW,MAAS,CAAC,IAAI,OACpCA,EAAWA,EAAW,eAAkB,CAAC,IAAI,gBAC7CA,EAAWA,EAAW,MAAS,CAAC,IAAI,OACpCA,EAAWA,EAAW,MAAS,CAAC,IAAI,OACpCA,EAAWA,EAAW,OAAU,CAAC,IAAI,QACrCA,EAAWA,EAAW,OAAU,CAAC,IAAI,QACrCA,EAAWA,EAAW,MAAS,CAAC,IAAI,OACpCA,EAAWA,EAAW,MAAS,CAAC,IAAI,OACpCA,EAAWA,EAAW,MAAS,EAAE,IAAI,OACrCA,EAAWA,EAAW,MAAS,EAAE,IAAI,OACrCA,EAAWA,EAAW,IAAO,EAAE,IAAI,KACnCA,EAAWA,EAAW,MAAS,EAAE,IAAI,OACrCA,EAAWA,EAAW,MAAS,EAAE,IAAI,OACrCA,EAAWA,EAAW,OAAU,EAAE,IAAI,QACtCA,EAAWA,EAAW,aAAgB,EAAE,IAAI,cAC5CA,EAAWA,EAAW,MAAS,EAAE,IAAI,OACrCA,EAAWA,EAAW,MAAS,EAAE,IAAI,OACrCA,EAAWA,EAAW,MAAS,EAAE,IAAI,OACrCA,EAAWA,EAAW,OAAU,EAAE,IAAI,QACtCA,EAAWA,EAAW,MAAS,EAAE,IAAI,OACrCA,EAAWA,EAAW,MAAS,EAAE,IAAI,OACrCA,EAAWA,EAAW,MAAS,EAAE,IAAI,OAC9BA,IACND,MAAa,CAAA,CAAE,GACdE,IAAe,OAAO,OAAO;AAAA,EAC/B,GAAGF;AAAA,EACH,OAAO,CAACzP,MAAQ;AACd,QAAI4P,IAAY;AAChB,YAAQ5P,EAAI,eAAY;AAAA,MACtB,KAAK;AAAA,MACL,KAAK;AACH,QAAA4P,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,MACF,KAAK;AACH,QAAAA,IAAY;AACZ;AAAA,IAAA;AAEJ,WAAOA;AAAA,EACT;AACF,CAAC,GACGC,KAAwB,CAAC13C,GAAK23C,IAAe,IAAI3sC,IAAO,IAAIo8B,IAAW,QAAQD,IAAU,GAAGI,IAAU,KAAKC,IAAU,KAAKoQ,IAAiB,IAAMC,IAAiB,MAAMC,IAAmB,IAAOC,IAAmB,IAAO1Q,IAAmB,IAAI2Q,IAAU,GAAGP,IAAYD,EAAa,SAASS,IAAa,KAAKC,IAAa,KAAKC,IAAkB,IAAMC,IAAiB,IAAO5O,IAAgB,UACjY;AAAA,EACL,KAAAxpC;AAAA,EACA,cAAA23C;AAAA,EACA,MAAA3sC;AAAA,EACA,UAAAo8B;AAAA,EACA,UAAUA;AAAA,EACV,SAAAD;AAAA,EACA,SAAAI;AAAA,EACA,SAAAC;AAAA,EACA,gBAAAoQ;AAAA,EACA,gBAAAC;AAAA,EACA,kBAAAC;AAAA,EACA,kBAAAC;AAAA,EACA,kBAAA1Q;AAAA,EACA,WAAAoQ;AAAA,EACA,YAAAQ;AAAA,EACA,YAAAC;AAAA,EACA,iBAAAC;AAAA,EACA,SAAAH;AAAA,EACA,gBAAAI;AAAA,EACA,eAAA5O;AAAA;AAGJ,SAAS6O,GAAWplC,GAAKqlC,IAAS,IAAI;AACpC,EAAArlC,IAAMA,EAAI,QAAQ,SAAS,EAAE;AAC7B,QAAM0K,IAAQ,CAAA,GACR9X,IAAM,KAAK,IAAIyyC,GAAQrlC,EAAI,MAAM;AACvC,WAASlS,IAAI,GAAGA,IAAI8E,GAAK9E,KAAK;AAC5B,UAAMw3C,IAAOtlC,EAAI,WAAWlS,CAAC;AAC7B,IAAA4c,EAAM,KAAK46B,IAAO,GAAG;AAAA,EACvB;AACA,SAAO56B;AACT;AACA,SAAS66B,GAAiBC,GAAKC,IAAa,IAAOC,IAAgB,IAAO;AAGxE,MAAI1W,IAAiB;AACrB,EAAI0W,MACF1W,IAAiBwW,EAAI;AAEvB,QAAM3lC,IAAY,IAAI,WAAW,GAAG,GAC9BC,IAAO,IAAI,SAASD,EAAU,MAAM;AAC1C,EAAAC,EAAK,SAAS,GAAG,KAAKkvB,CAAc,GACpClvB,EAAK,SAAS,IAAI,GAAG,GACrBA,EAAK,SAAS,IAAI0lC,EAAI,QAAQ;AAC9B,WAAS13C,IAAI,GAAGA,IAAI,GAAGA;AACrB,IAAAgS,EAAK,UAAU,KAAK,IAAahS,GAAG03C,EAAI,KAAK13C,CAAC,GAAGkhC,CAAc;AAEjE,EAAAlvB,EAAK,WAAW,IAAI0lC,EAAI,WAAWxW,CAAc,GACjDlvB,EAAK,WAAW,IAAI0lC,EAAI,WAAWxW,CAAc,GACjDlvB,EAAK,WAAW,IAAI0lC,EAAI,WAAWxW,CAAc,GACjDlvB,EAAK,SAAS,IAAI0lC,EAAI,aAAaxW,CAAc,GAC7CyW,KACF3lC,EAAK,SAAS,IAAI,GAAGkvB,CAAc,GACnClvB,EAAK,SAAS,IAAI,GAAGkvB,CAAc,MAEnClvB,EAAK,SAAS,IAAI0lC,EAAI,cAAcxW,CAAc,GAClDlvB,EAAK,SAAS,IAAI0lC,EAAI,iBAAiBxW,CAAc,IAEvDlvB,EAAK,SAAS,IAAI0lC,EAAI,aAAaxW,CAAc;AACjD,WAASlhC,IAAI,GAAGA,IAAI,GAAGA;AACrB,IAAAgS,EAAK,WAAW,KAAK,IAAehS,GAAG03C,EAAI,QAAQ13C,CAAC,GAAGkhC,CAAc;AAEvE,EAAIyW,KACF3lC,EAAK,WAAW,KAAK,KAAKkvB,CAAc,GACxClvB,EAAK,WAAW,KAAK,GAAGkvB,CAAc,GACtClvB,EAAK,WAAW,KAAK,GAAGkvB,CAAc,MAEtClvB,EAAK,WAAW,KAAK0lC,EAAI,YAAYxW,CAAc,GACnDlvB,EAAK,WAAW,KAAK0lC,EAAI,WAAWxW,CAAc,GAClDlvB,EAAK,WAAW,KAAK0lC,EAAI,WAAWxW,CAAc,IAEpDlvB,EAAK,SAAS,KAAK0lC,EAAI,WAAWxW,CAAc,GAChDlvB,EAAK,SAAS,KAAK0lC,EAAI,UAAU,GAC7BA,EAAI,eAAe,IACrB1lC,EAAK,SAAS,KAAK,EAAE,IAErBA,EAAK,SAAS,KAAK0lC,EAAI,UAAU,GAE/BC,KACF3lC,EAAK,WAAW,KAAK,GAAGkvB,CAAc,GACtClvB,EAAK,WAAW,KAAK,GAAGkvB,CAAc,MAEtClvB,EAAK,WAAW,KAAK0lC,EAAI,SAASxW,CAAc,GAChDlvB,EAAK,WAAW,KAAK0lC,EAAI,SAASxW,CAAc,IAElDlvB,EAAK,WAAW,KAAK0lC,EAAI,gBAAgBxW,CAAc,GACvDlvB,EAAK,WAAW,KAAK0lC,EAAI,SAASxW,CAAc,GAChDnvB,EAAU,IAAIulC,GAAWI,EAAI,WAAW,GAAG,GAAG,GAC9C3lC,EAAU,IAAIulC,GAAWI,EAAI,QAAQ,GAAG,GAAG,GAC3C1lC,EAAK,SAAS,KAAK0lC,EAAI,YAAYxW,CAAc,GAC7CwW,EAAI,aAAa,KAAKA,EAAI,aAAa,IACzC1lC,EAAK,SAAS,KAAK,GAAGkvB,CAAc,IAEpClvB,EAAK,SAAS,KAAK0lC,EAAI,YAAYxW,CAAc,GAEnDlvB,EAAK,WAAW,KAAK0lC,EAAI,WAAWxW,CAAc,GAClDlvB,EAAK,WAAW,KAAK0lC,EAAI,WAAWxW,CAAc,GAClDlvB,EAAK,WAAW,KAAK0lC,EAAI,WAAWxW,CAAc,GAClDlvB,EAAK,WAAW,KAAK0lC,EAAI,WAAWxW,CAAc,GAClDlvB,EAAK,WAAW,KAAK0lC,EAAI,WAAWxW,CAAc,GAClDlvB,EAAK,WAAW,KAAK0lC,EAAI,WAAWxW,CAAc;AAClD,QAAM3pB,IAAYmgC,EAAI,OAAO,KAAA;AAC7B,WAAS13C,IAAI,GAAGA,IAAI,IAAIA;AACtB,IAAAgS,EAAK,WAAW,MAAM,IAAehS,GAAGuX,EAAUvX,CAAC,GAAGkhC,CAAc;AAEtE,SAAAlvB,EAAK,SAAS,KAAK,SAAS,EAAI,GACzBD;AACT;AACA,SAAS8lC,GAAWpS,GAAWqS,IAAsB,IAAM;AACzD,QAAMC,IAAK,KAAK,MAAMtS,EAAU,SAAS,CAAC,GACpC9V,IAASqoB,EAAiB,GAAG,GAAG,CAAC,GACjCre,IAAKse,GAAM,GACXpe,IAAKoe,GAAM;AACjB,MAAIve,IAAO,GACPwe,IAAS;AACb,EAAIJ,MACFI,IAAS;AAEX,WAASC,IAAO,GAAGA,IAAOD,GAAQC,KAAQ;AACxC,IAAAze,IAAO;AACP,aAAS15B,IAAI,GAAGA,IAAI+3C,GAAI/3C,KAAK;AAC3B,YAAMoE,IAAI4zC,EAAiBvS,EAAUzlC,IAAI,CAAC,GAAGylC,EAAUzlC,IAAI,IAAI,CAAC,GAAGylC,EAAUzlC,IAAI,IAAI,CAAC,CAAC;AACvF,MAAIA,MAAM,MACRo4C,GAAWze,GAAIv1B,CAAC,GAChBg0C,GAAWve,GAAIz1B,CAAC,IAElBi0C,GAAU1e,GAAIA,GAAIv1B,CAAC,GACnBk0C,GAAUze,GAAIA,GAAIz1B,CAAC,GACnBm0C,GAAen0C,GAAGA,GAAGurB,CAAM;AAC3B,YAAMza,IAAKsjC,GAAUp0C,CAAC;AACtB,MAAAs1B,IAAO,KAAK,IAAIA,GAAMxkB,CAAE;AAAA,IAC1B;AACA,QAAIijC,IAAO,KAAKD;AACd;AAEF,QAAIO,IAAK;AACT,aAAS3sC,IAAI,GAAGA,IAAI,GAAG,EAAEA;AACvB,MAAI6tB,EAAG7tB,CAAC,IAAI6jB,EAAO7jB,CAAC,MAClB2sC,IAAK,KAEH5e,EAAG/tB,CAAC,IAAI6jB,EAAO7jB,CAAC,MAClB2sC,IAAK;AAGT,QAAIA;AACF;AAEFC,IAAAA,GAAW/oB,GAAQgK,GAAIE,GAAI,GAAG,GAC9BzI,EAAI,MAAM,gCAAgCzB,CAAM;AAAA,EAClD;AACA,QAAMzpB,IAAM,CAACyzB,EAAG,CAAC,GAAGA,EAAG,CAAC,GAAGA,EAAG,CAAC,CAAC,GAC1BxzB,IAAM,CAAC0zB,EAAG,CAAC,GAAGA,EAAG,CAAC,GAAGA,EAAG,CAAC,CAAC;AAEhC,SAAO,OAAE3zB,GAAK,KAAAC,GAAK,0BADcuzB,GACY,QAAA/J,EAAA;AAC/C;AACA,SAASgpB,GAAWjZ,GAAK;AACvB,QAAMkZ,IAAM,CAAC,IAAO,IAAO,IAAO,EAAK,GACjCC,IAAM,CAAC,IAAO,IAAO,IAAO,EAAK;AACvC,WAAS74C,IAAI,GAAGA,IAAI,GAAGA;AACrB,aAAS8L,IAAI,GAAGA,IAAI,GAAGA;AACrB,UAAI,MAAM4zB,EAAI1/B,CAAC,EAAE8L,CAAC,CAAC;AACjB,eAAO;AAIb,WAAS9L,IAAI,GAAGA,IAAI,GAAGA;AACrB,aAAS8L,IAAI,GAAGA,IAAI,GAAGA;AACrB,MAAI4zB,EAAI1/B,CAAC,EAAE8L,CAAC,MAAM,MAGlB8sC,EAAI54C,CAAC,IAAI,IACT64C,EAAI/sC,CAAC,IAAI;AAGb,WAAS9L,IAAI,GAAGA,IAAI,GAAGA;AAIrB,QAHI,CAAC44C,EAAI54C,CAAC,KAGN,CAAC64C,EAAI74C,CAAC;AACR,aAAO;AAGX,SAAO;AACT;AACA,eAAe84C,GAAiBxgC,GAAQ;AACtC,QAAMlZ,IAASkZ,EAAO,UAAA,GAChB,EAAE,MAAA9Y,GAAM,OAAAC,EAAA,IAAU,MAAML,EAAO,KAAA;AACrC,MAAII;AACF,WAAAJ,EAAO,YAAA,GACA,IAAI,eAAe;AAAA,MACxB,MAAMyZ,GAAY;AAChB,QAAAA,EAAW,MAAA;AAAA,MACb;AAAA,IAAA,CACD;AAEH,MAAI,CAACpZ,KAASA,EAAM,SAAS;AAC3B,WAAAL,EAAO,YAAA,GACA,IAAI,eAAe;AAAA,MACxB,MAAMyZ,GAAY;AAChB,QAAIpZ,KACFoZ,EAAW,QAAQpZ,CAAK,GAE1BoZ,EAAW,MAAA;AAAA,MACb;AAAA,IAAA,CACD;AAEH,QAAMi8B,IAASr1C,EAAM,CAAC,MAAM,MAAMA,EAAM,CAAC,MAAM,KACzCs5C,IAAqB,IAAI,eAAe;AAAA,IAC5C,MAAM,MAAMlgC,GAAY;AACtB,UAAI;AAEF,aADAA,EAAW,QAAQpZ,CAAK,OACX;AACX,gBAAM,EAAE,MAAMu5C,GAAO,OAAOC,MAAW,MAAM75C,EAAO,KAAA;AACpD,cAAI45C,GAAO;AACT,YAAAngC,EAAW,MAAA,GACXzZ,EAAO,YAAA;AACP;AAAA,UACF;AACA,UAAAyZ,EAAW,QAAQogC,CAAM;AAAA,QAC3B;AAAA,MACF,SAASj6C,GAAO;AACd,QAAA6Z,EAAW,MAAM7Z,CAAK,GACtBI,EAAO,YAAA;AAAA,MACT;AAAA,IACF;AAAA,EAAA,CACD;AACD,SAAI01C,IACKiE,EAAmB,YAAY,IAAI,oBAAoB,MAAM,CAAC,IAEhEA;AACT;AAIA,SAASG,GAAkBC,IAAO,CAAC,KAAK,KAAK,GAAG,GAAGC,IAAU,CAAC,GAAG,GAAG,CAAC,GAAGC,IAAS,CAAC,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,CAAC,GAAGC,IAAe,GAAkB;AAC3K,QAAM5B,IAAM,IAAIlgC,EAAA;AAChB,EAAAkgC,EAAI,eAAe,IACnBA,EAAI,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAClCA,EAAI,KAAK,CAAC,IAAI,KAAK,IAAI,GAAGyB,EAAK,MAAM;AACrC,WAASn5C,IAAI,GAAGA,IAAIm5C,EAAK,QAAQn5C;AAC/B,IAAA03C,EAAI,KAAK13C,IAAI,CAAC,IAAIm5C,EAAKn5C,CAAC;AAE1B,EAAA03C,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACrC,WAAS13C,IAAI,GAAGA,IAAIm5C,EAAK,QAAQn5C;AAC/B,IAAA03C,EAAI,QAAQ13C,IAAI,CAAC,IAAIo5C,EAAQp5C,CAAC;AAEhC,MAAIq5C,EAAO,WAAW,IAAI;AACxB,QAAIlmC,IAAI;AACR,aAASnT,IAAI,GAAGA,IAAI,GAAGA;AACrB,eAAS8L,IAAI,GAAGA,IAAI,GAAGA;AACrB,QAAA4rC,EAAI,OAAO13C,CAAC,EAAE8L,CAAC,IAAIutC,EAAOlmC,CAAC,GAC3BA;AAAA,EAGN;AACA,MAAIomC,IAAM;AACV,SAAID,MAAiB,OAAqBA,MAAiB,IACzDC,IAAM,IACGD,MAAiB,OAAuBA,MAAiB,IAClEC,IAAM,KACGD,MAAiB,MAAuBA,MAAiB,OAAuBA,MAAiB,KAAoBA,MAAiB,OAC/IC,IAAM,KACGD,MAAiB,KAC1BC,IAAM,KAENnoB,EAAI,KAAK,yDAAyDkoB,CAAY,GAEhF5B,EAAI,eAAe4B,GACnB5B,EAAI,kBAAkB6B,GACtB7B,EAAI,YAAY,GAChBA,EAAI,YAAY,GAChBA,EAAI,aAAa,GACjBA,EAAI,QAAQ,OACZA,EAAI,aAAa,KACVA;AACT;AACA,SAAS8B,GAAiBL,IAAO,CAAC,KAAK,KAAK,GAAG,GAAGC,IAAU,CAAC,GAAG,GAAG,CAAC,GAAGC,IAAS,CAAC,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,CAAC,GAAGC,IAAe,GAAkBG,IAAM,IAAI,cAAc;AAClM,QAAM/B,IAAMwB,GAAkBC,GAAMC,GAASC,GAAQC,CAAY,GAC3DxP,IAAW2N,GAAiBC,GAAK,EAAK;AAC5C,EAAAA,EAAI,aAAa,KAAK,IAAI,KAAK5N,EAAS,MAAM;AAC9C,QAAM4P,IAAgBjC,GAAiBC,GAAK,EAAK;AACjD,MAAI+B,EAAI,SAAS;AACf,WAAOC;AAET,QAAMC,IAAc,KAAK,IAAI,GAAGjC,EAAI,aAAagC,EAAc,MAAM,GAC/DE,IAAU,IAAI,WAAWD,CAAW,GACpCE,IAAW,IAAI,WAAWJ,EAAI,QAAQA,EAAI,YAAYA,EAAI,UAAU,GACpEK,IAAcpC,EAAI,aAAamC,EAAS,QACxCE,IAAa,IAAI,WAAWD,CAAW;AAC7C,SAAAC,EAAW,IAAIL,GAAe,CAAC,GAC/BK,EAAW,IAAIH,GAASF,EAAc,MAAM,GAC5CK,EAAW,IAAIF,GAAUnC,EAAI,UAAU,GAChCqC;AACT;AACA,SAASC,GAAaC,GAASC,IAAe,MAAM;AAClD,MAAI,CAACD,EAAQ;AACX,UAAM,IAAI,MAAM,gDAAgD;AAElE,MAAI,CAACA,EAAQ,OAAOC,MAAiB;AACnC,UAAM,IAAI,MAAM,oDAAoD;AAEtE,QAAMC,IAAYD,MAAiB,MAC7BE,IAAU,KAAK,MAAM,KAAK,UAAUH,EAAQ,GAAG,CAAC,GAChDI,IAAgBJ,EAAQ,cAAcA,EAAQ,WAAW,SAAS,GAClEK,IAAU,IAAI,WAAW,CAAC;AAChC,EAAAA,EAAQ,CAAC,IAAID,IAAgB,IAAI;AACjC,MAAIE,IAAiB,IAAI,WAAW,CAAC;AACrC,MAAIF,GAAe;AACjB,UAAMG,IAAS,CAAA;AACf,QAAI5hB,IAAY;AAChB,eAAWkO,KAAOmT,EAAQ,YAAY;AACpC,YAAMQ,IAAa,IAAI,WAAW3T,EAAI,KAAK,GACrC4T,IAAQ,IAAI,WAAW,IAAID,EAAW,MAAM,GAC5C9Y,IAAK,IAAI,SAAS+Y,EAAM,MAAM;AACpC,MAAA/Y,EAAG,SAAS,GAAGmF,EAAI,OAAO,EAAI,GAC9BnF,EAAG,SAAS,GAAGmF,EAAI,OAAO,EAAI,GAC9B4T,EAAM,IAAID,GAAY,CAAC,GACvBD,EAAO,KAAKE,CAAK,GACjB9hB,KAAa8hB,EAAM;AAAA,IACrB;AACA,IAAAH,IAAiB,IAAI,WAAW3hB,CAAS;AACzC,QAAI+hB,IAAU;AACd,eAAWD,KAASF;AAClB,MAAAD,EAAe,IAAIG,GAAOC,CAAO,GACjCA,KAAWD,EAAM;AAAA,EAErB;AACA,QAAMliB,IAAa;AACnB,EAAA4hB,EAAQ,aAAa,KAAK,IAAI,KAAK5hB,IAAa8hB,EAAQ,SAASC,EAAe,MAAM,GAClFJ,MACFC,EAAQ,eAAe,GACvBA,EAAQ,kBAAkB,GAC1BA,EAAQ,YAAY,GACpBA,EAAQ,YAAY;AAEtB,QAAMtQ,IAAW2N,GAAiB2C,GAASD,CAAS;AACpD,MAAIS;AACJ,MAAIT,GAAW;AACb,UAAMU,IAAsBX,GACtBY,IAAOb,EAAQ;AACrB,QAAIa,MAASA,EAAK,CAAC,MAAM,KAAKA,EAAK,CAAC,MAAM,KAAKA,EAAK,CAAC,MAAM,IAAI;AAC7D,MAAA1pB,EAAI,MAAM,8DAA8D;AACxE,YAAM+nB,IAAOc,EAAQ,IAAI,MACnBc,IAAO5B,EAAK,CAAC,IAAIA,EAAK,CAAC,IAAIA,EAAK,CAAC,GACjC6B,IAAUf,EAAQ,UAAUA,EAAQ,QAAQ,CAAC,IAAIA,EAAQ,QAAQ,CAAC,IAAIA,EAAQ,QAAQ,CAAC,IAAIc;AACjG,UAAIF,EAAoB,WAAWG;AACjC,gBAAQ;AAAA,UACN,mBAAmBH,EAAoB,MAAM,8CAA8CG,CAAO;AAAA,QAAA,GAEpGJ,IAAmBC;AAAA,eACV,CAACZ,EAAQ,eAAe,CAACA,EAAQ,gBAAgB,CAACA,EAAQ;AACnE,gBAAQ;AAAA,UACN;AAAA,QAAA,GAEFW,IAAmBC;AAAA,WACd;AACL,cAAMn9B,IAAOu8B,EAAQ,aACfpuC,IAAQouC,EAAQ,cAChBgB,IAAUhB,EAAQ,SAClBiB,IAAa,IAAI,WAAWH,CAAI;AACtC,QAAAG,EAAW,KAAK,CAAC;AACjB,cAAMC,IAAkBN;AACxB,YAAIO,IAAW;AACf,iBAASC,IAAK,GAAGA,IAAKJ,EAAQ,CAAC,GAAGI,KAAM;AACtC,gBAAMtlC,IAAKlK,EAAM,CAAC,IAAIwvC,IAAK39B,EAAK,CAAC;AACjC,mBAAS49B,IAAK,GAAGA,IAAKL,EAAQ,CAAC,GAAGK,KAAM;AACtC,kBAAM1lC,IAAK/J,EAAM,CAAC,IAAIyvC,IAAK59B,EAAK,CAAC;AACjC,qBAAS69B,IAAK,GAAGA,IAAKN,EAAQ,CAAC,GAAGM,KAAM;AAEtC,oBAAMC,IADK3vC,EAAM,CAAC,IAAI0vC,IAAK79B,EAAK,CAAC,IACR9H,IAAKG;AAC9B,cAAIylC,KAAe,KAAKA,IAAcT,IACpCG,EAAWM,CAAW,IAAIL,EAAgBC,CAAQ,IACzCA,IAAWD,EAAgB,UACpC,QAAQ;AAAA,gBACN,2BAA2BK,CAAW,yBAAyBT,IAAO,CAAC;AAAA,cAAA,GAG3EK;AAAA,YACF;AAAA,UACF;AAAA,QACF;AACA,QAAAR,IAAmBM;AAAA,MACrB;AAAA,IACF;AACE,MAAAN,IAAmBC;AAAA,EAEvB,OAAO;AACL,QAAI,CAACZ,EAAQ;AACX,YAAM,IAAI,MAAM,6DAA6D;AAE/E,IAAAW,IAAmB,IAAI,WAAWX,EAAQ,IAAI,QAAQA,EAAQ,IAAI,YAAYA,EAAQ,IAAI,UAAU;AAAA,EACtG;AACA,QAAMwB,IAAoB3R,EAAS,SAASwQ,EAAQ,SAASC,EAAe,QACtEZ,IAAc,KAAK,IAAI,GAAGS,EAAQ,aAAaqB,CAAiB,GAChE7B,IAAU,IAAI,WAAWD,CAAW,GACpCG,IAAcM,EAAQ,aAAaQ,EAAiB,QACpDb,IAAa,IAAI,WAAWD,CAAW;AAC7C,MAAIpyC,IAAS;AACb,SAAAqyC,EAAW,IAAIjQ,GAAUpiC,CAAM,GAC/BA,KAAUoiC,EAAS,QACnBiQ,EAAW,IAAIO,GAAS5yC,CAAM,GAC9BA,KAAU4yC,EAAQ,QAClBP,EAAW,IAAIQ,GAAgB7yC,CAAM,GACrCA,KAAU6yC,EAAe,QACzBR,EAAW,IAAIH,GAASlyC,CAAM,GAC9BA,KAAUkyC,EAAQ,QAClBG,EAAW,IAAIa,GAAkBR,EAAQ,UAAU,GAC5CL;AACT;AACA,eAAe2B,GAAiBzB,GAAS0B,GAAKC,IAAW,MAAM;AAC7D,QAAMC,IAAQ7B,GAAaC,GAAS2B,CAAQ;AAE5C,MADiBD,EAAI,YAAA,EAAc,SAAS,KAAK;AAE/C,QAAI;AACF,YAAMG,IAAiB,MAAM1f,EAAY,SAASyf,GAAO,MAAM;AAC/D,aAAO,IAAI,WAAWC,CAAc;AAAA,IACtC,SAAS98C,GAAO;AACd,aAAAoyB,EAAI,MAAM,uBAAuBpyB,CAAK,GACtCoyB,EAAI,KAAK,uDAAuD,GACzDyqB;AAAA,IACT;AAAA;AAEA,WAAOA;AAEX;AACA,eAAeE,GAAW9B,GAAS0B,IAAM,IAAIC,IAAW,MAAM;AAC5D,QAAMI,IAAW,MAAMN,GAAiBzB,GAAS0B,GAAKC,CAAQ;AAC9D,MAAI,CAACD;AACH,WAAAvqB,EAAI,MAAM,2FAA2F,GAC9F4qB;AAET,MAAI;AACF,UAAM3iB,IAAO,IAAI,KAAK,CAAC2iB,EAAS,MAAM,GAAG;AAAA,MACvC,MAAM;AAAA;AAAA,IAAA,CAEP,GACKC,IAAU,IAAI,gBAAgB5iB,CAAI,GAClC6iB,IAAO,SAAS,cAAc,GAAG;AACvC,IAAAA,EAAK,aAAa,QAAQD,CAAO,GACjCC,EAAK,aAAa,YAAYP,CAAG,GACjCO,EAAK,MAAM,aAAa,UACxB,SAAS,KAAK,YAAYA,CAAI,GAC9BA,EAAK,MAAA,GACL,SAAS,KAAK,YAAYA,CAAI,GAC9B,WAAW,MAAM,IAAI,gBAAgBD,CAAO,GAAG,GAAG;AAAA,EACpD,SAASvuC,GAAG;AACV,IAAA0jB,EAAI,MAAM,+BAA+B1jB,CAAC;AAAA,EAC5C;AACA,SAAOsuC;AACT;AAIA,SAASG,GAAUlC,GAAS51C,GAAGtE,GAAGuE,GAAG2yC,IAAU,GAAGmF,IAAkB,IAAO;AACzE,MAAI,CAACnC,EAAQ;AACX,UAAM,IAAI,MAAM,0CAA0C;AAE5D,MAAI,CAACmC,KAAmB,CAACnC,EAAQ;AAC/B,UAAM,IAAI,MAAM,8CAA8C;AAEhE,MAAImC,KAAmB,CAACnC,EAAQ;AAC9B,WAAA7oB,EAAI,KAAK,8DAA8D,GAChE,CAAC,CAAC;AAEX,QAAM+e,IAAK8J,EAAQ,IAAI,KAAK,CAAC,GACvB7J,IAAK6J,EAAQ,IAAI,KAAK,CAAC,GACvB5J,IAAK4J,EAAQ,IAAI,KAAK,CAAC,GACvBa,IAAOb,EAAQ,QAAQ,MAAA;AAC7B,MAAIa,EAAK,CAAC,MAAM,KAAKA,EAAK,CAAC,MAAM,KAAKA,EAAK,CAAC,MAAM,GAAG;AACnD,UAAMhsC,IAAMutC,GAAiBh4C,GAAGtE,GAAGuE,GAAG,CAAC;AACvCg4C,IAAAA,GAAoBxtC,GAAKA,GAAKmrC,EAAQ,QAAQ,GAC9C51C,IAAIyK,EAAI,CAAC,GACT/O,IAAI+O,EAAI,CAAC,GACTxK,IAAIwK,EAAI,CAAC;AAAA,EACX;AACA,EAAAzK,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,MAAMA,CAAC,GAAG8rC,IAAK,CAAC,CAAC,GAC/CpwC,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,MAAMA,CAAC,GAAGqwC,IAAK,CAAC,CAAC,GAC/C9rC,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,MAAMA,CAAC,GAAG+rC,IAAK,CAAC,CAAC,GAC/C4G,IAAU,KAAK,IAAI,GAAGA,CAAO;AAC7B,MAAI/nB,IAAK7qB,IAAItE,IAAIowC,IAAK7rC,IAAI6rC,IAAKC;AAC/B,MAAI6J,EAAQ,IAAI,iBAAiB;AAC/B,WAAKA,EAAQ,OAGb/qB,KAAM,GACFA,IAAK,KAAK+qB,EAAQ,IAAI,UACxB7oB,EAAI,KAAK,8BAA8BlC,CAAE,+BAA+B,GACjE,CAAC,CAAC,KAEJ,CAAC+qB,EAAQ,IAAI/qB,CAAE,GAAG+qB,EAAQ,IAAI/qB,IAAK,CAAC,GAAG+qB,EAAQ,IAAI/qB,IAAK,CAAC,GAAG+qB,EAAQ,IAAI/qB,IAAK,CAAC,CAAC,KAP7E,CAAC,CAAC;AASb,MAAI+qB,EAAQ,IAAI,iBAAiB;AAC/B,WAAKA,EAAQ,OAGb/qB,KAAM,GACFA,IAAK,KAAK+qB,EAAQ,IAAI,UACxB7oB,EAAI,KAAK,8BAA8BlC,CAAE,8BAA8B,GAChE,CAAC,CAAC,KAEJ,CAAC+qB,EAAQ,IAAI/qB,CAAE,GAAG+qB,EAAQ,IAAI/qB,IAAK,CAAC,GAAG+qB,EAAQ,IAAI/qB,IAAK,CAAC,CAAC,KAPxD,CAAC,CAAC;AASb,QAAMqtB,IAASpM,IAAKC,IAAKC,GACnBmM,IAAYvF,IAAUsF,GACtBE,IAAevtB,IAAKstB,GACpBE,IAAYN,IAAkBnC,EAAQ,YAAYA,EAAQ;AAChE,MAAIwC,IAAe,KAAKA,KAAgBC,EAAU;AAChD,WAAO,CAAC,CAAC;AAEX,QAAMC,IAAWD,EAAUD,CAAY,GACjCG,IAAQ,MAAM3C,EAAQ,IAAI,SAAS,KAAKA,EAAQ,IAAI,cAAc,IAAI,IAAIA,EAAQ,IAAI,WACtF4C,IAAQ,MAAM5C,EAAQ,IAAI,SAAS,IAAI,IAAIA,EAAQ,IAAI;AAC7D,SAAO,CAAC2C,IAAQD,IAAWE,CAAK;AAClC;AACA,SAASC,GAAS7C,GAAS51C,GAAGtE,GAAGuE,GAAG2yC,IAAU,GAAGmF,IAAkB,IAAO;AACxE,QAAMtY,IAAOqY,GAAUlC,GAAS51C,GAAGtE,GAAGuE,GAAG2yC,GAASmF,CAAe;AACjE,SAAItY,EAAK,SAAS,IACTA,EAAK,CAAC,IAEHA,EAAK,CAAC,IAAI,SAASA,EAAK,CAAC,IAAI,SAASA,EAAK,CAAC,IAAI;AAE9D;AACA,SAASiZ,GAAc9C,GAAS+C,IAAc,CAAC,IAAI,GAAG,CAAC,GAAGC,IAAY,CAAC,GAAG,GAAG,CAAC,GAAGpI,IAAW,QAAQ;AAClG,QAAMqI,IAAgB,CAAC,IAAI,WAAA,GAAc,CAAC,GAAG,GAAG,CAAC,CAAC;AAClD,MAAI,CAACjD,EAAQ,OAAO,CAACA,EAAQ,OAAO,CAACA,EAAQ,WAAW,CAACA,EAAQ,eAAe,CAACA,EAAQ;AACvF,WAAA7oB,EAAI,MAAM,4FAA4F,GAC/F8rB;AAIT,MAFAF,IAAcA,EAAY,MAAM,GAAG,CAAC,GACpCC,IAAYA,EAAU,MAAM,GAAG,CAAC,GAC5B,KAAK,IAAI,GAAGD,CAAW,IAAI,KAAK,KAAK,IAAI,GAAGC,CAAS,IAAI;AAC3D,WAAA7rB,EAAI,KAAK,2DAA2D,GAC7D8rB;AAET,QAAMjC,IAAUhB,EAAQ,QAAQ,MAAM,GAAG,CAAC;AAC1C,WAASj6C,IAAI,GAAGA,IAAI,GAAGA;AAGrB,QAFAg9C,EAAYh9C,CAAC,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,MAAMg9C,EAAYh9C,CAAC,CAAC,GAAGi7C,EAAQj7C,CAAC,IAAI,CAAC,CAAC,GACjFi9C,EAAUj9C,CAAC,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,MAAMi9C,EAAUj9C,CAAC,CAAC,GAAGi7C,EAAQj7C,CAAC,IAAI,CAAC,CAAC,GACzEi9C,EAAUj9C,CAAC,IAAIg9C,EAAYh9C,CAAC,GAAG;AACjC,YAAMgqC,IAAMiT,EAAUj9C,CAAC;AACvB,MAAAi9C,EAAUj9C,CAAC,IAAIg9C,EAAYh9C,CAAC,GAC5Bg9C,EAAYh9C,CAAC,IAAIgqC;AAAA,IACnB;AAEF,QAAMmT,IAAW;AAAA,IACfF,EAAU,CAAC,IAAID,EAAY,CAAC,IAAI;AAAA,IAChCC,EAAU,CAAC,IAAID,EAAY,CAAC,IAAI;AAAA,IAChCC,EAAU,CAAC,IAAID,EAAY,CAAC,IAAI;AAAA,EAAA,GAE5BI,IAAWD,EAAS,CAAC,IAAIA,EAAS,CAAC,IAAIA,EAAS,CAAC;AACvD,MAAIC,KAAY;AACd,WAAAhsB,EAAI,KAAK,0DAA0D,GAC5D8rB;AAET,MAAIG,IAAyBpD,EAAQ,IAAI;AACzC,EAAIpF,MAAa,UACfwI,IAAyB,aAChBxI,MAAa,UACtBwI,IAAyB,aAChBxI,MAAa,WACtBwI,IAAyB,cAChBxI,MAAa,aAAaA,MAAa,YAAYA,MAAa,gBAAgBA,MAAa,aACtGwI,IAAyB,eAChBxI,MAAa,YACtBwI,IAAyB,eAChBxI,MAAa,UACtBzjB,EAAI,KAAK,wCAAwCyjB,CAAQ,kBAAkB;AAE7E,MAAIyI;AACJ,MAAI;AACF,IAAAA,IAAY,IAAID,EAAuBD,CAAQ;AAAA,EACjD,SAAS1vC,GAAG;AACV,WAAA0jB,EAAI,MAAM,8DAA8DyjB,CAAQ,MAAMnnC,CAAC,GAChFwvC;AAAA,EACT;AACA,QAAMx/B,IAAOu8B,EAAQ,aACfpuC,IAAQouC,EAAQ,cAChBsD,IAAYtD,EAAQ;AAC1B,MAAIuD,IAAc;AAClB,WAASnC,IAAK2B,EAAY,CAAC,GAAG3B,KAAM4B,EAAU,CAAC,GAAG5B,KAAM;AACtD,UAAMtlC,IAAKlK,EAAM,CAAC,IAAIwvC,IAAK39B,EAAK,CAAC;AACjC,aAAS49B,IAAK0B,EAAY,CAAC,GAAG1B,KAAM2B,EAAU,CAAC,GAAG3B,KAAM;AACtD,YAAM1lC,IAAK/J,EAAM,CAAC,IAAIyvC,IAAK59B,EAAK,CAAC;AACjC,eAAS69B,IAAKyB,EAAY,CAAC,GAAGzB,KAAM0B,EAAU,CAAC,GAAG1B,KAAM;AAEtD,cAAMC,IADK3vC,EAAM,CAAC,IAAI0vC,IAAK79B,EAAK,CAAC,IACR9H,IAAKG;AAC9B,YAAItW,IAAQ;AACZ,QAAI+7C,KAAe,KAAKA,IAAc+B,EAAU,WAC9C99C,IAAQ89C,EAAU/B,CAAW,IAE/B8B,EAAUE,GAAa,IAAI/9C;AAAA,MAC7B;AAAA,IACF;AAAA,EACF;AACA,QAAMm9C,IAAQ,MAAM3C,EAAQ,IAAI,SAAS,KAAKA,EAAQ,IAAI,cAAc,IAAI,IAAIA,EAAQ,IAAI,WACtF4C,IAAQ,MAAM5C,EAAQ,IAAI,SAAS,IAAI,IAAIA,EAAQ,IAAI;AAC7D,MAAIpF,MAAa,YAAYA,MAAa,gBAAgBA,MAAa,YAAY;AACjF,IAAMyI,aAAqB,iBACzBlsB,EAAI,KAAK,iEAAiEyjB,CAAQ,IAAI,GACtFyI,IAAY,aAAa,KAAKA,CAAS;AAEzC,aAASt9C,IAAI,GAAGA,IAAIs9C,EAAU,QAAQt9C;AACpC,MAAAs9C,EAAUt9C,CAAC,IAAIs9C,EAAUt9C,CAAC,IAAI48C,IAAQC;AAAA,EAE1C;AACA,MAAIhI,MAAa,gBAAgBA,MAAa,YAAY;AACxD,QAAI4I,IAASxD,EAAQ,SACjByD,IAASzD,EAAQ;AACrB,IAAIpF,MAAa,iBACf4I,IAASxD,EAAQ,YACjByD,IAASzD,EAAQ;AAEnB,UAAMr+B,IAAQ8hC,IAASD,GACjBl5C,IAAQqX,MAAU,IAAI,IAAI,IAAIA;AACpC,aAAS5b,IAAI,GAAGA,IAAIs9C,EAAU,QAAQt9C;AACpC,MAAAs9C,EAAUt9C,CAAC,KAAKs9C,EAAUt9C,CAAC,IAAIy9C,KAAUl5C,GACzC+4C,EAAUt9C,CAAC,IAAI,KAAK,IAAI,GAAG,KAAK,IAAIs9C,EAAUt9C,CAAC,GAAG,CAAC,CAAC;AAAA,EAExD;AACA,SAAO,CAACs9C,GAAWH,CAAQ;AAC7B;AACA,SAASQ,GAAc1D,GAAS+C,IAAc,CAAC,IAAI,GAAG,CAAC,GAAGC,IAAY,CAAC,GAAG,GAAG,CAAC,GAAGW,IAAW,IAAI,cAAc;AAC5G,MAAI,CAAC3D,EAAQ,OAAO,CAACA,EAAQ,OAAO,CAACA,EAAQ,WAAW,CAACA,EAAQ,eAAe,CAACA,EAAQ,cAAc;AACrG,IAAA7oB,EAAI,MAAM,4FAA4F;AACtG;AAAA,EACF;AACA,MAAIwsB,EAAS,SAAS,GAAG;AACvB,IAAAxsB,EAAI,KAAK,yCAAyC;AAClD;AAAA,EACF;AAGA,MAFA4rB,IAAcA,EAAY,MAAM,GAAG,CAAC,GACpCC,IAAYA,EAAU,MAAM,GAAG,CAAC,GAC5B,KAAK,IAAI,GAAGD,CAAW,IAAI,KAAK,KAAK,IAAI,GAAGC,CAAS,IAAI,GAAG;AAC9D,IAAA7rB,EAAI,KAAK,2DAA2D;AACpE;AAAA,EACF;AACA,QAAM6pB,IAAUhB,EAAQ,QAAQ,MAAM,GAAG,CAAC;AAC1C,WAASj6C,IAAI,GAAGA,IAAI,GAAGA;AAGrB,QAFAg9C,EAAYh9C,CAAC,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,MAAMg9C,EAAYh9C,CAAC,CAAC,GAAGi7C,EAAQj7C,CAAC,IAAI,CAAC,CAAC,GACjFi9C,EAAUj9C,CAAC,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,MAAMi9C,EAAUj9C,CAAC,CAAC,GAAGi7C,EAAQj7C,CAAC,IAAI,CAAC,CAAC,GACzEi9C,EAAUj9C,CAAC,IAAIg9C,EAAYh9C,CAAC,GAAG;AACjC,YAAMgqC,IAAMiT,EAAUj9C,CAAC;AACvB,MAAAi9C,EAAUj9C,CAAC,IAAIg9C,EAAYh9C,CAAC,GAC5Bg9C,EAAYh9C,CAAC,IAAIgqC;AAAA,IACnB;AAEF,QAAMmT,IAAW;AAAA,IACfF,EAAU,CAAC,IAAID,EAAY,CAAC,IAAI;AAAA,IAChCC,EAAU,CAAC,IAAID,EAAY,CAAC,IAAI;AAAA,IAChCC,EAAU,CAAC,IAAID,EAAY,CAAC,IAAI;AAAA,EAAA,GAE5BI,IAAWD,EAAS,CAAC,IAAIA,EAAS,CAAC,IAAIA,EAAS,CAAC;AACvD,MAAIC,KAAY,GAAG;AACjB,IAAAhsB,EAAI,KAAK,0DAA0D;AACnE;AAAA,EACF;AACA,MAAIwsB,EAAS,SAASR,GAAU;AAC9B,IAAAhsB,EAAI;AAAA,MACF,yCAAyCwsB,EAAS,MAAM,4CAA4CR,CAAQ;AAAA,IAAA;AAE9G;AAAA,EACF;AACA,QAAM1/B,IAAOu8B,EAAQ,aACfpuC,IAAQouC,EAAQ,cAChB4D,IAAY5D,EAAQ;AAC1B,MAAI6D,IAAc;AAClB,WAASzC,IAAK2B,EAAY,CAAC,GAAG3B,KAAM4B,EAAU,CAAC,GAAG5B,KAAM;AACtD,UAAMtlC,IAAKlK,EAAM,CAAC,IAAIwvC,IAAK39B,EAAK,CAAC;AACjC,aAAS49B,IAAK0B,EAAY,CAAC,GAAG1B,KAAM2B,EAAU,CAAC,GAAG3B,KAAM;AACtD,YAAM1lC,IAAK/J,EAAM,CAAC,IAAIyvC,IAAK59B,EAAK,CAAC;AACjC,eAAS69B,IAAKyB,EAAY,CAAC,GAAGzB,KAAM0B,EAAU,CAAC,GAAG1B,KAAM;AAEtD,cAAMC,IADK3vC,EAAM,CAAC,IAAI0vC,IAAK79B,EAAK,CAAC,IACR9H,IAAKG;AAC9B,QAAIylC,KAAe,KAAKA,IAAcqC,EAAU,WAC9CA,EAAUrC,CAAW,IAAIoC,EAASE,CAAW,IAE/CA;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAGA,IAAIC,KAAc,CAAA;AAClBpxB,GAASoxB,IAAa;AAAA,EACpB,wBAAwB,MAAMC;AAAA,EAC9B,0BAA0B,MAAMC;AAAA,EAChC,SAAS,MAAMC;AACjB,CAAC;AAGD,SAASC,GAAQnsC,GAAMtK,GAAQ02C,GAAcC,IAAY,GAAG;AAC1D,QAAMjuC,IAAM1I,IAAS02C;AACrB,MAAItvC,IAAMpH;AACV,QAAMqf,IAAU,CAAA;AAChB,SAAOjY,IAAM,MAAMsB,KAAK;AACtB,UAAMsyB,IAAM1wB,EAAK,SAASlD,GAAK,EAAK,GAC9B/I,IAASiM,EAAK,SAASlD,IAAM,GAAG,EAAK;AAE3C,QADAA,KAAO,IACH/I,KAAU,KAAK+I,IAAM/I,IAASqK;AAChC;AAEF,QAAIsyB,MAAQ2b,GAAW;AACrB,MAAAvvC,KAAO/I;AACP;AAAA,IACF;AACA,QAAIu4C,IAASv4C,GACTw4C,IAAazvC;AACjB,QAAIuvC,MAAc,GAAG;AACnB,UAAIvvC,IAAM,IAAIsB;AACZ;AAEF,MAAAkuC,IAAStsC,EAAK,SAASlD,GAAK,EAAK,GACjCyvC,KAAc;AAAA,IAChB;AACA,QAAID,IAAS,KAAKC,IAAaD,KAAUluC,GAAK;AAC5C,YAAMssB,IAAM,IAAI,WAAW1qB,EAAK,QAAQusC,GAAYD,CAAM,GACpDpsC,IAAM,IAAI,YAAY,OAAO,EAAE,OAAOwqB,EAAI,MAAM,GAAG,EAAE,CAAC;AAC5D,MAAA3V,EAAQ,KAAK7U,CAAG;AAAA,IAClB;AACA,IAAApD,KAAO/I;AAAA,EACT;AACA,SAAOghB,EAAQ,KAAK;AAAA;AAAA,CAAM;AAC5B;AACA,SAASk3B,GAAyBvG,GAAK8G,GAAQ;AAE7C,MADA9G,EAAI,cAAc,MACdA,EAAI,iBAAiB,MAAuBA,EAAI,iBAAiB;AACnE,WAAO8G;AAET,MAAI/E,IAAM,IAAI,aAAa+E,CAAM;AAIjC,MAHI9G,EAAI,iBAAiB,MACvB+B,IAAM,IAAI,WAAW+E,CAAM,IAEzBlI,MAA0B;AAC5B,UAAMvS,IAAM,IAAI,YAAYya,CAAM;AAClC,aAASx+C,IAAI,GAAGA,IAAI+jC,EAAI,QAAQ/jC,KAAK;AACnC,YAAMiT,IAAM8wB,EAAI/jC,CAAC;AACjB,MAAA+jC,EAAI/jC,CAAC,KAAKiT,IAAM,QAAQ,MAAMA,IAAM,UAAU,KAAKA,IAAM,cAAc,KAAKA,IAAM,gBAAgB;AAAA,IACpG;AAAA,EACF;AACA,EAAAykC,EAAI,eAAepB,GAAA;AACnB,MAAImI,IAAY,IACZ9kB,IAAK,OACLE,IAAK;AACT,WAAS75B,IAAI,GAAGA,IAAIy5C,EAAI,QAAQz5C,KAAK;AACnC,UAAMoE,IAAIq1C,EAAIz5C,CAAC;AACf,IAAK,OAAO,SAASoE,CAAC,MAGjB,OAAO,UAAUA,CAAC,MACrBq6C,IAAY,KAEVr6C,IAAIu1B,MACNA,IAAKv1B,IAEHA,IAAIy1B,MACNA,IAAKz1B;AAAA,EAET;AACA,MAAI,CAACq6C,KAAa9kB,IAAK,KAAKE,IAAK;AAC/B,WAAAzI,EAAI,KAAK,4DAA4DuI,CAAE,KAAKE,CAAE,EAAE,GACzE2kB;AAET,MAAI3kB,IAAK,OAAO;AACd,IAAA6d,EAAI,eAAe;AACnB,UAAMx3C,IAAM,IAAI,WAAWu5C,EAAI,MAAM;AACrC,aAASz5C,IAAI,GAAGA,IAAIy5C,EAAI,QAAQz5C;AAC9B,MAAAE,EAAIF,CAAC,IAAI,KAAK,MAAMy5C,EAAIz5C,CAAC,CAAC;AAE5B,WAAOE,EAAI;AAAA,EACb,WAAW25B,IAAK,KAAK;AACnB,IAAA6d,EAAI,eAAe,GACnBA,EAAI,kBAAkB;AACtB,UAAMx3C,IAAM,IAAI,WAAWu5C,EAAI,MAAM;AACrC,aAASz5C,IAAI,GAAGA,IAAIy5C,EAAI,QAAQz5C;AAC9B,MAAAE,EAAIF,CAAC,IAAI,KAAK,MAAMy5C,EAAIz5C,CAAC,CAAC;AAE5B,WAAOE,EAAI;AAAA,EACb,OAAO;AACL,IAAAw3C,EAAI,eAAe,GACnBA,EAAI,kBAAkB;AACtB,UAAMx3C,IAAM,IAAI,WAAWu5C,EAAI,MAAM;AACrC,aAASz5C,IAAI,GAAGA,IAAIy5C,EAAI,QAAQz5C;AAC9B,MAAAE,EAAIF,CAAC,IAAI,KAAK,MAAMy5C,EAAIz5C,CAAC,CAAC;AAE5B,WAAOE,EAAI;AAAA,EACb;AACF;AACA,SAAS89C,GAAuBthB,GAAKgb,GAAKgH,GAAe;AACvD,QAAMC,IAAiBjiB,EAAI,aAAagb,EAAI;AAC5C,MAAIiH,IAAiBD;AACnB,WAAAttB,EAAI,MAAM,0CAA0CstB,CAAa,WAAWC,CAAc,EAAE,GACrF;AAET,MAAIA,MAAmBD;AACrB,WAAO;AAET,QAAME,IAAclH,EAAI,aAAagH,IAAgB,IAC/CN,IAAe1hB,EAAI,aAAakiB;AACtC,SAAIR,KAAgB,KACX,KAEID,GAAQ,IAAI,SAASzhB,CAAG,GAAGkiB,GAAaR,CAAY,EACxD,YAAA,EAAc,SAAS,SAAS,IAChC,KAEID,GAAQ,IAAI,SAASzhB,CAAG,GAAGkiB,GAAaR,GAAc,CAAC,EACxD,SAAS,eAAe;AACtC;AACA,eAAeF,GAAQjE,GAASp7C,GAAQ;AACtC,EAAKo7C,EAAQ,QACX7oB,EAAI,MAAM,sEAAsE,GAChF6oB,EAAQ,MAAM,IAAI4E,EAAA;AAEpB,QAAMnH,IAAMuC,EAAQ;AACpB,EAAAvC,EAAI,eAAe;AACnB,MAAIhb,IAAM79B,GACNO,IAAS,IAAI,SAASs9B,CAAG;AAC7B,MAAIA,EAAI,cAAc,KAAKt9B,EAAO,SAAS,CAAC,MAAM,MAAMA,EAAO,SAAS,CAAC,MAAM;AAC7E,QAAI;AACF,MAAAs9B,IAAM,MAAMN,EAAY,mBAAmB,IAAI,WAAWv9B,CAAM,CAAC,GACjEO,IAAS,IAAI,SAASs9B,CAAG;AAAA,IAC3B,SAAS9uB,GAAK;AACZ,aAAAwjB,EAAI,MAAM,kCAAkCxjB,CAAG,GACxC;AAAA,IACT;AAEF,MAAI8uB,EAAI,aAAa;AACnB,WAAAtL,EAAI,MAAM,8CAA8C,GACjD;AAET,QAAM8f,IAAW9xC,EAAO,SAAS,GAAG,EAAK,GACnC+xC,IAAQ/xC,EAAO,SAAS,GAAG,EAAK,GAChCgyC,IAAShyC,EAAO,SAAS,GAAG,EAAK,GACjCiyC,IAAQjyC,EAAO,SAAS,IAAI,EAAK,GACjCkyC,IAAUlyC,EAAO,SAAS,IAAI,EAAK,GACnC+9B,IAAQ/9B,EAAO,SAAS,IAAI,EAAK,GACjC0/C,IAAW1/C,EAAO,WAAW,IAAI,EAAK,GACtC2/C,IAAW3/C,EAAO,WAAW,IAAI,EAAK,GACtC4/C,IAAW5/C,EAAO,WAAW,IAAI,EAAK,GACtC6/C,IAAK7/C,EAAO,WAAW,IAAI,EAAK,GAChC8/C,IAAK9/C,EAAO,WAAW,IAAI,EAAK,GAChC+/C,IAAK//C,EAAO,WAAW,IAAI,EAAK,GAChCggD,IAAKhgD,EAAO,WAAW,IAAI,EAAK,GAChCigD,IAAKjgD,EAAO,WAAW,IAAI,EAAK,GAChCkgD,IAAKlgD,EAAO,WAAW,IAAI,EAAK,GAChCmgD,IAAKngD,EAAO,WAAW,IAAI,EAAK,GAChCogD,IAAKpgD,EAAO,WAAW,IAAI,EAAK,GAChCsR,IAAKtR,EAAO,WAAW,IAAI,EAAK,GAChCqgD,IAAKrgD,EAAO,WAAW,IAAI,EAAK,GAChCsgD,IAAKtgD,EAAO,WAAW,IAAI,EAAK,GAChCugD,IAAKvgD,EAAO,WAAW,IAAI,EAAK;AAItC,MAHI8xC,MAAa,KACf9f,EAAI,KAAK,2BAA2B8f,CAAQ,GAAG,GAE7CC,KAAS,KAAKC,KAAU,KAAKC,KAAS;AACxC,WAAAjgB,EAAI,MAAM,2BAA2B+f,CAAK,IAAIC,CAAM,IAAIC,CAAK,EAAE,GACxD;AAET,UAAQlU,GAAA;AAAA,IACN,KAAK;AACH,MAAAua,EAAI,kBAAkB,GACtBA,EAAI,eAAe;AACnB;AAAA,IACF,KAAK;AACH,MAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,IACF,KAAK;AACH,MAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,IACF,KAAK;AACH,MAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,IACF;AACE,aAAAtmB,EAAI,MAAM,8BAA8B+L,CAAK,EAAE,GACxC;AAAA,EAAA;AAEX,EAAAua,EAAI,KAAK,CAAC,IAAIvG,GACduG,EAAI,KAAK,CAAC,IAAItG,GACdsG,EAAI,KAAK,CAAC,IAAIrG,GACdqG,EAAI,KAAK,CAAC,IAAI,KAAK,IAAI,GAAGpG,CAAO,GACjCoG,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAI,IAAI,IAAI,GACpCA,EAAI,QAAQ,CAAC,IAAI,KAAK,IAAIoH,CAAQ,GAClCpH,EAAI,QAAQ,CAAC,IAAI,KAAK,IAAIqH,CAAQ,GAClCrH,EAAI,QAAQ,CAAC,IAAI,KAAK,IAAIsH,CAAQ,GAClCtH,EAAI,QAAQ,CAAC,IAAI,GACjBA,EAAI,aAAa,GACjBA,EAAI,aAAa,GACjBA,EAAI,aAAa;AACjB,QAAMkI,IAAQC;AAAAA,IACZZ,IAAKvH,EAAI,QAAQ,CAAC;AAAA,IAClB0H,IAAK1H,EAAI,QAAQ,CAAC;AAAA,IAClB6H,IAAK7H,EAAI,QAAQ,CAAC;AAAA,IAClB;AAAA,IACAwH,IAAKxH,EAAI,QAAQ,CAAC;AAAA,IAClB2H,IAAK3H,EAAI,QAAQ,CAAC;AAAA,IAClB8H,IAAK9H,EAAI,QAAQ,CAAC;AAAA,IAClB;AAAA,IACAyH,IAAKzH,EAAI,QAAQ,CAAC;AAAA,IAClB4H,IAAK5H,EAAI,QAAQ,CAAC;AAAA,IAClBhnC,IAAKgnC,EAAI,QAAQ,CAAC;AAAA,IAClB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,GAEIoI,IAAO,CAACpI,EAAI,KAAK,CAAC,IAAI,GAAGA,EAAI,KAAK,CAAC,IAAI,GAAGA,EAAI,KAAK,CAAC,IAAI,GAAG,CAAC,GAC5DqI,IAAa,CAAC,GAAG,GAAG,GAAG,CAAC;AAC9B,WAAS//C,IAAI,GAAGA,IAAI,GAAGA,KAAK;AAC1B,IAAA+/C,EAAW//C,CAAC,IAAI;AAChB,aAAS8L,IAAI,GAAGA,IAAI,GAAGA;AACrB,MAAAi0C,EAAW//C,CAAC,IAAI+/C,EAAW//C,CAAC,IAAI4/C,EAAM9zC,IAAI9L,IAAI,CAAC,IAAI8/C,EAAKh0C,CAAC;AAAA,EAE7D;AACA,EAAA4rC,EAAI,SAAS;AAAA,IACX,CAACkI,EAAM,CAAC,GAAGA,EAAM,CAAC,GAAGA,EAAM,CAAC,GAAGH,IAAKM,EAAW,CAAC,CAAC;AAAA,IACjD,CAACH,EAAM,CAAC,GAAGA,EAAM,CAAC,GAAGA,EAAM,CAAC,GAAGF,IAAKK,EAAW,CAAC,CAAC;AAAA,IACjD,CAACH,EAAM,CAAC,GAAGA,EAAM,CAAC,GAAGA,EAAM,EAAE,GAAGD,IAAKI,EAAW,CAAC,CAAC;AAAA,IAClD,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,EAAA,GAEbrI,EAAI,aAAa,KACjBA,EAAI,QAAQ;AACZ,QAAMsI,IAAiBtI,EAAI,kBAAkB,GAEvCgH,IADUvN,IAAQC,IAASC,IAAQqG,EAAI,KAAK,CAAC,IACnBsI,GAC1BxB,IAAS9hB,EAAI,MAAMgb,EAAI,YAAYA,EAAI,aAAagH,CAAa;AACvE,SAAIV,GAAuBthB,GAAKgb,GAAKgH,CAAa,IACzCT,GAAyBvG,GAAK8G,CAAM,IAEtCA;AACT;AAGA,IAAIyB,KAAc,CAAA;AAClBtzB,GAASszB,IAAa;AAAA,EACpB,WAAW,MAAMC;AACnB,CAAC;AAED,eAAeA,GAAUjG,GAASp7C,GAAQshD,GAAiB;AACzD,MAAIC,IAAavhD,GACb2/C,IAAS;AACb,MAAI;AAMF,QALIzmC,GAAaqoC,CAAU,MACzBhvB,EAAI,MAAM,6BAA6B6oB,EAAQ,IAAI,EAAE,GACrDmG,IAAa,MAAMjoC,GAAgBioC,CAAU,GAC7ChvB,EAAI,MAAM,+BAA+B6oB,EAAQ,IAAI,EAAE,IAErD,CAACmG,KAAcA,EAAW,eAAe;AAC3C,YAAM,IAAI,MAAM,oDAAoD;AAMtE,QAJAnG,EAAQ,MAAM,MAAM1gC,GAAgB6mC,GAAYD,KAAmB,IAAI,GACnEtmC,GAAaogC,EAAQ,GAAG,MAC1BA,EAAQ,aAAaA,EAAQ,IAAI,aAE/BA,EAAQ,QAAQ;AAClB,YAAM,IAAI,MAAM,gCAAgCA,EAAQ,IAAI,EAAE;AAQhE,QANIA,EAAQ,IAAI,YAAY,KAAKA,EAAQ,IAAI,YAAY,OAAOA,EAAQ,IAAI,iBAAiB,MAC3F7oB,EAAI,MAAM,iEAAiE6oB,EAAQ,IAAI,EAAE,GACzFA,EAAQ,IAAI,UAAU,GACtBA,EAAQ,IAAI,UAAU,IAExBuE,IAAS2B,IAAkBrmC,GAAUmgC,EAAQ,KAAKkG,CAAe,IAAIrmC,GAAUmgC,EAAQ,KAAKmG,CAAU,GAClG5B,MAAW;AACb,YAAM,IAAI,MAAM,+CAA+CvE,EAAQ,IAAI,EAAE;AAE/E,WAAOuE;AAAA,EACT,SAAS5wC,GAAK;AACZ,WAAAwjB,EAAI,MAAM,+BAA+B6oB,EAAQ,IAAI,KAAKrsC,CAAG,GAC7DqsC,EAAQ,MAAM,MACP;AAAA,EACT;AACF;AAGA,IAAIoG,KAAe,CAAA;AACnB1zB,GAAS0zB,IAAc;AAAA,EACrB,UAAU,MAAMC;AAClB,CAAC;AAGD,eAAeA,GAASrG,GAASmG,GAAYG,IAAgB,MAAM;AACjE,EAAKtG,EAAQ,QACX7oB,EAAI,KAAK,uEAAuE,GAChF6oB,EAAQ,MAAM,IAAIuG,EAAA;AAEpB,QAAM9I,IAAMuC,EAAQ;AACpB,EAAAvC,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACrC,QAAM5yC,IAAMs7C,EAAW;AACvB,MAAI/X,IAAM;AACV,QAAMzrB,IAAQ,IAAI,WAAWwjC,CAAU;AACvC,WAASpgD,IAAI,GAAGA,IAAI8E,GAAK9E;AACvB,QAAI4c,EAAM5c,IAAI,CAAC,MAAM,MAAM4c,EAAM5c,CAAC,MAAM,IAAI;AAC1C,YAAMoE,IAAIg8C,EAAW,MAAM,GAAGpgD,IAAI,CAAC;AACnC,MAAAqoC,IAAM,IAAI,cAAc,OAAOjkC,CAAC,GAChCszC,EAAI,aAAa13C,IAAI;AACrB;AAAA,IACF;AAEF,MAAIqoC,MAAQ;AACV,WAAAjX,EAAI,MAAM,iCAAiC,GACpC;AAET,QAAM8S,IAAQmE,EAAI,MAAM;AAAA,CAAI;AAC5B,MAAI,CAACnE,EAAM,CAAC,EAAE,WAAW,MAAM;AAC7B,WAAA9S,EAAI,MAAM,8CAA8C,GACjD;AAET,QAAMxhB,IAAIs0B,EAAM;AAChB,MAAIuc,IAAO,IACPC,IAAW,IACXC,IAAa;AACjB,QAAMC,IAASC,GAAgB,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACpDn5C,IAASo5C,EAAiB,GAAG,GAAG,CAAC;AACvC,MAAIC,IAAQC,GAAK;AACjB,WAAShhD,IAAI,GAAGA,IAAI4P,GAAG5P,KAAK;AAC1B,QAAIkS,IAAMgyB,EAAMlkC,CAAC;AACjB,SAAIkS,EAAI,WAAW,KAAKA,EAAI,CAAC,MAAM,SAC7BA,EAAI,WAAW,GAAG,KAGlBA,EAAI,OAAO,WAAW;AACxB;AAGJ,IAAAA,IAAMA,EAAI,YAAA;AACV,UAAMsP,IAAQtP,EAAI,MAAM,GAAG;AAC3B,QAAIsP,EAAM,SAAS;AACjB;AAEF,UAAM5X,IAAM4X,EAAM,CAAC,EAAE,KAAA;AACrB,QAAI/hB,IAAQ+hB,EAAM,CAAC,EAAE,KAAA;AAIrB,YAHA/hB,IAAQA,EAAM,WAAW,KAAK,GAAG,GACjCA,IAAQA,EAAM,WAAW,KAAK,GAAG,GACjCA,IAAQA,EAAM,KAAA,GACNmK,GAAA;AAAA,MACN,KAAK;AACH,QAAA+2C,IAAa;AACb;AAAA,MACF,KAAK;AACH,YAAIlhD,EAAM,SAAS,KAAK;AACtB,UAAAghD,IAAO;AAAA,iBACEhhD,EAAM,SAAS,IAAI;AAC5B,UAAAghD,IAAO;AAAA;AAEP,iBAAArvB,EAAI,MAAM,2BAA2B,GAC9B;AAET;AAAA,MACF,KAAK;AACH,gBAAQ3xB,GAAA;AAAA,UACN,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,YAAAi4C,EAAI,kBAAkB,GACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,YAAAA,EAAI,kBAAkB,GACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF;AACE,mBAAAtmB,EAAI,MAAM,iCAAiC3xB,CAAK,GACzC;AAAA,QAAA;AAEX;AAAA,MACF,KAAK;AACH;AACE,gBAAM6c,IAAS7c,EAAM,MAAM,OAAO;AAClC,mBAAS2N,IAAI,GAAGA,IAAIkP,EAAO,QAAQlP;AACjC,YAAAsqC,EAAI,QAAQtqC,IAAI,CAAC,IAAI,WAAWkP,EAAOlP,CAAC,CAAC;AAAA,QAE7C;AACA;AAAA,MACF,KAAK;AACH;AACE,gBAAM+rC,IAAO15C,EAAM,MAAM,OAAO;AAChC,UAAAi4C,EAAI,KAAK,CAAC,IAAIyB,EAAK;AACnB,mBAAS/rC,IAAI,GAAGA,IAAI+rC,EAAK,QAAQ/rC;AAC/B,YAAAsqC,EAAI,KAAKtqC,IAAI,CAAC,IAAI,SAAS+rC,EAAK/rC,CAAC,CAAC;AAAA,QAEtC;AACA;AAAA,MACF,KAAK;AACH,QAAI3N,EAAM,SAAS,QAAQ,IACzBi4C,EAAI,eAAe,KACVj4C,EAAM,SAAS,KAAK,MAC7Bi4C,EAAI,eAAe;AAErB;AAAA,MACF,KAAK;AACH;AACE,gBAAM1R,IAAKvmC,EAAM,MAAM,OAAO;AAC9B,cAAIumC,EAAG,WAAW;AAChB,qBAAS54B,IAAI,GAAGA,IAAI,GAAGA;AACrB,cAAAwzC,EAAOxzC,CAAC,IAAI,WAAW44B,EAAG54B,CAAC,CAAC;AAAA,QAGlC;AACA;AAAA,MACF,KAAK;AACH;AACE,gBAAM6zC,IAAKxhD,EAAM,MAAM,OAAO;AAC9B,UAAIwhD,EAAG,WAAW,MAChBv5C,EAAO,CAAC,IAAI,WAAWu5C,EAAG,CAAC,CAAC,GAC5Bv5C,EAAO,CAAC,IAAI,WAAWu5C,EAAG,CAAC,CAAC,GAC5Bv5C,EAAO,CAAC,IAAI,WAAWu5C,EAAG,CAAC,CAAC;AAAA,QAEhC;AACA;AAAA,MACF,KAAK;AACH,QAAIxhD,EAAM,SAAS,SAAS,MAC1BihD,IAAW;AAEb;AAAA,MACF,KAAK;AACH,QAAIjhD,EAAM,SAAS,yBAAyB,KAAKA,EAAM,SAAS,KAAK,IACnEshD,IAAQF,GAAgB,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,IACxCphD,EAAM,SAAS,wBAAwB,KAAKA,EAAM,SAAS,KAAK,IACzEshD,IAAQF,GAAgB,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,IACzCphD,EAAM,SAAS,yBAAyB,KAAKA,EAAM,SAAS,KAAK,IAC1EshD,IAAQF,GAAgB,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,CAAC,IAEnDzvB,EAAI,KAAK,iCAAiC3xB,CAAK;AAEjD;AAAA,MACF;AACE,QAAA2xB,EAAI,KAAK,YAAYxnB,CAAG;AACxB;AAAA,IAAA;AAAA,EAEN;AACA,MAAI,CAAC,MAAMg3C,EAAO,CAAC,CAAC,GAAG;AACrB,IAAAlJ,EAAI,aAAa,GACbgJ,MACFQ,GAAqBN,GAAQA,GAAQ,IAAI,GACzCl5C,EAAO,CAAC,KAAK,MACbA,EAAO,CAAC,KAAK,MACbA,EAAO,CAAC,KAAK,OAEXq5C,EAAM,CAAC,IAAI,MACbr5C,EAAO,CAAC,IAAI,CAACA,EAAO,CAAC,IAEnBq5C,EAAM,CAAC,IAAI,MACbr5C,EAAO,CAAC,IAAI,CAACA,EAAO,CAAC,IAEnBq5C,EAAM,CAAC,IAAI,MACbr5C,EAAO,CAAC,IAAI,CAACA,EAAO,CAAC,IAEvBy5C,GAAcP,GAAQG,GAAOH,CAAM;AACnC,UAAMhkB,IAAMwkB;AAAAA,MACVR,EAAO,CAAC;AAAA,MACRA,EAAO,CAAC;AAAA,MACRA,EAAO,CAAC;AAAA,MACRl5C,EAAO,CAAC;AAAA,MACRk5C,EAAO,CAAC;AAAA,MACRA,EAAO,CAAC;AAAA,MACRA,EAAO,CAAC;AAAA,MACRl5C,EAAO,CAAC;AAAA,MACRk5C,EAAO,CAAC;AAAA,MACRA,EAAO,CAAC;AAAA,MACRA,EAAO,CAAC;AAAA,MACRl5C,EAAO,CAAC;AAAA,MACR;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAEF,QAAI,CAACuyC,EAAQ;AACX,aAAO;AAET,UAAMoH,IAAQpH,EAAQ,OAAO,CAAC,GAAG,GAAG,CAAC,GAAGrd,CAAG,GACrC0kB,IAAQrH,EAAQ,OAAO,CAAC,GAAG,GAAG,CAAC,GAAGrd,CAAG;AAC3C2kB,IAAAA,GAAeD,GAAOA,GAAOD,CAAK;AAClC,UAAMG,IAAQvH,EAAQ,OAAO,CAAC,GAAG,GAAG,CAAC,GAAGrd,CAAG;AAC3C2kB,IAAAA,GAAeC,GAAOA,GAAOH,CAAK;AAClC,UAAMI,IAAQxH,EAAQ,OAAO,CAAC,GAAG,GAAG,CAAC,GAAGrd,CAAG;AAC3C2kB,IAAAA,GAAeE,GAAOA,GAAOJ,CAAK,GAClC3J,EAAI,QAAQ,CAAC,IAAIgK,GAAaJ,CAAK,GACnC5J,EAAI,QAAQ,CAAC,IAAIgK,GAAaF,CAAK,GACnC9J,EAAI,QAAQ,CAAC,IAAIgK,GAAaD,CAAK,GACnC/J,EAAI,SAAS;AAAA,MACX,CAAC9a,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,CAAC;AAAA,MAC/B,CAACA,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,CAAC;AAAA,MAC/B,CAACA,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,EAAE,GAAGA,EAAI,EAAE,CAAC;AAAA,MACjC,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA;AAAA,EAEf;AACA,MAAI4hB,IAAS;AACb,QAAMmD,IAAehB,IAAaJ,IAAgBH,GAC5CwB,IAAejB,IAAa,IAAIjJ,EAAI;AAC1C,MAAIiJ,KAAc,CAACgB;AACjB,WAAAvwB,EAAI,KAAK,kFAAkF,GACpF;AAET,MAAI,CAACuwB,KAAgBC,KAAgBD,EAAa;AAChD,WAAAvwB,EAAI,MAAM,qBAAqBwwB,CAAY,iCAAgCD,KAAA,gBAAAA,EAAc,eAAc,CAAC,GAAG,GACpG;AAET,MAAIE,IAAcF,EAAa,MAAMC,CAAY;AACjD,MAAInB;AACF,QAAI;AACF,MAAArvB,EAAI,MAAM,4BAA4B,GACtCywB,IAAc,MAAMzlB,EAAY,mBAAmB,IAAI,WAAWylB,CAAW,CAAC,GAC9EzwB,EAAI,MAAM,yBAAyB;AAAA,IACrC,SAASxjB,GAAK;AACZ,aAAAwjB,EAAI,MAAM,mCAAmCxjB,CAAG,GACzC;AAAA,IACT;AAEF,QAAMoyC,IAAiBtI,EAAI,kBAAkB,GAEvCgH,IADUhH,EAAI,KAAK,MAAM,GAAGA,EAAI,KAAK,CAAC,IAAI,CAAC,EAAE,OAAO,CAACv+B,GAAKyJ,MAAQzJ,IAAM,KAAK,IAAI,GAAGyJ,CAAG,GAAG,CAAC,IACjEo9B;AAChC,SAAI6B,EAAY,aAAanD,KAC3BttB,EAAI,MAAM,2CAA2CstB,CAAa,WAAWmD,EAAY,UAAU,EAAE,GAC9F,SACEA,EAAY,aAAanD,MAClCttB,EAAI,KAAK,kBAAkBywB,EAAY,aAAanD,CAAa,+CAA+C,GAChHmD,IAAcA,EAAY,MAAM,GAAGnD,CAAa,IAElDF,IAASqD,GACJnK,EAAI,eAIJA,EAAI,kBAIF8G,KAHLptB,EAAI,MAAM,6CAA6C,GAChD,SALPA,EAAI,MAAM,0CAA0C,GAC7C;AAOX;AAGA,IAAI0wB,KAAU,MAAMC,GAAS;AAAA,EAC3B,YAAY3B,IAAa,MAAMn2C,IAAO,IAAIo8B,IAAW,QAAQD,IAAU,GAAGma,IAAgB,MAAM/Z,IAAU,KAAKC,IAAU,KAAKoQ,IAAiB,IAAMC,IAAiB,MAAMC,IAAmB,IAAOC,IAAmB,IAAO1Q,IAAmB,IAAI2Q,IAAU,GAAGP,IAAYD,EAAa,SAASS,IAAa,KAAKC,IAAa,KAAKC,IAAkB,IAAM3O,IAAgB,MAAMuZ,IAAe,GAAG;AACxY,IAAAlwC,EAAc,MAAM,MAAM,GAC1BA,EAAc,MAAM,IAAI,GACxBA,EAAc,MAAM,KAAK,GACzBA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,WAAW,GAC/BA,EAAc,MAAM,UAAU,GAC9BA,EAAc,MAAM,gBAAgB,GACpCA,EAAc,MAAM,kBAAkB,GACtCA,EAAc,MAAM,gBAAgB,GACpCA,EAAc,MAAM,kBAAkB,GAEtCA,EAAc,MAAM,eAAe,GACnCA,EAAc,MAAM,gBAAgB,GACpCA,EAAc,MAAM,UAAU,GAC9BA,EAAc,MAAM,SAAS,GAE7BA,EAAc,MAAM,eAAe,GACnCA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,mBAAmB,EAAI,GAC3CA,EAAc,MAAM,mBAAmB,IAAI,GAC3CA,EAAc,MAAM,iBAAiB,CAAC,GAItCA,EAAc,MAAM,UAAU,EAAE,GAEhCA,EAAc,MAAM,QAAQ,GAC5BA,EAAc,MAAM,eAAe,GACnCA,EAAc,MAAM,aAAa,GACjCA,EAAc,MAAM,kBAAkB,GACtCA,EAAc,MAAM,cAAc,GAClCA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,QAAQ,GAC5BA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,aAAa,GACjCA,EAAc,MAAM,cAAc,GAClCA,EAAc,MAAM,OAAO,GAC3BA,EAAc,MAAM,UAAU,GAC9BA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,cAAc,GAClCA,EAAc,MAAM,iBAAiB,GACrCA,EAAc,MAAM,iBAAiB,GACrCA,EAAc,MAAM,UAAU,GAC9BA,EAAc,MAAM,OAAO,IAAI,GAC/BA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,WAAW,GAC/BA,EAAc,MAAM,KAAK,GACzBA,EAAc,MAAM,WAAW,GAE/BA,EAAc,MAAM,IAAI,GAExBA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,MAAM,GAC1BA,EAAc,MAAM,oBAAoB,MAAM;AAAA,IAC9C,CAAC,GACDA,EAAc,MAAM,mBAAmB,MAAM;AAAA,IAC7C,CAAC,GACDA,EAAc,MAAM,OAAO,GAC3BA,EAAc,MAAM,OAAO,GAC3BA,EAAc,MAAM,OAAO,GAC3BA,EAAc,MAAM,OAAO,GAC3BA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,YAAY,GAEhCA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,eAAe,GACnC,KAAK;AAAA,MACHsuC;AAAA,MACAn2C;AAAA,MACAo8B;AAAA,MACAD;AAAA,MACAma;AAAA,MACA/Z;AAAA,MACAC;AAAA,MACAoQ;AAAA,MACAC;AAAA,MACAC;AAAA,MACAC;AAAA,MACA1Q;AAAA,MACA2Q;AAAA,MACAP;AAAA,MACAQ;AAAA,MACAC;AAAA,MACAC;AAAA,MACA3O;AAAA,MACAuZ;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA,EAEA,KAAK5B,IAAa,MAAMn2C,IAAO,IAAIo8B,IAAW,IAAID,IAAU,GAAG6b,IAAiB,MAAMzb,IAAU,KAAKC,IAAU,KAAKoQ,IAAiB,IAAMC,IAAiB,MAAMC,IAAmB,IAAOC,IAAmB,IAAO1Q,IAAmB,IAAI2Q,IAAU,GAAGP,IAAYD,EAAa,SAASS,IAAa,KAAKC,IAAa,KAAKC,IAAkB,IAAM3O,IAAgB,MAAMuZ,IAAe,GAAGxD,IAAS,MAAM;AAC7Y,UAAM0D,IAAe7b,MAAa;AAoBlC,QAnBI6b,MACF7b,IAAW,SAEb,KAAK,OAAOp8B,GACZ,KAAK,YAAYysC,GACjB,KAAK,KAAKyL,GAAA,GACV,KAAK,YAAY9b,GACjB,KAAK,WAAWD,IAAU,IAAI,IAAIA,GAClC,KAAK,iBAAiB0Q,GACtB,KAAK,mBAAmBC,GACxB,KAAK,iBAAiBF,GACtB,KAAK,mBAAmBvQ,GACxB,KAAK,gBAAgBmC,GACrB,KAAK,UAAUwO,GACf,KAAK,aAAaC,GAClB,KAAK,aAAaC,GAClB,KAAK,kBAAkBC,GACvB,KAAK,eAAe4K,GACpB,KAAK,mBAAmBhL,GACpB,CAACoJ;AACH;AAUF,QARI8B,KAAgB,KAAK,OAAO,KAAK,IAAI,gBAAgB,SACvD7b,IAAW,UACX,KAAK,YAAYA,IAEf,KAAK,OAAO,OAAO,KAAK,IAAI,SAAU,aACxC,KAAK,IAAI,QAAQ,QAEnB,KAAK,WAAW,GACZ,KAAK;AACP,eAASrmC,IAAI,GAAGA,IAAI,GAAGA;AACrB,QAAI,KAAK,IAAI,KAAKA,CAAC,IAAI,MACrB,KAAK,YAAY,KAAK,IAAI,KAAKA,CAAC;AAMtC,QAFA,KAAK,UAAU,KAAK,IAAI,KAAK,SAAS,KAAK,WAAW,CAAC,GACvD,KAAK,gBAAgB,KAAK,UACtB,CAAC,KAAK,OAAO,CAACw+C;AAChB;AAEF,SAAK,SAAS,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC;AACnE,UAAM4D,IAAc,KAAK,UAAU,KAAK,IAAI,kBAAkB,IACxDC,IAAS7D,EAAO,aAAa4D;AACnC,IAAIC,MAAW,KAAK,aACdA,IAAS,KAAKA,IAASD,MAAgB5D,EAAO,aAChDptB,EAAI,MAAM,uBAAuBixB,IAAS,SAAS,KAAK,WAAW,UAAU,IAE7EjxB,EAAI,KAAK,yCAAyC,KAAK,KAAKotB,EAAO,UAAU,GAE/E,KAAK,WAAW6D,KAEb,KAAK,IAAI,gBAAgB,QAAkC,KAAK,IAAI,gBAAgB,SAAuC,KAAK,aAAa,KAAK,KAAK,IAAI,iBAAiB,OAC/K7D,IAAS,KAAK,gBAAgB,IAAI,aAAaA,CAAM,CAAC,EAAE,UAEtD,KAAK,IAAI,QAAQ,CAAC,MAAM,KAAK,KAAK,IAAI,QAAQ,CAAC,MAAM,KAAK,KAAK,IAAI,QAAQ,CAAC,MAAM,MACpFptB,EAAI,MAAM,yBAAyB,KAAK,GAAG,IAEzC,MAAM,KAAK,IAAI,SAAS,KAAK,KAAK,IAAI,cAAc,OACtD,KAAK,IAAI,YAAY,IAEnB,MAAM,KAAK,IAAI,SAAS,MAC1B,KAAK,IAAI,YAAY;AAEvB,QAAIkxB,IAAW3J,GAAW,KAAK,IAAI,MAAM;AACzC,QAAI3B,KAAoB,CAACsL,KAAY,KAAK,IAAI,aAAa,KAAK,IAAI,YAAY;AAC9E,MAAAlxB,EAAI,MAAM,kCAAkC;AAC5C,YAAMrvB,IAAI,KAAK,IAAI,WACb2C,IAAI,KAAK,IAAI,WACb0I,IAAI,KAAK,IAAI,WACb/M,IAAI,KAAK,KAAK,KAAK,KAAK,IAAI0B,GAAG,CAAC,IAAI,KAAK,IAAI2C,GAAG,CAAC,IAAI,KAAK,IAAI0I,GAAG,CAAC,EAAE,GACpEiI,IAAO,KAAK,IAAI,QAAQ,CAAC,MAAM,IAAI,IAAI,KAAK,IAAI,QAAQ,CAAC,GACzDktC,IAAY;AAAA,QAChB,CAACliD,IAAIA,IAAI0B,IAAIA,IAAI2C,IAAIA,IAAI0I,IAAIA,GAAG,IAAIrL,IAAI2C,IAAI,IAAIrE,IAAI+M,GAAG,IAAIrL,IAAIqL,IAAI,IAAI/M,IAAIqE,CAAC;AAAA,QAC5E,CAAC,IAAI3C,IAAI2C,IAAI,IAAIrE,IAAI+M,GAAG/M,IAAIA,IAAIqE,IAAIA,IAAI3C,IAAIA,IAAIqL,IAAIA,GAAG,IAAI1I,IAAI0I,IAAI,IAAI/M,IAAI0B,CAAC;AAAA,QAC5E,CAAC,IAAIA,IAAIqL,IAAI,IAAI/M,IAAIqE,GAAG,IAAIA,IAAI0I,IAAI,IAAI/M,IAAI0B,GAAG1B,IAAIA,IAAI+M,IAAIA,IAAI1I,IAAIA,IAAI3C,IAAIA,CAAC;AAAA,MAAA,GAExEs3C,IAAS,KAAK,IAAI;AACxB,eAAS9kC,IAAS,GAAGA,IAAS,GAAGA,KAAU;AACzC,iBAASC,IAAQ,GAAGA,IAAQ,GAAGA,KAAS;AACtC,UAAA6kC,EAAO9kC,CAAM,EAAEC,CAAK,IAAI+tC,EAAUhuC,CAAM,EAAEC,CAAK,IAAI,KAAK,IAAI,QAAQA,IAAQ,CAAC,GACzEA,MAAU,MACZ6kC,EAAO9kC,CAAM,EAAEC,CAAK,KAAKa;AAI/B,MAAAgkC,EAAO,CAAC,EAAE,CAAC,IAAI,KAAK,IAAI,WACxBA,EAAO,CAAC,EAAE,CAAC,IAAI,KAAK,IAAI,WACxBA,EAAO,CAAC,EAAE,CAAC,IAAI,KAAK,IAAI,WACxB,KAAK,IAAI,SAASA;AAAA,IACpB;AAEA,QADAiJ,IAAW3J,GAAW,KAAK,IAAI,MAAM,GACjC,CAAC2J,GAAU;AACb,MAAAlxB,EAAI,MAAM,wDAAwD;AAClE,UAAI/sB,IAAI,KAAK,IAAI,QAAQ,CAAC,GACtBtE,IAAI,KAAK,IAAI,QAAQ,CAAC,GACtBuE,IAAI,KAAK,IAAI,QAAQ,CAAC;AAC1B,OAAI,MAAMD,CAAC,KAAKA,MAAM,OACpBA,IAAI,KAEF,MAAMtE,CAAC,KAAKA,MAAM,OACpBA,IAAI,KAEF,MAAMuE,CAAC,KAAKA,MAAM,OACpBA,IAAI,IAEN,KAAK,IAAI,QAAQ,CAAC,IAAID,GACtB,KAAK,IAAI,QAAQ,CAAC,IAAItE,GACtB,KAAK,IAAI,QAAQ,CAAC,IAAIuE;AACtB,YAAM+0C,IAAS;AAAA,QACb,CAACh1C,GAAG,GAAG,GAAG,CAAC;AAAA,QACX,CAAC,GAAGtE,GAAG,GAAG,CAAC;AAAA,QACX,CAAC,GAAG,GAAGuE,GAAG,CAAC;AAAA,QACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MAAA;AAEb,WAAK,IAAI,SAAS+0C;AAAA,IACpB;AACA,QAAI,KAAK,IAAI,iBAAiB,OAAsB,KAAK,IAAI,iBAAiB,QAAwB,KAAK,IAAI,iBAAiB/C,GAAA,KAA4B,KAAK,IAAI,kBAAkB;AACrL,UAAI,KAAK,IAAI,oBAAoB,IAAI;AACnC,cAAMhrC,IAAM,IAAI,YAAYkzC,CAAM;AAClC,iBAASx+C,IAAI,GAAGA,IAAIsL,EAAI,QAAQtL,KAAK;AACnC,gBAAMiT,IAAM3H,EAAItL,CAAC;AACjB,UAAAsL,EAAItL,CAAC,MAAMiT,IAAM,QAAQ,IAAIA,KAAO,IAAI,QAAQ,MAAM;AAAA,QACxD;AAAA,MACF,WAAW,KAAK,IAAI,oBAAoB,IAAI;AAC1C,cAAM8wB,IAAM,IAAI,YAAYya,CAAM;AAClC,iBAASx+C,IAAI,GAAGA,IAAI+jC,EAAI,QAAQ/jC,KAAK;AACnC,gBAAMiT,IAAM8wB,EAAI/jC,CAAC;AACjB,UAAA+jC,EAAI/jC,CAAC,KAAKiT,IAAM,QAAQ,MAAMA,IAAM,UAAU,IAAIA,KAAO,IAAI,QAAQA,KAAO,KAAK;AAAA,QACnF;AAAA,MACF,WAAW,KAAK,IAAI,oBAAoB,IAAI;AAC1C,cAAMuvC,IAAmB,KAAK,IAAI,kBAAkB,GAC9Cn3C,IAAK,IAAI,WAAWmzC,CAAM;AAChC,iBAASj1C,IAAQ,GAAGA,IAAQ8B,EAAG,QAAQ9B,KAASi5C,GAAkB;AAChE,cAAI96C,IAAS86C,IAAmB;AAChC,mBAASn+C,IAAI,GAAGA,IAAIqD,GAAQrD,KAAK;AAC/B,kBAAMo+C,IAAUp3C,EAAG9B,IAAQlF,CAAC;AAC5B,YAAAgH,EAAG9B,IAAQlF,CAAC,IAAIgH,EAAG9B,IAAQ7B,CAAM,GACjC2D,EAAG9B,IAAQ7B,CAAM,IAAI+6C,GACrB/6C;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA;AAEF,YAAQ,KAAK,IAAI,cAAA;AAAA,MACf,KAAK;AACH,aAAK,MAAM,IAAI,WAAW82C,CAAM;AAChC;AAAA,MACF,KAAK;AACH,aAAK,MAAM,IAAI,WAAWA,CAAM;AAChC;AAAA,MACF,KAAK;AACH,aAAK,MAAM,IAAI,aAAaA,CAAM;AAClC;AAAA,MACF,KAAK;AACH,aAAK,MAAM,IAAI,aAAaA,CAAM;AAClC;AAAA,MACF,KAAK;AACH,aAAK,MAAM,IAAI,WAAWA,CAAM;AAChC;AAAA,MACF,KAAK;AACH,aAAK,MAAM,IAAI,YAAYA,CAAM;AACjC;AAAA,MACF,KAAK;AACH,aAAK,MAAM,IAAI,WAAWA,CAAM;AAChC;AAAA,MACF,KAAK,KAAmB;AACtB,cAAMkE,IAAK,IAAI,UAAUlE,CAAM,GACzBmE,IAAMD,EAAG;AACf,aAAK,MAAM,IAAI,WAAWC,CAAG;AAC7B,iBAAS3iD,IAAI,GAAGA,IAAI2iD,GAAK3iD;AACvB,eAAK,IAAIA,CAAC,IAAI0iD,EAAG1iD,CAAC;AAEpB,aAAK,IAAI,eAAe,GACxB,KAAK,IAAI,kBAAkB;AAC3B;AAAA,MACF;AAAA,MACA,KAAK,GAAmB;AACtB,cAAM4iD,IAAO,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,CAAC,CAAC,IAAI,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,CAAC,CAAC,GACzGC,IAAO,IAAI,WAAWrE,CAAM;AAClC,aAAK,MAAM,IAAI,WAAWoE,CAAI;AAC9B,cAAMhsB,IAAM,IAAI,WAAW,CAAC;AAC5B,iBAAS52B,IAAI,GAAGA,IAAI,GAAGA;AACrB,UAAA42B,EAAI52B,CAAC,IAAI,KAAK,IAAI,GAAGA,CAAC;AAExB,YAAIk5B,IAAK;AACT,iBAASl5B,IAAI,GAAGA,IAAI4iD,GAAM5iD,KAAK;AAC7B,gBAAM8iD,IAAM9iD,IAAI;AAChB,UAAI8iD,MAAQ,KACV5pB,KAEG2pB,EAAK3pB,CAAE,IAAItC,EAAIksB,CAAG,MACrB,KAAK,IAAI9iD,CAAC,IAAI;AAAA,QAElB;AACA,aAAK,IAAI,eAAe,GACxB,KAAK,IAAI,kBAAkB;AAC3B;AAAA,MACF;AAAA,MACA,KAAK,KAAqB;AACxB,cAAM+jC,IAAM,IAAI,YAAYya,CAAM,GAC5BuE,IAAOhf,EAAI;AACjB,aAAK,MAAM,IAAI,aAAagf,CAAI;AAChC,iBAAS/iD,IAAI,GAAGA,IAAI+iD,IAAO,GAAG/iD;AAC5B,eAAK,IAAIA,CAAC,IAAI+jC,EAAI/jC,CAAC;AAErB,aAAK,IAAI,eAAe;AACxB;AAAA,MACF;AAAA,MACA,KAAK,GAAkB;AACrB,cAAMuL,IAAM,IAAI,WAAWizC,CAAM,GAC3BwE,IAAQz3C,EAAI;AAClB,aAAK,MAAM,IAAI,aAAay3C,CAAK;AACjC,iBAAShjD,IAAI,GAAGA,IAAIgjD,IAAQ,GAAGhjD;AAC7B,eAAK,IAAIA,CAAC,IAAIuL,EAAIvL,CAAC;AAErB,aAAK,IAAI,eAAe;AACxB;AAAA,MACF;AAAA,MACA,KAAK,MAAqB;AACxB,cAAMijD,IAAM,IAAI,cAAczE,CAAM,GAC9BtvB,IAAK+zB,EAAI;AACf,aAAK,MAAM,IAAI,aAAa/zB,CAAE;AAC9B,iBAASlvB,IAAI,GAAGA,IAAIkvB,IAAK,GAAGlvB;AAC1B,eAAK,IAAIA,CAAC,IAAI,OAAOijD,EAAIjjD,CAAC,CAAC;AAE7B,aAAK,IAAI,eAAe;AACxB;AAAA,MACF;AAAA,MACA,KAAK,IAAuB;AAC1B,cAAMolC,IAAM,IAAI,aAAaoZ,CAAM,GAC7B0E,IAAM,KAAK,MAAM9d,EAAI,SAAS,CAAC;AACrC,aAAK,YAAY,IAAI,aAAa8d,CAAG,GACrC,KAAK,MAAM,IAAI,aAAaA,CAAG;AAC/B,YAAI12C,IAAI;AACR,iBAASxM,IAAI,GAAGA,IAAIkjD,IAAM,GAAGljD;AAC3B,eAAK,IAAIA,CAAC,IAAIolC,EAAI54B,CAAC,GACnB,KAAK,UAAUxM,CAAC,IAAIolC,EAAI54B,IAAI,CAAC,GAC7BA,KAAK;AAEP,aAAK,IAAI,eAAe;AACxB;AAAA,MACF;AAAA,MACA;AACE,cAAM,IAAI,MAAM,cAAc,KAAK,IAAI,eAAe,gBAAgB;AAAA,IAAA;AAE1E,SAAK,aAAA,GACA,MAAMg6B,CAAO,MAChB,KAAK,IAAI,UAAUA,IAEhB,MAAMC,CAAO,MAChB,KAAK,IAAI,UAAUA,IAErB,KAAK,UAAA;AAAA,EACP;AAAA,EACA,aAAa,IAAI2Z,IAAa,MAAMn2C,IAAO,IAAIo8B,IAAW,IAAID,IAAU,GAAGma,IAAgB,MAAM/Z,IAAU,KAAKC,IAAU,KAAKoQ,IAAiB,IAAMC,IAAiB,MAAMC,IAAmB,IAAOC,IAAmB,IAAO1Q,IAAmB,IAAI2Q,IAAU,GAAGP,IAAYD,EAAa,SAASS,IAAa,KAAKC,IAAa,KAAKC,IAAkB,IAAM3O,IAAgB,MAAMuZ,IAAe,GAAGmB,GAAU;AACnZ,UAAMC,IAAS,IAAIrB,GAAA,GACblb,IAAK;AACX,QAAIC,IAAMD,EAAG,KAAK58B,CAAI,EAAE,CAAC,KAAK;AAC9B,IAAA68B,IAAMA,EAAI,YAAA,GACNA,MAAQ,SACVA,IAAMD,EAAG,KAAK58B,EAAK,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAClC68B,IAAMA,EAAI,YAAA;AAEZ,QAAI0X,IAAS;AAIb,QAHI9H,MAAcD,EAAa,YAC7BC,IAAYD,EAAa,MAAM3P,CAAG,IAEhCsZ,aAAsB,eAAeA,EAAW,cAAc,KAAK1J,MAAcD,EAAa,KAAK;AACrG,YAAM4M,IAAM,IAAI,WAAWjD,CAAU;AAErC,OADiBiD,EAAI,CAAC,MAAM,MAAMA,EAAI,CAAC,MAAM,KAAKA,EAAI,CAAC,MAAM,MAAMA,EAAI,CAAC,MAAM,OAE5E3M,IAAYD,EAAa;AAAA,IAE7B;AAEA,YADA2M,EAAO,YAAY1M,GACXA,GAAA;AAAA,MACN,KAAKD,EAAa;AAAA,MAClB,KAAKA,EAAa;AAAA,MAClB,KAAKA,EAAa;AAChB;AAAA,MACF,KAAKA,EAAa;AAEhB,SAAC+H,GAAQ4E,EAAO,EAAE,IAAI,MAAMA,EAAO,QAAQhD,CAAU;AACrD;AAAA,MACF,KAAK3J,EAAa;AAAA,MAClB,KAAKA,EAAa;AAChB,QAAA+H,IAAS,MAAM4E,EAAO,QAAQhD,GAAYG,CAAa;AACvD;AAAA,MACF,KAAK9J,EAAa;AAAA,MAClB,KAAKA,EAAa;AAEhB,YADA+H,IAAS,MAAM6B,GAAa,SAAS+C,GAAQhD,CAAU,GACnD5B,MAAW;AACb,gBAAM,IAAI,MAAM,kCAAkCv0C,CAAI,EAAE;AAE1D;AAAA,MACF,KAAKwsC,EAAa;AAAA,MAClB,KAAKA,EAAa;AAChB,QAAA+H,IAAS,MAAM4E,EAAO,QAAQhD,GAAYG,CAAa;AACvD;AAAA,MACF,KAAK9J,EAAa;AAAA,MAClB,KAAKA,EAAa;AAEhB,YADA+H,IAAS,MAAMT,GAAY,QAAQqF,GAAQhD,CAAU,GACjD5B,MAAW;AACb,gBAAM,IAAI,MAAM,gCAAgCv0C,CAAI,EAAE;AAExD;AAAA,MACF,KAAKwsC,EAAa;AAChB,QAAA+H,IAAS,MAAM4E,EAAO,QAAQhD,CAAU;AACxC;AAAA,MACF,KAAK3J,EAAa;AAChB,QAAA+H,IAAS4E,EAAO,SAAShD,CAAU;AACnC;AAAA,MACF,KAAK3J,EAAa;AAChB,QAAA+H,IAAS4E,EAAO,QAAQhD,CAAU;AAClC;AAAA,MACF,KAAK3J,EAAa;AAChB,QAAA+H,IAAS4E,EAAO,QAAQhD,CAAU;AAClC;AAAA,MACF,KAAK3J,EAAa;AAChB,QAAA+H,IAAS,MAAM4E,EAAO,SAAShD,GAAYG,CAAa;AACxD;AAAA,MACF,KAAK9J,EAAa;AAChB,QAAA+H,IAAS,MAAM4E,EAAO,QAAQhD,CAAU;AACxC;AAAA,MACF,KAAK3J,EAAa;AAChB,QAAA+H,IAAS,MAAM4E,EAAO,QAAQhD,CAAU;AACxC;AAAA,MACF,KAAK3J,EAAa;AAChB,QAAA+H,IAAS,MAAM4E,EAAO,QAAQhD,CAAU;AACxC;AAAA,MACF,KAAK3J,EAAa;AAChB,QAAA+H,IAAS,MAAM4E,EAAO,SAAShD,GAAY+C,CAAQ;AACnD;AAAA,MACF,KAAK1M,EAAa;AAEhB,YADA+H,IAAS,MAAMyB,GAAY,UAAUmD,GAAQhD,GAAYG,CAAa,GAClE/B,MAAW;AACb,gBAAM,IAAI,MAAM,8BAA8Bv0C,CAAI,GAAG;AAEvD;AAAA,MACF;AACE,cAAM,IAAI,MAAM,0BAA0B;AAAA,IAAA;AAE9C,WAAAm5C,EAAO;AAAA,MACLhD;AAAA,MACAn2C;AAAA,MACAo8B;AAAA,MACAD;AAAA,MACAma;AAAA,MACA/Z;AAAA,MACAC;AAAA,MACAoQ;AAAA,MACAC;AAAA,MACAC;AAAA,MACAC;AAAA,MACA1Q;AAAA,MACA2Q;AAAA,MACAP;AAAA,MACAQ;AAAA,MACAC;AAAA,MACAC;AAAA,MACA3O;AAAA,MACAuZ;AAAA,MACAxD;AAAA,IAAA,GAEK4E;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,oBAAoBE,GAAO;AACzB,UAAM5jB,IAAM6jB,GAAYD,CAAK;AAC7BE,IAAAA,GAAgB9jB,GAAK4jB,CAAK;AAC1B,UAAMG,IAAQ,KAAK,KAAK/jB,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,CAAC,GACrEgkB,IAAO,KAAK,IAAI,KAAK,IAAI,KAAK,IAAIhkB,EAAI,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAI,CAAC,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAI,CAAC,CAAC,CAAC,IAAI+jB,GAClFE,IAAQ,KAAK,KAAKjkB,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,CAAC,GACrEkkB,IAAO,KAAK,IAAI,KAAK,IAAI,KAAK,IAAIlkB,EAAI,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAI,CAAC,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAI,CAAC,CAAC,CAAC,IAAIikB,GAClFE,IAAQ,KAAK,KAAKnkB,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIA,EAAI,EAAE,IAAIA,EAAI,EAAE,CAAC,GACvEokB,IAAO,KAAK,IAAI,KAAK,IAAI,KAAK,IAAIpkB,EAAI,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAI,CAAC,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAI,EAAE,CAAC,CAAC,IAAImkB,GACnFE,IAAY,KAAK,IAAI,KAAK,IAAIL,GAAME,CAAI,GAAGE,CAAI;AACrD,QAAIE,IAAgB,KAAK,IAAI,KAAK,KAAKD,CAAS,IAAI,MAAM,WAAW;AACrE,WAAIC,IAAgB,OAClB5yB,EAAI,KAAK,kDAAkD4yB,IAAgB;AAAA,CAAwB,IAEnGA,IAAgB,GAEXA;AAAA,EACT;AAAA,EACA,gBAAgBC,GAAO;AACrB,IAAIA,EAAM,WAAW,KAAK,SAAS,KACjC7yB,EAAI,KAAK,+BAA+B,KAAK,SAAS,IAAI,gBAAgB,CAAC6yB,EAAM,MAAM;AAEzF,UAAM7e,IAAM6e,EAAM,MAAA;AAClB,SAAK,IAAI,eAAe,MACxB,KAAK,WAAW;AAChB,aAASjkD,IAAI,GAAGA,IAAI,GAAGA;AACrB,WAAK,IAAI,KAAKA,CAAC,IAAI;AAErB,SAAK,IAAI,KAAK,CAAC,IAAI;AACnB,UAAMw+C,IAAS,IAAI,WAAW,KAAK,SAAS,CAAC;AAC7C,QAAI3kB,IAAK;AACT,aAAS75B,IAAI,GAAGA,IAAI,KAAK,SAAS,GAAGA;AACnC,MAAI,MAAMolC,EAAIplC,CAAC,CAAC,MAGhB65B,IAAK,KAAK,IAAIA,GAAI,KAAK,IAAIuL,EAAIplC,CAAC,CAAC,CAAC;AAEpC,UAAM48C,IAAQ,MAAM/iB,GACdqqB,IAAU,KAAK,SAAS;AAC9B,QAAIp4C,IAAI;AACR,aAAS9L,IAAI,GAAGA,IAAI,KAAK,QAAQA,KAAK;AACpC,YAAMqE,IAAI+gC,EAAIplC,CAAC,GACTD,IAAIqlC,EAAIplC,IAAI,KAAK,MAAM,GACvBsE,IAAI8gC,EAAIplC,IAAIkkD,CAAO;AACzB,MAAA1F,EAAO1yC,CAAC,IAAI,KAAK,IAAIzH,IAAIu4C,CAAK,GAC9B4B,EAAO1yC,IAAI,CAAC,IAAI,KAAK,IAAI/L,IAAI68C,CAAK,GAClC4B,EAAO1yC,IAAI,CAAC,IAAI,KAAK,IAAIxH,IAAIs4C,CAAK;AAClC,YAAMuH,IAAO,EAAO9/C,IAAI,KAAK,GACvB+/C,IAAO,EAAOrkD,IAAI,KAAK,GACvBskD,IAAO,EAAO//C,IAAI,KAAK;AAC7B,UAAIggD,IAAQ,MAAMH,IAAOC,IAAOC;AAChC,MAAI,KAAK,IAAIhgD,CAAC,IAAI,KAAK,IAAItE,CAAC,IAAI,KAAK,IAAIuE,CAAC,IAAI,QAC5CggD,IAAQ,IAGV9F,EAAO1yC,IAAI,CAAC,IAAIw4C,GAChBx4C,KAAK;AAAA,IACP;AACA,WAAO0yC;AAAA,EACT;AAAA,EACA,UAAU+F,IAAU,IAAOC,IAAU,IAAOC,IAAU,IAAO;AAC3D,QAAIp2B,IAAK,KAAK;AAId,QAHI,CAACA,KAAM,KAAK,aAAa,KAAK,KAAK,IAAI,gBAAgB,iBACzDA,IAAK,KAAK,IAAI,MAAA,IAEZ,CAACA;AACH,aAAA+C,EAAI,KAAK,6BAA6B,GAC/B;AAET,QAAImzB;AACF,eAASvkD,IAAI,GAAGA,IAAI,KAAK,QAAQA;AAC/B,QAAAquB,EAAGruB,CAAC,IAAI,CAACquB,EAAGruB,CAAC;AAGjB,QAAIwkD;AACF,eAASxkD,IAAI,KAAK,QAAQA,IAAI,IAAI,KAAK,QAAQA;AAC7C,QAAAquB,EAAGruB,CAAC,IAAI,CAACquB,EAAGruB,CAAC;AAGjB,QAAIykD;AACF,eAASzkD,IAAI,IAAI,KAAK,QAAQA,IAAI,IAAI,KAAK,QAAQA;AACjD,QAAAquB,EAAGruB,CAAC,IAAI,CAACquB,EAAGruB,CAAC;AAGjB,gBAAK,MAAM,KAAK,gBAAgBquB,CAAE,GAC3B;AAAA,EACT;AAAA;AAAA;AAAA,EAGA,mBAAmB;AACjB,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,oBAAoB;AAEtC,QAAI,KAAK,eAAe;AACtB,YAAM,IAAI,MAAM,wBAAwB;AAE1C,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,qBAAqB;AAEvC,SAAK,gBAAgB,KAAK,oBAAoB,KAAK,MAAM;AACzD,UAAMq2B,IAAM,KAAK,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG,KAAK,MAAM,GACxCC,IAAO,KAAK,OAAO,CAAC,IAAI,KAAK,WAAW,CAAC,GAAG,GAAG,CAAC,GAAG,KAAK,MAAM,GAC9DC,IAAO,KAAK,OAAO,CAAC,GAAG,IAAI,KAAK,WAAW,CAAC,GAAG,CAAC,GAAG,KAAK,MAAM,GAC9DC,IAAO,KAAK,OAAO,CAAC,GAAG,GAAG,IAAI,KAAK,WAAW,CAAC,CAAC,GAAG,KAAK,MAAM;AACpEC,IAAAA,GAAeH,GAAMA,GAAMD,CAAG,GAC9BI,GAAeF,GAAMA,GAAMF,CAAG,GAC9BI,GAAeD,GAAMA,GAAMH,CAAG;AAC9B,UAAMK,IAAUC;AAAAA,MACdL,EAAK,CAAC;AAAA,MACNA,EAAK,CAAC;AAAA,MACNA,EAAK,CAAC;AAAA,MACN;AAAA,MACAC,EAAK,CAAC;AAAA,MACNA,EAAK,CAAC;AAAA,MACNA,EAAK,CAAC;AAAA,MACN;AAAA,MACAC,EAAK,CAAC;AAAA,MACNA,EAAK,CAAC;AAAA,MACNA,EAAK,CAAC;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAEF,SAAK,aAAatB,GAAYwB,CAAO;AACrC,UAAME,IAAK,KAAK,IAAI,KAAKC,GAAYP,GAAMC,CAAI,KAAK,MAAM,KAAK,GAAG,GAC5DO,IAAK,KAAK,IAAI,KAAKD,GAAYP,GAAME,CAAI,KAAK,MAAM,KAAK,GAAG,GAC5DO,IAAK,KAAK,IAAI,KAAKF,GAAYN,GAAMC,CAAI,KAAK,MAAM,KAAK,GAAG;AAClE,SAAK,cAAc,KAAK,IAAI,KAAK,IAAII,GAAIE,CAAE,GAAGC,CAAE,GAC5C,KAAK,cAAc,OACrBh0B,EAAI,KAAK,gEAAgE,KAAK,WAAW;AAE3F,UAAMxO,IAAMyiC,GAAiB,KAAK,QAAQ,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,CAAC,GAC3E1lB,IAAQ4jB,GAAY,KAAK,MAAM;AACrCC,IAAAA,GAAgB7jB,GAAOA,CAAK;AAC5B,UAAM2lB,IAAOD,GAAiB,MAAM,MAAM,MAAM,CAAC;AACjDE,IAAAA,GAAgB5lB,GAAOA,GAAO6lB,EAAiBF,EAAK,CAAC,GAAGA,EAAK,CAAC,GAAGA,EAAK,CAAC,CAAC,CAAC,GACzE3lB,EAAM,CAAC,KAAK/c,EAAI,CAAC,GACjB+c,EAAM,CAAC,KAAK/c,EAAI,CAAC,GACjB+c,EAAM,CAAC,KAAK/c,EAAI,CAAC,GACjB+c,EAAM,CAAC,KAAK/c,EAAI,CAAC,GACjB+c,EAAM,CAAC,KAAK/c,EAAI,CAAC,GACjB+c,EAAM,CAAC,KAAK/c,EAAI,CAAC,GACjB+c,EAAM,CAAC,KAAK/c,EAAI,CAAC,GACjB+c,EAAM,CAAC,KAAK/c,EAAI,CAAC,GACjB+c,EAAM,EAAE,KAAK/c,EAAI,CAAC,GAClB,KAAK,UAAU2gC,GAAY5jB,CAAK;AAChC,UAAM8lB,IAAU,KAAK,WAAW,CAAC,GAC3BC,IAAU,KAAK,WAAW,CAAC,GAC3BC,IAAU,KAAK,WAAW,CAAC,GAC3BC,IAAQrC,GAAY5jB,CAAK;AAC/B,IAAAimB,EAAM,CAAC,IAAIH,IAAU7iC,EAAI,CAAC,GAC1BgjC,EAAM,CAAC,IAAI,GACXA,EAAM,CAAC,IAAI,GACXA,EAAM,CAAC,IAAI,GACXA,EAAM,CAAC,IAAIF,IAAU9iC,EAAI,CAAC,GAC1BgjC,EAAM,CAAC,IAAI,GACXA,EAAM,CAAC,IAAI,GACXA,EAAM,CAAC,IAAI,GACXA,EAAM,EAAE,IAAID,IAAU/iC,EAAI,CAAC;AAC3B,UAAMijC,IAAc,KAAK,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG,EAAI;AAC/C,IAAAD,EAAM,EAAE,KAAK,CAACC,EAAY,CAAC,IAAI,OAAOJ,GACtCG,EAAM,EAAE,KAAK,CAACC,EAAY,CAAC,IAAI,OAAOH,GACtCE,EAAM,EAAE,KAAK,CAACC,EAAY,CAAC,IAAI,OAAOF,GACtC,KAAK,eAAepC,GAAYqC,CAAK,GACrC,KAAK,kBAAkB,CAACA,EAAM,EAAE,GAAGA,EAAM,EAAE,GAAGA,EAAM,EAAE,CAAC,GACvD,KAAK,kBAAkB,CAACA,EAAM,CAAC,IAAIA,EAAM,EAAE,GAAGA,EAAM,CAAC,IAAIA,EAAM,EAAE,GAAGA,EAAM,EAAE,IAAIA,EAAM,EAAE,CAAC,GACzF,KAAK,WAAWE,GAAM,GACtBC,GAAa,KAAK,UAAUhB,CAAO;AAAA,EACrC;AAAA;AAAA;AAAA;AAAA,EAIA,mBAAmBiB,GAAUC,GAAWC,GAAgB;AACtD,UAAMxO,IAAM,KAAK;AACjB,QAAIA,MAAQ;AACV,YAAM,IAAI,MAAM,gBAAgB;AAElC,IAAAA,EAAI,aAAa;AACjB,UAAMyO,IAAa;AACnB,QAAIC,IAAc,IACdC,IAAc,IACdC,IAAc;AAClB,UAAMC,IAAS,CAAC,KAAK,KAAK,GAAG;AAC7B,IAAAA,EAAO,CAAC,IAAIJ,EAAWD,EAAe,CAAC,CAAC,GACxCK,EAAO,CAAC,IAAIJ,EAAWD,EAAe,CAAC,CAAC,GACxCK,EAAO,CAAC,IAAIJ,EAAWD,EAAe,CAAC,CAAC;AACxC,UAAMM,IAASR,EAAS,MAAM,GAAG,CAAC,GAC5BS,IAAUR,EAAU,MAAM,GAAG,CAAC;AACpC,aAASS,IAAK,GAAGA,IAAK,GAAGA;AACvB,MAAIH,EAAOG,CAAE,MAAM,MACjBN,IAAcM,IACLH,EAAOG,CAAE,MAAM,MACxBL,IAAcK,IAEdJ,IAAcI;AAGlB,IAAIN,IAAc,KAAKC,IAAc,KAAKC,IAAc,KAGpDF,MAAgBC,KAAeD,MAAgBE,KAAeD,MAAgBC,MAGlF5O,EAAI,QAAQ,CAAC,IAAI,KAAK,IAAI8O,EAAO,CAAC,CAAC,GACnC9O,EAAI,QAAQ,CAAC,IAAI,KAAK,IAAI8O,EAAO,CAAC,CAAC,GACnC9O,EAAI,QAAQ,CAAC,IAAI,KAAK,IAAI8O,EAAO,CAAC,CAAC,GACnC9O,EAAI,SAAS;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,MACX,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAEbA,EAAI,OAAO,CAAC,EAAE0O,CAAW,IAAI,CAACI,EAAOJ,CAAW,GAChD1O,EAAI,OAAO,CAAC,EAAE2O,CAAW,IAAI,CAACG,EAAOH,CAAW,GAChD3O,EAAI,OAAO,CAAC,EAAE4O,CAAW,IAAIE,EAAOF,CAAW,GAC/C5O,EAAI,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC+O,EAAQL,CAAW,GACvC1O,EAAI,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC+O,EAAQJ,CAAW,GACvC3O,EAAI,OAAO,CAAC,EAAE,CAAC,IAAI+O,EAAQH,CAAW;AAAA,EACxC;AAAA;AAAA;AAAA,EAGA,qBAAqB;AACnB,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,iBAAiB;AAEnC,UAAMr/C,IAAI,KAAK,IAAI,QACb21B,IAAMooB;AAAAA,MACV/9C,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,IAAA,GAEFo6C,IAAQ,KAAK,OAAO,CAAC,GAAG,GAAG,CAAC,GAAGzkB,CAAG,GAClC0kB,IAAQ,KAAK,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG1kB,CAAG;AACxCkoB,IAAAA,GAAexD,GAAOA,GAAOD,CAAK;AAClC,UAAMG,IAAQ,KAAK,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG5kB,CAAG;AACxCkoB,IAAAA,GAAetD,GAAOA,GAAOH,CAAK;AAClC,UAAMI,IAAQ,KAAK,OAAO,CAAC,GAAG,GAAG,CAAC,GAAG7kB,CAAG;AACxCkoB,IAAAA,GAAerD,GAAOA,GAAOJ,CAAK,GAClC,KAAK,IAAI,QAAQ,CAAC,IAAIsF,GAAarF,CAAK,GACxC,KAAK,IAAI,QAAQ,CAAC,IAAIqF,GAAanF,CAAK,GACxC,KAAK,IAAI,QAAQ,CAAC,IAAImF,GAAalF,CAAK;AAAA,EAC1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqIA,SAAS5iD,GAAQ;AACf,SAAK,MAAM,IAAI+nD,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,IAAAA,EAAI,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAClCA,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACrC,UAAMt4C,IAAS,IAAI,SAASP,CAAM,GAC5B08B,IAAYn8B,EAAO,SAAS,GAAG,EAAK,GACpCynD,IAAWznD,EAAO,SAAS,IAAI,EAAK;AAC1C,QAAIm8B,MAAc,cAAcsrB,IAAW,KAAKA,IAAW;AACzD,YAAM,IAAI,MAAM,uBAAuB;AAEzC,QAAI/3C,IAAM,KACNg4C,IAAO;AACX,UAAMC,IAAiB,CAAA;AACvB,QAAIC,IAAS,IAAI,aAAA;AACjB,eAAa;AACX,YAAMC,IAAO7nD,EAAO,SAAS0P,GAAK,EAAK,GACjCo4C,IAAO9nD,EAAO,SAAS0P,IAAM,IAAI,EAAK;AAC5C,UAAIm4C,IAAOC,MAAS;AAClB;AAEF,UAAIj3C,IAAOnB,IAAM,IACbtC,IAAI,GACJ26C,IAAY;AAChB,aAAO36C,IAAI,OACT26C,IAAY/nD,EAAO,SAAS6Q,GAAM,EAAK,GACvCA,KAAQ,IACJk3C,MAAc,MAHL;AAMb,QAAA36C;AACA,YAAI46C,IAAOD,IAAY;AACvB,cAAMzmB,IAAO0mB,IAAO,KACdlqC,IAAY9d,EAAO,UAAUshC,GAAM,EAAK;AAC9C,QAAAgX,EAAI,KAAK,CAAC,IAAIt4C,EAAO,UAAUshC,IAAO,GAAG,EAAK,GAC9CgX,EAAI,KAAK,CAAC,IAAIt4C,EAAO,UAAUshC,IAAO,GAAG,EAAK,GAC9CgX,EAAI,KAAK,CAAC,IAAIt4C,EAAO,UAAUshC,IAAO,GAAG,EAAK;AAC9C,cAAM2mB,IAAejoD,EAAO,WAAWshC,IAAO,IAAI,EAAK;AACvD,QAAAgX,EAAI,QAAQ,CAAC,IAAIt4C,EAAO,WAAWshC,IAAO,IAAI,EAAK,IAAI,IACvDgX,EAAI,QAAQ,CAAC,IAAIt4C,EAAO,WAAWshC,IAAO,IAAI,EAAK,IAAI,IACvDgX,EAAI,QAAQ,CAAC,IAAIt4C,EAAO,WAAWshC,IAAO,IAAI,EAAK,IAAI,IACvDgX,EAAI,QAAQ,CAAC,IAAIt4C,EAAO,UAAUshC,IAAO,IAAI,EAAK,IAAI,KACtDqmB,EAAe,KAAKrP,EAAI,QAAQ,CAAC,CAAC;AAClC,cAAM4P,IAAS5P,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,GAC/C0L,IAAS,IAAI,aAAakE,CAAM;AACtC,YAAIpqC,MAAc;AAChB,mBAASld,IAAI,GAAGA,IAAIsnD,GAAQtnD;AAC1B,YAAAojD,EAAOpjD,CAAC,IAAIZ,EAAO,SAASgoD,CAAI,IAAIC,GACpCD;AAAA,iBAEOlqC,MAAc;AACvB,mBAASld,IAAI,GAAGA,IAAIsnD,GAAQtnD;AAC1B,YAAAojD,EAAOpjD,CAAC,IAAIZ,EAAO,UAAUgoD,GAAM,EAAK,IAAIC,GAC5CD,KAAQ;AAAA,iBAEDlqC,MAAc;AACvB,mBAASld,IAAI,GAAGA,IAAIsnD,GAAQtnD;AAC1B,YAAAojD,EAAOpjD,CAAC,IAAIZ,EAAO,UAAUgoD,GAAM,EAAK,IAAIC,GAC5CD,KAAQ;AAAA;AAGV,UAAAh2B,EAAI,KAAK,4BAA4BlU,CAAS;AAEhD,cAAMqqC,IAAUP,EAAO,MAAM,CAAC;AAC9B,QAAAA,IAAS,IAAI,aAAaO,EAAQ,SAASnE,EAAO,MAAM,GACxD4D,EAAO,IAAIO,CAAO,GAClBP,EAAO,IAAI5D,GAAQmE,EAAQ,MAAM,GACjCT;AAAA,MACF;AACA,UAAIK,MAAc;AAChB;AAEF,MAAAr4C,KAAO;AAAA,IACT;AAGA,QAFA4oC,EAAI,KAAK,CAAC,IAAIoP,GACdpP,EAAI,QAAQ,CAAC,IAAIqP,EAAe,CAAC,GAC7BD,IAAO,GAAG;AACZ,MAAApP,EAAI,KAAK,CAAC,IAAI;AACd,UAAI8P,IAAa;AACjB,eAASxnD,IAAI,GAAGA,IAAI8mD,GAAM9mD;AACxB,QAAI+mD,EAAe/mD,CAAC,MAAM+mD,EAAe,CAAC,MACxCS,IAAa;AAGjB,MAAIA,KACFp2B,EAAI,KAAK,sBAAsB;AAAA,IAEnC;AACA,WAAAsmB,EAAI,aAAa,GACjBA,EAAI,SAAS;AAAA,MACX,CAAC,CAACA,EAAI,QAAQ,CAAC,GAAG,GAAG,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,CAACA,EAAI,QAAQ,CAAC,GAAG,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,CAACA,EAAI,QAAQ,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAEbA,EAAI,kBAAkB,IACtBA,EAAI,eAAe,IACZsP,EAAO;AAAA,EAChB;AAAA;AAAA,EAEA,QAAQnoD,GAAQ;AACd,SAAK,MAAM,IAAI+nD,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,IAAAA,EAAI,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAClCA,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACrC,UAAMt4C,IAAS,IAAI,SAASP,CAAM;AAClC,WAAA64C,EAAI,KAAK,CAAC,IAAIt4C,EAAO,UAAU,GAAG,EAAI,GACtCs4C,EAAI,KAAK,CAAC,IAAIt4C,EAAO,UAAU,GAAG,EAAI,GACtCs4C,EAAI,KAAK,CAAC,IAAIt4C,EAAO,UAAU,GAAG,EAAI,GACvB,IAAIs4C,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAC5C,MAAM74C,EAAO,cACxBuyB,EAAI,KAAK,uDAAuD,GAElEsmB,EAAI,kBAAkB,IACtBA,EAAI,eAAe,KACnBtmB,EAAI,KAAK,+CAA+C,GACxDsmB,EAAI,SAAS;AAAA,MACX,CAAC,GAAG,GAAG,CAACA,EAAI,QAAQ,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,CAACA,EAAI,QAAQ,CAAC,GAAG,GAAG,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,CAACA,EAAI,QAAQ,CAAC,GAAG,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAEbA,EAAI,eAAe,IACZ74C,EAAO,MAAM,CAAC;AAAA,EACvB;AAAA;AAAA,EAEA,MAAM,QAAQA,GAAQ;AACpB,aAAS4oD,EAAYC,GAAQ;AAqB3B,aApBgB;AAAA,QACd,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,MAAA,EAGMA,CAAM,KAAK;AAAA,IAC5B;AACA,aAASC,EAAgBD,GAAQ;AAqB/B,aApBgB;AAAA,QACd,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,QAEP,OAAO;AAAA;AAAA,MAAA,EAGMA,CAAM,KAAK;AAAA,IAC5B;AACA,UAAM/lB,IAAK,IAAI,SAAS9iC,CAAM,GACxB+oD,IAAa,CAACjmB,EAAG,SAAS,CAAC,GAAGA,EAAG,SAAS,CAAC,GAAGA,EAAG,SAAS,CAAC,GAAGA,EAAG,SAAS,CAAC,GAAGA,EAAG,SAAS,CAAC,GAAGA,EAAG,SAAS,CAAC,CAAC,GAC5GkmB,IAAgB,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,EAAE;AAC9C,QAAI,CAACD,EAAW,MAAM,CAACE,GAAM9nD,MAAM8nD,MAASD,EAAc7nD,CAAC,CAAC;AAC1D,YAAM,IAAI,MAAM,6CAA6C;AAE/D,UAAM+nD,IAAYpmB,EAAG,UAAU,GAAG,EAAI,GAChCqmB,IAAa,IAAI,YAAY,OAAO,EAAE,OAAOnpD,EAAO,MAAM,IAAI,KAAKkpD,CAAS,CAAC,GAC7EE,IAAaD,EAAW,MAAM,oBAAoB;AACxD,QAAI,CAACC;AACH,YAAM,IAAI,MAAM,qCAAqC;AAEvD,UAAM1qC,IAAQ0qC,EAAW,CAAC,EAAE,MAAM,GAAG,EAAE,IAAI,CAACljD,MAAMA,EAAE,KAAA,CAAM,EAAE,OAAO,CAACA,MAAMA,MAAM,EAAE,EAAE,IAAI,MAAM,GACxFmjD,IAAaF,EAAW,MAAM,oBAAoB;AACxD,QAAI,CAACE;AACH,YAAM,IAAI,MAAM,yCAAyC;AAE3D,UAAMlqC,IAAQkqC,EAAW,CAAC,GACpBC,IAAc5qC,EAAM,OAAO,CAACld,GAAG0B,MAAM1B,IAAI0B,GAAG,CAAC,GAC7CqmD,IAAY,KAAKL,GACjB3H,IAAavhD,EAAO,MAAMupD,GAAWA,IAAYD,IAAcV,EAAYzpC,CAAK,CAAC,GACjFmzB,IAAQ5zB,EAAM,SAAS,IAAIA,EAAMA,EAAM,SAAS,CAAC,IAAI,GACrD6zB,IAAS7zB,EAAM,SAAS,IAAIA,EAAMA,EAAM,SAAS,CAAC,IAAI,GACtDiN,IAASjN,EAAM,SAAS,IAAIA,EAAMA,EAAM,SAAS,CAAC,IAAI;AAC5D,SAAK,MAAM,IAAIqpC,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,WAAAA,EAAI,OAAO,CAAC,GAAGvG,GAAOC,GAAQ5mB,GAAQ,GAAG,GAAG,GAAG,CAAC,GAChDktB,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACrCA,EAAI,SAAS;AAAA,MACX,CAACA,EAAI,QAAQ,CAAC,GAAG,GAAG,GAAG,EAAEA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,CAACA,EAAI,QAAQ,CAAC,GAAG,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,CAACA,EAAI,QAAQ,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAEbA,EAAI,kBAAkB+P,EAAYzpC,CAAK,IAAI,GAC3C05B,EAAI,eAAeiQ,EAAgB3pC,CAAK,GACjCoiC;AAAA,EACT;AAAA,EACA,MAAM,QAAQvhD,GAAQ;AACpB,UAAM0kC,IAAM,IAAIjI,GAAIz8B,CAAM;AAC1B,aAASmB,IAAI,GAAGA,IAAIujC,EAAI,QAAQ,QAAQvjC,KAAK;AAC3C,YAAMgL,IAAQu4B,EAAI,QAAQvjC,CAAC;AAC3B,UAAIgL,EAAM,SAAS,YAAA,EAAc,SAAS,MAAM,GAAG;AACjD,cAAMkG,IAAO,MAAMlG,EAAM,QAAA;AACzB,eAAO,MAAM,KAAK,QAAQkG,EAAK,MAAM;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA,EACA,MAAM,yBAAyBrS,GAAQ;AACrC,WAAO,IAAI,QAAQ,CAAC0b,GAASgkB,MAAW;AACtC,YAAMlF,IAAO,IAAI,KAAK,CAACx6B,CAAM,CAAC,GACxBI,IAAM,IAAI,gBAAgBo6B,CAAI,GAC9BogB,IAAM,IAAI,MAAA;AAChB,MAAAA,EAAI,cAAc,aAClBA,EAAI,MAAMx6C,GACVw6C,EAAI,SAAS,MAAM;AACjB,YAAI,gBAAgBx6C,CAAG;AACvB,cAAMopD,IAAS,SAAS,cAAc,QAAQ;AAC9C,QAAAA,EAAO,QAAQ5O,EAAI,OACnB4O,EAAO,SAAS5O,EAAI;AACpB,cAAM6O,IAAMD,EAAO,WAAW,IAAI;AAClC,YAAI,CAACC,GAAK;AACR,UAAA/pB,EAAO,IAAI,MAAM,0BAA0B,CAAC;AAC5C;AAAA,QACF;AACA,QAAA+pB,EAAI,UAAU7O,GAAK,GAAG,CAAC,GACvBl/B,EAAQ+tC,EAAI,aAAa,GAAG,GAAG7O,EAAI,OAAOA,EAAI,MAAM,CAAC;AAAA,MACvD,GACAA,EAAI,UAAU,CAAC7rC,MAAQ;AACrB,YAAI,gBAAgB3O,CAAG,GACvBs/B,EAAO3wB,CAAG;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,MAAM,QAAQ/O,GAAQ;AACpB,UAAM0pD,IAAY,MAAM,KAAK,yBAAyB1pD,CAAM,GACtD,EAAE,OAAAsyC,GAAO,QAAAC,GAAQ,MAAAlgC,EAAA,IAASq3C;AAChC,SAAK,MAAM,IAAI3B,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,IAAAA,EAAI,OAAO,CAAC,GAAGvG,GAAOC,GAAQ,GAAG,GAAG,GAAG,GAAG,CAAC,GAC3CsG,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACrCA,EAAI,SAAS;AAAA,MACX,CAACA,EAAI,QAAQ,CAAC,GAAG,GAAG,GAAG,EAAEA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,CAACA,EAAI,QAAQ,CAAC,GAAG,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,CAACA,EAAI,QAAQ,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAEbA,EAAI,kBAAkB,GACtBA,EAAI,eAAe;AACnB,QAAI8Q,IAAc;AAClB,aAASxoD,IAAI,GAAGA,IAAIkR,EAAK,QAAQlR,KAAK;AACpC,UAAIkR,EAAKlR,CAAC,MAAMkR,EAAKlR,IAAI,CAAC,KAAKkR,EAAKlR,CAAC,MAAMkR,EAAKlR,IAAI,CAAC,GAAG;AACtD,QAAAwoD,IAAc;AACd;AAAA,MACF;AAEF,QAAIA,GAAa;AACf,MAAA9Q,EAAI,eAAe;AACnB,YAAM+Q,IAAgB,IAAI,WAAWtX,IAAQC,CAAM;AACnD,eAASpxC,IAAI,GAAG8L,IAAI,GAAG9L,IAAIkR,EAAK,QAAQlR,KAAK,GAAG8L;AAC9C,QAAA28C,EAAc38C,CAAC,IAAIoF,EAAKlR,CAAC;AAE3B,aAAOyoD,EAAc;AAAA,IACvB;AACA,WAAOv3C,EAAK;AAAA,EACd;AAAA,EACA,MAAM,SAASrS,GAAQskD,GAAU;AAC/B,QAAI,EAAE,OAAAhS,GAAO,QAAAC,GAAQ,OAAAC,IAAQ,GAAG,MAAAngC,EAAA,IAASiyC,KAAY,CAAA,GACjDuF,IAAiBvX,IAAQC,IAASC,IAAQ,GAC1CsX,IAAQD,MAAmBx3C,EAAK;AAQpC,QAPKy3C,MACHD,IAAiBvX,IAAQC,IAASC,GAC9BA,MAAU,MACZsX,IAAQ,IACRtX,IAAQ,KAGRqX,MAAmBx3C,EAAK;AAC1B,YAAM,IAAI,MAAM,gBAAgBigC,CAAK,IAAOC,CAAM,IAAOC,CAAK,SAAYqX,CAAc,qBAAqBx3C,EAAK,MAAM,EAAE;AAE5H,SAAK,MAAM,IAAI01C,EAAA;AACf,UAAMlP,IAAM,KAAK;AASjB,QARAA,EAAI,OAAO,CAAC,GAAGvG,GAAOC,GAAQC,GAAO,GAAG,GAAG,GAAG,CAAC,GAC/CqG,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACrCA,EAAI,SAAS;AAAA,MACX,CAACA,EAAI,QAAQ,CAAC,GAAG,GAAG,GAAG,EAAEA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,CAACA,EAAI,QAAQ,CAAC,GAAG,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,CAACA,EAAI,QAAQ,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAET,CAACiR,GAAO;AAGV,UAFAjR,EAAI,kBAAkB,GACtBA,EAAI,eAAe,GACfxmC,aAAgB,YAAY;AAC9B,cAAM03C,IAAa,IAAI,YAAY13C,EAAK,MAAM;AAE9C,eADiB,IAAI,WAAW03C,CAAU,EACjC,IAAI13C,CAAI,GACV03C;AAAA,MACT;AACA,aAAO13C;AAAA,IACT;AACA,IAAAwmC,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB,aAASmR,EAAQC,GAAOC,GAAGC,GAAGC,GAAG;AAC/B,YAAMC,IAAaH,IAAIC,GACjBG,IAAM,IAAI,WAAWD,IAAaD,IAAI,CAAC,GACvCG,IAAU,IAAI,MAAMH,CAAC;AAC3B,eAASlkD,IAAI,GAAGA,IAAIkkD,GAAGlkD;AACrB,QAAAqkD,EAAQrkD,CAAC,IAAImkD,IAAa,IAAInkD;AAEhC,UAAIskD,IAAW,GACXC,IAAW;AACf,eAASllD,IAAI,GAAGA,IAAI8kD,GAAY9kD,KAAK;AACnC,iBAASW,IAAI,GAAGA,IAAIkkD,GAAGlkD;AACrB,UAAAokD,EAAIC,EAAQrkD,CAAC,IAAIukD,CAAQ,IAAIR,EAAMO,GAAU,GAC7CF,EAAIC,EAAQrkD,CAAC,IAAIukD,IAAW,CAAC,IAAIR,EAAMO,GAAU,GACjDF,EAAIC,EAAQrkD,CAAC,IAAIukD,IAAW,CAAC,IAAIR,EAAMO,GAAU;AAEnD,QAAAC,KAAY;AAAA,MACd;AACA,aAAOH;AAAA,IACT;AACA,UAAMI,IAAUV,EAAQ33C,GAAMwmC,EAAI,KAAK,CAAC,GAAGA,EAAI,KAAK,CAAC,GAAGA,EAAI,KAAK,CAAC,CAAC,GAC7D8R,IAAY,IAAI,YAAYD,EAAQ,MAAM;AAEhD,WADgB,IAAI,WAAWC,CAAS,EAChC,IAAID,CAAO,GACZC;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQ3qD,GAAQ;AACd,SAAK,MAAM,IAAI+nD,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,IAAAA,EAAI,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAClCA,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACrC,UAAMt4C,IAAS,IAAI,SAASP,CAAM,GAC5BqyC,IAAW9xC,EAAO,UAAU,GAAG,EAAI;AACzC,IAAI8xC,MAAa,KACf9f,EAAI,KAAK,iCAAiC,GAE5CsmB,EAAI,KAAK,CAAC,IAAIt4C,EAAO,UAAU,GAAG,EAAI,GACtCs4C,EAAI,KAAK,CAAC,IAAIt4C,EAAO,UAAU,GAAG,EAAI,GACtCs4C,EAAI,KAAK,CAAC,IAAIt4C,EAAO,UAAU,GAAG,EAAI;AACtC,UAAMwyC,IAAS8F,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC;AACrD,QAAIxG,KAAY,GAAG;AACjB,UAAIpiC,IAAM,IAAI8iC;AACd,YAAM6X,IAAqBrqD,EAAO,UAAU0P,IAAM,IAAI,EAAI;AAE1D,UADAA,IAAMA,IAAM,IACR26C,IAAqB,GAAG;AAC1B,cAAM3kD,IAAMjG,EAAO;AACnB,iBAASmB,IAAI,GAAGA,IAAIypD,GAAoBzpD,KAAK;AAC3C,iBAAO8O,IAAMhK,KAAO1F,EAAO,SAAS0P,CAAG,MAAM;AAC3C,YAAAA;AAIF,eAFAA,KACAA,KAAO,GACAA,IAAMhK,KAAO1F,EAAO,SAAS0P,CAAG,MAAM;AAC3C,YAAAA;AAEF,UAAAA;AACA,gBAAM46C,IAAUtqD,EAAO,UAAU0P,GAAK,EAAI;AAC1C,UAAAA,KAAO;AACP,mBAAShD,IAAI,GAAGA,IAAI49C,GAAS59C;AAC3B,YAAAgD,KAAO;AAAA,QAEX;AAAA,MACF;AACA,MAAA4oC,EAAI,QAAQ,CAAC,IAAIt4C,EAAO,WAAW0P,IAAM,GAAG,EAAI,GAChD4oC,EAAI,QAAQ,CAAC,IAAIt4C,EAAO,WAAW0P,IAAM,GAAG,EAAI,GAChD4oC,EAAI,QAAQ,CAAC,IAAIt4C,EAAO,WAAW0P,IAAM,IAAI,EAAI;AAAA,IACnD;AACA,WAAAsiB,EAAI,KAAK,gDAAgD,GACzDsmB,EAAI,SAAS;AAAA,MACX,CAAC,GAAG,GAAG,CAACA,EAAI,QAAQ,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,CAACA,EAAI,QAAQ,CAAC,GAAG,GAAG,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,CAACA,EAAI,QAAQ,CAAC,GAAG,IAAIA,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,CAAC;AAAA,MAChE,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAEbtmB,EAAI,MAAMsmB,CAAG,GACbA,EAAI,kBAAkB,GACtBA,EAAI,eAAe,GACZ74C,EAAO,MAAM,GAAG,IAAI+yC,CAAM;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAM,QAAQ/yC,GAAQ;AACpB,SAAK,MAAM,IAAI+nD,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,IAAAA,EAAI,eAAe,IACnBA,EAAI,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAClCA,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACrC,UAAM9a,IAAM,MAAMR,EAAY,UAAUv9B,GAAQ,EAAI;AACpD,QAAI,EAAE,eAAe+9B,MAAQ,EAAE,YAAYA;AACzC,YAAM,IAAI,MAAM,gCAAgC;AAElD,UAAM+sB,IAAQ,YAAY/sB,KAAO,YAAYA,KAAO,YAAYA,KAAO,kBAAkBA;AACzF,IAAA8a,EAAI,kBAAkB,IACtBA,EAAI,eAAe,IACnBA,EAAI,KAAK,CAAC,IAAI9a,EAAI,UAAU,CAAC,GAC7B8a,EAAI,KAAK,CAAC,IAAI9a,EAAI,UAAU,CAAC,GAC7B8a,EAAI,KAAK,CAAC,IAAI9a,EAAI,UAAU,CAAC,GAC7B8a,EAAI,KAAK,CAAC,IAAI,GACdA,EAAI,QAAQ,CAAC,IAAI9a,EAAI,WAAW,CAAC,GACjC8a,EAAI,QAAQ,CAAC,IAAI9a,EAAI,WAAW,CAAC,GACjC8a,EAAI,QAAQ,CAAC,IAAI9a,EAAI,WAAW,CAAC,GACjC8a,EAAI,aAAa;AACjB,UAAMkS,KAAOlS,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,GAC7CmS,KAAOnS,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,GAC7CoS,KAAOpS,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC;AACnD,IAAAA,EAAI,SAAS;AAAA,MACX,CAACA,EAAI,QAAQ,CAAC,GAAG,GAAG,GAAG,CAACkS,CAAG;AAAA,MAC3B,CAAC,GAAG,CAAClS,EAAI,QAAQ,CAAC,GAAG,GAAGmS,CAAG;AAAA,MAC3B,CAAC,GAAG,GAAGnS,EAAI,QAAQ,CAAC,GAAG,CAACoS,CAAG;AAAA,MAC3B,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAEbpS,EAAI,eAAe;AACnB,UAAM6E,IAAS7E,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,GAC/CqS,IAAWxN,IAAS,KAAK,KAAK7E,EAAI,kBAAkB,CAAC,GACrD9F,IAASmY,IAAWrS,EAAI,KAAK,CAAC,GAC9BsS,IAAU,IAAI,WAAW,IAAI,YAAYzN,IAAS,IAAI,CAAC,CAAC;AAC9D,QAAIoN,GAAO;AACT,YAAM/G,IAAOlL,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,GAC7CuS,IAAO,IAAI,aAAarH,CAAI,GAC5BsH,IAAO,IAAI,aAAatH,CAAI,GAC5BuH,IAAO,IAAI,aAAavH,CAAI,GAC5BtsB,IAAOsG,EAAI,QACXwtB,IAAOxtB,EAAI;AACjB,eAAS58B,IAAI,GAAGA,IAAI4iD,GAAM5iD,KAAK;AAC7B,cAAMkc,IAAMoa,EAAKt2B,CAAC,IAAI;AACtB,QAAAiqD,EAAKjqD,CAAC,IAAIoqD,EAAKluC,IAAM,CAAC,GACtBguC,EAAKlqD,CAAC,IAAIoqD,EAAKluC,IAAM,CAAC,GACtBiuC,EAAKnqD,CAAC,IAAI,CAACoqD,EAAKluC,IAAM,CAAC;AAAA,MACzB;AACA,MAAA8tC,EAAQ,IAAI,IAAI,WAAWC,EAAK,QAAQA,EAAK,YAAYA,EAAK,UAAU,GAAG,IAAIF,CAAQ,GACvFC,EAAQ,IAAI,IAAI,WAAWE,EAAK,QAAQA,EAAK,YAAYA,EAAK,UAAU,GAAG,IAAIH,CAAQ,GACvFC,EAAQ,IAAI,IAAI,WAAWG,EAAK,QAAQA,EAAK,YAAYA,EAAK,UAAU,GAAG,IAAIJ,CAAQ;AAAA,IACzF;AACA,IAAI,YAAYntB,MACd8a,EAAI,cAAc,IAAI,YAAA,EAAc,OAAO9a,EAAI,OAAO,SAAS,GAAG,KAAK,IAAI,IAAIA,EAAI,OAAO,UAAU,CAAC,CAAC;AAExG,UAAMytB,IAAQ,IAAI,WAAW,IAAI,YAAYzY,CAAM,CAAC,GAC9C0Y,IAAQ,aAAa,KAAK1tB,EAAI,MAAM;AAC1C,QAAI,UAAUA,GAAK;AACjB,UAAIggB,IAAQ;AACZ,MAAI,kBAAkBhgB,MACpBggB,IAAQhgB,EAAI,aAAa,CAAC;AAE5B,UAAIigB,IAAQ;AACZ,MAAI,kBAAkBjgB,MACpBigB,IAAQjgB,EAAI,aAAa,CAAC;AAE5B,YAAMgmB,IAAOlL,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,GAC7C6S,IAAO3tB,EAAI,MACXwI,IAAM,IAAI,aAAawd,CAAI;AACjC,UAAI92C,IAAI;AACR,eAAS9L,IAAI,GAAGA,IAAI4iD,GAAM5iD;AACxB,QAAIuqD,EAAKvqD,CAAC,MAAM,MACdolC,EAAIplC,CAAC,IAAIsqD,EAAMx+C,CAAC,IAAI8wC,IAAQC,GAC5B/wC;AAGJ,aAAO,CAACs5B,EAAI,QAAQ,IAAI,aAAa4kB,EAAQ,MAAM,CAAC;AAAA,IACtD;AACA,UAAMQ,IAAQ,IAAI,WAAWF,EAAM,QAAQA,EAAM,YAAYA,EAAM,UAAU;AAC7E,WAAAD,EAAM,IAAIG,GAAO,CAAC,GACX,CAACH,EAAM,QAAQ,IAAI,aAAaL,EAAQ,MAAM,CAAC;AAAA,EACxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAM,QAAQnrD,GAAQ;AACpB,SAAK,MAAM,IAAI+nD,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,IAAAA,EAAI,eAAe,IACnBA,EAAI,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAClCA,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACrC,UAAM9a,IAAM,MAAMR,EAAY,UAAUv9B,CAAM;AAC9C,QAAI,EAAE,eAAe+9B,MAAQ,EAAE,YAAYA;AACzC,YAAM,IAAI,MAAM,gCAAgC;AAElD,QAAIhtB,IAAI,GACJ9K,IAAM;AACV,eAAW,CAAC8E,GAAKnK,CAAK,KAAK,OAAO,QAAQm9B,CAAG;AAC3C,UAAKhzB,EAAI,WAAW,OAAO,GAQ3B;AAAA,YALIgG,MAAM,IACR9K,IAAMrF,EAAM,SACHqF,MAAQrF,EAAM,WACvBqF,IAAM,KAEJrF,EAAM,gBAAgB;AACxB,gBAAM,IAAI,MAAM,gDAAgD;AAElE,QAAAmQ;AAAA;AAEF,QAAI9K,IAAM,KAAK8K,IAAI;AACjB,YAAM,IAAI,MAAM,8EAA8E;AAEhG,IAAA8nC,EAAI,kBAAkB,IACtBA,EAAI,eAAe,KACnBA,EAAI,KAAK,CAAC,IAAI9a,EAAI,UAAU,CAAC,GAC7B8a,EAAI,KAAK,CAAC,IAAI9a,EAAI,UAAU,CAAC,GAC7B8a,EAAI,KAAK,CAAC,IAAI9a,EAAI,UAAU,CAAC,GAC7B8a,EAAI,KAAK,CAAC,IAAI9nC,GACV8nC,EAAI,KAAK,CAAC,IAAI,MAChBA,EAAI,KAAK,CAAC,IAAI,IAEhBA,EAAI,QAAQ,CAAC,IAAI9a,EAAI,WAAW,CAAC,GACjC8a,EAAI,QAAQ,CAAC,IAAI9a,EAAI,WAAW,CAAC,GACjC8a,EAAI,QAAQ,CAAC,IAAI9a,EAAI,WAAW,CAAC,GACjC8a,EAAI,aAAa;AACjB,UAAMkS,KAAOlS,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,GAC7CmS,KAAOnS,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC,GAC7CoS,KAAOpS,EAAI,KAAK,CAAC,IAAI,KAAK,MAAMA,EAAI,QAAQ,CAAC;AACnD,IAAAA,EAAI,SAAS;AAAA,MACX,CAACA,EAAI,QAAQ,CAAC,GAAG,GAAG,GAAG,CAACkS,CAAG;AAAA,MAC3B,CAAC,GAAG,CAAClS,EAAI,QAAQ,CAAC,GAAG,GAAGmS,CAAG;AAAA,MAC3B,CAAC,GAAG,GAAGnS,EAAI,QAAQ,CAAC,GAAG,CAACoS,CAAG;AAAA,MAC3B,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAEbpS,EAAI,eAAe;AACnB,UAAMqS,IAAWrS,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,KAAKA,EAAI,kBAAkB,IAC5E9F,IAASmY,IAAWrS,EAAI,KAAK,CAAC,GAC9B2S,IAAQ,IAAI,WAAW,IAAI,YAAYzY,CAAM,CAAC;AACpD,QAAIlqC,IAAS;AACb,aAAS1H,IAAI,GAAGA,IAAI4P,GAAG5P,KAAK;AAC1B,YAAM0J,IAAMkzB,EAAI,QAAQ58B,CAAC,EAAE,GACrByqD,IAAO,IAAI,WAAW/gD,EAAI,QAAQA,EAAI,YAAYA,EAAI,UAAU;AACtE,MAAA2gD,EAAM,IAAII,GAAM/iD,CAAM,GACtBA,KAAUqiD;AAAA,IACZ;AACA,WAAI,YAAYntB,MACd8a,EAAI,cAAc,IAAI,YAAA,EAAc,OAAO9a,EAAI,OAAO,SAAS,GAAG,KAAK,IAAI,IAAIA,EAAI,OAAO,UAAU,CAAC,CAAC,IAEjGytB,EAAM;AAAA,EACf;AAAA;AAAA;AAAA;AAAA,EAIA,MAAM,SAASjK,GAAYG,GAAe;AACxC,SAAK,MAAM,IAAIqG,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,IAAAA,EAAI,KAAK,CAAC,IAAI,GACdA,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AACrC,QAAIwO,IAAiB,CAAC,GAAG,GAAG,CAAC,GACzBD,IAAY,CAAC,GAAG,GAAG,CAAC,GACpBD,IAAW,CAAC,GAAG,GAAG,CAAC;AAEvB,UAAM9hB,IADM,IAAI,cAAc,OAAOkc,CAAU,EAC7B,MAAM,OAAO,GACzBsK,KAAOtK,EAAW,aAAa,KAAK,IACpCt7C,IAAMs7C,EAAW,cAAc,KAAKsK;AAC1C,IAAAt5B,EAAI,MAAMgvB,EAAW,YAAY,OAAOt7C,CAAG;AAC3C,UAAM6lD,IAAY,IAAI,YAAY7lD,CAAG;AACrC,QAAI,WAAW6lD,CAAS,EAAE,IAAI,IAAI,WAAWvK,CAAU,CAAC;AACxD,UAAMwK,IAAe,IAAIn5C,GAAe3M,IAAM,GAAG,IAAI6lD,GAAW,EAAI;AACpE,IAAAjT,EAAI,aAAakT,CAAY,GAC7BlT,EAAI,gBAAgB,IACpBA,EAAI,cAAc,CAAC,IAAI,GACvBA,EAAI,gBAAgB5yC,IAAM;AAC1B,UAAM+lD,IAAS3mB,EAAM;AACrB,QAAIlkC,IAAI,GACJ8qD,IAAuB;AAC3B,WAAO9qD,IAAI6qD,KAAQ;AACjB,UAAIvqB,IAAO4D,EAAMlkC,CAAC;AAElB,UADAA,KACI,CAACsgC,EAAK,WAAW,MAAM;AACzB;AAEF,YAAMyqB,IAAQzqB,EAAK,SAAS,mBAAmB,GACzC2U,IAAU3U,EAAK,SAAS,iBAAiB;AAG/C,UAFAA,IAAO4D,EAAMlkC,CAAC,GACdA,KACI,CAACsgC,EAAK,WAAW,MAAM;AACzB;AAEF,UAAI9e,IAAQ8e,EAAK,MAAM,IAAI;AAC3B,YAAM12B,IAAM4X,EAAM,CAAC;AACnB,MAAA8e,IAAO4D,EAAMlkC,CAAC,GACdA,KACAwhB,IAAQ8e,EAAK,MAAM,IAAI;AACvB,UAAI34B,IAAQ,SAAS6Z,EAAM,CAAC,CAAC;AAC7B,UAAI,EAAA7Z,IAAQ,IAMZ;AAAA,YAHA24B,IAAO4D,EAAMlkC,CAAC,GACdA,KACAwhB,IAAQ8e,EAAK,OAAO,MAAM,KAAK,GAC3B2U,KAAW8V,GAAO;AACpB,iBAAOvpC,EAAM,SAAS7Z,KAAO;AAC3B,YAAA24B,IAAO4D,EAAMlkC,CAAC,GACdA;AACA,kBAAM0lC,IAASpF,EAAK,KAAA,EAAO,MAAM,KAAK;AACtC,YAAA9e,EAAM,KAAK,GAAGkkB,CAAM;AAAA,UACtB;AACA,mBAAS55B,IAAI,GAAGA,IAAInE,GAAOmE;AACzB,YAAA0V,EAAM1V,CAAC,IAAI,WAAW0V,EAAM1V,CAAC,CAAC;AAAA,QAElC;AACA,gBAAQlC,GAAA;AAAA,UACN,KAAK;AACH,YAAI4X,EAAM,CAAC,EAAE,SAAS,WAAW,IAC/Bk2B,EAAI,eAAe,KACVl2B,EAAM,CAAC,EAAE,SAAS,WAAW,MACtCk2B,EAAI,eAAe;AAErB;AAAA,UACF,KAAK;AACH;AACE,cAAAA,EAAI,KAAK,CAAC,IAAI/vC;AACd,oBAAM8jC,IAAW,SAASjqB,EAAM,CAAC,CAAC;AAClC,cAAIiqB,MAAa,KACfiM,EAAI,kBAAkB,GACtBA,EAAI,eAAe,KACVjM,MAAa,KACtBiM,EAAI,kBAAkB,IACtBA,EAAI,eAAe,KACVjM,MAAa,KACtBiM,EAAI,kBAAkB,IACtBA,EAAI,eAAe,MAEnBtmB,EAAI,KAAK,wBAAwBqa,CAAQ;AAAA,YAE7C;AACA;AAAA,UACF,KAAK;AACH,gBAAI9jC,IAAQ;AACV;AAEF,YAAAmjD,IAAuB,IACvBpT,EAAI,aAAa,GACjBA,EAAI,SAAS;AAAA,cACX,CAAC,CAACl2B,EAAM,CAAC,GAAG,CAACA,EAAM,CAAC,GAAG,CAACA,EAAM,CAAC,GAAG,CAACA,EAAM,CAAC,CAAC;AAAA,cAC3C,CAAC,CAACA,EAAM,CAAC,GAAG,CAACA,EAAM,CAAC,GAAG,CAACA,EAAM,CAAC,GAAG,CAACA,EAAM,CAAC,CAAC;AAAA;AAAA,cAE3C,CAACA,EAAM,CAAC,GAAGA,EAAM,CAAC,GAAGA,EAAM,EAAE,GAAGA,EAAM,EAAE,CAAC;AAAA,cACzC,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,YAAA;AAEb;AAAA,UACF,KAAK;AACH,YAAA7Z,IAAQ,KAAK,IAAIA,GAAO,CAAC;AACzB,qBAASmE,IAAI,GAAGA,IAAInE,GAAOmE;AACzB,cAAA4rC,EAAI,KAAK5rC,IAAI,CAAC,IAAI0V,EAAM1V,CAAC;AAE3B;AAAA,UACF,KAAK;AACH,YAAAo6C,IAAiB1kC;AACjB;AAAA,UACF,KAAK;AACH,YAAAykC,IAAYzkC;AACZ;AAAA,UACF,KAAK;AACH,YAAAwkC,IAAWxkC;AACX;AAAA,UACF,KAAK;AACH,YAAAk2B,EAAI,QAAQ,CAAC,IAAIl2B,EAAM,CAAC;AACxB;AAAA,UACF;AACE,YAAA4P,EAAI,KAAK,YAAYxnB,CAAG;AAAA,QAAA;AAAA;AAAA,IAE9B;AACA,IAAKkhD,IAGH,KAAK,mBAAA,IAFL,KAAK,mBAAmB9E,GAAUC,GAAWC,CAAc;AAI7D,UAAMtU,IAAS8F,EAAI,kBAAkB,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC;AAC7F,QAAI,CAAC6I;AACH,YAAM,IAAI,MAAM,uBAAuB;AAEzC,WAAIA,EAAc,aAAa3O,IACtB,MAAMxV,EAAY,mBAAmB,IAAI,WAAWmkB,CAAa,CAAC,IAEpEA,EAAc,MAAM,CAAC;AAAA,EAC9B;AAAA;AAAA;AAAA;AAAA,EAIA,MAAM,QAAQ1hD,GAAQ0hD,GAAe;AACnC,UAAMz7C,IAAMjG,EAAO;AACnB,QAAIiG,IAAM;AACR,YAAM,IAAI,MAAM,uCAAuCjG,EAAO,UAAU;AAE1E,UAAM+d,IAAQ,IAAI,WAAW/d,CAAM;AACnC,QAAIiQ,IAAM;AACV,aAASk8C,EAAItmD,GAAG;AACd,aAAOA,MAAM,MAAMA,MAAM;AAAA,IAC3B;AACA,aAAS07B,IAAU;AACjB,aAAOtxB,IAAMhK,KAAOkmD,EAAIpuC,EAAM9N,CAAG,CAAC;AAChC,QAAAA;AAEF,YAAMuxB,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO,CAACkmD,EAAIpuC,EAAM9N,CAAG,CAAC;AACjC,QAAAA;AAEF,aAAIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,cAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,CAAG,CAAC;AAAA,IAC7D;AACA,QAAIwxB,IAAOF,EAAA;AACX,SAAK,MAAM,IAAIwmB,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,IAAAA,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACrCA,EAAI,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAClCA,EAAI,eAAe;AACnB,QAAI+I,IAAO,IACPE,IAAa;AACjB,UAAMC,IAASqK,GAAiB,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACrDvjD,IAAS89C,EAAiB,GAAG,GAAG,CAAC;AACvC,WAAOllB,MAAS,MAAI;AAClB,UAAI9e,IAAQ8e,EAAK,MAAM,GAAG;AAa1B,UAZI9e,EAAM,SAAS,MACjBA,IAAQA,EAAM,MAAM,CAAC,IAEnB8e,EAAK,WAAW,wBAAwB,KAAK9e,EAAM,CAAC,EAAE,SAAS,OAAO,MACxEk2B,EAAI,eAAe,KAEjBpX,EAAK,WAAW,wBAAwB,KAAK9e,EAAM,CAAC,EAAE,SAAS,MAAM,MACvEk2B,EAAI,eAAe,KAEjBpX,EAAK,WAAW,gBAAgB,KAAK9e,EAAM,CAAC,EAAE,SAAS,MAAM,MAC/Di/B,IAAO,KAELngB,EAAK,WAAW,iBAAiB;AACnC,iBAASlzB,IAAI,GAAGA,IAAI,GAAGA;AACrB,UAAAwzC,EAAOxzC,CAAC,IAAI,WAAWoU,EAAMpU,CAAC,CAAC;AAGnC,UAAIkzB,EAAK,WAAW,QAAQ;AAC1B,iBAASlzB,IAAI,GAAGA,IAAI,KAAK,IAAIoU,EAAM,QAAQ,CAAC,GAAGpU;AAC7C,UAAA1F,EAAO0F,CAAC,IAAI,WAAWoU,EAAMpU,CAAC,CAAC;AAGnC,UAAIkzB,EAAK,WAAW,gBAAgB;AAClC,iBAASlzB,IAAI,GAAGA,IAAIoU,EAAM,QAAQpU;AAChC,UAAAsqC,EAAI,QAAQtqC,IAAI,CAAC,IAAI,WAAWoU,EAAMpU,CAAC,CAAC;AAG5C,UAAIkzB,EAAK,WAAW,SAAS,GAAG;AAC9B,QAAAoX,EAAI,KAAK,CAAC,IAAIl2B,EAAM;AACpB,iBAASpU,IAAI,GAAGA,IAAIoU,EAAM,QAAQpU;AAChC,UAAAsqC,EAAI,KAAKtqC,IAAI,CAAC,IAAI,SAASoU,EAAMpU,CAAC,CAAC;AAAA,MAEvC;AACA,UAAIkzB,EAAK,WAAW,aAAa;AAC/B,gBAAQ9e,EAAM,CAAC,GAAA;AAAA,UACb,KAAK;AACH,YAAAk2B,EAAI,kBAAkB,GACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AACH,YAAAA,EAAI,kBAAkB,GACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF,KAAK;AACH,YAAAA,EAAI,kBAAkB,IACtBA,EAAI,eAAe;AACnB;AAAA,UACF;AACE,kBAAM,IAAI,MAAM,gCAAgCl2B,EAAM,CAAC,CAAC;AAAA,QAAA;AAM9D,UAHI8e,EAAK,WAAW,YAAY,KAAK,CAAC9e,EAAM,CAAC,EAAE,SAAS,OAAO,KAC7D4P,EAAI,KAAK,+CAA+CkP,CAAI,GAE1DA,EAAK,WAAW,iBAAiB,GAAG;AACtC,QAAI9e,EAAM,CAAC,MAAM,YACfm/B,IAAa;AAEf;AAAA,MACF;AACA,MAAArgB,IAAOF,EAAA;AAAA,IACT;AACA,UAAM8qB,IAAQD,GAAiBvT,EAAI,QAAQ,CAAC,GAAG,GAAG,GAAG,GAAGA,EAAI,QAAQ,CAAC,GAAG,GAAG,GAAG,GAAGA,EAAI,QAAQ,CAAC,CAAC;AAQ/F,SAPAyT,GAAevK,GAAQA,GAAQsK,CAAK,GACpCxT,EAAI,SAAS;AAAA,MACX,CAAC,CAACkJ,EAAO,CAAC,GAAG,CAACA,EAAO,CAAC,GAAG,CAACA,EAAO,CAAC,GAAG,CAACl5C,EAAO,CAAC,CAAC;AAAA,MAC/C,CAAC,CAACk5C,EAAO,CAAC,GAAG,CAACA,EAAO,CAAC,GAAG,CAACA,EAAO,CAAC,GAAG,CAACl5C,EAAO,CAAC,CAAC;AAAA,MAC/C,CAACk5C,EAAO,CAAC,GAAGA,EAAO,CAAC,GAAGA,EAAO,CAAC,GAAGl5C,EAAO,CAAC,CAAC;AAAA,MAC3C,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,IAAA,GAENkV,EAAM9N,CAAG,MAAM;AACpB,MAAAA;AAGF,WADA4oC,EAAI,aAAa5oC,GACb6xC,KAAcJ,IACZE,IACK,MAAMrkB,EAAY,mBAAmB,IAAI,WAAWmkB,EAAc,MAAM,CAAC,CAAC,CAAC,IAE7EA,EAAc,MAAM,CAAC,IAE1BE,IACK,MAAMrkB,EAAY,mBAAmB,IAAI,WAAWv9B,EAAO,MAAM64C,EAAI,UAAU,CAAC,CAAC,IAEnF74C,EAAO,MAAM64C,EAAI,UAAU;AAAA,EACpC;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,QAAQ74C,GAAQ0hD,GAAe;AACnC,SAAK,MAAM,IAAIqG,EAAA;AACf,UAAMlP,IAAM,KAAK;AACjB,IAAAA,EAAI,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACrCA,EAAI,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AAClC,QAAI5yC,IAAMjG,EAAO;AACjB,QAAIiG,IAAM;AACR,YAAM,IAAI,MAAM,uCAAuCA,CAAG;AAE5D,QAAI8X,IAAQ,IAAI,WAAW/d,CAAM;AACjC,IAAI+d,EAAM,CAAC,MAAM,MAAMA,EAAM,CAAC,MAAM,QAClCwU,EAAI,MAAM,2BAA2B,GACrCvyB,IAAS,MAAMu9B,EAAY,mBAAmB,IAAI,WAAWv9B,CAAM,CAAC,GACpEiG,IAAMjG,EAAO,YACb+d,IAAQ,IAAI,WAAW/d,CAAM;AAE/B,QAAIiQ,IAAM;AACV,aAASsxB,IAAU;AACjB,aAAOtxB,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAEF,YAAMuxB,IAAWvxB;AACjB,aAAOA,IAAMhK,KAAO8X,EAAM9N,CAAG,MAAM;AACjC,QAAAA;AAGF,aADAA,KACIA,IAAMuxB,IAAW,IACZ,KAEF,IAAI,cAAc,OAAOxhC,EAAO,MAAMwhC,GAAUvxB,IAAM,CAAC,CAAC;AAAA,IACjE;AACA,QAAIwxB,IAAOF,EAAA;AACX,QAAI,CAACE,EAAK,WAAW,cAAc;AACjC,YAAM,IAAI,MAAM,sBAAsB;AAExC,UAAM8qB,IAAS,CAAA;AACf,QAAIC,IAAQ,IACRC,IAAa,GACbC,IAAK,GACL5K,IAAa;AAEjB,SADArgB,IAAOF,EAAA,GACAtxB,IAAMhK,KAAO,CAACw7B,EAAK,WAAW,KAAK,KAAG;AAC3C,UAAI9e,IAAQ8e,EAAK,MAAM,GAAG;AAE1B,UADAA,IAAOF,EAAA,GACH5e,EAAM,SAAS;AACjB;AAEF,YAAMkhB,IAAMlhB,EAAM,CAAC;AACnB,MAAAA,IAAQA,EAAM,CAAC,EAAE,MAAM,GAAG;AAC1B,eAASxhB,IAAI,GAAGA,IAAIwhB,EAAM,QAAQxhB;AAChC,QAAAwhB,EAAMxhB,CAAC,IAAIwhB,EAAMxhB,CAAC,EAAE,KAAA;AAEtB,cAAQ0iC,GAAA;AAAA,QACN,KAAK;AACH,UAAAgV,EAAI,KAAK,CAAC,IAAIl2B,EAAM;AACpB,mBAASxhB,IAAI,GAAGA,IAAIwhB,EAAM,QAAQxhB;AAChC,YAAA03C,EAAI,KAAK13C,IAAI,CAAC,IAAI,SAASwhB,EAAMxhB,CAAC,CAAC;AAErC;AAAA,QACF,KAAK;AACH,mBAASA,IAAI,GAAGA,IAAIwhB,EAAM,QAAQxhB;AAChC,YAAA03C,EAAI,QAAQ13C,IAAI,CAAC,IAAI,WAAWwhB,EAAMxhB,CAAC,CAAC,GACpC,MAAM03C,EAAI,QAAQ13C,IAAI,CAAC,CAAC,MAC1B03C,EAAI,QAAQ13C,IAAI,CAAC,IAAI;AAGzB;AAAA,QACF,KAAK;AACH,mBAASA,IAAI,GAAGA,IAAIwhB,EAAM,QAAQxhB;AAChC,YAAAorD,EAAO,KAAK,SAAS5pC,EAAMxhB,CAAC,CAAC,CAAC;AAEhC;AAAA,QACF,KAAK;AACH;AACE,kBAAM8P,IAAK0R,EAAM,CAAC;AAClB,YAAI1R,EAAG,WAAW,KAAK,KACrBu7C,IAAQ,IACR3T,EAAI,eAAe,KACV5nC,EAAG,WAAW,MAAM,IAC7B4nC,EAAI,eAAe,MACV5nC,EAAG,WAAW,OAAO,IAC9B4nC,EAAI,eAAe,IACV5nC,EAAG,WAAW,OAAO,IAC9B4nC,EAAI,eAAe,IACV5nC,EAAG,WAAW,QAAQ,IAC/B4nC,EAAI,eAAe,MACV5nC,EAAG,WAAW,OAAO,IAC9B4nC,EAAI,eAAe,IACV5nC,EAAG,WAAW,QAAQ,IAC/B4nC,EAAI,eAAe,MACV5nC,EAAG,WAAW,SAAS,IAChC4nC,EAAI,eAAe,KACV5nC,EAAG,WAAW,SAAS,IAChC4nC,EAAI,eAAe,KAEnBtmB,EAAI,KAAK,0BAA0BthB,CAAE,GAEnCA,EAAG,SAAS,GAAG,IACjB4nC,EAAI,kBAAkB,IACb5nC,EAAG,SAAS,IAAI,IACzB4nC,EAAI,kBAAkB,KACb5nC,EAAG,SAAS,IAAI,IACzB4nC,EAAI,kBAAkB,KACb5nC,EAAG,SAAS,IAAI,MACzB4nC,EAAI,kBAAkB,KAExBA,EAAI,eAAe,IACf5nC,EAAG,SAAS,IAAI,MAClB4nC,EAAI,eAAe,KAEjB5nC,EAAG,SAAS,IAAI,MAClB4nC,EAAI,eAAe;AAAA,UAEvB;AACA;AAAA,QACF,KAAK;AACH,cAAI4T,IAAa,KAAK9pC,EAAM,WAAW;AACrC;AAEF,UAAAk2B,EAAI,OAAO4T,CAAU,EAAE,CAAC,IAAI,WAAW9pC,EAAM,CAAC,CAAC,GAC/Ck2B,EAAI,OAAO4T,CAAU,EAAE,CAAC,IAAI,WAAW9pC,EAAM,CAAC,CAAC,GAC/Ck2B,EAAI,OAAO4T,CAAU,EAAE,CAAC,IAAI,WAAW9pC,EAAM,CAAC,CAAC,GAC/Ck2B,EAAI,OAAO4T,CAAU,EAAE,CAAC,IAAI,WAAW9pC,EAAM,CAAC,CAAC,GAC/C8pC;AACA;AAAA,QACF,KAAK;AACH,UAAA5T,EAAI,cAAcl2B,EAAM,CAAC,EAAE,UAAU,GAAG,KAAK,IAAI,IAAIA,EAAM,CAAC,EAAE,MAAM,CAAC;AACrE;AAAA,QAMF,KAAK;AACH,UAAA+pC,IAAK,WAAW/pC,EAAM,CAAC,CAAC;AACxB;AAAA,QACF,KAAK;AACH,UAAAm/B,IAAa,CAACn/B,EAAM,CAAC,EAAE,WAAW,IAAI,GACjCm/B,MACHn/B,IAAQA,EAAM,CAAC,EAAE,MAAM,GAAG,GAC1Bk2B,EAAI,aAAa,SAASl2B,EAAM,CAAC,CAAC;AAEpC;AAAA,MAAA;AAAA,IAEN;AACA,UAAMgqC,IAAO9T,EAAI,KAAK,CAAC;AACvB,IAAI8T,IAAO,KACTp6B,EAAI,KAAK,4DAA4D;AAEvE,QAAIwxB,IAAO;AACX,aAAS5iD,IAAI,GAAGA,IAAIwrD,GAAMxrD;AACxB,MAAA4iD,KAAQ,KAAK,IAAIlL,EAAI,KAAK13C,IAAI,CAAC,GAAG,CAAC;AAErC,aAASA,IAAI,GAAGA,IAAI,GAAGA;AACrB,eAAS8rC,IAAK,GAAGA,IAAK,GAAGA;AACvB,QAAA4L,EAAI,OAAO13C,CAAC,EAAE8rC,CAAE,KAAK4L,EAAI,QAAQ5L,IAAK,CAAC;AAG3C,IAAA1a,EAAI,MAAM,gBAAgBsmB,EAAI,OAAO,CAAC,CAAC,GACnC6T,IAAK,MACP7T,EAAI,QAAQ,CAAC,IAAI6T,IAEf5K,KAAc,CAACJ,KACjBnvB,EAAI,KAAK,+CAA+C;AAE1D,QAAI41B;AACJ,QAAIzG,KAAiBI;AACnB,MAAAqG,IAASzG,EAAc,MAAM,CAAC;AAAA,aACrB8K,GAAO;AAChB,MAAA3T,EAAI,kBAAkB;AACtB,YAAM+S,IAAO,IAAI,WAAW7H,CAAI,GAC1B6I,IAAU5sD,EAAO,MAAM64C,EAAI,YAAYA,EAAI,aAAa,KAAK,KAAKkL,IAAO,CAAC,CAAC,GAC3EC,IAAO,IAAI,WAAW4I,CAAO;AACnC,UAAI3f,IAAK;AACT,eAAS9rC,IAAI,GAAGA,IAAI4iD,GAAM5iD,KAAK;AAC7B,cAAM8iD,IAAM9iD,IAAI;AAChB,QAAAyqD,EAAKzqD,CAAC,IAAI6iD,EAAK/W,CAAE,KAAK,IAAIgX,IAAM,GAC5BA,MAAQ,KACVhX;AAAA,MAEJ;AACA,MAAAkb,IAASyD,EAAK;AAAA,IAChB;AACE,MAAAzD,IAASnoD,EAAO,MAAM64C,EAAI,YAAYA,EAAI,aAAakL,KAAQlL,EAAI,kBAAkB,EAAE;AAEzF,IAAI0T,EAAO,WAAW1T,EAAI,KAAK,CAAC,KAC9BtmB,EAAI,KAAK,4BAA4B;AAEvC,QAAI3pB,IAAS;AACb,UAAMikD,IAAW,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GACzBC,IAAS,CAAC,IAAO,IAAO,IAAO,IAAO,EAAK;AACjD,aAAS3rD,IAAI,GAAGA,IAAIorD,EAAO,QAAQprD;AACjC,eAAS8rC,IAAK,GAAGA,IAAKsf,EAAO,QAAQtf;AAEnC,QADU,KAAK,IAAIsf,EAAOtf,CAAE,CAAC,MACnB9rC,MAGV0rD,EAAS5f,CAAE,IAAIrkC,IACX2jD,EAAOtf,CAAE,IAAI,KAAK,OAAO,GAAGsf,EAAOtf,CAAE,GAAG,EAAE,OAC5C6f,EAAO7f,CAAE,IAAI,KAEfrkC,KAAUiwC,EAAI,KAAK5L,IAAK,CAAC;AAG7B,QAAI8f,IAAOxvB,EAAY,MAAM,GAAGsb,EAAI,KAAK,CAAC,IAAI,GAAG,CAAC;AAClD,IAAIiU,EAAO,CAAC,MACVC,IAAOxvB,EAAY,MAAMsb,EAAI,KAAK,CAAC,IAAI,GAAG,GAAG,EAAE;AAEjD,aAAS13C,IAAI,GAAGA,IAAI03C,EAAI,KAAK,CAAC,GAAG13C;AAC/B,MAAA4rD,EAAK5rD,CAAC,KAAK0rD,EAAS,CAAC;AAEvB,QAAIG,IAAOzvB,EAAY,MAAM,GAAGsb,EAAI,KAAK,CAAC,IAAI,GAAG,CAAC;AAClD,IAAIiU,EAAO,CAAC,MACVE,IAAOzvB,EAAY,MAAMsb,EAAI,KAAK,CAAC,IAAI,GAAG,GAAG,EAAE;AAEjD,aAAS13C,IAAI,GAAGA,IAAI03C,EAAI,KAAK,CAAC,GAAG13C;AAC/B,MAAA6rD,EAAK7rD,CAAC,KAAK0rD,EAAS,CAAC;AAEvB,QAAII,IAAO1vB,EAAY,MAAM,GAAGsb,EAAI,KAAK,CAAC,IAAI,GAAG,CAAC;AAClD,IAAIiU,EAAO,CAAC,MACVG,IAAO1vB,EAAY,MAAMsb,EAAI,KAAK,CAAC,IAAI,GAAG,GAAG,EAAE;AAEjD,aAAS13C,IAAI,GAAGA,IAAI03C,EAAI,KAAK,CAAC,GAAG13C;AAC/B,MAAA8rD,EAAK9rD,CAAC,KAAK0rD,EAAS,CAAC;AAEvB,QAAIK,IAAO3vB,EAAY,MAAM,GAAGsb,EAAI,KAAK,CAAC,IAAI,GAAG,CAAC;AAClD,IAAIiU,EAAO,CAAC,MACVI,IAAO3vB,EAAY,MAAMsb,EAAI,KAAK,CAAC,IAAI,GAAG,GAAG,EAAE;AAEjD,aAAS13C,IAAI,GAAGA,IAAI03C,EAAI,KAAK,CAAC,GAAG13C;AAC/B,MAAA+rD,EAAK/rD,CAAC,KAAK0rD,EAAS,CAAC;AAEvB,QAAIM,IAAO5vB,EAAY,MAAM,GAAGsb,EAAI,KAAK,CAAC,IAAI,GAAG,CAAC;AAClD,IAAIiU,EAAO,CAAC,MACVK,IAAO5vB,EAAY,MAAMsb,EAAI,KAAK,CAAC,IAAI,GAAG,GAAG,EAAE;AAEjD,aAAS13C,IAAI,GAAGA,IAAI03C,EAAI,KAAK,CAAC,GAAG13C;AAC/B,MAAAgsD,EAAKhsD,CAAC,KAAK0rD,EAAS,CAAC;AAEvB,QAAI5/C,IAAI,GACJmgD,GACAC;AACJ,YAAQxU,EAAI,cAAA;AAAA,MACV,KAAK;AACH,QAAAuU,IAAO,IAAI,UAAUjF,CAAM,GAC3BkF,IAAQ,IAAI,UAAUtJ,CAAI;AAC1B;AAAA,MACF,KAAK;AACH,QAAAqJ,IAAO,IAAI,WAAWjF,CAAM,GAC5BkF,IAAQ,IAAI,WAAWtJ,CAAI;AAC3B;AAAA,MACF,KAAK;AACH,QAAAqJ,IAAO,IAAI,WAAWjF,CAAM,GAC5BkF,IAAQ,IAAI,WAAWtJ,CAAI;AAC3B;AAAA,MACF,KAAK;AACH,QAAAqJ,IAAO,IAAI,YAAYjF,CAAM,GAC7BkF,IAAQ,IAAI,YAAYtJ,CAAI;AAC5B;AAAA,MACF,KAAK;AACH,QAAAqJ,IAAO,IAAI,WAAWjF,CAAM,GAC5BkF,IAAQ,IAAI,WAAWtJ,CAAI;AAC3B;AAAA,MACF,KAAK;AACH,QAAAqJ,IAAO,IAAI,YAAYjF,CAAM,GAC7BkF,IAAQ,IAAI,YAAYtJ,CAAI;AAC5B;AAAA,MACF,KAAK;AACH,QAAAqJ,IAAO,IAAI,aAAajF,CAAM,GAC9BkF,IAAQ,IAAI,aAAatJ,CAAI;AAC7B;AAAA,MACF,KAAK;AACH,QAAAqJ,IAAO,IAAI,aAAajF,CAAM,GAC9BkF,IAAQ,IAAI,aAAatJ,CAAI;AAC7B;AAAA,MACF;AACE,cAAM,IAAI,MAAM,sBAAsB;AAAA,IAAA;AAE1C,aAASx1C,IAAI,GAAGA,IAAIsqC,EAAI,KAAK,CAAC,GAAGtqC;AAC/B,eAASpI,IAAI,GAAGA,IAAI0yC,EAAI,KAAK,CAAC,GAAG1yC;AAC/B,iBAASV,IAAI,GAAGA,IAAIozC,EAAI,KAAK,CAAC,GAAGpzC;AAC/B,mBAASvE,IAAI,GAAGA,IAAI23C,EAAI,KAAK,CAAC,GAAG33C;AAC/B,qBAASsE,IAAI,GAAGA,IAAIqzC,EAAI,KAAK,CAAC,GAAGrzC;AAC/B,cAAA6nD,EAAMpgD,CAAC,IAAImgD,EAAKL,EAAKvnD,CAAC,IAAIwnD,EAAK9rD,CAAC,IAAI+rD,EAAKxnD,CAAC,IAAIynD,EAAK/mD,CAAC,IAAIgnD,EAAK5+C,CAAC,CAAC,GAC/DtB;AAMV,WAAOogD,EAAM;AAAA,EACf;AAAA;AAAA;AAAA;AAAA,EAIA,eAAe;AACb,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,aAAa;AAE/B,UAAM7rD,IAAI,KAAK,IAAI,QACbiZ,IAAS,KAAK,KACd6yC,IAAOlB;AAAAA,MACX,KAAK,IAAI5qD,EAAE,CAAC,EAAE,CAAC,CAAC;AAAA,MAChB,KAAK,IAAIA,EAAE,CAAC,EAAE,CAAC,CAAC;AAAA,MAChB,KAAK,IAAIA,EAAE,CAAC,EAAE,CAAC,CAAC;AAAA,MAChB,KAAK,IAAIA,EAAE,CAAC,EAAE,CAAC,CAAC;AAAA,MAChB,KAAK,IAAIA,EAAE,CAAC,EAAE,CAAC,CAAC;AAAA,MAChB,KAAK,IAAIA,EAAE,CAAC,EAAE,CAAC,CAAC;AAAA,MAChB,KAAK,IAAIA,EAAE,CAAC,EAAE,CAAC,CAAC;AAAA,MAChB,KAAK,IAAIA,EAAE,CAAC,EAAE,CAAC,CAAC;AAAA,MAChB,KAAK,IAAIA,EAAE,CAAC,EAAE,CAAC,CAAC;AAAA,IAAA,GAEZ+rD,IAAO,CAAC,GAAG,GAAG,CAAC;AACrB,IAAID,EAAK,CAAC,IAAIA,EAAK,CAAC,MAClBC,EAAK,CAAC,IAAI,IAERD,EAAK,CAAC,IAAIA,EAAK,CAAC,KAAKA,EAAK,CAAC,IAAIA,EAAK,CAAC,MACvCC,EAAK,CAAC,IAAI,IAEZA,EAAK,CAAC,IAAI,GACNA,EAAK,CAAC,MAAM,IACVD,EAAK,CAAC,IAAIA,EAAK,CAAC,IAClBC,EAAK,CAAC,IAAI,IAEVA,EAAK,CAAC,IAAI,IAEHA,EAAK,CAAC,MAAM,IACjBD,EAAK,CAAC,IAAIA,EAAK,CAAC,IAClBC,EAAK,CAAC,IAAI,IAEVA,EAAK,CAAC,IAAI,IAGRD,EAAK,CAAC,IAAIA,EAAK,CAAC,IAClBC,EAAK,CAAC,IAAI,IAEVA,EAAK,CAAC,IAAI,GAGdA,EAAK,CAAC,IAAI,IAAIA,EAAK,CAAC,IAAIA,EAAK,CAAC;AAC9B,QAAItR,IAAO,CAAC,GAAG,GAAG,CAAC;AACnB,IAAAA,EAAKsR,EAAK,CAAC,IAAI,CAAC,IAAI,GACpBtR,EAAKsR,EAAK,CAAC,IAAI,CAAC,IAAI,GACpBtR,EAAKsR,EAAK,CAAC,IAAI,CAAC,IAAI;AACpB,QAAIC,IAAOrH;AAAAA,MACT3kD,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACNA,EAAE,CAAC,EAAE,CAAC;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAEF,SAAK,QAAQ,KAAK,OAAO,CAAC,MAAM,MAAM,IAAI,GAAGgsD,CAAI,GACjD,KAAK,QAAQ,KAAK,OAAO,CAAC/yC,EAAO,KAAK,CAAC,IAAI,KAAK,MAAM,IAAI,GAAG+yC,CAAI,GACjE,KAAK,QAAQ,KAAK,OAAO,CAAC,MAAM/yC,EAAO,KAAK,CAAC,IAAI,KAAK,IAAI,GAAG+yC,CAAI,GACjE,KAAK,QAAQ,KAAK,OAAO,CAAC,MAAM,MAAM/yC,EAAO,KAAK,CAAC,IAAI,GAAG,GAAG+yC,CAAI;AACjE,UAAM14C,IAAImyC,GAAM;AAChBwG,IAAAA,GAAW34C,GAAG04C,CAAI;AAClB,aAASrsD,IAAI,GAAGA,IAAI,GAAGA;AACrB,eAAS8L,IAAI,GAAGA,IAAI,GAAGA;AACrB,QAAA6H,EAAE3T,IAAI,IAAI8L,CAAC,IAAIugD,EAAKrsD,IAAI,IAAI86C,EAAKhvC,CAAC,IAAI,CAAC;AAG3C,UAAMygD,IAAO,CAAC,GAAG,GAAG,CAAC;AACrB,IAAI54C,EAAE,CAAC,IAAI,MACT44C,EAAK,CAAC,IAAI,IAER54C,EAAE,CAAC,IAAI,MACT44C,EAAK,CAAC,IAAI,IAER54C,EAAE,EAAE,IAAI,MACV44C,EAAK,CAAC,IAAI,IAEZ,KAAK,UAAU,CAACjzC,EAAO,KAAK,CAAC,GAAGA,EAAO,KAAKwhC,EAAK,CAAC,CAAC,GAAGxhC,EAAO,KAAKwhC,EAAK,CAAC,CAAC,GAAGxhC,EAAO,KAAKwhC,EAAK,CAAC,CAAC,CAAC,GAChG,KAAK,aAAa,CAACxhC,EAAO,QAAQ,CAAC,GAAGA,EAAO,QAAQwhC,EAAK,CAAC,CAAC,GAAGxhC,EAAO,QAAQwhC,EAAK,CAAC,CAAC,GAAGxhC,EAAO,QAAQwhC,EAAK,CAAC,CAAC,CAAC,GAC/G,KAAK,UAAUA,EAAK,MAAA;AACpB,aAAS96C,IAAI,GAAGA,IAAI,GAAGA;AACrB,MAAIusD,EAAKvsD,CAAC,MAAM,MACd,KAAK,QAAQA,CAAC,IAAI,CAAC,KAAK,QAAQA,CAAC;AAGrC,QAAI,KAAK,YAAY86C,GAAM,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,KAAK,YAAYyR,GAAM,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG;AAC1E,WAAK,QAAQzG,GAAM,GACnB,KAAK,SAASvC,GAAY8I,CAAI,GAC9B,KAAK,iBAAA,GACL,KAAK,cAAc,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,KAAK,QAAQ,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,GACzE,KAAK,eAAe,CAAC,GAAG,GAAG,CAAC;AAC5B;AAAA,IACF;AACAG,IAAAA,GAAeH,CAAI,GACnBA,EAAK,IAAI,IAAI,CAAC,IAAI,IAAIE,EAAK,CAAC,IAAI,GAChCF,EAAK,IAAI,IAAI,CAAC,IAAI,IAAIE,EAAK,CAAC,IAAI,GAChCF,EAAK,IAAI,IAAI,CAAC,IAAI,IAAIE,EAAK,CAAC,IAAI,GAChCF,EAAK,IAAI,IAAI,CAAC,KAAK/yC,EAAO,KAAKwhC,EAAK,CAAC,CAAC,IAAI,KAAKyR,EAAK,CAAC,GACrDF,EAAK,IAAI,IAAI,CAAC,KAAK/yC,EAAO,KAAKwhC,EAAK,CAAC,CAAC,IAAI,KAAKyR,EAAK,CAAC,GACrDF,EAAK,IAAI,IAAI,CAAC,KAAK/yC,EAAO,KAAKwhC,EAAK,CAAC,CAAC,IAAI,KAAKyR,EAAK,CAAC;AACrD,UAAME,IAAY3G,GAAM;AACxBC,IAAAA,GAAa0G,GAAWJ,CAAI,GAC5BK,GAAeD,GAAWA,GAAW94C,CAAC,GACtC,KAAK,SAAS4vC,GAAYkJ,CAAS,GACnCJ,IAAOrH,GAAiB,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GACtEqH,EAAKvR,EAAK,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAACyR,EAAK,CAAC,IAAI,IAAI,GAC3CF,EAAKvR,EAAK,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAACyR,EAAK,CAAC,IAAI,IAAI,GAC3CF,EAAKvR,EAAK,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAACyR,EAAK,CAAC,IAAI,IAAI,GAC3CF,EAAK,IAAI,IAAI,CAAC,IAAIE,EAAK,CAAC,GACxBF,EAAK,IAAI,IAAI,CAAC,IAAIE,EAAK,CAAC,GACxBF,EAAK,IAAI,IAAI,CAAC,IAAIE,EAAK,CAAC,GACxB,KAAK,QAAQhJ,GAAY8I,CAAI,GAC7BA,EAAK,CAAC,IAAI,GACVA,EAAK,CAAC,IAAI,GACVA,EAAK,EAAE,IAAI,GACXA,EAAK,EAAE,IAAI,IACP,KAAK,QAAQ,CAAC,MAAM,MAAM,KAAK,QAAQ,CAAC,MAAM,MAAM,KAAK,QAAQ,CAAC,MAAM,QAC1EA,EAAK,EAAE,IAAI/yC,EAAO,KAAK,CAAC,IAAI,IAE9B+yC,EAAK,EAAE,IAAI,IACP,KAAK,QAAQ,CAAC,MAAM,MAAM,KAAK,QAAQ,CAAC,MAAM,MAAM,KAAK,QAAQ,CAAC,MAAM,QAC1EA,EAAK,EAAE,IAAI/yC,EAAO,KAAK,CAAC,IAAI,IAE9B+yC,EAAK,EAAE,IAAI,IACP,KAAK,QAAQ,CAAC,MAAM,MAAM,KAAK,QAAQ,CAAC,MAAM,MAAM,KAAK,QAAQ,CAAC,MAAM,QAC1EA,EAAK,EAAE,IAAI/yC,EAAO,KAAK,CAAC,IAAI,IAE9B,KAAK,WAAWiqC,GAAY8I,CAAI,GAChCj7B,EAAI,MAAM,KAAK,IAAI,IAAI,GACvBA,EAAI,MAAM,KAAK,OAAO;AACtB,UAAMsmB,IAAM,KAAK;AACjB,IAAAoD,IAAO,KAAK;AACZ,UAAM6R,IAAQ,CAAC,KAAK,IAAI7R,EAAK,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAK,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAK,CAAC,CAAC,CAAC,GAChE8R,IAAS,CAAClV,EAAI,KAAKiV,EAAM,CAAC,CAAC,GAAGjV,EAAI,KAAKiV,EAAM,CAAC,CAAC,GAAGjV,EAAI,KAAKiV,EAAM,CAAC,CAAC,CAAC,GACpEE,IAAS,CAAC,GAAGnV,EAAI,KAAK,CAAC,GAAGA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,CAAC,GACnDoV,IAAU,CAACD,EAAOF,EAAM,CAAC,IAAI,CAAC,GAAGE,EAAOF,EAAM,CAAC,IAAI,CAAC,GAAGE,EAAOF,EAAM,CAAC,IAAI,CAAC,CAAC,GAC3EI,IAAW,CAAC,GAAG,GAAG,CAAC;AACzB,aAAS,IAAI,GAAG,IAAI,GAAG;AACrB,MAAIjS,EAAK,CAAC,IAAI,MACZiS,EAAS,CAAC,IAAID,EAAQ,CAAC,KAAKF,EAAO,CAAC,IAAI,IACxCE,EAAQ,CAAC,IAAI,CAACA,EAAQ,CAAC;AAG3B,SAAK,cAAcA,GACnB,KAAK,eAAeC,GACpB,KAAK,iBAAA;AAAA,EACP;AAAA;AAAA;AAAA,EAGA,MAAM,QAAQC,IAAW,GAAG;AAC1B,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,mBAAmB;AAErC,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,eAAe;AAEjC,UAAMljB,IAAW2N,GAAiB,EAAE,GAAG,KAAK,KAAK,YAAY,IAAA,GAAO,EAAK,GACnEC,IAAM,MAAMuV,GAAiBnjB,EAAS,QAAQ,EAAI;AACxD,IAAIkjB,MAAa,KACftV,EAAI,KAAK,CAAC,IAAI,GACdA,EAAI,KAAK,CAAC,IAAI,KACLsV,IAAW,MACpBtV,EAAI,KAAK,CAAC,IAAI,GACdA,EAAI,KAAK,CAAC,IAAIsV;AAEhB,UAAMlS,IAAO,KAAK,QAAQ,MAAA;AAC1B,QAAIA,EAAK,CAAC,MAAM,KAAKA,EAAK,CAAC,MAAM,KAAKA,EAAK,CAAC,MAAM;AAChD,aAAOpD;AAET,IAAAA,EAAI,aAAa;AACjB,aAAS13C,IAAI,GAAGA,IAAI,GAAGA;AACrB,MAAA03C,EAAI,KAAK13C,CAAC,IAAI,KAAK,QAAQA,CAAC;AAE9B,aAASA,IAAI,GAAGA,IAAI,KAAK,WAAW,QAAQA;AAC1C,MAAA03C,EAAI,QAAQ13C,CAAC,IAAI,KAAK,WAAWA,CAAC;AAEpC,QAAImT,IAAI;AACR,aAASnT,IAAI,GAAGA,IAAI,GAAGA;AACrB,eAAS8L,IAAI,GAAGA,IAAI,GAAGA;AACrB,QAAA4rC,EAAI,OAAO13C,CAAC,EAAE8L,CAAC,IAAI,KAAK,OAAOqH,CAAC,GAChCA;AAGJ,WAAOukC;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,QAAQwV,IAAU,GAAG;AACnB,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,mBAAmB;AAErC,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,eAAe;AAEjC,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,eAAe;AAEjC,UAAMpS,IAAO,KAAK,QAAQ,MAAA;AAC1B,QAAIA,EAAK,CAAC,MAAM,KAAKA,EAAK,CAAC,MAAM,KAAKA,EAAK,CAAC,MAAM;AAChD,aAAO,KAAK;AAEd,UAAMpD,IAAM,KAAK,KACXqD,IAAOrD,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC;AACnD,QAAIyV,IAAUD,IAAUnS;AACxB,KAAIoS,IAAUpS,IAAO,KAAK,IAAI,UAAUoS,IAAU,OAChDA,IAAU,GACV/7B,EAAI,KAAK,oBAAoB87B,CAAO,oBAAoBA,CAAO,OAAUnS,CAAI,MAAM,KAAK,IAAI,MAAM,EAAE;AAEtG,UAAMqS,IAAS,KAAK,IAAI,MAAM,GAAGrS,CAAI,GAC/B4R,IAAQ,CAAC,KAAK,IAAI7R,EAAK,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAK,CAAC,CAAC,GAAG,KAAK,IAAIA,EAAK,CAAC,CAAC,CAAC,GAChE8R,IAAS,CAAClV,EAAI,KAAKiV,EAAM,CAAC,CAAC,GAAGjV,EAAI,KAAKiV,EAAM,CAAC,CAAC,GAAGjV,EAAI,KAAKiV,EAAM,CAAC,CAAC,CAAC,GACpEE,IAAS,CAAC,GAAGnV,EAAI,KAAK,CAAC,GAAGA,EAAI,KAAK,CAAC,IAAIA,EAAI,KAAK,CAAC,CAAC,GACnDoV,IAAU,CAACD,EAAOF,EAAM,CAAC,IAAI,CAAC,GAAGE,EAAOF,EAAM,CAAC,IAAI,CAAC,GAAGE,EAAOF,EAAM,CAAC,IAAI,CAAC,CAAC,GAC3EI,IAAW,CAAC,GAAG,GAAG,CAAC;AACzB,aAAS1/C,IAAI,GAAGA,IAAI,GAAGA;AACrB,MAAIytC,EAAKztC,CAAC,IAAI,MACZ0/C,EAAS1/C,CAAC,IAAIy/C,EAAQz/C,CAAC,KAAKu/C,EAAOv/C,CAAC,IAAI,IACxCy/C,EAAQz/C,CAAC,IAAI,CAACy/C,EAAQz/C,CAAC;AAG3B,QAAIvB,IAAI;AACR,aAASxH,IAAI,GAAGA,IAAIsoD,EAAO,CAAC,GAAGtoD,KAAK;AAClC,YAAMyR,IAAKg3C,EAAS,CAAC,IAAIzoD,IAAIwoD,EAAQ,CAAC;AACtC,eAAS/sD,IAAI,GAAGA,IAAI6sD,EAAO,CAAC,GAAG7sD,KAAK;AAClC,cAAM6V,IAAKm3C,EAAS,CAAC,IAAIhtD,IAAI+sD,EAAQ,CAAC;AACtC,iBAASzoD,IAAI,GAAGA,IAAIuoD,EAAO,CAAC,GAAGvoD,KAAK;AAClC,gBAAMoR,IAAKs3C,EAAS,CAAC,IAAI1oD,IAAIyoD,EAAQ,CAAC;AACtC,UAAAM,EAAOthD,CAAC,IAAI,KAAK,IAAI2J,IAAKG,IAAKG,IAAKo3C,CAAO,GAC3CrhD;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,WAAOshD;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO3tB,GAAKC,GAAK;AACf,UAAMC,IAAQ4jB,GAAY7jB,CAAG;AAC7B8jB,IAAAA,GAAgB7jB,GAAOA,CAAK;AAC5B,UAAM7wB,IAAMu2C,GAAiB5lB,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAG,CAAC;AACtD4tB,WAAAA,GAAoBv+C,GAAKA,GAAK6wB,CAAK,GACtB6lB,EAAiB12C,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,CAAC;AAAA,EAEtD;AAAA;AAAA;AAAA;AAAA,EAIA,OAAOw+C,GAAIC,IAAO,IAAO;AACvB,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,kBAAkB;AAEpC,UAAM5tB,IAAQ4jB,GAAY,KAAK,MAAM,GAC/BrjD,IAAMqjD,GAAY5jB,CAAK;AAC7B6jB,IAAAA,GAAgBtjD,GAAKy/B,CAAK,GAC1BomB,GAAa7lD,GAAKA,CAAG;AACrB,UAAM4O,IAAMu2C,GAAiBiI,EAAG,CAAC,GAAGA,EAAG,CAAC,GAAGA,EAAG,CAAC,GAAG,CAAC;AACnDD,IAAAA,GAAoBv+C,GAAKA,GAAK5O,CAAG;AACjC,UAAMstD,IAAOhI,EAAiB12C,EAAI,CAAC,GAAGA,EAAI,CAAC,GAAGA,EAAI,CAAC,CAAC;AACpD,WAAIy+C,IACKC,IAEF,CAAC,KAAK,MAAMA,EAAK,CAAC,CAAC,GAAG,KAAK,MAAMA,EAAK,CAAC,CAAC,GAAG,KAAK,MAAMA,EAAK,CAAC,CAAC,CAAC;AAAA,EACvE;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,YAAYntD,GAAG0B,GAAG;AAChB,WAAO,MAAM,QAAQ1B,CAAC,KAAK,MAAM,QAAQ0B,CAAC,KAAK1B,EAAE,WAAW0B,EAAE,UAAU1B,EAAE,MAAM,CAAC4S,GAAK1J,MAAU0J,MAAQlR,EAAEwH,CAAK,CAAC;AAAA,EAClH;AAAA;AAAA;AAAA;AAAA,EAIA,YAAY2sB,GAAI;AACd,SAAK,YAAYA,GACjB,KAAK,UAAA,GACD,KAAK,oBACP,KAAK,iBAAiB,IAAI;AAAA,EAE9B;AAAA;AAAA;AAAA;AAAA,EAIA,iBAAiBA,GAAI;AACnB,SAAK,gBAAgB0B,GAAQ,aAAa1B,CAAE;AAAA,EAC9C;AAAA,EACA,MAAM,wBAAwBj3B,GAAK;AACjC,SAAK,gBAAgB,MAAM24B,GAAQ,oBAAoB34B,CAAG;AAAA,EAC5D;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK;AAAA,EACd;AAAA;AAAA,EAEA,IAAI,SAASi3B,GAAI;AACf,SAAK,YAAYA,CAAE;AAAA,EACrB;AAAA,EACA,IAAI,SAASA,GAAI;AACf,SAAK,YAAYA,CAAE;AAAA,EACrB;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,QAAQkQ,GAAS;AACnB,SAAK,WAAWA,GACZ,KAAK,mBACP,KAAK,gBAAgB,IAAI;AAAA,EAE7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,UAAUqnB,IAAM,OAAO,mBAAmBC,IAAW,IAAM;AACzD,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,eAAe;AAEjC,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,eAAe;AAEjC,QAAI/zB,IAAK,OAAO,mBACZE,IAAK,OAAO,mBACZ8zB,IAAQ,GACRC,IAAO,GACPrR,IAAS,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,KAAK,CAAC;AAClE,UAAMsR,IAAO,KAAK,MAAM,KAAK,IAAI,SAAStR,CAAM;AAChD,IAAIkR,KAAOI,MACTJ,IAAM,KAAK,UAEbA,IAAM,KAAK,IAAIA,GAAKI,IAAO,CAAC;AAC5B,UAAMC,IAAUL,IAAMlR;AACtB,QAAI9C,IAAM,CAAA;AACV,QAAKiU,GAKE;AAEL,YAAMK,IAAU;AAAA,QACd,KAAK,MAAM,OAAa,KAAK,IAAI,KAAK,CAAC,CAAC;AAAA,QACxC,KAAK,MAAM,OAAa,KAAK,IAAI,KAAK,CAAC,CAAC;AAAA,QACxC,KAAK,MAAM,OAAa,KAAK,IAAI,KAAK,CAAC,CAAC;AAAA,MAAA,GAEpC5U,IAAO;AAAA,QACX,KAAK,IAAI,KAAK,CAAC,IAAI,IAAI4U,EAAQ,CAAC;AAAA,QAChC,KAAK,IAAI,KAAK,CAAC,IAAI,IAAIA,EAAQ,CAAC;AAAA,QAChC,KAAK,IAAI,KAAK,CAAC,IAAI,IAAIA,EAAQ,CAAC;AAAA,MAAA,GAE5BC,IAAY,CAAC7U,EAAK,CAAC,IAAI4U,EAAQ,CAAC,GAAG5U,EAAK,CAAC,IAAI4U,EAAQ,CAAC,GAAG5U,EAAK,CAAC,IAAI4U,EAAQ,CAAC,CAAC;AACnF,MAAAxR,IAASpD,EAAK,CAAC,IAAIA,EAAK,CAAC,IAAIA,EAAK,CAAC,GACnCM,IAAM,IAAI,KAAK,IAAI,YAAY8C,CAAM;AACrC,UAAIzwC,IAAI,IACJ9L,IAAI;AACR,eAASsE,IAAI,GAAGA,IAAI,KAAK,IAAI,KAAK,CAAC,GAAGA;AACpC,iBAASvE,IAAI,GAAGA,IAAI,KAAK,IAAI,KAAK,CAAC,GAAGA;AACpC,mBAASsE,IAAI,GAAGA,IAAI,KAAK,IAAI,KAAK,CAAC,GAAGA;AAEpC,YADAyH,KACI,EAAAzH,IAAI0pD,EAAQ,CAAC,KAAKhuD,IAAIguD,EAAQ,CAAC,KAAKzpD,IAAIypD,EAAQ,CAAC,OAGjD1pD,KAAK2pD,EAAU,CAAC,KAAKjuD,KAAKiuD,EAAU,CAAC,KAAK1pD,KAAK0pD,EAAU,CAAC,MAG9DvU,EAAIz5C,CAAC,IAAI,KAAK,IAAI8L,IAAIgiD,CAAO,GAC7B9tD;AAAA,IAIR,OArCe;AACb,MAAAy5C,IAAM,IAAI,KAAK,IAAI,YAAY8C,CAAM;AACrC,eAASv8C,IAAI,GAAGA,IAAIu8C,GAAQv8C;AAC1B,QAAAy5C,EAAIz5C,CAAC,IAAI,KAAK,IAAIA,IAAI8tD,CAAO;AAAA,IAEjC;AAiCA,UAAMG,IAAaxU,EAAI,gBAAgB,gBAAgBA,EAAI,gBAAgB,gBAAgB,KAAK;AAChG,QAAIwU;AACF,eAASjuD,IAAI,GAAGA,IAAIu8C,GAAQv8C;AAC1B,QAAA25B,IAAK,KAAK,IAAI8f,EAAIz5C,CAAC,GAAG25B,CAAE,GACxBE,IAAK,KAAK,IAAI4f,EAAIz5C,CAAC,GAAG65B,CAAE,GACpB4f,EAAIz5C,CAAC,MAAM,KACb2tD;AAAA;AAIJ,eAAS3tD,IAAI,GAAGA,IAAIu8C,GAAQv8C,KAAK;AAC/B,YAAI,MAAMy5C,EAAIz5C,CAAC,CAAC,GAAG;AACjB,UAAA4tD;AACA;AAAA,QACF;AACA,QAAInU,EAAIz5C,CAAC,MAAM,MACb2tD,KACI,KAAK,sBAIXh0B,IAAK,KAAK,IAAI8f,EAAIz5C,CAAC,GAAG25B,CAAE,GACxBE,IAAK,KAAK,IAAI4f,EAAIz5C,CAAC,GAAG65B,CAAE;AAAA,MAC1B;AAEF,IAAI,KAAK,oBAAoBF,MAAOE,KAAM8zB,IAAQ,MAChDh0B,IAAK;AAEP,UAAMu0B,IAAU,KAAK,oBAAoBv0B,CAAE,GACrCw0B,IAAU,KAAK,oBAAoBt0B,CAAE,GACrC7D,IAAO4B,GAAQ,gBAAgB,KAAK,SAAS;AACnD,QAAIw2B,IAAQ,GACRC,IAAQ;AAOZ,QANIr4B,EAAK,QAAQ,WACfo4B,IAAQp4B,EAAK,MAEXA,EAAK,QAAQ,WACfq4B,IAAQr4B,EAAK,MAEXo4B,MAAUC,KAAS,KAAK,kBAAkB,SAAS,KAAK,IAAI,OAAO,KAAK,SAAS,KAAK,IAAI,OAAO,KAAK,KAAK,IAAI,UAAU,KAAK,IAAI;AACpI,kBAAK,UAAU,KAAK,IAAI,SACxB,KAAK,UAAU,KAAK,IAAI,SACxB,KAAK,aAAa,KAAK,SACvB,KAAK,aAAa,KAAK,SACvB,KAAK,aAAaH,GAClB,KAAK,aAAaC,GACX,CAAC,KAAK,IAAI,SAAS,KAAK,IAAI,SAAS,KAAK,IAAI,SAAS,KAAK,IAAI,OAAO;AAEhF,QAAIC,MAAUC;AACZ,kBAAK,UAAUD,GACf,KAAK,UAAUC,GACf,KAAK,aAAa,KAAK,SACvB,KAAK,aAAa,KAAK,SAChB,CAACD,GAAOC,GAAOD,GAAOC,CAAK;AAEpC,UAAMC,IAAc,MAAMX,KAASpR,IAAS;AAC5C,QAAIgS,IAA6B;AACjC,IAAID,IAAc,MAAM,CAAC,KAAK,qBAC5Bl9B,EAAI,KAAK,GAAG,KAAK,MAAMk9B,CAAW,CAAC,kDAAkD,GACrFC,IAA6B,IAC7B,KAAK,mBAAmB,KAErB,KAAK,qBACRZ,IAAQ,IAEVA,KAASC;AACT,UAAMY,IAAQ,KAAK,OAAOjS,IAAS,IAAIoR,KAAS,KAAK,cAAc;AACnE,QAAIa,IAAQ,KAAK70B,MAAOE;AACtB,aAAI6zB,IACK,KAAK,UAAUD,GAAK,EAAK,KAElCr8B,EAAI,MAAM,oCAAoC,GAC9C,KAAK,UAAU88B,GACf,KAAK,UAAUC,GACf,KAAK,aAAa,KAAK,SACvB,KAAK,aAAa,KAAK,SACvB,KAAK,aAAaD,GAClB,KAAK,aAAaC,GACX,CAACD,GAASC,GAASD,GAASC,CAAO;AAE5C,UAAMM,IAAQ,MACRC,KAAOD,IAAQ,MAAM50B,IAAKF,IAC1Bg1B,IAAO,IAAI,MAAMF,CAAK;AAC5B,aAASzuD,IAAI,GAAGA,IAAIyuD,GAAOzuD;AACzB,MAAA2uD,EAAK3uD,CAAC,IAAI;AAEZ,QAAIiuD;AACF,eAASjuD,IAAI,GAAGA,IAAIu8C,GAAQv8C;AAC1B,QAAA2uD,EAAK,KAAK,OAAOlV,EAAIz5C,CAAC,IAAI25B,KAAM+0B,CAAG,CAAC;AAAA,aAE7B,KAAK;AACd,eAAS1uD,IAAI,GAAGA,IAAIu8C,GAAQv8C;AAC1B,QAAIy5C,EAAIz5C,CAAC,MAAM,MAGX,MAAMy5C,EAAIz5C,CAAC,CAAC,KAGhB2uD,EAAK,KAAK,OAAOlV,EAAIz5C,CAAC,IAAI25B,KAAM+0B,CAAG,CAAC;AAAA;AAGtC,eAAS1uD,IAAI,GAAGA,IAAIu8C,GAAQv8C;AAC1B,QAAI,MAAMy5C,EAAIz5C,CAAC,CAAC,KAGhB2uD,EAAK,KAAK,OAAOlV,EAAIz5C,CAAC,IAAI25B,KAAM+0B,CAAG,CAAC;AAGxC,QAAI9+C,IAAI,GACJg/C,IAAK;AACT,WAAOh/C,IAAI4+C;AACT,MAAA5+C,KAAK++C,EAAKC,CAAE,GACZA;AAEF,IAAAA,KACAh/C,IAAI;AACJ,QAAIi/C,IAAKJ;AACT,WAAO7+C,IAAI4+C;AACT,MAAAK,KACAj/C,KAAK++C,EAAKE,CAAE;AAEd,QAAID,MAAOC,GAAI;AACb,UAAIpW,IAAK;AACT,aAAOA,MAAO;AACZ,QAAImW,IAAK,MACPA,KACID,EAAKC,CAAE,IAAI,MACbnW,IAAK,KAGLA,MAAO,KAAKoW,IAAKJ,IAAQ,MAC3BI,KACIF,EAAKE,CAAE,IAAI,MACbpW,IAAK,KAGLmW,MAAO,KAAKC,MAAOJ,IAAQ,MAC7BhW,IAAK;AAAA,IAGX;AACA,QAAIqW,IAAO,KAAK,oBAAoBF,IAAKF,IAAM/0B,CAAE,GAC7Co1B,IAAQ,KAAK,oBAAoBF,IAAKH,IAAM/0B,CAAE;AAClD,WAAI,KAAK,IAAI,UAAU,KAAK,IAAI,WAAW,KAAK,IAAI,WAAWu0B,KAAW,KAAK,IAAI,WAAWC,MAC5FW,IAAO,KAAK,IAAI,SAChBC,IAAQ,KAAK,IAAI,UAEfR,MACFO,IAAO,KAAK,IAAIA,GAAM,CAAC,IAEzB,KAAK,UAAUA,GACf,KAAK,UAAUC,GACX,KAAK,IAAI,gBAAgB,SAC3B,KAAK,UAAUb,GACf,KAAK,UAAUC,IAEjB,KAAK,aAAa,KAAK,SACvB,KAAK,aAAa,KAAK,SACvB,KAAK,aAAaD,GAClB,KAAK,aAAaC,GACX,CAACW,GAAMC,GAAOb,GAASC,CAAO;AAAA,EACvC;AAAA;AAAA;AAAA;AAAA,EAIA,oBAAoBzxB,GAAK;AACvB,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,eAAe;AAEjC,WAAI,KAAK,IAAI,cAAc,MACzB,KAAK,IAAI,YAAY,IAEhBA,IAAM,KAAK,IAAI,YAAY,KAAK,IAAI;AAAA,EAC7C;AAAA;AAAA,EAEA,oBAAoBsyB,GAAQ;AAC1B,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,eAAe;AAEjC,WAAI,KAAK,IAAI,cAAc,MACzB,KAAK,IAAI,YAAY,KAEfA,IAAS,KAAK,IAAI,aAAa,KAAK,IAAI;AAAA,EAClD;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,iBAAiBrT,GAAKC,IAAW,MAAM;AAC3C,WAAOF,GAAiB,MAAMC,GAAKC,CAAQ;AAAA,EAC7C;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,WAAWD,IAAM,IAAIC,IAAW,MAAM;AAC1C,WAAOG,GAAW,MAAMJ,GAAKC,CAAQ;AAAA,EACvC;AAAA,EACA,aAAa,eAAe38C,GAAKgwD,IAAU,IAAI;AAC7C,QAAIhwD,MAAQ;AACV,YAAM,MAAM,uBAAuB;AAGrC,QAAIiwD,IADkB,sBACU,KAAKjwD,CAAG,IAAIA,IAAM,IAAI,IAAIA,GAAK,OAAO,SAAS,IAAI;AAGnF,IAFoB,iBACU,KAAKiwD,EAAY,QAAQ,MAErDA,IAAc,IAAI,IAAI,uBAAuBjwD,CAAG;AAElD,QAAIF,IAAW,MAAM,MAAMmwD,GAAa,EAAE,SAAAD,GAAS;AACnD,QAAI,CAAClwD,EAAS;AACZ,YAAM,MAAMA,EAAS,UAAU;AAGjC,UAAMmlC,KADO,MAAMnlC,EAAS,KAAA,GACT,MAAM;AAAA,CAAI,GAEvBowD,IADY,WACU,KAAKD,CAAW,EAAE,CAAC,GACzC9O,IAAa,CAAA;AACnB,eAAW9f,KAAQ4D,GAAO;AACxB,YAAMkrB,IAAU,IAAI,IAAI9uB,GAAM6uB,CAAS;AAEvC,UADApwD,IAAW,MAAM,MAAMqwD,GAAS,EAAE,SAAAH,GAAS,GACvC,CAAClwD,EAAS;AACZ,cAAM,MAAMA,EAAS,UAAU;AAEjC,YAAMswD,IAAW,MAAMtwD,EAAS,YAAA;AAChC,MAAAqhD,EAAW,KAAK,EAAE,MAAM9f,GAAM,MAAM+uB,GAAU;AAAA,IAChD;AACA,WAAOjP;AAAA,EACT;AAAA,EACA,aAAa,2BAA2B9nC,GAAQg3C,GAAU;AACxD,UAAMlwD,IAASkZ,EAAO,UAAA,GAChBi3C,IAAS,IAAIp+C,GAAA,GACbq+C,IAAqB,CAAA;AAC3B,QAAIC,IAAoB,GACpBC,IAAc,IACdC,GACAC;AACJ,UAAMC,IAAU,IAAI,QAAQ,CAACt1C,GAASgkB,MAAW;AAC/C,MAAAoxB,IAAYp1C,GACZq1C,IAAWrxB;AAAA,IAEb,CAAC;AACD,aAASuxB,IAAW;AAClB,YAAMt9C,IAAS,IAAI,WAAWi9C,CAAiB;AAC/C,UAAI/nD,IAAS;AACb,iBAAW9H,KAAS4vD;AAClB,QAAAh9C,EAAO,IAAI5S,GAAO8H,CAAM,GACxBA,KAAU9H,EAAM;AAElB,MAAA+vD,EAAUn9C,CAAM;AAAA,IAClB;AACA,WAAA+8C,EAAO,SAAS,CAAC3vD,MAAU;AACzB,MAAA4vD,EAAmB,KAAK5vD,CAAK,GAC7B6vD,KAAqB7vD,EAAM,QACvB6vD,KAAqBH,MACvBI,IAAc,IACdtwD,EAAO,SAAS,MAAM,MAAM;AAAA,MAC5B,CAAC,GACD0wD,EAAA;AAAA,IAEJ,IACC,YAAY;AACX,UAAI;AACF,eAAO,CAACJ,KAAa;AACnB,gBAAM,EAAE,MAAAlwD,GAAM,OAAAC,EAAA,IAAU,MAAML,EAAO,KAAA;AACrC,cAAII,GAAM;AACR,YAAAkwD,IAAc,IACdH,EAAO,KAAK,IAAI,WAAA,GAAc,EAAI;AAClC;AAAA,UACF;AACA,UAAAA,EAAO,KAAK9vD,GAAO,EAAK;AAAA,QAC1B;AAAA,MACF,SAASmO,GAAK;AACZ,QAAAgiD,EAAShiD,CAAG;AAAA,MACd;AAAA,IACF,GAAA,EAAK,MAAM,MAAM;AAAA,IACjB,CAAC,GACMiiD;AAAA,EACT;AAAA,EACA,OAAO,uBAAuB5wD,GAAK;AAEjC,UAAM8wD,IADS,IAAI,IAAI9wD,CAAG,EAAE,aACM,IAAI,8BAA8B;AACpE,QAAI8wD,GAAoB;AACtB,YAAM5yC,IAAQ4yC,EAAmB,MAAM,sCAAsC;AAC7E,UAAI5yC;AACF,eAAO,mBAAmBA,EAAM,CAAC,CAAC;AAAA,IAEtC;AACA,WAAOle,EAAI,MAAM,GAAG,EAAE,MAAM,MAAM,GAAG,EAAE,CAAC;AAAA,EAC1C;AAAA,EACA,aAAa,qBAAqBA,IAAM,IAAIgwD,IAAU,CAAA,GAAIe,IAAgB,KAAK;AAC7E,QAAI,MAAMA,CAAa;AACrB,aAAO;AAET,UAAMjxD,IAAW,MAAM,MAAME,GAAK,EAAE,SAAAgwD,GAAS,OAAO,eAAe;AACnE,QAAInlB,IAAW,KACXmmB,IAAS,MAAM,KAAK,2BAA2BlxD,EAAS,MAAM+qC,CAAQ;AAC1E,UAAMomB,IAAU,IAAI,SAASD,EAAO,QAAQA,EAAO,YAAYA,EAAO,UAAU,GAC1E3kD,IAAM4kD,EAAQ,UAAU,GAAG,EAAI,GAC/BC,IAAW7kD,MAAQ;AAYzB,QAVI,CAAC6kD,KAAY,EADE7kD,MAAQ,WAIvB2kD,EAAO,SAAS,QAClBnmB,IAAWomB,EAAQ,WAAW,KAAKC,CAAQ,IAEzCrmB,IAAWmmB,EAAO,WACpBA,IAAS,MAAM,KAAK,2BAA2BlxD,EAAS,MAAM+qC,CAAQ,IAGpE,EADammB,EAAO,CAAC,MAAM,MAAMA,EAAO,CAAC,MAAM,KAAKA,EAAO,CAAC,MAAM,MAAMA,EAAO,CAAC,MAAM;AAExF,aAAO;AAET,UAAMvY,IAAM,MAAMuV,GAAiBgD,EAAO,MAAM;AAChD,QAAI,CAACvY;AACH,YAAM,IAAI,MAAM,6BAA6B;AAE/C,UAAMsI,IAAiBtI,EAAI,kBAAkB,GACvC6E,IAAS,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,CAACpjC,GAAKnZ,MAAMmZ,KAAOu+B,EAAI,KAAK13C,CAAC,IAAI,IAAI03C,EAAI,KAAK13C,CAAC,IAAI,IAAI,CAAC,GAClFqvC,IAAW,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,CAACl2B,GAAKnZ,MAAMmZ,KAAOu+B,EAAI,KAAK13C,CAAC,IAAI,IAAI03C,EAAI,KAAK13C,CAAC,IAAI,IAAI,CAAC,GACpFowD,IAAa,KAAK,IAAI,KAAK,IAAIJ,GAAe3gB,CAAQ,GAAG,CAAC,GAC1DghB,IAAc3Y,EAAI,aAAa0Y,IAAa7T,IAASyD;AAC3D,QAAIoQ,MAAe/gB;AACjB,aAAO;AAET,UAAMihB,IAAc,MAAM,MAAMrxD,GAAK,EAAE,SAAAgwD,GAAS,OAAO,eAAe;AAEtE,YADkB,MAAM,KAAK,2BAA2BqB,EAAY,MAAMD,CAAW,GACpE,OAAO,MAAM,GAAGA,CAAW;AAAA,EAC9C;AAAA,EACA,aAAa,mBAAmBpxD,IAAM,IAAIgwD,IAAU,CAAA,GAAIe,IAAgB,KAAK;AAC3E,QAAI,MAAMA,CAAa;AACrB,aAAO;AAGT,UAAM5wD,KADW,MAAM,MAAMH,GAAK,EAAE,SAAAgwD,GAAS,OAAO,eAAe,GAC3C,KAAK,UAAA,GACvB,EAAE,OAAAxvD,GAAO,MAAAD,EAAA,IAAS,MAAMJ,EAAO,KAAA;AACrC,QAAI6wD,IAASxwD;AACb,QAAID,KAAQ,CAACywD,KAAUA,EAAO,SAAS;AACrC,YAAM,IAAI,MAAM,0CAA0C;AAE5D,UAAMC,IAAU,IAAI,SAASD,EAAO,QAAQA,EAAO,YAAYA,EAAO,UAAU,GAC1E3kD,IAAM4kD,EAAQ,UAAU,GAAG,EAAI;AAErC,QADa5kD,MAAQ;AAEnB,mBAAMlM,EAAO,OAAA,GACN,KAAK,qBAAqBH,GAAKgwD,GAASe,CAAa;AAE9D,UAAMG,IAAW7kD,MAAQ;AAEzB,QAAI,CAAC6kD,KAAY,EADE7kD,MAAQ;AAEzB,mBAAMlM,EAAO,OAAA,GACN;AAET,QAAI0qC,IAAW;AAIf,SAHImmB,EAAO,SAAS,QAClBnmB,IAAWomB,EAAQ,WAAW,KAAKC,CAAQ,IAEtCF,EAAO,SAASnmB,KAAU;AAC/B,UAAIymB,IAAY,SAASjoD,GAAMC,GAAM;AACnC,cAAMiK,IAAS,IAAI,WAAWlK,EAAK,SAASC,EAAK,MAAM;AACvD,eAAAiK,EAAO,IAAIlK,GAAM,CAAC,GAClBkK,EAAO,IAAIjK,GAAMD,EAAK,MAAM,GACrBkK;AAAA,MACT;AACA,YAAM,EAAE,OAAOymC,GAAQ,MAAMD,MAAU,MAAM55C,EAAO,KAAA;AACpD,UAAI45C,KAAS,CAACC;AACZ;AAEF,MAAAgX,IAASM,EAAUN,GAAQhX,CAAM;AAAA,IACnC;AACA,UAAMvB,IAAM,MAAMuV,GAAiBgD,EAAO,MAAM;AAChD,QAAI,CAACvY;AACH,YAAM,IAAI,MAAM,6BAA6B;AAE/C,UAAMsI,IAAiBtI,EAAI,kBAAkB,GACvC6E,IAAS,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,CAACpjC,GAAKnZ,MAAMmZ,KAAOu+B,EAAI,KAAK13C,CAAC,IAAI,IAAI03C,EAAI,KAAK13C,CAAC,IAAI,IAAI,CAAC,GAClFqvC,IAAW,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,CAACl2B,GAAKnZ,MAAMmZ,KAAOu+B,EAAI,KAAK13C,CAAC,IAAI,IAAI03C,EAAI,KAAK13C,CAAC,IAAI,IAAI,CAAC,GACpFowD,IAAa,KAAK,IAAI,KAAK,IAAIJ,GAAe3gB,CAAQ,GAAG,CAAC,GAC1DghB,IAAc3Y,EAAI,aAAa0Y,IAAa7T,IAASyD,GACrDwQ,IAAS,IAAI,WAAWH,CAAW,GACnCI,IAAgB,KAAK,IAAIR,EAAO,QAAQI,CAAW;AACzD,IAAAG,EAAO,IAAIP,EAAO,SAAS,GAAGQ,CAAa,GAAG,CAAC;AAC/C,QAAIC,IAAYD;AAChB,WAAOC,IAAYL,KAAa;AAC9B,YAAM,EAAE,OAAOpX,GAAQ,MAAMD,MAAU,MAAM55C,EAAO,KAAA;AACpD,UAAI45C,KAAS,CAACC;AACZ,qBAAM75C,EAAO,OAAA,GACN;AAET,YAAMuxD,IAAY,KAAK,IAAI1X,EAAO,QAAQoX,IAAcK,CAAS;AACjE,MAAAF,EAAO,IAAIvX,EAAO,SAAS,GAAG0X,CAAS,GAAGD,CAAS,GACnDA,KAAaC;AAAA,IACf;AACA,iBAAMvxD,EAAO,OAAA,GACNoxD,EAAO;AAAA,EAChB;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,YAAY;AAAA,IACvB,KAAAvxD,IAAM;AAAA,IACN,YAAA2xD,IAAa;AAAA,IACb,SAAA3B,IAAU,CAAA;AAAA,IACV,MAAAhlD,IAAO;AAAA,IACP,UAAAo8B,IAAW;AAAA,IACX,SAAAD,IAAU;AAAA,IACV,SAAAI,IAAU;AAAA,IACV,SAAAC,IAAU;AAAA,IACV,gBAAAoQ,IAAiB;AAAA,IACjB,gBAAAC,IAAiB;AAAA,IACjB,kBAAAC,IAAmB;AAAA,IACnB,kBAAAC,IAAmB;AAAA,IACnB,kBAAA1Q,IAAmB;AAAA,IACnB,SAAA2Q,IAAU;AAAA,IACV,YAAA4Z,IAAa;AAAA,IACb,eAAAb,IAAgB;AAAA,IAChB,WAAAtZ,IAAYD,EAAa;AAAA,IACzB,iBAAAW,IAAkB;AAAA,IAClB,QAAAv4C,IAAS,IAAI,YAAY,CAAC;AAAA,EAAA,IACxB,IAAI;AACN,QAAII,MAAQ;AACV,YAAM,MAAM,uBAAuB;AAErC,QAAI6xD,IAAU,MACV1Q,IAAa,MACb+C,IAAW;AAOf,QANIlkD,aAAe,eACjBA,IAAMA,EAAI,QAAQ,SAEhBJ,EAAO,aAAa,MACtBI,IAAMJ,IAEJI,aAAe;AAEjB,UADAmhD,IAAanhD,GACTgL,MAAS;AACX,QAAAhL,IAAMgL;AAAA,WACD;AACL,cAAM2S,IAAQ,IAAI,WAAWwjC,CAAU;AACvC,QAAAnhD,IAAM2d,EAAM,CAAC,MAAM,MAAMA,EAAM,CAAC,MAAM,MAAM,iBAAiB;AAAA,MAC/D;AAEF,aAASm0C,EAAoB33B,GAAU;AACrC,YAAMjc,IAAQic,EAAS,MAAM,gCAAgC;AAC7D,aAAOjc,IAAQA,EAAM,CAAC,IAAI;AAAA,IAC5B;AACA,QAAI2pB,IAAM;AASV,QARI78B,MAAS,KACX68B,IAAMiqB,EAAoB9xD,CAAG,IAE7B6nC,IAAMiqB,EAAoB9mD,CAAI,GAE5BysC,MAAcD,EAAa,YAC7BC,IAAYD,EAAa,MAAM3P,CAAG,IAEhC4P,MAAcD,EAAa,WAAW,OAAOx3C,KAAQ,UAAU;AACjE,YAAMF,IAAW,MAAM,MAAME,GAAK,CAAA,CAAE;AACpC,UAAIF,EAAS,YAAY;AACvB,cAAMiyD,IAAQ,KAAK,uBAAuBjyD,EAAS,GAAG;AACtD,QAAIiyD,KAASA,EAAM,SAAS,KACtB/mD,MAAS,OACXA,IAAO+mD,GACPlqB,IAAMiqB,EAAoB9mD,CAAI,GAC9BysC,IAAYD,EAAa,MAAM3P,CAAG;AAAA,MAGxC;AAAA,IACF;AACA,QAAI4P,MAAcD,EAAa,MAAM;AACnC,YAAMwa,IAAY,IAAI,IAAIhyD,CAAG,EAAE,cACzBiyD,IAASD,EAAU,IAAI,GAAG,GAC1BE,IAASF,EAAU,IAAI,GAAG,GAC1BG,IAASH,EAAU,IAAI,GAAG,GAC1BI,IAASH,IAASI,GAAW,SAASJ,CAAM,GAAG,SAASA,CAAM,IAAI,CAAC,IAAI,MACvEK,IAASJ,IAASG,GAAW,SAASH,CAAM,GAAG,SAASA,CAAM,IAAI,CAAC,IAAI,MACvEK,IAASJ,IAASE,GAAW,SAASF,CAAM,GAAG,SAASA,CAAM,IAAI,CAAC,IAAI,MACvEK,IAAUxyD,EAAI,MAAM,GAAG,EAAE,CAAC,GAC1B2mB,IAAQ,IAAI8rC,GAAgBD,CAAO,GACnCE,IAAQC,GAAUhsC,CAAK;AAC7B,UAAIlc;AACJ,UAAI;AACF,QAAAA,IAAM,MAAMmoD,GAAUF,EAAM,QAAQ1yD,CAAG,GAAG,EAAE,MAAM,SAAS;AAAA,MAC7D,QAAY;AACV,QAAAyK,IAAM,MAAMmoD,GAAUF,GAAO,EAAE,MAAM,SAAS;AAAA,MAChD;AACA,UAAI3/C;AACJ,UAAItI,EAAI,MAAM,WAAW,GAAG;AAE1B,cAAMooD,KAAQpoD,EAAI,MAAM,CAAC,GACnBqoD,KAAOroD,EAAI,MAAM,CAAC,GAClBsoD,KAAOtoD,EAAI,MAAM,CAAC;AACxB,QAAI2nD,KAAUA,EAAO,CAAC,KAAKS,OACzBT,EAAO,CAAC,IAAIS,KAAQ,IAElBP,KAAUA,EAAO,CAAC,KAAKQ,OACzBR,EAAO,CAAC,IAAIQ,KAAO,IAEjBP,KAAUA,EAAO,CAAC,KAAKQ,OACzBR,EAAO,CAAC,IAAIQ,KAAO,IAErBhgD,IAAO,MAAMigD,GAASvoD,GAAK,CAAC8nD,GAAQD,GAAQF,GAAQ,IAAM,CAAC;AAAA,MAC7D;AACE,QAAAr/C,IAAO,MAAMigD,GAASvoD,GAAK,CAAC8nD,GAAQD,GAAQF,CAAM,CAAC;AAErD,MAAAjR,IAAapuC,EAAK;AAClB,YAAM,CAACo/B,GAAQD,GAAO+gB,GAAMC,EAAI,IAAIngD,EAAK;AACzC,MAAAmxC,IAAW;AAAA,QACT,MAAM/C;AAAA,QACN,OAAAjP;AAAA,QACA,QAAAC;AAAA,QACA,OAAO8gB;AAAA,QACP,UAAUC;AAAA,MAAA;AAAA,IAEd;AACA,UAAMC,IAAc1b,MAAcD,EAAa,OAAOA,EAAa;AAInE,QAHI,CAAC2J,KAAcgS,MACjBhS,IAAa,MAAM,KAAK,mBAAmBnhD,GAAKgwD,GAASe,CAAa,IAEpE,CAAC5P;AACH,UAAIyQ;AACF,QAAAzQ,IAAa,MAAM2B,GAAS,eAAe9iD,GAAKgwD,CAAO,GACvDvY,IAAYD,EAAa;AAAA,WACpB;AACL,cAAM13C,IAAW,MAAM,MAAME,GAAK,EAAE,SAAAgwD,GAAS;AAC7C,YAAI,CAAClwD,EAAS;AACZ,gBAAM,MAAMA,EAAS,UAAU;AAEjC,YAAI,CAACA,EAAS;AACZ,gBAAM,IAAI,MAAM,8BAA8B;AAEhD,cAAMuZ,IAAS,MAAMwgC,GAAiB/5C,EAAS,IAAI,GAC7CM,IAAS,CAAA,GACTD,IAASkZ,EAAO,UAAA;AACtB,mBAAa;AACX,gBAAM,EAAE,MAAA9Y,GAAM,OAAAC,EAAA,IAAU,MAAML,EAAO,KAAA;AACrC,cAAII;AACF;AAEF,UAAAH,EAAO,KAAKI,CAAK;AAAA,QACnB;AACA,cAAMq6C,IAAcz6C,EAAO,OAAO,CAACgzD,GAAKzyD,MAAUyyD,IAAMzyD,EAAM,QAAQ,CAAC;AACvE,QAAAwgD,IAAa,IAAI,YAAYtG,CAAW;AACxC,cAAMznC,IAAW,IAAI,WAAW+tC,CAAU;AAC1C,YAAI14C,IAAS;AACb,mBAAW9H,KAASP;AAClB,UAAAgT,EAAS,IAAIzS,GAAO8H,CAAM,GAC1BA,KAAU9H,EAAM;AAAA,MAEpB;AAEF,IAAIknC,EAAI,YAAA,MAAkB,UACpB8pB,MAAe,OACjBA,IAAa3xD,EAAI,UAAU,GAAGA,EAAI,YAAY,MAAM,CAAC,IAAI,SAGzD6nC,EAAI,YAAA,MAAkB,SACpB8pB,MAAe,OACjBA,IAAa3xD,EAAI,UAAU,GAAGA,EAAI,YAAY,KAAK,CAAC,IAAI;AAG5D,QAAIshD,IAAgB;AACpB,QAAIqQ;AACF,UAAI;AACF,YAAI7xD,IAAW,MAAM,MAAM6xD,GAAY,EAAE,SAAA3B,GAAS;AAIlD,YAHIlwD,EAAS,WAAW,QAAQ6xD,EAAW,SAAS,MAAM,KAAKA,EAAW,SAAS,KAAK,OACtF7xD,IAAW,MAAM,MAAM,GAAG6xD,CAAU,OAAO,EAAE,SAAA3B,GAAS,IAEpDlwD,EAAS,MAAMA,EAAS,MAAM;AAChC,gBAAMuZ,IAAS,MAAMwgC,GAAiB/5C,EAAS,IAAI,GAC7CM,IAAS,CAAA,GACTD,IAASkZ,EAAO,UAAA;AACtB,qBAAa;AACX,kBAAM,EAAE,MAAA9Y,GAAM,OAAAC,EAAA,IAAU,MAAML,EAAO,KAAA;AACrC,gBAAII;AACF;AAEF,YAAAH,EAAO,KAAKI,CAAK;AAAA,UACnB;AACA,gBAAMq6C,IAAcz6C,EAAO,OAAO,CAACgzD,GAAKzyD,MAAUyyD,IAAMzyD,EAAM,QAAQ,CAAC;AACvE,UAAA2gD,IAAgB,IAAI,YAAYzG,CAAW;AAC3C,gBAAMznC,IAAW,IAAI,WAAWkuC,CAAa;AAC7C,cAAI74C,IAAS;AACb,qBAAW9H,KAASP;AAClB,YAAAgT,EAAS,IAAIzS,GAAO8H,CAAM,GAC1BA,KAAU9H,EAAM;AAAA,QAEpB;AAAA,MACF,SAASZ,GAAO;AACd,gBAAQ,MAAM,oCAAoCA,CAAK;AAAA,MACzD;AAEF,QAAI,CAACohD;AACH,YAAM,IAAI,MAAM,4CAA4C;AAE9D,QAAI,CAACn2C,GAAM;AACT,UAAIqoD;AACJ,UAAI;AACF,QAAAA,IAAW,IAAI,IAAIrzD,CAAG,EAAE,SAAS,MAAM,GAAG;AAAA,MAC5C,QAAY;AACV,QAAAqzD,IAAWrzD,EAAI,MAAM,GAAG;AAAA,MAC1B;AACA,MAAAgL,IAAOqoD,EAAS,MAAM,EAAE,EAAE,CAAC,GACvBroD,EAAK,QAAQ,GAAG,IAAI,OACtBA,IAAOA,EAAK,MAAM,GAAGA,EAAK,QAAQ,GAAG,CAAC;AAAA,IAE1C;AACA,WAAA6mD,IAAU,MAAM,KAAK;AAAA,MACnB1Q;AAAA,MACAn2C;AAAA,MACAo8B;AAAA,MACAD;AAAA,MACAma;AAAA,MACA/Z;AAAA,MACAC;AAAA,MACAoQ;AAAA,MACAC;AAAA,MACAC;AAAA,MACAC;AAAA,MACA1Q;AAAA,MACA2Q;AAAA,MACAP;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACAyM;AAAA,IAAA,GAEF2N,EAAQ,MAAM7xD,GACd6xD,EAAQ,kBAAkB1Z,GACnB0Z;AAAA,EACT;AAAA;AAAA;AAAA,EAGA,aAAa,cAAcxyB,GAAM+xB,IAAc,KAAK;AAClD,QAAI/3C,IAASgmB,EAAK,OAAA;AAClB,QAAI,CAAC,MAAM+xB,CAAW,GAAG;AACvB,UAAIK,IAAY;AAChB,YAAM6B,IAAU,IAAI,gBAAgB;AAAA,QAClC,UAAU3yD,GAAOiZ,GAAY;AAC3B,cAAI63C,KAAaL,GAAa;AAC5B,YAAAx3C,EAAW,UAAA;AACX;AAAA,UACF;AACA,gBAAM8lC,IAAiB0R,IAAcK;AACrC,UAAI9wD,EAAM,SAAS++C,KACjB9lC,EAAW,QAAQjZ,EAAM,MAAM,GAAG++C,CAAc,CAAC,GACjD9lC,EAAW,UAAA,KAEXA,EAAW,QAAQjZ,CAAK,GAE1B8wD,KAAa9wD,EAAM;AAAA,QACrB;AAAA,MAAA,CACD;AACD,MAAA0Y,IAASA,EAAO,YAAYi6C,CAAO;AAAA,IACrC;AACA,UAAMxZ,IAAqB,MAAMD,GAAiBxgC,CAAM,GAClDjZ,IAAS,CAAA,GACTD,IAAS25C,EAAmB,UAAA;AAClC,eAAa;AACX,YAAM,EAAE,MAAAv5C,GAAM,OAAAC,EAAA,IAAU,MAAML,EAAO,KAAA;AACrC,UAAII;AACF;AAEF,MAAAH,EAAO,KAAKI,CAAK;AAAA,IACnB;AACA,UAAMq6C,IAAcz6C,EAAO,OAAO,CAACgzD,GAAKzyD,MAAUyyD,IAAMzyD,EAAM,QAAQ,CAAC,GACjE4S,IAAS,IAAI,YAAYsnC,CAAW,GACpC0Y,IAAa,IAAI,WAAWhgD,CAAM;AACxC,QAAI9K,IAAS;AACb,eAAW9H,KAASP;AAClB,MAAAmzD,EAAW,IAAI5yD,GAAO8H,CAAM,GAC5BA,KAAU9H,EAAM;AAElB,WAAO4S;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,aAAa;AAAA,IACxB,MAAA8rB;AAAA;AAAA,IAEA,MAAAr0B,IAAO;AAAA,IACP,UAAAo8B,IAAW;AAAA,IACX,SAAAD,IAAU;AAAA,IACV,YAAAwqB,IAAa;AAAA,IACb,SAAApqB,IAAU;AAAA,IACV,SAAAC,IAAU;AAAA,IACV,gBAAAoQ,IAAiB;AAAA,IACjB,gBAAAC,IAAiB;AAAA,IACjB,kBAAAC,IAAmB;AAAA,IACnB,kBAAAC,IAAmB;AAAA,IACnB,kBAAA1Q,IAAmB;AAAA,IACnB,SAAA2Q,IAAU;AAAA,IACV,eAAA+Y,IAAgB;AAAA,IAChB,WAAAtZ,IAAYD,EAAa;AAAA,EAAA,GACxB;AACD,QAAIqa,IAAU,MACV1Q,IAAa,CAAA;AACjB,QAAI;AACF,UAAI,MAAM,QAAQ9hB,CAAI;AACpB,QAAA8hB,IAAa,MAAM,QAAQ,IAAI9hB,EAAK,IAAI,CAAC7O,MAAM,KAAK,cAAcA,CAAC,CAAC,CAAC;AAAA,WAChE;AACL,YAAK,MAAMugC,CAAa;AAmBtB,UAAA5P,IAAa,MAAM,KAAK,cAAc9hB,CAAI;AAAA,aAnBjB;AACzB,gBAAMm0B,IAAe,MAAM,KAAK,cAAcn0B,GAAM,GAAG,GACjDo0B,IAAa,IAAI,WAAWD,CAAY;AAE9C,cAAI,EADaC,EAAW,CAAC,MAAM,MAAMA,EAAW,CAAC,MAAM,KAAKA,EAAW,CAAC,MAAM,MAAMA,EAAW,CAAC,MAAM;AAExG,YAAAtS,IAAa,MAAM,KAAK,cAAc9hB,CAAI;AAAA,eACrC;AACL,kBAAMoZ,IAAM,MAAMuV,GAAiBwF,CAAY;AAC/C,gBAAI,CAAC/a;AACH,oBAAM,IAAI,MAAM,6BAA6B;AAE/C,kBAAMsI,IAAiBtI,EAAI,kBAAkB,GACvC6E,IAAS,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,CAACpjC,GAAKnZ,MAAMmZ,KAAOu+B,EAAI,KAAK13C,CAAC,IAAI,IAAI03C,EAAI,KAAK13C,CAAC,IAAI,IAAI,CAAC,GAClFqvC,IAAW,CAAC,GAAG,GAAG,CAAC,EAAE,OAAO,CAACl2B,GAAKnZ,MAAMmZ,KAAOu+B,EAAI,KAAK13C,CAAC,IAAI,IAAI03C,EAAI,KAAK13C,CAAC,IAAI,IAAI,CAAC,GACpFowD,IAAa,KAAK,IAAI,KAAK,IAAIJ,GAAe3gB,CAAQ,GAAG,CAAC,GAC1DghB,IAAc3Y,EAAI,aAAa0Y,IAAa7T,IAASyD;AAC3D,YAAAI,IAAa,MAAM,KAAK,cAAc9hB,GAAM+xB,CAAW;AAAA,UACzD;AAAA,QACF;AAGA,QAAApmD,IAAOq0B,EAAK;AAAA,MACd;AACA,UAAIiiB,IAAgB;AACpB,MAAIqQ,MACFrQ,IAAgB,MAAM,KAAK,cAAcqQ,CAAU,IAErDE,IAAU,MAAM,KAAK;AAAA,QACnB1Q;AAAA,QACAn2C;AAAA,QACAo8B;AAAA,QACAD;AAAA,QACAma;AAAA,QACA/Z;AAAA,QACAC;AAAA,QACAoQ;AAAA,QACAC;AAAA,QACAC;AAAA,QACAC;AAAA,QACA1Q;AAAA,QACA2Q;AAAA,QACAP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MAAA,GAEFoa,EAAQ,aAAaxyB;AAAA,IACvB,SAAS1wB,GAAK;AACZ,YAAAwjB,EAAI,MAAMxjB,CAAG,GACP,IAAI,MAAM,yBAAyB;AAAA,IAC3C;AACA,QAAIkjD,MAAY;AACd,YAAM,IAAI,MAAM,yBAAyB;AAE3C,WAAOA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,OAAO,iBAAiB3X,IAAO,CAAC,KAAK,KAAK,GAAG,GAAGC,IAAU,CAAC,GAAG,GAAG,CAAC,GAAGC,IAAS,CAAC,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,CAAC,GAAGC,IAAe,GAAkBG,IAAM,IAAI,cAAc;AAChM,WAAOD,GAAiBL,GAAMC,GAASC,GAAQC,GAAcG,CAAG;AAAA,EAClE;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,OAAO,kBAAkBN,IAAO,CAAC,KAAK,KAAK,GAAG,GAAGC,IAAU,CAAC,GAAG,GAAG,CAAC,GAAGC,IAAS,CAAC,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,GAAG,CAAC,GAAGC,IAAe,GAAkB;AACzK,WAAOJ,GAAkBC,GAAMC,GAASC,GAAQC,CAAY;AAAA,EAC9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,cAAcqZ,IAAW,CAAC,IAAI,GAAG,CAAC,GAAGC,IAAS,CAAC,GAAG,GAAG,CAAC,GAAG/d,IAAW,QAAQ;AAC1E,WAAOkI,GAAc,MAAM4V,GAAUC,GAAQ/d,CAAQ;AAAA,EACvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA,cAAc8d,IAAW,CAAC,IAAI,GAAG,CAAC,GAAGC,IAAS,CAAC,GAAG,GAAG,CAAC,GAAGnZ,IAAM,IAAI,cAAc;AAC/E,IAAAkE,GAAc,MAAMgV,GAAUC,GAAQnZ,CAAG;AAAA,EAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,aAAa,eAAe;AAAA,IAC1B,QAAA7b;AAAA,IACA,MAAA3zB,IAAO;AAAA,IACP,UAAAo8B,IAAW;AAAA,IACX,SAAAD,IAAU;AAAA,IACV,SAAAI,IAAU;AAAA,IACV,SAAAC,IAAU;AAAA,IACV,gBAAAoQ,IAAiB;AAAA,IACjB,gBAAAC,IAAiB;AAAA,IACjB,kBAAAC,IAAmB;AAAA,IACnB,kBAAAC,IAAmB;AAAA,IACnB,kBAAA1Q,IAAmB;AAAA,IACnB,SAAA2Q,IAAU;AAAA,IACV,WAAAP,IAAYD,EAAa;AAAA,IACzB,YAAAS,IAAa;AAAA,IACb,YAAAC,IAAa;AAAA,IACb,iBAAAC,IAAkB;AAAA,IAClB,eAAA3O,IAAgB;AAAA,EAAA,GACf;AACD,aAASoqB,EAAoBC,GAAS;AACpC,YAAMxd,IAAgB,OAAO,KAAKwd,CAAO,GACnChuD,IAAMwwC,EAAc,QACpB14B,IAAQ,IAAI,WAAW9X,CAAG;AAChC,eAAS9E,IAAI,GAAGA,IAAI8E,GAAK9E;AACvB,QAAA4c,EAAM5c,CAAC,IAAIs1C,EAAc,WAAWt1C,CAAC;AAEvC,aAAO4c,EAAM;AAAA,IACf;AACA,QAAIk0C,IAAU;AACd,QAAI;AACF,YAAM1Q,IAAayS,EAAoBj1B,CAAM;AAE7C,MAAAkzB,IAAU,MAAM,KAAK;AAAA,QACnB1Q;AAAA,QACAn2C;AAAA,QACAo8B;AAAA,QACAD;AAAA,QALoB;AAAA,QAOpBI;AAAA,QACAC;AAAA,QACAoQ;AAAA,QACAC;AAAA,QACAC;AAAA,QACAC;AAAA,QACA1Q;AAAA,QACA2Q;AAAA,QACAP;AAAA,QACAQ;AAAA,QACAC;AAAA,QACAC;AAAA,QACA3O;AAAA,QACA;AAAA,QACA;AAAA,MAAA;AAAA,IAEJ,SAAS76B,GAAK;AACZ,MAAAwjB,EAAI,MAAMxjB,CAAG;AAAA,IACf;AACA,QAAIkjD,MAAY;AACd,YAAM,IAAI,MAAM,wBAAwB;AAE1C,WAAOA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,QAAQ;AACN,UAAMiC,IAAc,IAAIhR,GAAA;AACxB,WAAAgR,EAAY,KAAK5Q,GAAA,GACjB4Q,EAAY,MAAM,OAAO,OAAO,CAAA,GAAI,KAAK,GAAG,GAC5CA,EAAY,MAAM,KAAK,IAAI,MAAA,GAC3BA,EAAY,aAAA,GACZA,EAAY,UAAA,GACLA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,YAAY;AACV,SAAK,IAAI,KAAK,CAAC;AAAA,EACjB;AAAA;AAAA;AAAA;AAAA,EAIA,mBAAmB;AACjB,QAAI,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,eAAe;AAEjC,UAAMx0C,IAAK,KAAK,IACV+6B,IAAe,KAAK,IAAI,cACxBH,IAAO,KAAK,IAAI,MAChBhJ,IAAKgJ,EAAK,CAAC,GACX/I,IAAK+I,EAAK,CAAC,GACX9I,IAAK8I,EAAK,CAAC,GACXprC,IAAK,KAAK,IAAI,GAAGorC,EAAK,CAAC,CAAC,GACxBC,IAAU,KAAK,IAAI,SACnBlkC,IAAKkkC,EAAQ,CAAC,GACdjkC,IAAKikC,EAAQ,CAAC,GACdhkC,IAAKgkC,EAAQ,CAAC,GACdtpC,IAAKspC,EAAQ,CAAC,GACdG,IAAM,KAAK,MAAM,KAAK,IAAI,kBAAkB,CAAC;AACnD,WAAO,EAAE,IAAAh7B,GAAI,cAAA+6B,GAAc,IAAAnJ,GAAI,IAAAC,GAAI,IAAAC,GAAI,IAAAtiC,GAAI,IAAAmH,GAAI,IAAAC,GAAI,IAAAC,GAAI,IAAAtF,GAAI,KAAAypC,EAAA;AAAA,EAC7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,OAAO,UAAUU,GAASpF,IAAW,QAAQ;AAC3C,UAAMme,IAAY/Y,EAAQ,MAAA;AAC1B,WAAA+Y,EAAU,UAAA,GACNne,MAAa,YACfme,EAAU,MAAM,WAAW,KAAKA,EAAU,GAAG,GAC7CA,EAAU,IAAI,eAAe,GAC7BA,EAAU,IAAI,kBAAkB,IAE9Bne,MAAa,cACfme,EAAU,MAAM,aAAa,KAAKA,EAAU,GAAG,GAC/CA,EAAU,IAAI,eAAe,IAC7BA,EAAU,IAAI,kBAAkB,KAE3BA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,SAAS3uD,GAAGtE,GAAGuE,GAAG2yC,IAAU,GAAGmF,IAAkB,IAAO;AACtD,WAAOU,GAAS,MAAMz4C,GAAGtE,GAAGuE,GAAG2yC,GAASmF,CAAe;AAAA,EACzD;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,UAAU/3C,GAAGtE,GAAGuE,GAAG2yC,IAAU,GAAGmF,IAAkB,IAAO;AACvD,WAAOD,GAAU,MAAM93C,GAAGtE,GAAGuE,GAAG2yC,GAASmF,CAAe;AAAA,EAC1D;AAAA;AAAA;AAAA;AAAA,EAIA,mBAAmBjhC,GAAS;AAC1B,SAAK,IAAI,UAAUA,EAAQ,SAC3B,KAAK,IAAI,UAAUA,EAAQ,SAC3B,OAAO,OAAO,MAAMA,CAAO;AAAA,EAC7B;AAAA,EACA,kBAAkB;AA+BhB,WA9BgBw7B;AAAA,MACd;AAAA;AAAA,MAEA;AAAA;AAAA,MAEA,KAAK;AAAA;AAAA,MAEL,KAAK;AAAA;AAAA,MAEL,KAAK;AAAA;AAAA,MAEL,KAAK,IAAI;AAAA;AAAA,MAET,KAAK,IAAI;AAAA;AAAA,MAET,KAAK;AAAA;AAAA,MAEL,KAAK;AAAA;AAAA,MAEL,KAAK;AAAA;AAAA,MAEL,KAAK;AAAA;AAAA,MAEL,KAAK;AAAA;AAAA,MAEL,KAAK;AAAA,MACL,KAAK;AAAA;AAAA,MAEL,KAAK;AAAA,IAAA;AAAA,EAGT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,aAAauD,IAAe,MAAM;AAChC,WAAOF,GAAa,MAAME,CAAY;AAAA,EACxC;AAAA;AAAA,EAEA,gBAAgB+Y,GAAK;AAMnB,WALazN;AAAAA,OACVyN,EAAI,CAAC,IAAI,OAAO,KAAK,QAAQ,CAAC;AAAA,OAC9BA,EAAI,CAAC,IAAI,OAAO,KAAK,QAAQ,CAAC;AAAA,OAC9BA,EAAI,CAAC,IAAI,OAAO,KAAK,QAAQ,CAAC;AAAA,IAAA;AAAA,EAGnC;AAAA;AAAA,EAEA,gBAAgB1F,GAAM;AASpB,WARY/H;AAAAA,MACV,KAAK,MAAM+H,EAAK,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,GAAG;AAAA;AAAA,MAEvC,KAAK,MAAMA,EAAK,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,GAAG;AAAA;AAAA,MAEvC,KAAK,MAAMA,EAAK,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,GAAG;AAAA;AAAA,IAAA;AAAA,EAI3C;AAAA;AAAA,EAEA,eAAeA,GAAM2F,IAAiB,IAAO;AAC3C,UAAMpkD,IAAMu2C,GAAiBkI,EAAK,CAAC,GAAGA,EAAK,CAAC,GAAGA,EAAK,CAAC,GAAG,CAAC;AACzD,WAAI2F,IACF7F,GAAoBv+C,GAAKA,GAAK,KAAK,OAAO,IAE1Cu+C,GAAoBv+C,GAAKA,GAAK,KAAK,YAAY,GAE1CA;AAAA,EACT;AAAA;AAAA,EAEA,eAAew+C,GAAI4F,IAAiB,IAAO;AACzC,UAAMC,IAAM9N,GAAiBiI,EAAG,CAAC,GAAGA,EAAG,CAAC,GAAGA,EAAG,CAAC,GAAG,CAAC,GAC7ClgD,IAAI,KAAK,SACTmgD,IAAO/H,EAAiB,GAAG,GAAG,CAAC;AACrC,QAAI,OAAOp4C,IAAM;AACf,aAAOmgD;AAET,QAAI,CAAC2F,GAAgB;AACnB,YAAME,IAAQ7P,GAAY,KAAK,YAAY;AAC3CwC,aAAAA,GAAaqN,GAAOA,CAAK,GACzB/F,GAAoB8F,GAAKA,GAAKC,CAAK,GACnC7F,EAAK,CAAC,IAAI4F,EAAI,CAAC,GACf5F,EAAK,CAAC,IAAI4F,EAAI,CAAC,GACf5F,EAAK,CAAC,IAAI4F,EAAI,CAAC,GACR5F;AAAA,IACT;AACA,QAAIngD,EAAE,CAAC,IAAI,KAAKA,EAAE,CAAC,IAAI,KAAKA,EAAE,CAAC,IAAI;AACjC,aAAOmgD;AAET,UAAM5tB,IAAQ4jB,GAAY,KAAK,MAAM;AACrCwC,WAAAA,GAAapmB,GAAOA,CAAK,GACzB6jB,GAAgB7jB,GAAOA,CAAK,GAC5B0tB,GAAoB8F,GAAKA,GAAKxzB,CAAK,GACnC4tB,EAAK,CAAC,KAAK4F,EAAI,CAAC,IAAI,OAAO/lD,EAAE,CAAC,GAC9BmgD,EAAK,CAAC,KAAK4F,EAAI,CAAC,IAAI,OAAO/lD,EAAE,CAAC,GAC9BmgD,EAAK,CAAC,KAAK4F,EAAI,CAAC,IAAI,OAAO/lD,EAAE,CAAC,GACvBmgD;AAAA,EACT;AACF,GA8BI8F,uBAA8BC,OAChCA,EAAWA,EAAW,OAAU,CAAC,IAAI,QACrCA,EAAWA,EAAW,WAAc,CAAC,IAAI,YACzCA,EAAWA,EAAW,cAAiB,CAAC,IAAI,eAC5CA,EAAWA,EAAW,MAAS,CAAC,IAAI,OACpCA,EAAWA,EAAW,WAAc,CAAC,IAAI,YACzCA,EAAWA,EAAW,eAAkB,CAAC,IAAI,gBAC7CA,EAAWA,EAAW,eAAkB,CAAC,IAAI,gBAC7CA,EAAWA,EAAW,QAAW,CAAC,IAAI,SACtCA,EAAWA,EAAW,YAAe,CAAC,IAAI,aAC1CA,EAAWA,EAAW,YAAe,CAAC,IAAI,aACnCA,IACND,MAAa,CAAA,CAAE,GAOdE,KAAkB;AAAA,EACpB,YAAY;AAAA,EACZ,iBAAiB;AAAA,EACjB,WAAW;AAAA,EACX,gBAAgB;AAAA,EAChB,eAAe;AAAA;AAAA,EAEf,oBAAoB;AAAA;AAAA,EAEpB,gBAAgB;AAAA,EAChB,oBAAoB;AAAA,EACpB,cAAc;AAAA,EACd,YAAY;AAAA,EACZ,iBAAiB;AAAA,EACjB,WAAW,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,EACtB,gBAAgB,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,EAC3B,WAAW,CAAC,KAAK,KAAK,KAAK,CAAC;AAAA,EAC5B,mBAAmB,CAAC,GAAG,GAAG,GAAG,GAAG;AAAA,EAChC,gBAAgB,CAAC,KAAK,GAAG,KAAK,GAAG;AAAA,EACjC,qBAAqB;AAAA,EACrB,cAAc,CAAC,KAAK,KAAK,KAAK,CAAC;AAAA;AAAA,EAE/B,YAAY,CAAC,GAAG,GAAG,GAAG,GAAG;AAAA,EACzB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,iBAAiB;AAAA,EACjB,sBAAsB;AAAA,EACtB,gBAAgB;AAAA,EAChB,oBAAoB;AAAA,EACpB,kBAAkB;AAAA,EAClB,iBAAiB;AAAA,EACjB,wBAAwB;AAAA,EACxB,gBAAgB;AAAA,EAChB,cAAc;AAAA,EACd,kBAAkB;AAAA,EAClB,SAAS;AAAA,EACT,YAAY;AAAA,EACZ,cAAc;AAAA,EACd,YAAY;AAAA,EACZ,sBAAsB;AAAA;AAAA,EAEtB,wBAAwB;AAAA,EACxB,sBAAsB;AAAA,EACtB,uBAAuB;AAAA;AAAA,EAEvB,0BAA0B;AAAA,EAC1B,mBAAmB;AAAA,EACnB,UAAU;AAAA,EACV,iBAAiB;AAAA,EACjB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,gBAAgB;AAAA,EAChB,iBAAiB;AAAA,EACjB,yBAAyB;AAAA,EACzB,0BAA0B;AAAA,EAC1B,2BAA2B;AAAA,EAC3B,mBAAmB;AAAA,EACnB,eAAe;AAAA,EACf,kBAAkB;AAAA,EAClB,WAAW;AAAA,EACX,iBAAiB;AAAA,EACjB,uBAAuB;AAAA,EACvB,UAAU;AAAA,EACV,aAAa;AAAA,EACb,iCAAiC;AAAA,EACjC,oBAAoB;AAAA,EACpB,gBAAgB;AAAA,EAChB,UAAU;AAAA,EACV,SAAS;AAAA,EACT,oBAAoB;AAAA,EACpB,aAAa;AAAA,EACb,WAAW;AAAA,EACX,oBAAoB;AAAA,EACpB,WAAW;AAAA,EACX,UAAU;AAAA,EACV,aAAa;AAAA,EACb,eAAe;AAAA,EACf,iBAAiB;AAAA,EACjB,YAAY;AAAA,EACZ,uBAAuB,CAAC,KAAK,KAAK,KAAK,GAAG;AAAA,EAC1C,iBAAiB,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA,EAC5B,mBAAmB;AAAA,EACnB,oBAAoB;AAAA,EACpB,mBAAmB;AAAA,EACnB,cAAc;AAAA,EACd,SAAS;AAAA;AAAA,EAET,aAAa;AAAA,EACb,gBAAgB;AAAA,EAChB,sBAAsB;AAAA;AAAA,EAEtB,sBAAsB;AAAA,EACtB,6BAA6B;AAAA;AAAA,EAE7B,4BAA4B;AAAA;AAAA,EAE5B,4BAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM5B,uBAAuB;AAAA,EACvB,6BAA6B,OAAO;AAAA;AAAA,EAEpC,oBAAoB;AAAA,EACpB,2BAA2B;AAAA,EAC3B,uBAAuB;AAAA,EACvB,qBAAqB;AAAA;AAAA,EAErB,kBAAkB;AAAA;AAAA,EAElB,oBAAoB;AAAA;AAAA,EAEpB,kBAAkB,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA;AAAA,EAE7B,kBAAkB,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA;AAAA,EAE7B,mBAAmB;AAAA,EACnB,iBAAiB;AAAA,EACjB,eAAe;AAAA,EACf,iBAAiB;AAAA,EACjB,kBAAkB;AAAA,EAClB,gBAAgB;AAAA,EAChB,uBAAuB;AAAA,EACvB,iBAAiB;AAAA,EACjB,QAAQ;AAAA,EACR,kBAAkB;AAAA,EAClB,mBAAmB,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA;AAEhC,GACIC,KAAqB;AAAA,EACvB,OAAO;AAAA,EACP,SAAS;AAAA,EACT,WAAW;AAAA,EACX,cAAcC,EAAiB,KAAK,KAAK,GAAG;AAAA,EAC5C,YAAY,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;AAAA;AAAA,EAEzB,wBAAwB,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;AAAA;AAAA,EAElC,oBAAoB;AAAA,EACpB,YAAYC,GAAiB,GAAG,GAAG,GAAG,CAAC;AACzC;AACA,SAASC,GAAY7iD,GAAM8iD,GAAU;AACnC,QAAMC,IAAO,CAAA;AACb,aAAWjqD,KAAOkH,GAAM;AACtB,UAAMrR,IAAQqR,EAAKlH,CAAG,GAChBqpC,IAAM2gB,EAAShqD,CAAG,GAClBkqD,IAAU,MAAM,QAAQr0D,CAAK,KAAK,MAAM,QAAQwzC,CAAG;AACzD,KAAI6gB,KAAWr0D,EAAM,KAAK,CAAC2E,GAAGpE,MAAMoE,MAAM6uC,EAAIjzC,CAAC,CAAC,KAAK,CAAC8zD,KAAWr0D,MAAUwzC,OACzE4gB,EAAKjqD,CAAG,IAAInK;AAAA,EAEhB;AACA,SAAOo0D;AACT;AACA,IAAIE,KAAa,MAAMC,GAAY;AAAA,EACjC,cAAc;AACZ,IAAAliD,EAAc,MAAM,QAAQ;AAAA,MAC1B,OAAO;AAAA,MACP,mBAAmB,CAAA;AAAA,MACnB,kBAAkB,CAAA;AAAA,MAClB,MAAM,EAAE,GAAGyhD,GAAA;AAAA,MACX,qBAAqB;AAAA,MACrB,QAAQ,CAAA;AAAA,MACR,mBAAmB,CAAA;AAAA,MACnB,oBAAoB;AAAA,IAAA,CACrB,GACDzhD,EAAc,MAAM,OAAO,GAC3BA,EAAc,MAAM,WAAW,EAAE,GACjCA,EAAc,MAAM,iBAAiB,GACrCA,EAAc,MAAM,UAAU,EAAE,GAChCA,EAAc,MAAM,cAAc,IAAI,GACtCA,EAAc,MAAM,mBAAmC,oBAAI,IAAA,CAAK,GAChEA,EAAc,MAAM,kBAAkC,oBAAI,IAAA,CAAK,GAC/DA,EAAc,MAAM,yBAAyB,EAAE,GAC/CA,EAAc,MAAM,mBAAmB,EAAE,GACzCA,EAAc,MAAM,cAAc,IAAI,GACtCA,EAAc,MAAM,uBAAuB,IAAI,GAC/C,KAAK,QAAQ;AAAA,MACX,0BAA0B,MAAM;AAAA,MAChC;AAAA,MACA,gBAAgB,MAAM;AAAA,MACtB;AAAA,MACA,WAAW;AAAA,QACT,GAAG0hD;AAAA,QACH,YAAYE,GAAiB,GAAG,GAAG,GAAG,CAAC;AAAA,QACvC,cAAcD,EAAiB,KAAK,KAAK,GAAG;AAAA,MAAA;AAAA,MAE9C,IAAI,gBAAgB;AAClB,eAAO,KAAK,UAAU;AAAA,MACxB;AAAA,MACA,IAAI,cAAcr0B,GAAS;AACzB,aAAK,UAAU,UAAUA,GACrB,KAAK,4BACP,KAAK,yBAAyB,KAAK,UAAU,SAAS,KAAK,UAAU,SAAS;AAAA,MAElF;AAAA,MACA,IAAI,kBAAkB;AACpB,eAAO,KAAK,UAAU;AAAA,MACxB;AAAA,MACA,IAAI,gBAAgBC,GAAW;AAC7B,aAAK,UAAU,YAAYA,GACvB,KAAK,4BACP,KAAK,yBAAyB,KAAK,UAAU,SAAS,KAAK,UAAU,SAAS;AAAA,MAElF;AAAA,MACA,IAAI,qBAAqB;AACvB,eAAO,KAAK,UAAU;AAAA,MACxB;AAAA,MACA,IAAI,mBAAmB96B,GAAO;AAC5B,aAAK,UAAU,qBAAqBA,GACpC,KAAK,eAAeA,CAAK;AAAA,MAC3B;AAAA,MACA,IAAI,eAAe;AACjB,eAAO,KAAK,UAAU;AAAA,MACxB;AAAA,MACA,IAAI,aAAa0vD,GAAc;AAC7B,aAAK,UAAU,eAAeA;AAAA,MAChC;AAAA,MACA,IAAI,YAAY;AACd,eAAO,KAAK,UAAU,WAAW,CAAC,KAAK,CAAA;AAAA,MACzC;AAAA,MACA,IAAI,UAAUC,GAAW;AACvB,aAAK,UAAU,WAAW,CAAC,IAAIA;AAAA,MACjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOA,IAAI,aAAa;AACf,eAAO,KAAK,UAAU;AAAA,MACxB;AAAA,MACA,IAAI,WAAWC,GAAQ;AACrB,aAAK,UAAU,aAAaA;AAAA,MAC9B;AAAA,MACA,IAAI,yBAAyB;AAC3B,eAAO,KAAK,UAAU;AAAA,MACxB;AAAA,MACA,IAAI,uBAAuB73C,GAAQ;AACjC,aAAK,UAAU,yBAAyBA;AAAA,MAC1C;AAAA,MACA,IAAI,aAAa;AACf,eAAO,KAAK,UAAU;AAAA,MACxB;AAAA;AAAA;AAAA;AAAA,MAIA,IAAI,WAAW83C,GAAY;AACzB,aAAK,UAAU,aAAaA;AAAA,MAC9B;AAAA,MACA,IAAI,QAAQ;AACV,eAAO,KAAK,UAAU;AAAA,MACxB;AAAA;AAAA;AAAA;AAAA,MAIA,IAAI,MAAMC,GAAU;AAClB,aAAK,UAAU,QAAQA;AAAA,MACzB;AAAA,IAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,QAAQ;AACV,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,sBAAsB;AACxB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,oBAAoBC,GAAS;AAC/B,SAAK,KAAK,sBAAsBA;AAAA,EAClC;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,MAAMC,GAAO;AACf,SAAK,KAAK,QAAQA;AAAA,EACpB;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,oBAAoB;AACtB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,IAAI,qBAAqB;AACvB,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,OAAO;AACT,WAAK,KAAK,cACR,KAAK,iBAAA,GAEA,KAAK;AAAA,EACd;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,KAAKzjD,GAAM;AACb,SAAK,KAAK,OAAO,EAAE,GAAGA,EAAA,GACtB,KAAK,aAAa;AAAA,EACpB;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,SAAS;AACX,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA,EAIA,IAAI,OAAO0jD,GAAQ;AACjB,SAAK,KAAK,SAASA;AAAA,EACrB;AAAA,EACA,IAAI,aAAa;AACf,WAAO,KAAK,KAAK;AAAA,EACnB;AAAA,EACA,IAAI,WAAWtjD,GAAM;AACnB,SAAK,KAAK,aAAaA;AAAA,EACzB;AAAA;AAAA;AAAA;AAAA,EAIA,SAASujD,GAAO;AACd,WAAO,KAAK,QAAQ,KAAK,CAAC,MAAM,EAAE,OAAOA,EAAM,EAAE,MAAM;AAAA,EACzD;AAAA;AAAA;AAAA;AAAA,EAIA,gBAAgBx1D,GAAK;AACnB,WAAO,KAAK,KAAK,kBAAkB,KAAK,CAAC,MAAM,EAAE,QAAQA,CAAG,MAAM;AAAA,EACpE;AAAA;AAAA;AAAA;AAAA,EAIA,gBAAgBw1D,GAAOC,GAAc;AACnC,QAAI,CAAC,KAAK,SAASD,CAAK,KAClB,CAACC,EAAa;AAChB,UAAIA,EAAa,KAAK;AAEpB,cAAMz1D,IADgB,sBACI,KAAKy1D,EAAa,GAAG,IAAI,IAAI,IAAIA,EAAa,GAAG,IAAI,IAAI,IAAIA,EAAa,KAAK,OAAO,SAAS,IAAI;AAC7H,QAAAA,EAAa,OAAOz1D,EAAI,SAAS,MAAM,GAAG,EAAE,IAAA,GACxCy1D,EAAa,KAAK,YAAA,EAAc,SAAS,KAAK,MAChDA,EAAa,OAAOA,EAAa,KAAK,MAAM,GAAG,EAAE,IAE9CA,EAAa,KAAK,cAAc,SAAS,MAAM,MAClDA,EAAa,QAAQ;AAAA,MAEzB;AACE,QAAAA,EAAa,OAAO;AAI1B,IAAAA,EAAa,YAAYje,EAAa,KACtC,KAAK,KAAK,kBAAkB,KAAKie,CAAY,GAC7C,KAAK,gBAAgB,IAAID,EAAM,IAAI,KAAK,KAAK,kBAAkB,SAAS,CAAC;AAAA,EAC3E;AAAA;AAAA;AAAA;AAAA,EAIA,YAAYA,GAAO;AACjB,QAAI,KAAK,gBAAgB,IAAIA,EAAM,EAAE,GAAG;AACtC,YAAMlrD,IAAQ,KAAK,gBAAgB,IAAIkrD,EAAM,EAAE;AAC/C,MAAI,KAAK,KAAK,kBAAkB,SAASlrD,KACvC,KAAK,KAAK,kBAAkB,OAAOA,GAAO,CAAC,GAE7C,KAAK,gBAAgB,OAAOkrD,EAAM,EAAE;AAAA,IACtC;AACA,SAAK,UAAU,KAAK,QAAQ,OAAO,CAAC,MAAM,EAAE,OAAOA,EAAM,EAAE;AAAA,EAC7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,MAAM,kBAAkB;;AAEtB,QADA,KAAK,KAAK,oBAAoB,CAAA,GAC1B,IAAC1oD,IAAA,KAAK,sBAAL,QAAAA,EAAwB;AAG7B,iBAAW4oD,KAAU,KAAK;AACxB,YAAKA,EAAO;AAGZ,cAAI;AACF,kBAAM51D,IAAW,MAAM,MAAM41D,EAAO,GAAG;AACvC,gBAAI,CAAC51D,EAAS,IAAI;AAChB,sBAAQ,KAAK,0BAA0B41D,EAAO,GAAG;AACjD;AAAA,YACF;AACA,kBAAM91D,IAAS,MAAME,EAAS,YAAA,GACxBigC,IAAa,IAAI,WAAWngC,CAAM,GAClC+1D,IAAMx4B,EAAY,WAAW4C,CAAU;AAC7C,iBAAK,KAAK,kBAAkB,KAAK41B,CAAG,GACpC,QAAQ,KAAK,mCAAmCD,EAAO,GAAG;AAAA,UAC5D,SAAS/mD,GAAK;AACZ,oBAAQ,KAAK,qCAAqC+mD,EAAO,GAAG,KAAK/mD,CAAG;AAAA,UACtE;AAAA;AAAA,EAEJ;AAAA;AAAA;AAAA;AAAA,EAIA,gBAAgB6mD,GAAO;AACrB,WAAO,KAAK,gBAAgB,IAAIA,EAAM,EAAE,IAAI,KAAK,KAAK,kBAAkB,KAAK,gBAAgB,IAAIA,EAAM,EAAE,CAAC,IAAI;AAAA,EAChH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,KAAKI,IAAc,IAAMC,IAAe,IAAM;AAC5C,UAAM5jD,IAAO;AAAA,MACX,mBAAmB,CAAA;AAAA,MACnB,qBAAqB,KAAK,KAAK;AAAA,MAC/B,qCAAqC,IAAA;AAAA,IAAI,GAErC6jD,IAAoB,CAAA;AAC1B,IAAA7jD,EAAK,YAAY,EAAE,GAAG,KAAK,MAAM,UAAA,GACjC,OAAOA,EAAK,UAAU,WACtB,OAAOA,EAAK,UAAU,uBACtB,OAAOA,EAAK,UAAU,WACtB,OAAOA,EAAK,UAAU,eACtB,OAAOA,EAAK,UAAU,gBACtBA,EAAK,OAAOyiD,GAAY,KAAK,MAAMJ,EAAe,GAC9C,KAAK,KAAK,sBAAsB,UAClCriD,EAAK,KAAK,oBAAoB,aAE5B,KAAK,KAAK,sBAAsB,UAClCA,EAAK,KAAK,oBAAoB,aAEhCA,EAAK,SAAS,CAAC,GAAG,KAAK,KAAK,MAAM;AAClC,eAAW8jD,KAAS9jD,EAAK;AACvB,aAAO8jD,EAAM;AAKf,QAHA9jD,EAAK,aAAa,KAAK,YACvBA,EAAK,wBAAwB,CAAC,GAAG,KAAK,qBAAqB,GAC3DA,EAAK,kBAAkB,CAAC,GAAG,KAAK,eAAe,GAC3C,KAAK,QAAQ;AACf,eAASlR,IAAI,GAAGA,IAAI,KAAK,QAAQ,QAAQA,KAAK;AAC5C,cAAMi1D,IAAS,KAAK,QAAQj1D,CAAC;AAC7B,YAAI00D,IAAe,KAAK,gBAAgBO,CAAM;AAqC9C,YApCIP,MAAiB,QACnBtjC,EAAI,KAAK,oEAAoE,GAC7EsjC,IAAe;AAAA,UACb,OAAMO,KAAA,gBAAAA,EAAQ,SAAQ;AAAA,UACtB,WAAUA,KAAA,gBAAAA,EAAQ,cAAa;AAAA,UAC/B,UAASA,KAAA,gBAAAA,EAAQ,aAAY;AAAA,UAC7B,eAAe;AAAA,UACf,UAASA,KAAA,gBAAAA,EAAQ,YAAW;AAAA,UAC5B,UAASA,KAAA,gBAAAA,EAAQ,YAAW;AAAA,UAC5B,iBAAgBA,KAAA,gBAAAA,EAAQ,mBAAkB;AAAA,UAC1C,iBAAgBA,KAAA,gBAAAA,EAAQ,mBAAkB;AAAA,UAC1C,mBAAkBA,KAAA,gBAAAA,EAAQ,qBAAoB;AAAA,UAC9C,mBAAkBA,KAAA,gBAAAA,EAAQ,qBAAoB;AAAA,UAC9C,mBAAkBA,KAAA,gBAAAA,EAAQ,qBAAoB;AAAA,UAC9C,gBAAeA,KAAA,gBAAAA,EAAQ,kBAAiB;AAAA,UACxC,YAAWA,KAAA,gBAAAA,EAAQ,cAAaxe,EAAa;AAAA,UAC7C,UAASwe,KAAA,gBAAAA,EAAQ,YAAW;AAAA,UAC5B,gBAAeA,KAAA,gBAAAA,EAAQ,kBAAiB;AAAA,UACxC,MAAKA,KAAA,gBAAAA,EAAQ,QAAO;AAAA,UACpB,eAAcA,KAAA,gBAAAA,EAAQ,eAAc;AAAA,UACpC,gBAAgB;AAAA,UAChB,aAAYA,KAAA,gBAAAA,EAAQ,eAAc;AAAA,UAClC,aAAYA,KAAA,gBAAAA,EAAQ,eAAc;AAAA,UAClC,kBAAiBA,KAAA,gBAAAA,EAAQ,oBAAmB;AAAA,QAAA,KAGxC,eAAeP,MACnBA,EAAa,YAAYje,EAAa,MAG1Cie,EAAa,WAAWO,EAAO,UAC/BP,EAAa,gBAAgBO,EAAO,eACpCP,EAAa,UAAUO,EAAO,SAC9BP,EAAa,UAAUO,EAAO,WAAW,KACzCP,EAAa,UAAUO,EAAO,WAAW,KACzCF,EAAkB,KAAKL,CAAY,GAC/BG,GAAa;AACf,gBAAMx7B,IAAO+C,EAAY,WAAW64B,EAAO,cAAc;AACzD,UAAA/jD,EAAK,kBAAkB,KAAKmoB,CAAI;AAAA,QAClC;AACA,QAAAnoB,EAAK,gBAAgB,IAAI+jD,EAAO,IAAIj1D,CAAC;AAAA,MACvC;AAEF,IAAAkR,EAAK,oBAAoB,CAAC,GAAG6jD,CAAiB;AAC9C,UAAMG,IAAS,CAAA;AACf,IAAAhkD,EAAK,cAAc,CAAA;AACnB,eAAWikD,KAAQ,KAAK,QAAQ;AAC9B,UAAIA,EAAK,SAAS,cAA+B;AAC/C,QAAAjkD,EAAK,YAAY,KAAK,KAAK,UAAUikD,EAAK,KAAA,CAAM,CAAC;AACjD;AAAA,MACF;AACA,YAAMC,IAAW;AAAA,QACf,KAAKD,EAAK;AAAA,QACV,MAAMA,EAAK;AAAA,QACX,MAAMA,EAAK;AAAA,QACX,SAAS,WAAW,KAAKA,EAAK,OAAO;AAAA,QACrC,SAASA,EAAK;AAAA,QACd,YAAYA,EAAK;AAAA,QACjB,KAAKA,EAAK;AAAA,QACV,KAAKA,EAAK;AAAA,QACV,KAAKA,EAAK;AAAA,QACV,iBAAiBA,EAAK;AAAA,QACtB,QAAQA,EAAK,OAAO,IAAI,CAACxuB,OAAW;AAAA,UAClC,QAAQA,EAAM;AAAA,UACd,UAAUA,EAAM;AAAA,UAChB,SAAS;AAAA,UACT,eAAeA,EAAM;AAAA,UACrB,YAAYA,EAAM;AAAA,UAClB,YAAYA,EAAM;AAAA,UAClB,SAASA,EAAM;AAAA,UACf,SAASA,EAAM;AAAA,UACf,SAASA,EAAM;AAAA,UACf,UAAUA,EAAM;AAAA,UAChB,kBAAkBA,EAAM;AAAA,UACxB,eAAeA,EAAM;AAAA,UACrB,iBAAiBA,EAAM;AAAA,QAAA,EACvB;AAAA,QACF,eAAewuB,EAAK;AAAA,QACpB,cAAcA,EAAK;AAAA,QACnB,sBAAsBA,EAAK;AAAA,QAC3B,SAASA,EAAK;AAAA,QACd,SAASA,EAAK;AAAA,QACd,OAAOA,EAAK,SAAS,MAAM,QAAQA,EAAK,KAAK,IAAI,CAAC,GAAGA,EAAK,KAAK,IAAI,CAAA;AAAA,QACnE,YAAYA,EAAK;AAAA,QACjB,YAAYA,EAAK;AAAA,QACjB,0BAA0BA,EAAK;AAAA,QAC/B,cAAcA,EAAK;AAAA,QACnB,sBAAsBA,EAAK;AAAA,QAC3B,cAAcA,EAAK;AAAA,QACnB,cAAcA,EAAK;AAAA,QACnB,WAAWA,EAAK;AAAA,QAChB,qBAAqBA,EAAK;AAAA,QAC1B,WAAWA,EAAK;AAAA,QAChB,OAAOA,EAAK;AAAA,MAAA;AAEd,MAAIA,EAAK,aAAaA,EAAK,UAAU,SAAS,MAC5CC,EAAS,YAAYD,EAAK,WAC1BC,EAAS,qBAAqBD,EAAK,oBACnCC,EAAS,aAAaD,EAAK,YAC3BC,EAAS,cAAcD,EAAK,aAC5BC,EAAS,cAAcD,EAAK,aAC5BC,EAAS,WAAWD,EAAK,WAE3BD,EAAO,KAAKE,CAAQ;AAAA,IACtB;AACA,WAAAlkD,EAAK,eAAe,KAAK,UAAU/F,GAAU+pD,CAAM,CAAC,GAChDJ,KAAgB,KAAK,eACvB5jD,EAAK,qBAAqBkrB,EAAY,WAAW,KAAK,UAAU,IAE3DlrB;AAAA,EACT;AAAA,EACA,MAAM,SAASitB,GAAUjG,GAAUpnB,IAAO,EAAE,aAAa,MAAQ;AAC/D,UAAMI,IAAO,KAAK,KAAKJ,EAAK,WAAW,GACjCukD,IAAU,KAAK,UAAUnkD,CAAI,GAC7BokD,IAAOp9B,IAAW,qBAAqB,oBACvCq9B,IAAUr9B,IAAW,MAAMkE,EAAY,4BAA4Bi5B,CAAO,IAAIA;AACpF,IAAAj5B,EAAY,SAASm5B,GAASp3B,GAAUm3B,CAAI;AAAA,EAC9C;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,2BAA2BE,GAAW;AAC3C,QAAI,CAACA,EAAU,KAAK,gBAAgBA,EAAU,KAAK,iBAAiB,MAAM;AACxE,MAAAA,EAAU,kBAAkB,CAAA;AAC5B;AAAA,IACF;AACA,QAAIA,EAAU,KAAK,cAAc;AAC/B,MAAAA,EAAU,kBAAkBrrD,GAAY,KAAK,MAAMqrD,EAAU,KAAK,YAAY,CAAC;AAC/E,iBAAWL,KAAQK,EAAU;AAC3B,mBAAW7uB,KAASwuB,EAAK;AACvB,UAAI,cAAcxuB,MAChBA,EAAM,WAAWA,EAAM,UACvB,OAAOA,EAAM,WAEX,sBAAsBA,MACxBA,EAAM,mBAAmBA,EAAM,kBAC/B,OAAOA,EAAM;AAAA,IAIrB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,YAAY1nC,GAAK;AAE5B,UAAMJ,IAAS,OADE,MAAM,MAAMI,CAAG,GACF,YAAA;AAC9B,QAAIw2D;AACJ,QAAIr5B,EAAY,wBAAwBv9B,CAAM,GAAG;AAC/C,YAAM62D,IAAe,MAAMt5B,EAAY,sBAAsBv9B,CAAM;AACnE,MAAA42D,IAAe,KAAK,MAAMC,CAAY;AAAA,IACxC,OAAO;AACL,YAAMC,IAAc,IAAI,YAAA;AACxB,MAAAF,IAAe,KAAK,MAAME,EAAY,OAAO92D,CAAM,CAAC;AAAA,IACtD;AACA,WAAOm1D,GAAY,aAAayB,CAAY;AAAA,EAC9C;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,aAAan3B,GAAM;AAC9B,UAAMtF,IAAc,MAAMoD,EAAY,cAAckC,CAAI;AACxD,QAAIs3B;AACJ,UAAMJ,IAAY,IAAIxB,GAAA;AACtB,WAAI53B,EAAY,wBAAwBpD,CAAW,IACjD48B,IAAa,MAAMx5B,EAAY,sBAAsBpD,CAAW,IAGhE48B,IADoB,IAAI,YAAA,EACC,OAAO58B,CAAW,GAE7Cw8B,EAAU,OAAO,KAAK,MAAMI,CAAU,GAClCJ,EAAU,KAAK,KAAK,sBAAsB,eAC5CA,EAAU,KAAK,KAAK,oBAAoB,QAE1CA,EAAU,MAAM,YAAY,EAAE,GAAGhC,IAAoB,GAAGgC,EAAU,KAAK,UAAA,GACvExB,GAAY,2BAA2BwB,CAAS,GACzCA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,OAAO,aAAatkD,GAAM;AACxB,UAAMskD,IAAY,IAAIxB,GAAA;AACtB,WAAO,OAAOwB,EAAU,MAAM;AAAA,MAC5B,GAAGtkD;AAAA,MACH,mBAAmBA,EAAK,qBAAqB,CAAA;AAAA,MAC7C,mBAAmBA,EAAK,qBAAqB,CAAA;AAAA,MAC7C,QAAQA,EAAK,UAAU,CAAA;AAAA,MACvB,kBAAkBA,EAAK,oBAAoB,CAAA;AAAA,MAC3C,aAAaA,EAAK,eAAe,CAAA;AAAA,MACjC,oBAAoBA,EAAK,sBAAsB;AAAA,MAC/C,qBAAqBA,EAAK,uBAAuB;AAAA,MACjD,YAAYA,EAAK,cAAc;AAAA,MAC/B,OAAOA,EAAK,SAAS;AAAA,IAAA,CACtB,GACDskD,EAAU,KAAK,OAAO;AAAA,MACpB,GAAGjC;AAAA,MACH,GAAGriD,EAAK,QAAQ,CAAA;AAAA,IAAC,GAEfskD,EAAU,KAAK,KAAK,sBAAsB,eAC5CA,EAAU,KAAK,KAAK,oBAAoB,QAE1CA,EAAU,MAAM,YAAY;AAAA,MAC1B,GAAGhC;AAAA,MACH,GAAGtiD,EAAK,aAAa,CAAA;AAAA,IAAC;AAExB,UAAM2kD,IAAY3kD,EAAK,aAAa,CAAA;AACpC,WAAI2kD,EAAU,aAAa,CAACA,EAAU,eACpCL,EAAU,MAAM,UAAU,aAAa,CAACK,EAAU,SAAS,IAEzDA,EAAU,yBAAyB,CAACA,EAAU,2BAChDL,EAAU,MAAM,UAAU,yBAAyB,CAACK,EAAU,qBAAqB,IAEjF3kD,EAAK,0BACPskD,EAAU,wBAAwBtkD,EAAK,sBAAsB,IAAI,CAACjK,OAAO;AAAA,MACvE,GAAGA;AAAA,MACH,SAAS6uD,GAAY7uD,EAAE,OAAO;AAAA,MAC9B,OAAO6uD,GAAY7uD,EAAE,KAAK;AAAA,IAAA,EAC1B,IAEAiK,EAAK,oBACPskD,EAAU,kBAAkBtkD,EAAK,gBAAgB,IAAI,CAAC7Q,OAAO;AAAA,MAC3D,GAAGA;AAAA,MACH,aAAa;AAAA,QACX,OAAOy1D,GAAYz1D,EAAE,YAAY,KAAK;AAAA,QACtC,KAAKy1D,GAAYz1D,EAAE,YAAY,GAAG;AAAA,MAAA;AAAA,MAEpC,cAAc;AAAA,QACZ,OAAOy1D,GAAYz1D,EAAE,aAAa,KAAK;AAAA,QACvC,KAAKy1D,GAAYz1D,EAAE,aAAa,GAAG;AAAA,MAAA;AAAA,IACrC,EACA,IAEAm1D,EAAU,KAAK,gBACjBxB,GAAY,2BAA2BwB,CAAS,GAE3CA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,gBAAgBtkD,GAAM;AAC3B,UAAMskD,IAAY,IAAIxB,GAAA;AACtB,WAAAwB,EAAU,OAAOtkD,GACbskD,EAAU,KAAK,KAAK,sBAAsB,eAC5CA,EAAU,KAAK,KAAK,oBAAoB,QAE1CA,EAAU,MAAM,YAAY,EAAE,GAAGhC,IAAoB,GAAGtiD,EAAK,UAAA,GAC7D8iD,GAAY,2BAA2BwB,CAAS,GACzCA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,sBAAsBO,GAAU;AAC9B,SAAK,sBAAsBA,GAC3B,KAAK,aAAa;AAAA,EACpB;AAAA;AAAA;AAAA;AAAA,EAIA,2BAA2B;AACzB,SAAK,sBAAsB,MAC3B,KAAK,aAAa;AAAA,EACpB;AAAA;AAAA;AAAA;AAAA,EAIA,mBAAmB;AACjB,UAAM9zC,IAAS,KAAK,KAAK;AACzB,SAAK,aAAa,IAAI,MAAMA,GAAQ;AAAA,MAClC,KAAK,CAAClP,GAAKmP,GAAMziB,MAAU;AACzB,cAAMu2D,IAAWjjD,EAAImP,CAAI;AACzB,eAAI8zC,MAAav2D,MACfsT,EAAImP,CAAI,IAAIziB,GACR,KAAK,uBAAuB,OAAOyiB,KAAS,YAAYA,KAAQqxC,MAClE,KAAK,oBAAoBrxC,GAAMziB,GAAOu2D,CAAQ,IAG3C;AAAA,MACT;AAAA,MACA,KAAK,CAACjjD,GAAKmP,MACFnP,EAAImP,CAAI;AAAA,IACjB,CACD;AAAA,EACH;AACF,GAGI0kB,KAAsB;AAAA,EACxB,UAAU;AAAA,EACV,SAAS;AAAA,EACT,UAAU;AAAA,EACV,SAAS;AAAA,EACT,eAAe;AAAA,EACf,SAAS;AAAA,EACT,SAAS;AAAA,EACT,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,cAAc;AAAA,EACd,QAAQ,IAAI,MAAA;AAAA,EACZ,iBAAiB;AAAA,EACjB,YAAY;AACd,GAqBIqvB,KAAU,MAAMC,GAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAiB1B,YAAYz8B,GAAKU,GAAMlwB,IAAO,IAAI4mB,IAAU,IAAI,WAAW,CAAC,KAAK,KAAK,KAAK,GAAG,CAAC,GAAGuV,IAAU,GAAG+vB,IAAU,IAAM1oC,GAAI2oC,IAAa,MAAMpyB,IAAM,MAAM5C,IAAM,MAAMiC,IAAM,MAAMnB,IAAS,MAAMkV,IAAkB,IAAM3I,IAA6B,IAAI;AAChP,IAAA38B,EAAc,MAAM,IAAI,GACxBA,EAAc,MAAM,MAAM,GAC1BA,EAAc,MAAM,4BAA4B,GAChDA,EAAc,MAAM,iBAAiB,GACrCA,EAAc,MAAM,0BAA0B,GAC9CA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,mBAAmB,CAAC,GACxCA,EAAc,MAAM,aAAa,IAAI,GACrCA,EAAc,MAAM,kBAAkB,EAAK,GAC3CA,EAAc,MAAM,sBAAsB,IAAI,GAC9CA,EAAc,MAAM,aAAa,GACjCA,EAAc,MAAM,cAAc,GAClCA,EAAc,MAAM,KAAK,GACzBA,EAAc,MAAM,UAAU,GAC9BA,EAAc,MAAM,KAAK,GACzBA,EAAc,MAAM,MAAM,GAC1BA,EAAc,MAAM,QAAQ,GAC5BA;AAAA,MAAc;AAAA,MAAM;AAAA,MAAQ;AAAA;AAAA,IAAA,GAC5BA,EAAc,MAAM,WAAW,GAC/BA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,aAAa,GACjCA,EAAc,MAAM,cAAc,GAClCA,EAAc,MAAM,cAAc,GAClCA,EAAc,MAAM,eAAe,GAAG,GACtCA,EAAc,MAAM,cAAc,QAAQ,GAC1CA,EAAc,MAAM,yBAAyB,CAAC,GAE9CA,EAAc,MAAM,cAAc,CAAC,GAEnCA,EAAc,MAAM,eAAe,CAAC,GAEpCA,EAAc,MAAM,kBAAkB,CAAC,GAEvCA,EAAc,MAAM,gBAAgB,CAAC,GAErCA,EAAc,MAAM,gBAAgB,GAAG,GACvCA,EAAc,MAAM,WAAW,GAC/BA,EAAc,MAAM,UAAU,GAC9BA,EAAc,MAAM,KAAK,GACzBA,EAAc,MAAM,KAAK,GACzBA,EAAc,MAAM,KAAK,GACzBA,EAAc,MAAM,QAAQ,GAC5BA,EAAc,MAAM,iBAAiB,EAAK,GAC1CA,EAAc,MAAM,YAAY,GAEhCA,EAAc,MAAM,YAAY,GAChCA,EAAc,MAAM,eAAe,CAAC,GACpCA,EAAc,MAAM,aAAa,CAAC,GAClCA,EAAc,MAAM,aAAa,CAAC,GAClCA,EAAc,MAAM,uBAAuB,CAAC,GAC5CA,EAAc,MAAM,cAAc,EAAI,GACtCA,EAAc,MAAM,gBAAgB,MAAM,GAC1CA,EAAc,MAAM,gBAAgB,MAAM,GAC1CA,EAAc,MAAM,sBAAsB,GAC1CA,EAAc,MAAM,sBAAsB,GAC1CA,EAAc,MAAM,cAAc,GAClCA,EAAc,MAAM,cAAc,GAClCA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,SAAS,GAC7BA,EAAc,MAAM,OAAO,GAC3BA,EAAc,MAAM,OAAO,GAC3BA,EAAc,MAAM,QAAQ,GAC5B,KAAK,6BAA6B28B,GAClC,KAAK,OAAOxkC,GACZ,KAAK,kBAAkBmtC,GACvB,KAAK,KAAKif,GAAA;AACV,UAAMtjD,IAAM8kB,GAAgB,WAAW4B,CAAG;AAqC1C,QApCA,KAAK,2BAA2B1mB,EAAI,MACpC,KAAK,aAAaA,EAAI,YACtB,KAAK,aAAaA,EAAI,YACtB,KAAK,UAAUqzB,IAAU,IAAI,IAAIA,GACjC,KAAK,UAAU+vB,GACf,KAAK,kBAAkB,GACvB,KAAK,cAAc1oC,EAAG,aAAA,GACtB,KAAK,eAAeA,EAAG,aAAA,GACvB,KAAK,MAAMA,EAAG,kBAAA,GACdA,EAAG,gBAAgB,KAAK,GAAG,GAC3BA,EAAG,WAAWA,EAAG,sBAAsB,KAAK,WAAW,GACvDA,EAAG,WAAWA,EAAG,cAAc,KAAK,YAAY,GAChDA,EAAG,wBAAwB,CAAC,GAC5BA,EAAG,wBAAwB,CAAC,GACP,KAAK,iBACL,KACnBA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,OAAO,IAAO,IAAI,CAAC,GACnDA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,MAAM,IAAM,IAAI,EAAE,GAClDA,EAAG,wBAAwB,CAAC,GAC5BA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,eAAe,IAAM,IAAI,EAAE,MAE3DA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,OAAO,IAAO,IAAI,CAAC,GACnDA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,OAAO,IAAO,IAAI,EAAE,GACpDA,EAAG,wBAAwB,CAAC,GAC5BA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,eAAe,IAAM,IAAI,EAAE,IAE7DA,EAAG,gBAAgB,IAAI,GACvB,KAAK,WAAWA,EAAG,kBAAA,GACnB,KAAK,YAAY,MACjB,KAAK,gBAAgB,IACrB,KAAK,iBAAiB,IACtB,KAAK,qBAAqB,MAC1B,KAAK,MAAMgM,GACX,KAAK,SAAS,CAAA,GACd,KAAK,OAAO,QACZ,KAAK,OAAOU,GACRtJ,EAAQ,CAAC,IAAI,GAAG;AAClB,WAAK,UAAUA,GACf,KAAK,cAAc,GACnB,KAAK,cAAc,KACnB,KAAK,aAAa,UAClB,KAAK,wBAAwB,GAC7B,KAAK,YAAY,CAAA,GACjB,KAAK,WAAWulC,GAChB,KAAK,MAAMpyB,GACX,KAAK,MAAM5C,GACX,KAAK,MAAMiC,GACX,KAAK,SAASnB,GACV8B,KACF,KAAK,gBAAgBA,CAAG,GAEtB5C,KACF,KAAK,gBAAgBA,CAAG,GAEtBiC,KACF,KAAK,gBAAgBA,CAAG,GAEtBnB,KACF,KAAK,gBAAgBA,CAAM,GAE7B,KAAK,YAAY,IAAI,YAAY/H,CAAI,GACrC,KAAK,OAAO,IAAI,YAAY,CAAC,GAC7B,KAAK,aAAa1M,CAAE,GACpBA,EAAG,gBAAgB,KAAK,QAAQ,GAChCA,EAAG,WAAWA,EAAG,sBAAsB,KAAK,WAAW,GACvDA,EAAG,WAAWA,EAAG,cAAc,KAAK,YAAY,GAChDA,EAAG,wBAAwB,CAAC,GAC5BA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,OAAO,IAAO,IAAI,CAAC,GACnDA,EAAG,wBAAwB,CAAC,GAC5BA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,eAAe,IAAM,IAAI,EAAE,GAC3DA,EAAG,gBAAgB,IAAI;AACvB;AAAA,IACF;AACA,QAAI2oC,GAAY;AACd,WAAK,aAAaA,GAClB,KAAK,gBAAgB;AACrB,YAAME,IAAY,OAAO,KAAKF,CAAU;AACxC,eAASp2D,IAAI,GAAG8E,IAAMwxD,EAAU,QAAQt2D,IAAI8E,GAAK9E;AAC/C,aAAKs2D,EAAUt2D,CAAC,CAAC,IAAIo2D,EAAWE,EAAUt2D,CAAC,CAAC;AAAA,IAEhD;AACA,SAAK,UAAU6wB,GACf,KAAK,WAAWpD,CAAE;AAAA,EACpB;AAAA,EACA,gBAAgB8oC,GAAI;AAClB,aAAS,IAAI,GAAG,IAAIA,EAAG,QAAQ,KAAK;AAClC,YAAM58B,IAAK48B,EAAG,CAAC,EAAE,KAAK,OAAO,CAACp9C,GAAK+tB,MAAY,KAAK,IAAI/tB,GAAK+tB,CAAO,CAAC,GAC/DrN,IAAK08B,EAAG,CAAC,EAAE,KAAK,OAAO,CAACp9C,GAAK+tB,MAAY,KAAK,IAAI/tB,GAAK+tB,CAAO,CAAC;AACrE,MAAAqvB,EAAG,CAAC,EAAE,aAAa58B,GACnB48B,EAAG,CAAC,EAAE,aAAa18B,GACnB08B,EAAG,CAAC,EAAE,UAAU58B,GAChB48B,EAAG,CAAC,EAAE,UAAU18B;AAAA,IAClB;AACA,WAAO08B;AAAA,EACT;AAAA;AAAA,EAEA,iBAAiB9oC,GAAI+oC,GAAWtoC,GAAS;AACvC,aAASuoC,EAAOtuD,GAAI;AAClB,aAAOuuD,EAAiBvuD,EAAG,CAAC,GAAGA,EAAG,CAAC,GAAGA,EAAG,CAAC,CAAC;AAAA,IAC7C;AACA,UAAMwuD,IAAmB,KAAK,IAAI,GAAG,EAAE,IAAI,GACrC1yB,IAAU/V,EAAQ;AACxB,QAAI0oC,IAAa,GACbC,IAAgB;AACpB,aAAS72D,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,UAAIkuB,EAAQluB,CAAC,MAAM22D,GAAkB;AACnC,QAAAE;AACA;AAAA,MACF;AACA,MAAAD;AAAA,IACF;AACA,UAAME,IAAY,KAAK,YACjBj2B,IAAMi2B,IAAYF,GAClBG,IAAe,KAAK;AAC1B,QAAIA,MAAiB;AACnB,YAAM,MAAM,2CAA2C;AAEzD,UAAM3xB,IAAM,IAAI,aAAavE,IAAMk2B,CAAY,GACzC1rD,IAAK,IAAI,WAAW+5B,EAAI,MAAM;AACpC,QAAI1V,IAAM,GACNsnC,IAASC,GAAM,GACfC,IAASD,GAAM,GACfE,IAASF,GAAM;AACnB,UAAM5oC,IAAK+oC,GAAM;AACjB,QAAIC,IAASD,GAAM,GACfjrC,IAAO;AACX,UAAM0B,IAAS,KAAK;AACpB,aAAS7tB,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,YAAMs3D,IAAYppC,EAAQluB,CAAC,MAAM22D;AACjC,UAAIW,KAAanrC,IAAO;AACtB;AAEF,UAAI4f,IAAO7d,EAAQluB,CAAC,IAAI;AAExB,UADAmsB,KACIA,KAAQ,GAAG;AACb,QAAA6qC,IAASO,GAAiBf,EAAUzqB,IAAO,CAAC,GAAGyqB,EAAUzqB,IAAO,CAAC,GAAGyqB,EAAUzqB,IAAO,CAAC,GAAGyqB,EAAUzqB,IAAO,CAAC,CAAC,GAC5GmrB,IAASM,GAAYR,CAAM,GACvBh3D,IAAI,IAAIikC,KAAW/V,EAAQluB,IAAI,CAAC,MAAM22D,MACxC5qB,IAAO7d,EAAQluB,IAAI,CAAC,IAAI,GACxBm3D,IAASI,GAAiBf,EAAUzqB,IAAO,CAAC,GAAGyqB,EAAUzqB,IAAO,CAAC,GAAGyqB,EAAUzqB,IAAO,CAAC,GAAGyqB,EAAUzqB,IAAO,CAAC,CAAC,GAC5G0rB,GAAeppC,GAAIooC,EAAOO,CAAM,GAAGP,EAAOU,CAAM,CAAC,GACjDO,GAAgBrpC,GAAIA,CAAE,GACtBgpC,IAAStmC,GAAe,mBAAmB1C,CAAE;AAE/C;AAAA,MACF;AACA,MAAIipC,IACFH,IAASK,GAAYN,CAAM,IAE3BC,IAASI,GAAiBf,EAAUzqB,IAAO,CAAC,GAAGyqB,EAAUzqB,IAAO,CAAC,GAAGyqB,EAAUzqB,IAAO,CAAC,GAAGyqB,EAAUzqB,IAAO,CAAC,CAAC,GAE9G0rB,GAAeppC,GAAIooC,EAAOO,CAAM,GAAGP,EAAOU,CAAM,CAAC,GACjDO,GAAgBrpC,GAAIA,CAAE;AACtB,YAAMspC,IAAIP,GAAM;AAChBQ,MAAAA,GAAYD,GAAGN,GAAQhpC,CAAE;AACzB,YAAMC,IAAK8oC,GAAM;AACjBQ,MAAAA,GAAYtpC,GAAID,GAAIspC,CAAC,GACrBN,IAASQ,GAAYR,CAAM;AAC3B,YAAMrnC,IAAKonC,GAAM;AACjBQ,MAAAA,GAAY5nC,GAAI3B,GAAIC,CAAE,GACtBopC,GAAgB1nC,GAAIA,CAAE;AACtB,YAAM8nC,IAASV,GAAM;AACrB,eAAStrD,IAAI,GAAGA,IAAIgrD,GAAWhrD,KAAK;AAClC,cAAMpH,IAAI,KAAK,IAAIoH,IAAIgrD,IAAY,IAAI,KAAK,EAAE,GACxC/xD,IAAI,KAAK,IAAI+G,IAAIgrD,IAAY,IAAI,KAAK,EAAE;AAC9C,QAAAgB,EAAO,CAAC,IAAIjqC,KAAUnpB,IAAI4pB,EAAG,CAAC,IAAIvpB,IAAIirB,EAAG,CAAC,IAC1C8nC,EAAO,CAAC,IAAIjqC,KAAUnpB,IAAI4pB,EAAG,CAAC,IAAIvpB,IAAIirB,EAAG,CAAC,IAC1C8nC,EAAO,CAAC,IAAIjqC,KAAUnpB,IAAI4pB,EAAG,CAAC,IAAIvpB,IAAIirB,EAAG,CAAC,IAC1C+nC,GAAUD,GAAQrB,EAAOS,CAAM,GAAGY,CAAM;AACxC,cAAME,IAAOtoC,IAAMqnC;AACnB,QAAA3xB,EAAI4yB,IAAO,CAAC,IAAIF,EAAO,CAAC,GACxB1yB,EAAI4yB,IAAO,CAAC,IAAIF,EAAO,CAAC,GACxB1yB,EAAI4yB,IAAO,CAAC,IAAIF,EAAO,CAAC;AACxB,cAAMG,IAAKb,GAAM;AACjBK,QAAAA,GAAeQ,GAAIH,GAAQrB,EAAOS,CAAM,CAAC,GACzCQ,GAAgBO,GAAIA,CAAE;AACtB,cAAMC,KAAUF,IAAO,KAAK;AAC5B,QAAA3sD,EAAG6sD,IAAS,CAAC,IAAID,EAAG,CAAC,IAAI,KACzB5sD,EAAG6sD,IAAS,CAAC,IAAID,EAAG,CAAC,IAAI,KACzB5sD,EAAG6sD,IAAS,CAAC,IAAID,EAAG,CAAC,IAAI,KACzB7yB,EAAI4yB,IAAO,CAAC,IAAId,EAAO,CAAC,GACxBxnC;AAAA,MACF;AACA,MAAAsnC,IAASQ,GAAYN,CAAM,GAC3BA,IAASM,GAAYL,CAAM,GACvBG,MACFnrC,IAAO;AAAA,IAEX;AACA,UAAMgsC,KAAQvB,IAAaC,KAAiBC,IAAY,IAAI,GACtDxgC,IAAO,IAAI,YAAY6hC,CAAI;AACjC,QAAIj8C,IAAM;AACV,IAAAwT,IAAM;AACN,aAAS1vB,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,UAAIkuB,EAAQluB,CAAC,MAAM22D,GAAkB;AACnC,QAAAjnC,KAAOonC;AACP;AAAA,MACF;AACA,UAAI5oC,EAAQluB,IAAI,CAAC,MAAM22D;AACrB;AAEF,UAAIyB,IAAe1oC,GACf2oC,IAAW3oC,IAAMonC;AACrB,YAAMwB,IAAuBD,GACvBE,IAAmBF,IAAWvB;AACpC,eAAShrD,IAAI,GAAGA,IAAIgrD,GAAWhrD;AAC7B,QAAAwqB,EAAKpa,GAAK,IAAIk8C,GACd9hC,EAAKpa,GAAK,IAAIm8C,KACVA,MAAaE,MACfF,IAAWE,IAAmBzB,IAEhCxgC,EAAKpa,GAAK,IAAIm8C,GACd/hC,EAAKpa,GAAK,IAAIk8C,KACVA,MAAiBE,MACnBF,IAAeE,IAAuBxB,IAExCxgC,EAAKpa,GAAK,IAAIm8C,GACd/hC,EAAKpa,GAAK,IAAIk8C;AAEhB,MAAA1oC,KAAOonC;AAAA,IACT;AACA,IAAArpC,EAAG,WAAWA,EAAG,sBAAsB,KAAK,WAAW,GACvDA,EAAG,WAAWA,EAAG,sBAAsB,YAAY,KAAK6I,CAAI,GAAG7I,EAAG,WAAW,GAC7EA,EAAG,WAAWA,EAAG,cAAc,KAAK,YAAY,GAChDA,EAAG,WAAWA,EAAG,cAAcpiB,GAAIoiB,EAAG,WAAW,GACjD,KAAK,aAAa0qC;AAAA,EACpB;AAAA;AAAA,EAEA,wBAAwB;AACtB,QAAI,KAAK;AACP;AAEF,UAAM1+B,IAAM,KAAK,KACXoH,IAAMpH,EAAI,SAAS;AACzB,QAAI++B,IAAkB;AACtB,aAASx4D,IAAI,GAAGA,IAAI,GAAGA,KAAK;AAC1B,YAAM4b,IAAQ,KAAK,WAAW5b,CAAC,IAAI,KAAK,WAAWA,CAAC;AACpD,MAAAw4D,IAAkB,KAAK,IAAIA,GAAiB58C,CAAK;AAAA,IACnD;AAEA,QADA,KAAK,eAAe,IAAI,aAAailB,CAAG,GACpC23B,MAAoB;AACtB;AAEF,UAAMC,IAAO,IAEPC,IADWF,KAAmBC,IAAO,KACnB,GAClBl0D,KAASk0D,IAAO,KAAKD;AAC3B,QAAIG,IAAa,IAAI,aAAaF,IAAOA,IAAOA,CAAI;AACpD,UAAM9+B,IAAK,CAAC,KAAK,WAAW,CAAC,IAAI++B,GAAM,KAAK,WAAW,CAAC,IAAIA,GAAM,KAAK,WAAW,CAAC,IAAIA,CAAI,GACrF1oB,IAAM,CAAC,GAAG,GAAG,CAAC,GACd4oB,IAAS,IACTC,IAAYJ,IAAOA;AACzB,QAAI3sD,IAAI;AACR,aAAS9L,IAAI,GAAGA,IAAI6gC,GAAK7gC,KAAK;AAC5B,MAAAgwC,EAAI,CAAC,IAAI,KAAK,OAAOvW,EAAI3tB,GAAG,IAAI6tB,EAAG,CAAC,KAAKp1B,CAAK,GAC9CyrC,EAAI,CAAC,IAAI,KAAK,OAAOvW,EAAI3tB,GAAG,IAAI6tB,EAAG,CAAC,KAAKp1B,CAAK,GAC9CyrC,EAAI,CAAC,IAAI,KAAK,OAAOvW,EAAI3tB,GAAG,IAAI6tB,EAAG,CAAC,KAAKp1B,CAAK;AAC9C,YAAM2qB,IAAK8gB,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIyoB,IAAOzoB,EAAI,CAAC,IAAI6oB;AAC7C,MAAI3pC,MAAO0pC,KAGXD,EAAWzpC,CAAE;AAAA,IACf;AACA,aAAS4pC,EAAOrL,GAAK7qC,GAAK;AACxB,UAAI8Z,IAAM+wB,EAAI,MAAA,GACVrpD,IAAI;AACR,YAAM20D,IAAOn2C,IAAM;AACnB,eAASte,IAAI,GAAGA,IAAIse,GAAKte;AACvB,iBAASvE,IAAI,GAAGA,IAAI6iB,GAAK7iB;AACvB,mBAASsE,IAAI,GAAGA,IAAIue,GAAKve;AAEvB,YADAD,KACI,EAAAC,IAAI,KAAKA,KAAK00D,OAGlBtL,EAAIrpD,CAAC,IAAIs4B,EAAIt4B,IAAI,CAAC,IAAIs4B,EAAIt4B,CAAC,IAAIs4B,EAAIt4B,CAAC,IAAIs4B,EAAIt4B,IAAI,CAAC;AAIvD,MAAAA,IAAI,IACJs4B,IAAM+wB,EAAI,MAAA;AACV,eAASnpD,IAAI,GAAGA,IAAIse,GAAKte;AACvB,iBAASvE,IAAI,GAAGA,IAAI6iB,GAAK7iB;AACvB,mBAASsE,IAAI,GAAGA,IAAIue,GAAKve;AAEvB,YADAD,KACI,EAAArE,IAAI,KAAKA,KAAKg5D,OAGlBtL,EAAIrpD,CAAC,IAAIs4B,EAAIt4B,IAAIwe,CAAG,IAAI8Z,EAAIt4B,CAAC,IAAIs4B,EAAIt4B,CAAC,IAAIs4B,EAAIt4B,IAAIwe,CAAG;AAI3D,YAAMo2C,IAAUp2C,IAAMA;AACtB,MAAAxe,IAAI,IACJs4B,IAAM+wB,EAAI,MAAA;AACV,eAASnpD,IAAI,GAAGA,IAAIse,GAAKte;AACvB,iBAASvE,IAAI,GAAGA,IAAI6iB,GAAK7iB;AACvB,mBAASsE,IAAI,GAAGA,IAAIue,GAAKve;AAEvB,YADAD,KACI,EAAAE,IAAI,KAAKA,KAAKy0D,OAGlBtL,EAAIrpD,CAAC,IAAIs4B,EAAIt4B,IAAI40D,CAAO,IAAIt8B,EAAIt4B,CAAC,IAAIs4B,EAAIt4B,CAAC,IAAIs4B,EAAIs8B,CAAO;AAI/D,aAAOvL;AAAA,IACT;AACA,IAAAkL,IAAaG,EAAOH,GAAYF,CAAI,GACpCE,IAAaG,EAAOH,GAAYF,CAAI;AACpC,QAAI5+B,IAAK,GACLo/B,IAAM;AACV,UAAMC,IAAiBT,IAAOA,IAAOA;AACrC,aAASz4D,IAAI,GAAGA,IAAIk5D,GAAgBl5D;AAClC,MAAI24D,EAAW34D,CAAC,KAAK,MAGrB65B,IAAK,KAAK,IAAIA,GAAI8+B,EAAW34D,CAAC,CAAC,GAC/Bi5D,IAAM,KAAK,IAAIA,GAAKN,EAAW34D,CAAC,CAAC;AAEnC,QAAI,EAAA65B,KAAM,KAAKA,KAAMo/B,IAGrB;AAAA,MAAAntD,IAAI;AACJ,eAAS9L,IAAI,GAAGA,IAAIk5D,GAAgBl5D;AAClC,QAAA24D,EAAW34D,CAAC,IAAI,KAAK,IAAI,GAAG24D,EAAW34D,CAAC,IAAIi5D,CAAG;AAEjD,MAAAp/B,KAAMo/B;AACN,eAASj5D,IAAI,GAAGA,IAAI6gC,GAAK7gC,KAAK;AAC5B,QAAAgwC,EAAI,CAAC,IAAI,KAAK,OAAOvW,EAAI3tB,GAAG,IAAI6tB,EAAG,CAAC,KAAKp1B,CAAK,GAC9CyrC,EAAI,CAAC,IAAI,KAAK,OAAOvW,EAAI3tB,GAAG,IAAI6tB,EAAG,CAAC,KAAKp1B,CAAK,GAC9CyrC,EAAI,CAAC,IAAI,KAAK,OAAOvW,EAAI3tB,GAAG,IAAI6tB,EAAG,CAAC,KAAKp1B,CAAK;AAC9C,cAAM2qB,IAAK8gB,EAAI,CAAC,IAAIA,EAAI,CAAC,IAAIyoB,IAAOzoB,EAAI,CAAC,IAAI6oB;AAC7C,aAAK,aAAa74D,CAAC,IAAI24D,EAAWzpC,CAAE,IAAI2K;AAAA,MAC1C;AAAA;AAAA,EACF;AAAA;AAAA;AAAA,EAGA,aAAapM,GAAI;AACf,QAAI,CAAC,KAAK,aAAa,CAAC,KAAK;AAC3B;AAEF,UAAMgM,IAAM,KAAK,KACXqH,IAAY,KAAK,WACjBmD,IAAUnD,EAAU,SAAS,GAC7BD,IAAMpH,EAAI,SAAS;AACzB,QAAI,CAAC,KAAK,cAAc;AACtB,WAAK,eAAe,IAAI,YAAYwK,CAAO;AAC3C,eAASjkC,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,cAAMm5D,IAAUr4B,EAAU9gC,CAAC,IAAI,GACzBo5D,KAASt4B,EAAU9gC,IAAI,CAAC,IAAI,KAAK;AACvC,YAAI8E,IAAM;AACV,iBAASgH,IAAIqtD,GAASrtD,IAAIstD,GAAOttD,KAAK,GAAG;AACvC,gBAAM1H,IAAIsyD,EAAiBj9B,EAAI3tB,IAAI,CAAC,IAAI2tB,EAAI3tB,IAAI,CAAC,GAAG2tB,EAAI3tB,IAAI,CAAC,IAAI2tB,EAAI3tB,IAAI,CAAC,GAAG2tB,EAAI3tB,IAAI,CAAC,IAAI2tB,EAAI3tB,IAAI,CAAC,CAAC;AACpGhH,UAAAA,KAAOu0D,GAAUj1D,CAAC;AAAA,QACpB;AACA,aAAK,aAAapE,CAAC,IAAI8E;AAAAA,MACzB;AAAA,IACF;AACA,UAAM0xD,IAAY,IAAI,aAAa31B,IAAM,CAAC,GACpCy4B,IAAY,IAAI,YAAY9C,EAAU,MAAM;AAClD,QAAI+C,IAAK,GACLC,IAAK;AACT,aAASx5D,IAAI,GAAGA,IAAI6gC,GAAK7gC;AACvB,MAAAw2D,EAAUgD,IAAK,CAAC,IAAI//B,EAAI8/B,IAAK,CAAC,GAC9B/C,EAAUgD,IAAK,CAAC,IAAI//B,EAAI8/B,IAAK,CAAC,GAC9B/C,EAAUgD,IAAK,CAAC,IAAI//B,EAAI8/B,IAAK,CAAC,GAC9BA,KAAM,GACNC,KAAM;AAER,UAAMC,IAAS,KAAK,aACdC,IAAaD,IAAS;AAC5B,aAASE,EAAUntD,GAAGotD,GAAG73D,GAAG;AAE1B,YAAMqL,IAAI,OADSqsD,IAAS,KAAK,OAAA,IACHC;AAC9B,aAAAltD,IAAI,KAAK,IAAI,KAAK,IAAIA,IAAIY,GAAG,GAAG,GAAG,CAAC,GACpCwsD,IAAI,KAAK,IAAI,KAAK,IAAIA,IAAIxsD,GAAG,GAAG,GAAG,CAAC,GACpCrL,IAAI,KAAK,IAAI,KAAK,IAAIA,IAAIqL,GAAG,GAAG,GAAG,CAAC,GAC7BZ,KAAKotD,KAAK,MAAM73D,KAAK;AAAA,IAC9B;AACA,aAAS83D,EAAcC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAIC,GAAY;AACzD,YAAMh2D,IAAIsyD,EAAiB,KAAK,IAAIoD,IAAKG,CAAE,GAAG,KAAK,IAAIF,IAAKG,CAAE,GAAG,KAAK,IAAIF,IAAKG,CAAE,CAAC;AAClFzC,MAAAA,GAAgBtzD,GAAGA,CAAC;AACpB,YAAMoI,IAAI4tD,IAAaV;AACvB,eAAS5tD,IAAI,GAAGA,IAAI,GAAGA;AACrB,QAAA1H,EAAE0H,CAAC,IAAI,MAAM,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI1H,EAAE0H,CAAC,CAAC,IAAIU,GAAG,CAAC,GAAG,CAAC;AAE1D,aAAOpI,EAAE,CAAC,KAAKA,EAAE,CAAC,KAAK,MAAMA,EAAE,CAAC,KAAK;AAAA,IACvC;AACA,UAAMi2D,IAAa,KAAK,WAAW,YAAA;AACnC,QAAIj5B,IAAM,MACNiC,IAAM;AACV,QAAIg3B,EAAW,WAAW,KAAK,KAAK,KAAK,OAAO,KAAK,IAAI,SAAS,GAAG;AACnE,YAAMzqD,IAAI,SAASyqD,EAAW,UAAU,CAAC,CAAC;AAC1C,MAAIzqD,IAAI,KAAK,IAAI,UAAU,KAAK,IAAIA,CAAC,EAAE,KAAK,WAAWq0B,MACrD7C,IAAM,KAAK,IAAIxxB,CAAC,EAAE;AAAA,IAEtB;AACA,QAAIyqD,EAAW,WAAW,KAAK,KAAK,KAAK,OAAO,KAAK,IAAI,SAAS,GAAG;AACnE,YAAMzqD,IAAI,SAASyqD,EAAW,UAAU,CAAC,CAAC;AAC1C,MAAIzqD,IAAI,KAAK,IAAI,UAAU,KAAK,IAAIA,CAAC,EAAE,KAAK,WAAWixB,MACrDwC,IAAM,KAAK,IAAIzzB,CAAC;AAAA,IAEpB;AACA,UAAM0qD,IAAoB,IAAI,WAAWr2B,CAAO;AAChD,QAAI,KAAK,UAAU,KAAK,uBAAuB,QAAQo2B,EAAW,WAAW,KAAK,KAAK,KAAK,IAAI,SAAS,GAAG;AAC1G,YAAMzjC,IAAM,IAAI,kBAAkB,KAAK,OAAO,SAAS,CAAC,GAClD2jC,IAAe,IAAI,MAAM,KAAK,OAAO,MAAM,EAAE,KAAK,EAAK;AAC7D,UAAI,KAAK,oBAAoB;AAC3B,cAAMvkC,IAAO,KAAK;AAClB,QAAIA,EAAK,MAAM,WACbA,EAAK,IAAI,MAAM,KAAK,IAAI,kBAAkBA,EAAK,EAAE,MAAM,EAAE,KAAK,GAAG,CAAC;AAEpE,iBAASh2B,IAAI,GAAGA,IAAIg2B,EAAK,EAAE,QAAQh2B,KAAK;AACtC,cAAIkc,IAAM8Z,EAAK,EAAEh2B,CAAC;AAClB,UAAIkc,IAAM,KAAKA,KAAO,KAAK,OAAO,UAG9B8Z,EAAK,EAAEh2B,CAAC,IAAI,MAGhBu6D,EAAar+C,CAAG,IAAI,IACpBA,KAAO,GACP0a,EAAI1a,CAAG,IAAI8Z,EAAK,EAAEh2B,CAAC,GACnB42B,EAAI1a,IAAM,CAAC,IAAI8Z,EAAK,EAAEh2B,CAAC,GACvB42B,EAAI1a,IAAM,CAAC,IAAI8Z,EAAK,EAAEh2B,CAAC,GACvB42B,EAAI1a,IAAM,CAAC,IAAI;AAAA,QACjB;AAAA,MACF,WACMm+C,EAAW,WAAW,KAAK,KAAK,KAAK,IAAI,SAAS,GAAG;AACvD,cAAMzqD,IAAI,SAASyqD,EAAW,UAAU,CAAC,CAAC,GACpCr2B,IAAMp0B,IAAI,KAAK,IAAI,SAAS,KAAK,IAAIA,CAAC,IAAI,KAAK,IAAI,CAAC,GACpD4qD,IAAS5iC,GAAQ,SAAS,KAAK,UAAU,KAAK,cAAc,GAC5D+B,IAAKqK,EAAI,SACTnK,IAAKmK,EAAI,SACTy2B,IAAS,KAAK,OAAO;AAC3B,iBAASz6D,IAAI,GAAGA,IAAIy6D,GAAQz6D,KAAK;AAC/B,gBAAMoE,IAAI4/B,EAAI,KAAKhkC,CAAC;AACpB,cAAIoE,IAAIu1B;AACN;AAEF,cAAI+gC,IAAW,KAAK,MAAM,MAAM,KAAK,IAAI,KAAK,KAAKt2D,IAAIu1B,MAAOE,IAAKF,IAAK,CAAC,GAAG,CAAC,CAAC;AAC9E,UAAA4gC,EAAav6D,CAAC,IAAI;AAClB,gBAAMkc,IAAMlc,IAAI;AAChB,UAAA06D,KAAY,GACZ9jC,EAAI1a,CAAG,IAAIs+C,EAAOE,IAAW,CAAC,GAC9B9jC,EAAI1a,IAAM,CAAC,IAAIs+C,EAAOE,IAAW,CAAC,GAClC9jC,EAAI1a,IAAM,CAAC,IAAIs+C,EAAOE,IAAW,CAAC,GAClC9jC,EAAI1a,IAAM,CAAC,IAAI;AAAA,QACjB;AAAA,MACF;AAEF,MAAAo+C,EAAkB,KAAK,EAAE;AACzB,eAASt6D,IAAI,GAAGA,IAAI,KAAK,OAAO,QAAQA;AACtC,YAAKu6D,EAAav6D,CAAC;AAGnB,mBAASoE,IAAI,GAAGA,IAAI,KAAK,OAAOpE,CAAC,EAAE,KAAK,QAAQoE;AAC9C,YAAAk2D,EAAkB,KAAK,OAAOt6D,CAAC,EAAE,KAAKoE,CAAC,CAAC,IAAIpE;AAGhD,eAASA,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,YAAIs6D,EAAkBt6D,CAAC,IAAI;AACzB;AAEF,cAAMwyC,IAAQ8nB,EAAkBt6D,CAAC,IAAI,MAAM,GACrC26D,IAAOhB,EAAU/iC,EAAI4b,CAAK,GAAG5b,EAAI4b,IAAQ,CAAC,GAAG5b,EAAI4b,IAAQ,CAAC,CAAC,GAC3DooB,IAAS95B,EAAU9gC,CAAC,GACpB66D,IAAO/5B,EAAU9gC,IAAI,CAAC,IAAI,GAC1B86D,IAAUF,IAAS,IAAI,GACvBG,IAAQF,IAAO,IAAI;AACzB,iBAAS/uD,IAAIgvD,GAAShvD,KAAKivD,GAAOjvD,KAAK;AACrC,UAAAwtD,EAAUxtD,CAAC,IAAI6uD;AAAA,MAEnB;AAAA,IACF,WAAWt3B,GAAK;AACd,YAAMzM,IAAMgB,GAAQ,SAAS,KAAK,UAAU,KAAK,cAAc,GACzD+B,IAAK0J,EAAI,SACTxJ,IAAKwJ,EAAI;AACf,UAAIl7B,IAAK;AACT,eAASnI,IAAI,GAAGA,IAAI6gC,GAAK7gC,KAAK;AAC5B,YAAIwyC,IAAQ,KAAK,IAAI,KAAK,KAAKnP,EAAI,KAAKrjC,CAAC,IAAI25B,MAAOE,IAAKF,IAAK,CAAC,GAAG,CAAC;AACnE,QAAA6Y,IAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,IAAI,KAAKA,IAAQ,GAAG,CAAC,CAAC,IAAI;AAC3D,cAAMmoB,IAAO/jC,EAAI4b,CAAK,KAAK5b,EAAI4b,IAAQ,CAAC,KAAK,MAAM5b,EAAI4b,IAAQ,CAAC,KAAK;AACrE,QAAA8mB,EAAUnxD,CAAE,IAAIwyD,GAChBxyD,KAAM;AAAA,MACR;AAAA,IACF,WAAWi5B,GAAK;AACd,YAAMxK,IAAMgB,GAAQ,SAAS,KAAK,UAAU,KAAK,cAAc;AAC/D,UAAI+B,IAAKyH,EAAI,CAAC,GACVvH,IAAKuH,EAAI,CAAC;AACd,eAASphC,IAAI,GAAGA,IAAIikC,GAASjkC;AAC3B,QAAA25B,IAAK,KAAK,IAAIA,GAAIyH,EAAIphC,CAAC,CAAC,GACxB65B,IAAK,KAAK,IAAIA,GAAIuH,EAAIphC,CAAC,CAAC;AAE1B,MAAI65B,MAAOF,MACTA,KAAM;AAER,eAAS35B,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,YAAIwyC,KAASpR,EAAIphC,CAAC,IAAI25B,MAAOE,IAAKF;AAClC,QAAA6Y,IAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,IAAI,KAAKA,IAAQ,GAAG,CAAC,CAAC,IAAI;AAC3D,cAAMmoB,IAAO/jC,EAAI4b,CAAK,KAAK5b,EAAI4b,IAAQ,CAAC,KAAK,MAAM5b,EAAI4b,IAAQ,CAAC,KAAK,KAC/DooB,IAAS95B,EAAU9gC,CAAC,GACpB66D,IAAO/5B,EAAU9gC,IAAI,CAAC,IAAI,GAC1B86D,IAAUF,IAAS,IAAI,GACvBG,IAAQF,IAAO,IAAI;AACzB,iBAAS/uD,IAAIgvD,GAAShvD,KAAKivD,GAAOjvD,KAAK;AACrC,UAAAwtD,EAAUxtD,CAAC,IAAI6uD;AAAA,MAEnB;AAAA,IACF,WAAWN,EAAW,SAAS,OAAO;AACpC,UAAIZ,MAAW,GAAG;AAChB,cAAMkB,IAAO,KAAK,QAAQ,CAAC,KAAK,KAAK,QAAQ,CAAC,KAAK,MAAM,KAAK,QAAQ,CAAC,KAAK;AAC5E,YAAIxyD,IAAK;AACT,iBAASnI,IAAI,GAAGA,IAAI6gC,GAAK7gC;AACvB,UAAAs5D,EAAUnxD,CAAE,IAAIwyD,GAChBxyD,KAAM;AAAA,MAEV;AACE,iBAASnI,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,gBAAM26D,IAAOhB,EAAU,KAAK,QAAQ,CAAC,GAAG,KAAK,QAAQ,CAAC,GAAG,KAAK,QAAQ,CAAC,CAAC,GAClEiB,IAAS95B,EAAU9gC,CAAC,GACpB66D,IAAO/5B,EAAU9gC,IAAI,CAAC,IAAI,GAC1B86D,IAAUF,IAAS,IAAI,GACvBG,IAAQF,IAAO,IAAI;AACzB,mBAAS/uD,IAAIgvD,GAAShvD,KAAKivD,GAAOjvD,KAAK;AACrC,YAAAwtD,EAAUxtD,CAAC,IAAI6uD;AAAA,QAEnB;AAAA,aAEON,EAAW,SAAS,OAAO;AACpC,eAASr6D,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,cAAM46D,IAAS95B,EAAU9gC,CAAC,GACpB66D,IAAO/5B,EAAU9gC,IAAI,CAAC,IAAI;AAChC,YAAIgwB,IAAK4qC,IAAS;AAClB,cAAMxB,IAAQyB,IAAO,GACfT,IAAaX,IAAS,KAAK,OAAA;AACjC,YAAIkB,IAAOd,EAAcpgC,EAAIzJ,CAAE,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGoqC,CAAU,GACzGjyD,IAAKyyD,IAAS,IAAI;AACtB,eAAO5qC,IAAKopC;AACV,UAAAE,EAAUnxD,CAAE,IAAIwyD,GAChBxyD,KAAM,GACN6nB,KAAM,GACN2qC,IAAOd,EAAcpgC,EAAIzJ,IAAK,CAAC,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGyJ,EAAIzJ,IAAK,CAAC,GAAGoqC,CAAU;AAE/G,QAAAd,EAAUnxD,CAAE,IAAImxD,EAAUnxD,IAAK,CAAC;AAAA,MAClC;AAAA;AAEA,eAASnI,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,cAAM46D,IAAS95B,EAAU9gC,CAAC,GACpB66D,IAAO/5B,EAAU9gC,IAAI,CAAC,IAAI,GAC1Bm5D,IAAUyB,IAAS,GACnBxB,IAAQyB,IAAO,GACfF,IAAOd;AAAA,UACXpgC,EAAI0/B,CAAO;AAAA,UACX1/B,EAAI0/B,IAAU,CAAC;AAAA,UACf1/B,EAAI0/B,IAAU,CAAC;AAAA,UACf1/B,EAAI2/B,CAAK;AAAA,UACT3/B,EAAI2/B,IAAQ,CAAC;AAAA,UACb3/B,EAAI2/B,IAAQ,CAAC;AAAA,UACbK,IAAS,KAAK,OAAA;AAAA,QAAO,GAEjBqB,IAAUF,IAAS,IAAI,GACvBG,IAAQF,IAAO,IAAI;AACzB,iBAAS/uD,IAAIgvD,GAAShvD,KAAKivD,GAAOjvD,KAAK;AACrC,UAAAwtD,EAAUxtD,CAAC,IAAI6uD;AAAA,MAEnB;AAEF,QAAI,KAAK,iBAAiB,GAAG;AAC3B,UAAIK,IAAY,SAASroB,GAAM4a,GAAM;AACnC,cAAM/gD,IAAI+gD,KAAQ5a,IAAO,MACnBinB,IAAIrM,KAAQ5a,KAAQ,IAAI,MACxB5wC,IAAIwrD,KAAQ5a,KAAQ,KAAK;AAC/B,eAAOnmC,KAAKotD,KAAK,MAAM73D,KAAK;AAAA,MAC9B;AACA,WAAK,sBAAA;AACL,eAAS/B,IAAI,GAAGA,IAAIikC,GAASjkC,KAAK;AAChC,cAAM46D,IAAS95B,EAAU9gC,CAAC,GACpB66D,IAAO/5B,EAAU9gC,IAAI,CAAC,IAAI,GAC1B86D,IAAUF,IAAS,IAAI,GACvBG,IAAQF,IAAO,IAAI;AACzB,YAAInrC,IAAMkrC;AACV,cAAMK,IAAO,KAAK,IAAI,KAAK,gBAAgB,IAAI;AAC/C,iBAASnvD,IAAIgvD,GAAShvD,KAAKivD,GAAOjvD,KAAK,GAAG;AACxC,cAAIovD,IAAQ,KAAK,aAAaxrC,GAAK;AACnC,cAAIwrC,KAAS;AACX;AAEF,UAAAA,IAAQA,MAAU,IAAID,IAAO,MAAM,IAAIC,KAAS;AAChD,gBAAM3N,IAAO,IAAI,KAAK,IAAI2N,GAAO,GAAG;AACpC,cAAIP,IAAOrB,EAAUxtD,CAAC;AACtB,UAAA6uD,IAAOK,EAAUL,GAAMpN,CAAI,GAC3B+L,EAAUxtD,CAAC,IAAI6uD;AAAA,QACjB;AAAA,MACF;AAAA,IACF;AACA,QAAI,OAAO,SAAS,KAAK,YAAY,KAAK,KAAK,QACxCv5B,KAEC,KAAK,IAAI,CAAC,EAAE,KAAK,WAAW6C,MAC9B7C,IAAM,KAAK,IAAI,CAAC,EAAE,OAGlBA;AACF,eAASphC,IAAI,GAAGA,IAAIikC,GAASjkC;AAC3B,QAAIohC,EAAIphC,CAAC,IAAI,KAAK,iBAChBs6D,EAAkBt6D,CAAC,IAAI;AAK/B,UAAMm7D,IAAS,KAAK,aACdxE,IAAmB,KAAK,IAAI,GAAG,EAAE,IAAI,GACrCzoC,IAAU,CAAA;AAChB,QAAIzmB,IAAS;AACb,aAASzH,IAAI,GAAGA,IAAIikC,GAASjkC;AAC3B,UAAI,EAAAs6D,EAAkBt6D,CAAC,IAAI,MAGvB,OAAK,aAAaA,CAAC,IAAIm7D,OAG3B1zD,KACIA,IAAS,KAAK,0BAA0B,IAG5C;AAAA,iBAASqE,IAAIg1B,EAAU9gC,CAAC,GAAG8L,IAAIg1B,EAAU9gC,IAAI,CAAC,GAAG8L;AAC/C,UAAAoiB,EAAQ,KAAKpiB,CAAC;AAEhB,QAAAoiB,EAAQ,KAAKyoC,CAAgB;AAAA;AAE/B,IAAI,KAAK,aAAa,KAAK,KAAK,cAAc,IAC5C,KAAK,iBAAiBlpC,GAAI+oC,GAAWtoC,CAAO,KAE5C,KAAK,aAAaA,EAAQ,QAC1BT,EAAG,WAAWA,EAAG,cAAc,KAAK,YAAY,GAChDA,EAAG,WAAWA,EAAG,cAAc,YAAY,KAAK6rC,CAAS,GAAG7rC,EAAG,WAAW,GAC1EA,EAAG,WAAWA,EAAG,sBAAsB,KAAK,WAAW,GACvDA,EAAG,WAAWA,EAAG,sBAAsB,YAAY,KAAKS,CAAO,GAAGT,EAAG,WAAW;AAAA,EAEpF;AAAA;AAAA;AAAA;AAAA,EAIA,kBAAkB2tC,GAAKC,GAAKC,GAAK;AAC/B,UAAM7hC,IAAM,KAAK,KACX7J,IAAO,KAAK,IAAI,SAAS;AAC/B,QAAI5vB,IAAI,GACJu7D,IAAO,OACP9kC,IAAQ;AACZ,aAAS3qB,IAAI,GAAGA,IAAI8jB,GAAM9jB,KAAK;AAC7B,YAAMoJ,IAAK,KAAK,IAAIukB,EAAIz5B,CAAC,IAAIo7D,GAAK,CAAC,IAAI,KAAK,IAAI3hC,EAAIz5B,IAAI,CAAC,IAAIq7D,GAAK,CAAC,IAAI,KAAK,IAAI5hC,EAAIz5B,IAAI,CAAC,IAAIs7D,GAAK,CAAC;AACnG,MAAIpmD,IAAKqmD,MACPA,IAAOrmD,GACPuhB,IAAQ3qB,IAEV9L,KAAK;AAAA,IACP;AACA,WAAAu7D,IAAO,KAAK,KAAKA,CAAI,GACd,CAAC9kC,GAAO8kC,CAAI;AAAA,EACrB;AAAA;AAAA;AAAA,EAGA,WAAW9tC,GAAI;AAWb,QAVAA,EAAG,WAAWA,EAAG,cAAc,IAAI,GACnCA,EAAG,WAAWA,EAAG,sBAAsB,IAAI,GAC3CA,EAAG,gBAAgB,IAAI,GACvBA,EAAG,aAAa,KAAK,YAAY,GACjCA,EAAG,aAAa,KAAK,WAAW,GAChCA,EAAG,kBAAkB,KAAK,GAAG,GAC7BA,EAAG,kBAAkB,KAAK,QAAQ,GAClC,KAAK,YAAY,MACjB,KAAK,OAAO,MACZ,KAAK,MAAM,MACP,KAAK,UAAU,KAAK,OAAO,SAAS;AACtC,eAAS,IAAI,GAAG,IAAI,KAAK,OAAO,QAAQ;AACtC,aAAK,OAAO,CAAC,EAAE,SAAS;AAG5B,QAAI,KAAK,OAAO,KAAK,IAAI,SAAS;AAChC,eAAS,IAAI,GAAG,IAAI,KAAK,IAAI,QAAQ;AACnC,aAAK,IAAI,CAAC,EAAE,OAAO;AAGvB,QAAI,KAAK,OAAO,KAAK,IAAI,SAAS;AAChC,eAAS,IAAI,GAAG,IAAI,KAAK,IAAI,QAAQ;AACnC,aAAK,IAAI,CAAC,EAAE,OAAO;AAAA,EAGzB;AAAA;AAAA,EAEA,aAAaklB,GAAMhM,GAAOY,GAASi0B,IAAiB,IAAO;AACzD,UAAM9R,IAAUniB,EAAQ;AACxB,QAAI,IAAImiB,IAAU/W,EAAK;AACrB,aAAAvhB,EAAI,MAAM,uCAAuCs4B,CAAO,SAAS/W,EAAK,MAAM,EAAE,GACvEA;AAET,UAAM8oB,IAAS,KAAK,MAAM90B,EAAM,UAAU,GAAG;AAC7C,QAAIhN,IAAKgN,EAAM,SACX9M,IAAK8M,EAAM,SACX/P,IAAMgB,GAAQ,SAAS+O,EAAM,UAAU,KAAK,cAAc,GAC1D4lB,IAAO;AACX,QAAIiP,GAAgB;AAClB,UAAI,CAAC70B,EAAM;AACT,eAAOgM;AAET,MAAA4Z,IAAO,IACP31B,IAAMgB,GAAQ,SAAS+O,EAAM,kBAAkBA,EAAM,cAAc,GACnEhN,IAAKgN,EAAM,SACX9M,IAAK8M,EAAM,SACP,SAASA,EAAM,UAAU,KAAK,SAASA,EAAM,UAAU,MACzDhN,IAAK,CAACgN,EAAM,YACZ9M,IAAK,CAAC8M,EAAM;AAAA,IAEhB;AACA,QAAI+0B,IAAQ/hC;AACZ,IAAKgN,EAAM,6BACT+0B,IAAQ,OAAO;AAEjB,UAAMC,IAAwBh1B,EAAM,iBAAiB;AACrD,IAAIA,EAAM,iBAAiB,MACzBhN,IAAK,KAAK,IAAIA,GAAI,CAAC;AAErB,UAAMiiC,IAAW,OAAO/hC,IAAKF;AAC7B,aAAS7tB,IAAI,GAAGA,IAAI49C,GAAS59C,KAAK;AAChC,UAAI1H,IAAImjC,EAAQz7B,CAAC,IAAIygD;AACrB,UAAI,MAAMnoD,CAAC;AACT;AAEF,UAAIy3D,IAAMJ;AACV,UAAIr3D,IAAIs3D;AACN,YAAIt3D,IAAI,KAAKu3D;AACX,UAAAE,IAAM,KAAK,MAAMl1B,EAAM,UAAU,MAAM,KAAK,IAAIviC,IAAIs3D,GAAO,CAAC,CAAC;AAAA;AAE7D;AAIJ,UADAt3D,KAAKA,IAAIu1B,KAAMiiC,GACXx3D,IAAI,KAAKuiC,EAAM;AACjB;AAEF,MAAAviC,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI,GAAG,KAAK,MAAMA,CAAC,CAAC,CAAC,IAAI;AAChD,YAAM8X,IAAMpQ,IAAI;AAChB,MAAA6mC,EAAKz2B,IAAM,CAAC,IAAI0a,EAAIxyB,IAAI,CAAC,GACzBuuC,EAAKz2B,IAAM,CAAC,IAAI0a,EAAIxyB,IAAI,CAAC,GACzBuuC,EAAKz2B,IAAM,CAAC,IAAI0a,EAAIxyB,IAAI,CAAC,GACzBuuC,EAAKz2B,IAAM,CAAC,IAAI2/C;AAAA,IAClB;AACA,WAAOlpB;AAAA,EACT;AAAA,EACA,cAActnC,GAAIywD,GAAcn1B,GAAOhN,GAAIE,GAAIjD,GAAK51B,IAAS,IAAO;AAClE,UAAM4uB,IAAO,KAAK,IAAI,SAAS,GACzBwW,IAAU,KAAK,IAAIO,EAAM,SAAS,CAAC;AACzC,aAAS5/B,EAAK1C,GAAGtE,GAAGM,GAAG;AACrB,aAAOgE,KAAK,IAAIhE,KAAKN,IAAIM;AAAA,IAC3B;AACA,aAAS07D,EAAc13D,GAAGtE,GAAG;AAC3B,aAAO,KAAK,IAAIsE,IAAItE,GAAG,GAAG;AAAA,IAC5B;AACA,UAAMi8D,IAAYh7D,IAAS,KAAK,GAC1Bi7D,IAAQ,KAAK,IAAI,KAAK,IAAIt1B,EAAM,SAAS,CAAC,GAAGA,EAAM,WAAW,CAAC,GAC/Du1B,IAActsC,IAAOqsC;AAC3B,QAAIP,IAAQ/hC;AACZ,IAAKgN,EAAM,6BACT+0B,IAAQ,OAAO,oBAEb/0B,EAAM,iBAAiB,MACzBhN,IAAK,KAAK,IAAIA,GAAI,CAAC;AAErB,UAAMiiC,IAAW,OAAO/hC,IAAKF;AAC7B,QAAIo0B,IAAU,IAAI,MAAMn+B,CAAI,EAAE,KAAK,EAAK;AACxC,QAAI+W,EAAM,kBAAkB,GAAG;AAC7B,YAAMw1B,IAAQ,IAAI,WAAWvsC,CAAI,EAAE,KAAK,CAAC;AACzC,eAAS9jB,IAAI,GAAGA,IAAI8jB,GAAM9jB;AAExB,QADUkwD,IAAYr1B,EAAM,OAAO76B,IAAIowD,CAAW,KACzCR,MACPS,EAAMrwD,CAAC,IAAI;AAGf,MAAAiiD,IAAUl2B,GAAgB,qBAAqBskC,GAAO,KAAK,IAAI;AAC/D,eAASrwD,IAAI,GAAGA,IAAI8jB,GAAM9jB;AAExB,QADUkwD,IAAYr1B,EAAM,OAAO76B,IAAIowD,CAAW,IAC1CR,MACN3N,EAAQjiD,CAAC,IAAI;AAAA,IAGnB;AACA,UAAMswD,IAAS,IAAI,aAAa,GAAG,EAAE,KAAKh2B,CAAO;AACjD,QAAIs1B,IAAQ/hC,KAAMgN,EAAM,iBAAiB,GAA2C;AAClF,UAAI01B,IAAY,KAAK,OAAOX,IAAQ/hC,KAAMiiC,CAAQ;AAClD,MAAAS,IAAY,KAAK,IAAIA,GAAW,CAAC;AACjC,eAASvwD,IAAI,GAAGA,IAAIuwD,GAAWvwD;AAC7B,QAAAswD,EAAOtwD,CAAC,IAAIs6B,IAAU,KAAK,IAAIt6B,IAAIuwD,GAAW,CAAC;AAEjD,MAAAD,EAAO,CAAC,IAAI,GACZV,IAAQ/hC,IAAK,OAAO;AAAA,IACtB;AACA,aAAS7tB,IAAI,GAAGA,IAAI8jB,GAAM9jB,KAAK;AAC7B,YAAM,IAAIkwD,IAAYr1B,EAAM,OAAO76B,IAAIowD,CAAW;AAClD,UAAI,IAAIR;AACN;AAEF,UAAIY,IAAO,KAAK,OAAO,IAAI3iC,KAAMiiC,CAAQ;AACzC,UAAIU,IAAO,KAAK31B,EAAM;AACpB;AAEF,MAAA21B,IAAO,KAAK,IAAI,GAAGA,CAAI,GACvBA,IAAO,KAAK,IAAI,KAAKA,CAAI;AACzB,UAAIT,IAAMO,EAAOE,CAAI;AACrB,MAAAA,KAAQ;AACR,UAAI5sC,IAAM5jB,IAAI,KAAK;AAInB,UAHI,KAAK,iBAAiB,MACxB4jB,IAAM5jB,IAAI,KAAK,KAEb66B,EAAM,iBAAiB;AACzB,cAAM41B,IAAKzwD,IAAI;AACf,QAAAgwD,EAAaS,IAAK,CAAC,IAAIR,EAAcD,EAAaS,IAAK,CAAC,GAAG3lC,EAAI0lC,IAAO,CAAC,CAAC,GACxER,EAAaS,IAAK,CAAC,IAAIR,EAAcD,EAAaS,IAAK,CAAC,GAAG3lC,EAAI0lC,IAAO,CAAC,CAAC,GACxER,EAAaS,IAAK,CAAC,IAAIR,EAAcD,EAAaS,IAAK,CAAC,GAAG3lC,EAAI0lC,IAAO,CAAC,CAAC,GACxER,EAAaS,IAAK,CAAC,IAAIR,EAAcD,EAAaS,IAAK,CAAC,GAAG,GAAG;AAAA,MAChE,OAAO;AACL,YAAIxO,EAAQjiD,CAAC,MACX+vD,IAAMl1B,EAAM,eACRA,EAAM,gBAAgB,IAAG;AAC3B,UAAAt7B,EAAGqkB,IAAM,CAAC,IAAI,GACdrkB,EAAGqkB,IAAM,CAAC,IAAI,GACdrkB,EAAGqkB,IAAM,CAAC,IAAI;AACd;AAAA,QACF;AAEF,QAAArkB,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAGkH,EAAI0lC,IAAO,CAAC,GAAGT,CAAG,GAClDxwD,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAGkH,EAAI0lC,IAAO,CAAC,GAAGT,CAAG,GAClDxwD,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAGkH,EAAI0lC,IAAO,CAAC,GAAGT,CAAG;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA,EAGA,WAAWpuC,GAAI;AACb,QAAI,KAAK,WAAW;AAClB,WAAK,aAAaA,CAAE;AACpB;AAAA,IACF;AACA,QAAI,KAAK;AACP;AAEF,QAAI,CAAC,KAAK,OAAO,CAAC,KAAK,QAAQ,CAAC,KAAK,SAAS;AAC5C,MAAA2D,EAAI,KAAK,qBAAqB;AAC9B;AAAA,IACF;AACA,aAASrqB,EAAK1C,GAAGtE,GAAGM,GAAG;AACrB,aAAOgE,KAAK,IAAIhE,KAAKN,IAAIM;AAAA,IAC3B;AACA,UAAMm8D,IAAa,KAAK,mBAAmB,KAAK,KAAK,KAAK,MAAM,KAAK,OAAO,GACtE5sC,IAAO,KAAK,IAAI,SAAS,GACzBvkB,IAAK,IAAI,WAAWmxD,EAAW,MAAM;AAC3C,QAAIC,IAAmB;AACvB,UAAMX,IAAe,IAAI,WAAWlsC,IAAO,CAAC;AAC5C,QAAIuK,IAAO,KAAK;AAChB,QAAI,KAAK,UAAU,KAAK,OAAO,SAAS;AACtC,eAASn6B,IAAI,GAAGA,IAAI,KAAK,OAAO,QAAQA,KAAK;AAC3C,cAAM2mC,IAAQ,KAAK,OAAO3mC,CAAC,GACrBomC,IAAUO,EAAM;AACtB,YAAIP,KAAW,KAAKO,EAAM,UAAUA,EAAM;AACxC;AAWF,YATIA,EAAM,kBAAkB,WAC1BA,EAAM,gBAAgB,IAEpBA,EAAM,oBAAoB,WAC5BA,EAAM,kBAAkB,KAEtBA,EAAM,iBAAiBA,EAAM,cAAc,KAAK,CAACA,EAAM,cAAc,QACvEA,EAAM,gBAAgB/O,GAAQ,aAAa+O,EAAM,eAAe,KAAKA,EAAM,UAAU,IAEnFA,EAAM,iBAAiBA,EAAM,cAAc,KAAK;AAClD,gBAAM8B,IAAgB9B,EAAM;AAC5B,cAAIqK,IAAO;AACX,UAAIrK,EAAM,cAAc,QACtBqK,IAAOrK,EAAM,cAAc;AAE7B,cAAI+1B,IAAOj0B,EAAc;AACzB,gBAAMk0B,IAAS,KAAK,MAAMD,EAAK,SAAS,CAAC;AACzC,cAAI/1B,EAAM,eAAeg2B,IAAS,KAAKA,MAAWh2B,EAAM,YAAY,UAAUA,EAAM,UAAU;AAC5F,kBAAMi2B,IAAcj2B,EAAM;AAC1B,gBAAIk2B,IAAS,IACTC,IAAU;AACd,qBAAShxD,IAAI,GAAGA,IAAI6wD,GAAQ7wD;AAC1B,cAAI,MAAM8wD,EAAY9wD,CAAC,CAAC,IACtB+wD,IAAS,KAETC,IAAU;AAGd,gBAAIA,GAAS;AACX,cAAA1rC,EAAI,MAAM,0CAA0C;AACpD;AAAA,YACF;AACA,gBAAIyrC,GAAQ;AACV,cAAAzrC,EAAI,MAAM,8DAA8D;AACxE,oBAAM2rC,IAAU,IAAI,MAAMntC,CAAI,EAAE,KAAK,EAAK;AAC1C,uBAAS9jB,IAAI,GAAGA,IAAI8jB,GAAM9jB,KAAK;AAC7B,sBAAM1H,IAAI,KAAK,MAAMuiC,EAAM,OAAO76B,CAAC,CAAC,IAAIklC;AACxC,gBAAI,MAAM4rB,EAAYx4D,CAAC,CAAC,MACtB24D,EAAQjxD,CAAC,IAAI;AAAA,cAEjB;AACA,oBAAMkxD,IAAU,IAAI,MAAM7iC,EAAK,MAAM,EAAE,KAAK,EAAK;AACjD,uBAASruB,IAAI,GAAGA,IAAIquB,EAAK,QAAQruB;AAC/B,gBAAIixD,EAAQ5iC,EAAKruB,CAAC,CAAC,MACjBkxD,EAAQlxD,CAAC,IAAI;AAGjB,oBAAMmxD,IAAS,KAAK;AACpB,kBAAIC,IAAS;AACb,uBAASpxD,IAAI,GAAGA,IAAImxD,EAAO,QAAQnxD,KAAK;AACtC,gBAAI,CAACkxD,EAAQlxD,CAAC,KAAK,CAACkxD,EAAQlxD,IAAI,CAAC,KAAK,CAACkxD,EAAQlxD,IAAI,CAAC,KAClDoxD;AAGJ,cAAIA,MAAW,KACb9rC,EAAI,MAAM,kEAAkE,GAE9E+I,IAAO,IAAI,YAAY+iC,IAAS,CAAC;AACjC,kBAAIC,IAAK;AACT,uBAASrxD,IAAI,GAAGA,IAAImxD,EAAO,QAAQnxD,KAAK;AACtC,gBAAI,CAACkxD,EAAQlxD,CAAC,KAAK,CAACkxD,EAAQlxD,IAAI,CAAC,KAAK,CAACkxD,EAAQlxD,IAAI,CAAC,MAClDquB,EAAKgjC,GAAI,IAAIF,EAAOnxD,CAAC,GACrBquB,EAAKgjC,GAAI,IAAIF,EAAOnxD,IAAI,CAAC,GACzBquB,EAAKgjC,GAAI,IAAIF,EAAOnxD,IAAI,CAAC;AAAA,YAG/B;AACA,YAAA4wD,EAAK,KAAK,CAAC,GACXA,IAAO,KAAK,aAAaA,GAAM/1B,GAAOi2B,CAAW,GAC7Cj2B,EAAM,oBACR+1B,IAAO,KAAK,aAAaA,GAAM/1B,GAAOi2B,GAAa,EAAI;AAAA,UAE3D,MAAA,CAAWj2B,EAAM,eACfvV,EAAI,KAAK,YAAYurC,CAAM,wBAAwBh2B,EAAM,YAAY,MAAM,iBAAiB;AAE9F,cAAIA,EAAM,cAAcg2B,MAAWh2B,EAAM,cAAc,OAAO,QAAQ;AACpE,YAAAA,EAAM,SAAS,CAAA;AACf,qBAAS76B,IAAI,GAAGA,IAAI6wD,GAAQ7wD,KAAK;AAC/B,oBAAM6mC,IAAO,MAAM,KAAK+pB,EAAK,MAAM5wD,IAAI,GAAGA,IAAI,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC1H,MAAMA,IAAI,GAAG,GAClEg5D,IAAYz2B,EAAM,cAAc,OAAO76B,CAAC,GACxC4hB,IAAQ,CAAC,GAAG,GAAG,CAAC;AACtB,kBAAI/lB,IAAQ;AACZ,uBAASwxB,IAAK,GAAGA,IAAKvJ,GAAMuJ;AAC1B,oBAAIwN,EAAM,OAAOxN,CAAE,MAAMrtB,GAAG;AAC1B,wBAAMoQ,IAAMid,IAAK;AACjB,kBAAAzL,EAAM,CAAC,KAAK,KAAK,IAAIxR,CAAG,GACxBwR,EAAM,CAAC,KAAK,KAAK,IAAIxR,IAAM,CAAC,GAC5BwR,EAAM,CAAC,KAAK,KAAK,IAAIxR,IAAM,CAAC,GAC5BvU;AAAA,gBACF;AAOF,kBALIA,IAAQ,MACV+lB,EAAM,CAAC,KAAK/lB,GACZ+lB,EAAM,CAAC,KAAK/lB,GACZ+lB,EAAM,CAAC,KAAK/lB,IAEVgrC,EAAK,CAAC,MAAM,KAAK,CAACyqB;AAAA,cACtBA,EAAU,WAAW,GAAG;AACtB;AAEF,cAAAzqB,EAAK,CAAC,IAAI;AACV,oBAAMqiB,IAAQ,IAAIhf;AAAA,gBAChBonB;AAAA,gBACA;AAAA,kBACE,WAAWzqB;AAAA,kBACX,aAAa;AAAA,kBACb,aAAaA;AAAA,kBACb,WAAW;AAAA,kBACX,WAAWA;AAAA,kBACX,WAAW;AAAA,kBACX,eAAe;AAAA,kBACf,gBAAgB;AAAA;AAAA,gBAAA;AAAA,gBAElBjlB;AAAA,cAAA;AAEF,cAAAiZ,EAAM,OAAO,KAAKquB,CAAK,GACvB5jC,EAAI,MAAM,yBAAyB4jC,CAAK;AAAA,YAC1C;AAAA,UACF;AACE,mBAAOruB,EAAM;AAEf,gBAAMs1B,IAAQ,KAAK,IAAI,KAAK,IAAIt1B,EAAM,SAAS,CAAC,GAAGA,EAAM,WAAW,CAAC,GAC/Du1B,IAActsC,IAAOqsC,GACrB1iC,IAAQ,IAAI,WAAW3J,IAAO,CAAC;AACrC,cAAIzc,IAAI;AACR,mBAASrH,IAAI,GAAGA,IAAI8jB,GAAM9jB,KAAK;AAC7B,kBAAM1H,IAAIuiC,EAAM,OAAO76B,IAAIowD,CAAW,IAAIlrB,GACpC90B,IAAM,IAAI,KAAK,IAAI,KAAK,IAAI9X,GAAG,CAAC,GAAGu4D,IAAS,CAAC;AACnD,YAAApjC,EAAMpmB,IAAI,CAAC,IAAIupD,EAAKxgD,IAAM,CAAC,GAC3Bqd,EAAMpmB,IAAI,CAAC,IAAIupD,EAAKxgD,IAAM,CAAC,GAC3Bqd,EAAMpmB,IAAI,CAAC,IAAIupD,EAAKxgD,IAAM,CAAC,GAC3Bqd,EAAMpmB,IAAI,CAAC,IAAI,KAAK,MAAMupD,EAAKxgD,IAAM,CAAC,IAAI,MAAMyqB,EAAM,UAAU,GAAG,GACnExzB,KAAK;AAAA,UACP;AACA,cAAIkqD,IAAS,IAAI,MAAMztC,CAAI,EAAE,KAAK,EAAK;AACvC,UAAI+W,EAAM,kBAAkB,MAC1B02B,IAASxlC,GAAgB,mBAAmB0B,GAAO,KAAK,IAAI,IAE9DpmB,IAAI;AACJ,mBAASrH,IAAI,GAAGA,IAAI8jB,GAAM9jB,KAAK;AAC7B,gBAAI4jB,IAAM5jB,IAAI,KAAK;AACnB,YAAI,KAAK,iBAAiB,MACxB4jB,IAAM5jB,IAAI,KAAK;AAEjB,gBAAI+vD,IAAMtiC,EAAMpmB,IAAI,CAAC,IAAI;AACzB,gBAAIkqD,EAAOvxD,CAAC,MACV+vD,IAAMl1B,EAAM,eACRA,EAAM,gBAAgB,IAAG;AAC3B,cAAAt7B,EAAGqkB,IAAM,CAAC,IAAI,GACdrkB,EAAGqkB,IAAM,CAAC,IAAI,GACdrkB,EAAGqkB,IAAM,CAAC,IAAI,GACdvc,KAAK;AACL;AAAA,YACF;AAEF,YAAA9H,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAG6J,EAAMpmB,IAAI,CAAC,GAAG0oD,CAAG,GACjDxwD,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAG6J,EAAMpmB,IAAI,CAAC,GAAG0oD,CAAG,GACjDxwD,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAG6J,EAAMpmB,IAAI,CAAC,GAAG0oD,CAAG,GACjD1oD,KAAK;AAAA,UACP;AACA;AAAA,QACF;AACA,YAAIwzB,EAAM,kBAAkB,YAAY;AACtC,gBAAMpN,IAAQ,IAAI,WAAWoN,EAAM,OAAO,MAAM;AAChD,cAAI02B,IAAS,IAAI,MAAMztC,CAAI,EAAE,KAAK,EAAI;AACtC,UAAI+W,EAAM,kBAAkB,MAC1B02B,IAASxlC,GAAgB,mBAAmB0B,GAAO,KAAK,IAAI;AAE9D,cAAIpmB,IAAI;AACR,mBAASrH,IAAI,GAAGA,IAAI66B,EAAM,OAAO,QAAQ76B,KAAK;AAC5C,gBAAI4jB,IAAM5jB,IAAI,KAAK;AACnB,YAAI,KAAK,iBAAiB,MACxB4jB,IAAM5jB,IAAI,KAAK;AAEjB,gBAAI+vD,IAAMz1B;AACV,gBAAIi3B,EAAOvxD,CAAC,MACV+vD,IAAMl1B,EAAM,eACRA,EAAM,gBAAgB,IAAG;AAC3B,cAAAt7B,EAAGqkB,IAAM,CAAC,IAAI,GACdrkB,EAAGqkB,IAAM,CAAC,IAAI,GACdrkB,EAAGqkB,IAAM,CAAC,IAAI,GACdvc,KAAK;AACL;AAAA,YACF;AAEF,YAAA9H,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAG6J,EAAMpmB,IAAI,CAAC,GAAG0oD,CAAG,GACjDxwD,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAG6J,EAAMpmB,IAAI,CAAC,GAAG0oD,CAAG,GACjDxwD,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAG6J,EAAMpmB,IAAI,CAAC,GAAG0oD,CAAG,GACjD1oD,KAAK;AAAA,UACP;AACA;AAAA,QACF;AACA,QAAIwzB,EAAM,oBACRA,EAAM,UAAU,KAAK,IAAI,OAAO,SAASA,EAAM,OAAO,GACtDA,EAAM,UAAU,KAAK,IAAIA,EAAM,UAAU,MAAMA,EAAM,OAAO,IAE1DA,EAAM,6BAA6B,WACrCA,EAAM,2BAA2B;AAEnC,cAAM/P,IAAMgB,GAAQ,SAAS+O,EAAM,UAAUA,EAAM,cAAc;AAKjE,YAJIA,EAAM,mBACR81B,KAEF,KAAK,cAAcpxD,GAAIywD,GAAcn1B,GAAOA,EAAM,SAASA,EAAM,SAAS/P,CAAG,GACzE+P,EAAM,iBAAiB;AACzB,gBAAM22B,IAAS1lC,GAAQ,SAAS+O,EAAM,kBAAkBA,EAAM,cAAc;AAC5E,cAAIhN,IAAKgN,EAAM,SACX9M,IAAK8M,EAAM;AACf,UAAI,SAASA,EAAM,UAAU,KAAK,SAASA,EAAM,UAAU,MACzDhN,IAAK,CAACgN,EAAM,YACZ9M,IAAK,CAAC8M,EAAM,aAEd,KAAK,cAAct7B,GAAIywD,GAAcn1B,GAAOhN,GAAIE,GAAIyjC,GAAQ,EAAI;AAAA,QAClE;AAAA,MACF;AAEF,QAAIb,IAAmB;AACrB,eAAS3wD,IAAI,GAAGA,IAAI8jB,GAAM9jB,KAAK;AAC7B,YAAIyxD,IAAW,SAASl5D,GAAGtE,GAAG;AAC5B,iBAAO,KAAK,IAAIsE,IAAItE,IAAK,qBAAU,GAAG;AAAA,QACxC,GACI2vB,IAAM5jB,IAAI,KAAK;AACnB,QAAI,KAAK,iBAAiB,MACxB4jB,IAAM5jB,IAAI,KAAK;AAEjB,cAAM1H,IAAI0H,IAAI,GACRs6B,IAAU,KAAK,IAAIq2B,GAAkBX,EAAa13D,IAAI,CAAC,IAAI,GAAG;AACpE,QAAIgiC,KAAW,MAGf/6B,EAAGqkB,IAAM,CAAC,IAAI6tC,EAASlyD,EAAGqkB,IAAM,CAAC,GAAGosC,EAAa13D,IAAI,CAAC,CAAC,GACvDiH,EAAGqkB,IAAM,CAAC,IAAI6tC,EAASlyD,EAAGqkB,IAAM,CAAC,GAAGosC,EAAa13D,IAAI,CAAC,CAAC,GACvDiH,EAAGqkB,IAAM,CAAC,IAAI6tC,EAASlyD,EAAGqkB,IAAM,CAAC,GAAGosC,EAAa13D,IAAI,CAAC,CAAC,GACvDiH,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAGosC,EAAa13D,IAAI,CAAC,GAAGgiC,CAAO,GAC5D/6B,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAGosC,EAAa13D,IAAI,CAAC,GAAGgiC,CAAO,GAC5D/6B,EAAGqkB,IAAM,CAAC,IAAI3oB,EAAKsE,EAAGqkB,IAAM,CAAC,GAAGosC,EAAa13D,IAAI,CAAC,GAAGgiC,CAAO;AAAA,MAC9D;AAEF,IAAA3Y,EAAG,WAAWA,EAAG,sBAAsB,KAAK,WAAW,GACvDA,EAAG,WAAWA,EAAG,sBAAsB,YAAY,KAAK0M,CAAI,GAAG1M,EAAG,WAAW,GAC7EA,EAAG,WAAWA,EAAG,cAAc,KAAK,YAAY,GAChDA,EAAG,WAAWA,EAAG,cAAcpiB,GAAIoiB,EAAG,WAAW,GACjD,KAAK,aAAa0M,EAAK,QACvB,KAAK,cAAc,KAAK,IAAI;AAAA,EAC9B;AAAA;AAAA;AAAA,EAGA,aAAa1M,GAAI;AAIf,QAHI,KAAK,aAGL,KAAK;AACP;AAEF,UAAM0M,IAAO,KAAK,QAAQ,CAAA;AAC1B,aAASruB,IAAI,GAAGA,IAAIquB,EAAK,QAAQruB,KAAK,GAAG;AACvC,YAAMmgC,IAAM9R,EAAKruB,CAAC;AAClB,MAAAquB,EAAKruB,CAAC,IAAIquB,EAAKruB,IAAI,CAAC,GACpBquB,EAAKruB,IAAI,CAAC,IAAImgC;AAAA,IAChB;AACA,SAAK,WAAWxe,CAAE;AAAA,EACpB;AAAA,EACA,oBAAoB;AAGlB,UAAM+vC,IAAK,KAAK,KAAK,SAAS,GACxBhgD,IAAQ,KAAK,IAAIggD,IAAK,EAAE,IAAI,KAAK,IAAI,CAAC;AAC5C,QAAIA,MAAO,KAAK,IAAI,GAAGhgD,CAAK,IAAI;AAC9B,aAAO;AAGT,QADW,KAAK,IAAI,SAAS,MAClB,KAAK,IAAI,GAAGA,CAAK,IAAK,KAAU;AACzC,aAAO;AAET,aAASxd,IAAI,GAAGA,IAAI,IAAIA,KAAK;AAC3B,UAAI,KAAK,KAAKA,CAAC,MAAM;AACnB,eAAO;AAGX,aAASA,IAAI,IAAIA,IAAI,IAAIA,KAAK;AAC5B,UAAI,KAAK,KAAKA,CAAC,MAAM;AACnB,eAAO;AAGX,aAASA,IAAI,IAAIA,IAAI,IAAIA,KAAK;AAC5B,UAAI,KAAK,KAAKA,CAAC,MAAM;AACnB,eAAO;AAGX,WAAOwd;AAAA,EACT;AAAA,EACA,cAAc5N,GAAG6tD,GAAS;AACxB,QAAIC,IAAM,KAAK;AACf,UAAMtvB,IAAK,IACLuvB,IAAK;AACX,aAAS7xD,IAAI8D,IAAI,GAAG9D,KAAK2xD,GAAS3xD,KAAK;AACrC,YAAM8xD,IAAU,KAAK,IAAI,GAAG9xD,IAAI,CAAC,KAAKsiC,IAAK,KAAK,GAC1CyvB,IAAM,KAAK,IAAI,GAAG/xD,CAAC,KAAKsiC,IAAK,KAAK,GAClC0vB,IAAUJ,EAAI,SAAS,GACvBK,IAAM,KAAK,IAAI,GAAGjyD,CAAC,IAAI6xD;AAC7B,MAAAvsC,EAAI,KAAK,SAAStlB,IAAI,CAAC,OAAOA,CAAC,aAAa8xD,CAAO,OAAOC,CAAG,UAAUC,CAAO,OAAOC,CAAG,EAAE;AAC1F,YAAMvuC,IAAQ,MAAM,KAAK,EAAE,QAAQouC,EAAA,GAAW,CAACv0D,GAAGrJ,MAAMA,IAAI,CAAC;AAC7D,eAASA,IAAI,GAAGA,IAAI89D,GAAS99D,KAAK;AAChC,cAAMquB,IAAKqvC,EAAI,IAAI19D,CAAC,GACdsuB,IAAKovC,EAAI,IAAI19D,IAAI,CAAC,GAClBgwB,IAAK0tC,EAAI,IAAI19D,IAAI,CAAC;AACxB,QAAAwvB,EAAMnB,IAAK,CAAC,IAAI,KAAK,IAAImB,EAAMnB,IAAK,CAAC,GAAGC,GAAI0B,CAAE;AAAA,MAChD;AACA,YAAMguC,IAAO,IAAI,YAAYD,IAAM,CAAC;AACpC,eAAS/9D,IAAI,GAAGA,IAAI+9D,GAAK/9D;AACvB,QAAAg+D,EAAK,IAAIh+D,CAAC,IAAIwvB,EAAMkuC,EAAI,IAAI19D,CAAC,IAAI,CAAC,GAClCg+D,EAAK,IAAIh+D,IAAI,CAAC,IAAIwvB,EAAMkuC,EAAI,IAAI19D,IAAI,CAAC,IAAI,CAAC,GAC1Cg+D,EAAK,IAAIh+D,IAAI,CAAC,IAAIwvB,EAAMkuC,EAAI,IAAI19D,IAAI,CAAC,IAAI,CAAC;AAE5C,MAAA09D,IAAMM;AAAA,IACR;AACA,SAAK,OAAO,IAAI,YAAYN,CAAG;AAAA,EACjC;AAAA;AAAA,EAEA,yBAAyBjwC,GAAIjQ,IAAQ,GAAG;AACtC,UAAMygD,IAAa,KAAK,kBAAA;AACxB,QAAI,MAAMA,CAAU;AAClB,aAAA7sC,EAAI,KAAK,oEAAoE,GACtE;AAET,QAAI5T,KAASygD;AACX,aAAA7sC,EAAI,KAAK,yCAAyC6sC,CAAU,4CAA4CzgD,CAAK,GAAG,GACzG;AAET,UAAM0gD,IAAe,KAAK,IAAI,SAAS,GAEjCnmB,IAAK,KAAK,IAAI,GAAGv6B,CAAK,KADjB,KAC2B,KAAK;AAG3C,QAFA,KAAK,MAAM,IAAI,aAAa,KAAK,IAAI,MAAM,GAAGu6B,IAAK,CAAC,CAAC,GACrD,KAAK,cAAckmB,GAAYzgD,CAAK,GAChC,KAAK,UAAU,KAAK,OAAO,SAAS;AACtC,eAASxd,IAAI,GAAGA,IAAI,KAAK,OAAO,QAAQA,KAAK;AAC3C,cAAM2mC,IAAQ,KAAK,OAAO3mC,CAAC;AAC3B,QAAI2mC,EAAM,kBAAkB,gBAAgBA,EAAM,OAAO,WAAWu3B,IAClEv3B,EAAM,SAAS,IAAI,aAAaA,EAAM,OAAO,MAAM,GAAGoR,CAAE,CAAC,IAEzD3mB,EAAI,KAAK,sCAAsC;AAAA,MAEnD;AAEF,gBAAK,WAAW3D,CAAE,GACX;AAAA,EACT;AAAA;AAAA;AAAA,EAGA,MAAM,iBAAiBlP,GAAI3U,GAAKqJ,GAAKwa,GAAI;AACvC,UAAMkZ,IAAQ,KAAK,OAAOpoB,CAAE;AAC5B,QAAI,CAACooB,KAAS,EAAE/8B,KAAO+8B,IAAQ;AAC7B,MAAAvV,EAAI,KAAK,gCAAgCxnB,GAAK,eAAe+8B,CAAK;AAClE;AAAA,IACF;AACA,QAAI/8B,MAAQ;AACV,UAAI,OAAOqJ,KAAQ;AACjB,QAAA0zB,EAAM/8B,CAAG,IAAIguB,GAAQ,aAAa3kB,GAAK,KAAK0zB,EAAM,UAAU;AAAA,eACnD,OAAO1zB,KAAQ,UAAU;AAClC,cAAM+iB,IAAO,MAAM4B,GAAQ,oBAAoB3kB,CAAG;AAClD,QAAA0zB,EAAM/8B,CAAG,IAAIosB,GACb,KAAK,WAAWvI,CAAE;AAClB;AAAA,MACF;AACE,QAAA2D,EAAI,MAAM,2CAA2C;AAAA;AAGvD,MAAAuV,EAAM/8B,CAAG,IAAIqJ;AAEf,SAAK,WAAWwa,CAAE;AAAA,EACpB;AAAA;AAAA;AAAA,EAGA,YAAY7jB,GAAKqJ,GAAKwa,GAAI;AACxB,QAAI,EAAE7jB,KAAO,OAAO;AAClB,cAAQ,KAAK,gCAAgCA,GAAK,IAAI;AACtD;AAAA,IACF;AAEA,SAAKA,CAAG,IAAIqJ,GACZ,KAAK,WAAWwa,CAAE;AAAA,EACpB;AAAA;AAAA;AAAA,EAGA,mBAAmBgM,GAAKU,GAAMtJ,GAAS;AACrC,KAAI4I,EAAI,SAAS,KAAK5I,EAAQ,SAAS,OACrCO,EAAI,MAAM,2CAA2C,GACrDA,EAAI,MAAM,QAAQ,IAAI,GACtBA,EAAI,MAAM,OAAOqI,CAAG,GACpBrI,EAAI,MAAM,QAAQP,CAAO;AAE3B,UAAM+J,IAAQ/C,GAAgB,gBAAgB4B,GAAKU,CAAI,GACjD0G,IAAMpH,EAAI,SAAS,GACnB0kC,IAAoBt9B,MAAQhQ,EAAQ,SAAS,GAC7CkmC,IAAe,KAAK,cACpB3xB,IAAM,IAAI,aAAavE,IAAMk2B,CAAY,GACzC1rD,IAAK,IAAI,WAAW+5B,EAAI,MAAM;AACpC,QAAI/3B,IAAI,GACJ3I,IAAI,GACJ+qB,IAAI,GACJ,KAAKsnC,IAAe,KAAK;AAC7B,aAAS/2D,IAAI,GAAGA,IAAI6gC,GAAK7gC;AACvB,MAAAolC,EAAI3V,IAAI,CAAC,IAAIgK,EAAIpsB,IAAI,CAAC,GACtB+3B,EAAI3V,IAAI,CAAC,IAAIgK,EAAIpsB,IAAI,CAAC,GACtB+3B,EAAI3V,IAAI,CAAC,IAAIgK,EAAIpsB,IAAI,CAAC,GAClB0pD,MAAiB,KACnB1rD,EAAG,IAAI,CAAC,IAAIuvB,EAAMvtB,IAAI,CAAC,IAAI,KAC3BhC,EAAG,IAAI,CAAC,IAAIuvB,EAAMvtB,IAAI,CAAC,IAAI,KAC3BhC,EAAG,IAAI,CAAC,IAAIuvB,EAAMvtB,IAAI,CAAC,IAAI,QAE3B+3B,EAAI3V,IAAI,CAAC,IAAImL,EAAMvtB,IAAI,CAAC,GACxB+3B,EAAI3V,IAAI,CAAC,IAAImL,EAAMvtB,IAAI,CAAC,GACxB+3B,EAAI3V,IAAI,CAAC,IAAImL,EAAMvtB,IAAI,CAAC,IAE1BhC,EAAG,CAAC,IAAIwlB,EAAQnsB,IAAI,CAAC,GACrB2G,EAAG,IAAI,CAAC,IAAIwlB,EAAQnsB,IAAI,CAAC,GACzB2G,EAAG,IAAI,CAAC,IAAIwlB,EAAQnsB,IAAI,CAAC,GACzB2G,EAAG,IAAI,CAAC,IAAIwlB,EAAQnsB,IAAI,CAAC,GACrBy5D,MACFz5D,KAAK,IAEP2I,KAAK,GACLoiB,KAAKsnC,GACL,KAAKA,IAAe;AAEtB,WAAO3xB;AAAA,EACT;AAAA;AAAA,EAEA,aAAa,SAASvmC,GAAQoL,GAAMwjB,GAAI2Y,IAAU,GAAGvV,IAAU,IAAI,WAAW,CAAC,KAAK,KAAK,KAAK,GAAG,CAAC,GAAGslC,IAAU,IAAM;AACnH,QAAIh8B,IAAO,IAAI,YAAY,EAAE,GACzBV,IAAM,IAAI,aAAa,EAAE,GACzBgV,IAA6B,IAC7B17B;AACJ,UAAM8zB,IAAK;AACX,QAAIC,IAAMD,EAAG,KAAK58B,CAAI,EAAE,CAAC;AAazB,QAZA68B,IAAMA,EAAI,YAAA,GACNA,MAAQ,SACVA,IAAMD,EAAG,KAAK58B,EAAK,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,GAClC68B,IAAMA,EAAI,YAAA,IAERA,MAAQ,UACV1V,EAAI,MAAM,uEAAuE,GAE/E0V,MAAQ,UACV1V,EAAI,MAAM,uEAAuE,GAEnFP,EAAQ,CAAC,IAAI,KAAK,IAAI,GAAGA,EAAQ,CAAC,CAAC,GAC/BiW,MAAQ,SAASA,MAAQ,SAASA,MAAQ,QAAQA,MAAQ,SAASA,MAAQ,SAAS;AAYtF,UAXIA,MAAQ,QACV/zB,IAAMmtB,GAAc,QAAQrhC,CAAM,IACzBioC,MAAQ,UACjB/zB,IAAMmtB,GAAc,UAAUrhC,CAAM,IAC3BioC,MAAQ,OACjB/zB,IAAM,MAAMmtB,GAAc,OAAOrhC,CAAM,IAC9BioC,MAAQ,QACjB/zB,IAAM,MAAMmtB,GAAc,QAAQrhC,CAAM,IAExCkU,IAAM,MAAMmtB,GAAc,QAAQrhC,CAAM,GAEtC,OAAOkU,IAAQ,KAAa;AAC9B,cAAMqrD,IAAO,IAAI,aAAa,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAC1Ct9B,IAAY,IAAI,YAAY,CAAC,CAAC,CAAC;AACrC,QAAA/tB,IAAM,EAAE,KAAKqrD,GAAM,WAAAt9B,EAAA,GACnB1P,EAAI,MAAM,uBAAuB;AAAA,MACnC;AACA,aAAAP,EAAQ,CAAC,IAAI,GACN,IAAIqlC;AAAA,QACTnjD,EAAI;AAAA,QACJA,EAAI;AAAA,QACJ9I;AAAA,QACA4mB;AAAA;AAAA,QAEAuV;AAAA;AAAA,QAEA+vB;AAAA;AAAA,QAEA1oC;AAAA,QACA;AAAA,QACA1a,EAAI,OAAO;AAAA,QACXA,EAAI,OAAO;AAAA,QACXA,EAAI,OAAO;AAAA,QACXA,EAAI;AAAA,MAAA;AAAA,IAER;AACA,QAAI+zB,MAAQ;AACV,MAAA/zB,IAAM,MAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aAC/BioC,MAAQ;AACjB,MAAA/zB,IAAM,MAAMmtB,GAAc,QAAQrhC,CAAM,GAClC,eAAekU,KACnBqe,EAAI,KAAK,oDAAoD;AAAA,aAEtD0V,MAAQ;AACjB,MAAA/zB,IAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aACzBioC,MAAQ;AACjB,MAAA/zB,IAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aACzBioC,MAAQ,SAASA,MAAQ;AAClC,MAAA/zB,IAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aACzBioC,MAAQ;AACjB,MAAA/zB,IAAMmtB,GAAc,QAAQrhC,GAAQ,EAAI;AAAA,aAC/BioC,MAAQ,SAASA,MAAQ;AAClC,MAAA/zB,IAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aACzBioC,MAAQ;AACjB,MAAA/zB,IAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aACzBioC,MAAQ;AACjB,MAAA/zB,IAAMmtB,GAAc,OAAOrhC,CAAM;AAAA,aACxBioC,MAAQ;AACjB,MAAA/zB,IAAM,MAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aAC/BioC,MAAQ;AACjB,MAAA/zB,IAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aACzBioC,MAAQ;AACjB,MAAA/zB,IAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aACzBioC,MAAQ;AACjB,MAAA/zB,IAAMmtB,GAAc,QAAQrhC,CAAM;AAAA,aACzBioC,MAAQ,SAASA,MAAQ;AAElC,UADA/zB,IAAMmtB,GAAc,QAAQrhC,CAAM,GAC9B,eAAekU;AACjB,eAAA8d,EAAQ,CAAC,IAAI,GACN,IAAIqlC;AAAA,UACTnjD,EAAI;AAAA,UACJA,EAAI;AAAA,UACJ9I;AAAA,UACA4mB;AAAA;AAAA,UAEAuV;AAAA;AAAA,UAEA+vB;AAAA;AAAA,UAEA1oC;AAAA,UACA;AAAA,QAAA;AAAA,UAGN,CAAWqZ,MAAQ,QACjB/zB,IAAM,MAAMmtB,GAAc,QAAQrhC,CAAM,IAC/BioC,MAAQ,QACjB/zB,IAAMmtB,GAAc,QAAQrhC,CAAM,IAElCkU,IAAMmtB,GAAc,eAAerhC,CAAM;AAK3C,QAHIkU,EAAI,+BACN07B,IAA6B17B,EAAI,6BAE/BA,aAAe;AACjB,YAAM,IAAI,MAAM,iCAAiC;AAEnD,QAAI,EAAE,eAAeA;AACnB,YAAM,IAAI,MAAM,sBAAsB;AAExC,QAAI,CAACA,EAAI;AACP,YAAM,IAAI,MAAM,oBAAoB;AAOtC,QALA0mB,IAAM1mB,EAAI,WACVonB,IAAOpnB,EAAI,SACP,aAAaA,KAAOA,EAAI,QAAQ,SAAS,MAC3C8d,IAAU9d,EAAI,UAEZ,YAAYA,KAAOA,EAAI,UAAUA,EAAI,OAAO,WAAW0mB,EAAI,QAAQ;AACrE,YAAM7pB,IAAI6pB,EAAI,SAAS;AACvB,MAAA5I,IAAU,IAAI,WAAWjhB,IAAI,CAAC;AAC9B,UAAIlL,IAAI,GACJyO,IAAI;AACR,eAASnT,IAAI,GAAGA,IAAI4P,GAAG5P;AACrB,QAAA6wB,EAAQ1d,GAAG,IAAIJ,EAAI,OAAOrO,CAAC,IAAI,KAC/BmsB,EAAQ1d,GAAG,IAAIJ,EAAI,OAAOrO,IAAI,CAAC,IAAI,KACnCmsB,EAAQ1d,GAAG,IAAIJ,EAAI,OAAOrO,IAAI,CAAC,IAAI,KACnCmsB,EAAQ1d,GAAG,IAAI,KACfzO,KAAK;AAAA,IAET;AACA,UAAMm8B,IAAMpH,EAAI,SAAS;AAEzB,QADaU,EAAK,SAAS,IAChB,KAAK0G,IAAM;AACpB,YAAM,IAAI,MAAM,2DAA2D;AAE7E,IAAAhQ,EAAQ,CAAC,IAAI,KAAK,IAAI,GAAGA,EAAQ,CAAC,CAAC;AACnC,UAAMwtC,IAAM,IAAInI;AAAA,MACdz8B;AAAA,MACAU;AAAA,MACAlwB;AAAA,MACA4mB;AAAA;AAAA,MAEAuV;AAAA;AAAA,MAEA+vB;AAAA;AAAA,MAEA1oC;AAAA,MACA;AAAA;AAAA,MAEA;AAAA;AAAA,MAEA;AAAA;AAAA,MAEA;AAAA;AAAA,MAEA;AAAA;AAAA,MAEA;AAAA;AAAA,MAEAghB;AAAA,IAAA;AAEF,QAAI,aAAa17B,KAAOA,EAAI,QAAQ,SAAS,GAAG;AAC9C,YAAMurD,IAAW,MAAMp+B,GAAc,UAAUj2B,GAAMpL,GAAQw/D,GAAKj4B,GAAS,MAAM;AACjF,MAAI,OAAOk4B,IAAa,MACtBltC,EAAI,KAAK,uCAAuC,KAEhDitC,EAAI,OAAO,KAAKC,CAAQ,GACxBD,EAAI,WAAW5wC,CAAE;AAAA,IAErB;AACA,WAAO4wC;AAAA,EACT;AAAA,EACA,aAAa,UAAU13B,GAAOR,GAAQ;AACpC,QAAItnC,IAAS,IAAI,WAAA,EAAa;AAC9B,aAASg0D,EAAoBj1B,GAAQ;AACnC,YAAM0X,IAAgB,OAAO,KAAK1X,CAAM,GAClC94B,IAAMwwC,EAAc,QACpB14B,IAAQ,IAAI,WAAW9X,CAAG;AAChC,eAAS9E,IAAI,GAAGA,IAAI8E,GAAK9E;AACvB,QAAA4c,EAAM5c,CAAC,IAAIs1C,EAAc,WAAWt1C,CAAC;AAEvC,aAAO4c,EAAM;AAAA,IACf;AACA,QAAI+pB,EAAM,WAAW;AACnB,MAAA9nC,IAASg0D,EAAoBlsB,EAAM,MAAM;AAAA,SACpC;AACL,UAAI,CAACA,EAAM;AACT,cAAM,IAAI,MAAM,oBAAoB;AAEtC,YAAM5nC,IAAW,MAAM,MAAM4nC,EAAM,KAAK,EAAE,SAASA,EAAM,SAAS;AAClE,UAAI,CAAC5nC,EAAS;AACZ,cAAM,MAAMA,EAAS,UAAU;AAEjC,MAAAF,IAAS,MAAME,EAAS,YAAA;AAAA,IAC1B;AACA,QAAIw/D,GACAjM,IAAW,CAAA;AACf,QAAI3rB,EAAM,QAAQA,EAAM,SAAS;AAC/B,MAAA43B,IAAY53B,EAAM;AAAA,SACb;AACL,UAAI,CAACA,EAAM;AACT,cAAM,IAAI,MAAM,oBAAoB;AAEtC,UAAI;AACF,QAAA2rB,IAAW,IAAI,IAAI3rB,EAAM,GAAG,EAAE,SAAS,MAAM,GAAG;AAAA,MAClD,QAAY;AACV,QAAA2rB,IAAW3rB,EAAM,IAAI,MAAM,GAAG;AAAA,MAChC,UAAA;AACE,QAAA43B,IAAYjM,EAAS,MAAM,EAAE,EAAE,CAAC;AAAA,MAClC;AAAA,IACF;AACA,IAAIiM,EAAU,QAAQ,GAAG,IAAI,OAC3BA,IAAYA,EAAU,MAAM,GAAGA,EAAU,QAAQ,GAAG,CAAC;AAEvD,QAAIn4B,IAAU;AACd,IAAI,aAAaO,MACfP,IAAUO,EAAM;AAElB,QAAIN,IAAW;AACf,IAAI,cAAcM,MAChBN,IAAWM,EAAM;AAEnB,QAAIL,IAAmB;AACvB,IAAI,sBAAsBK,MACxBL,IAAmBK,EAAM;AAE3B,QAAIJ,IAAkB;AACtB,IAAI,qBAAqBI,MACvBJ,IAAkBI,EAAM;AAE1B,QAAIH,IAAU;AACd,IAAI,aAAaG,MACfH,IAAUG,EAAM;AAElB,QAAIF,IAAU;AACd,IAAI,aAAaE,MACfF,IAAUE,EAAM;AAElB,UAAM23B,IAAW,MAAMp+B,GAAc;AAAA,MACnCq+B;AAAA,MACA1/D;AAAA,MACAsnC;AAAA,MACAC;AAAA,MACAC;AAAA,MACAC;AAAA,MACAC;AAAA,MACAC;AAAA,MACAC;AAAA,IAAA;AAEF,IAAI63B,KACFn4B,EAAO,OAAO,KAAKm4B,CAAQ;AAAA,EAE/B;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,YAAY;AAAA,IACvB,KAAAr/D,IAAM;AAAA,IACN,SAAAgwD,IAAU,CAAA;AAAA,IACV,IAAAxhC;AAAA,IACA,MAAAxjB,IAAO;AAAA,IACP,SAAAm8B,IAAU;AAAA,IACV,SAAAvV,IAAU,CAAC,KAAK,KAAK,KAAK,GAAG;AAAA,IAC7B,SAAAslC,IAAU;AAAA,IACV,QAAAqI,IAAS,CAAA;AAAA,IACT,QAAA3/D,IAAS,IAAI,YAAY,CAAC;AAAA,EAAA,IACxB,IAAI;AACN,QAAIyzD,IAAWrzD,EAAI,MAAM,GAAG;AAC5B,QAAIgL,MAAS,IAAI;AACf,UAAI;AACF,QAAAqoD,IAAW,IAAI,IAAIrzD,CAAG,EAAE,SAAS,MAAM,GAAG;AAAA,MAC5C,QAAY;AACV,QAAAqzD,IAAWrzD,EAAI,MAAM,GAAG;AAAA,MAC1B;AACA,MAAAgL,IAAOqoD,EAAS,MAAM,EAAE,EAAE,CAAC,GACvBroD,EAAK,QAAQ,GAAG,IAAI,OACtBA,IAAOA,EAAK,MAAM,GAAGA,EAAK,QAAQ,GAAG,CAAC;AAAA,IAE1C;AACA,QAAIhL,MAAQ;AACV,YAAM,MAAM,uBAAuB;AAErC,QAAI,CAACwuB;AACH,YAAM,MAAM,oBAAoB;AAElC,QAAI6L;AACJ,QAAIz6B,EAAO,aAAa;AACtB,MAAAy6B,IAAOz6B;AAAA,SACF;AACL,YAAME,IAAW,MAAM,MAAME,GAAK,EAAE,SAAAgwD,GAAS;AAC7C,UAAI,CAAClwD,EAAS;AACZ,cAAM,MAAMA,EAAS,UAAU;AAEjC,MAAAu6B,IAAO,MAAMv6B,EAAS,YAAA;AAAA,IACxB;AACA,UAAMonC,IAAS,MAAM,KAAK,SAAS7M,GAAMrvB,GAAMwjB,GAAI2Y,GAAS,IAAI,WAAWvV,CAAO,GAAGslC,CAAO;AAC5F,QAAI,CAACqI,KAAUA,EAAO,SAAS;AAC7B,aAAOr4B;AAET,aAASnmC,IAAI,GAAGA,IAAIw+D,EAAO,QAAQx+D;AACjC,YAAMk2D,GAAQ,UAAUsI,EAAOx+D,CAAC,GAAGmmC,CAAM;AAE3C,WAAAA,EAAO,WAAW1Y,CAAE,GACb0Y;AAAA,EACT;AAAA;AAAA;AAAA,EAGA,aAAa,cAAc7H,GAAM;AAC/B,WAAO,IAAI,QAAQ,CAAC/jB,GAASgkB,MAAW;AACtC,YAAMn/B,IAAS,IAAI,WAAA;AACnB,MAAAA,EAAO,SAAS,MAAM;AACpB,QAAAmb,EAAQnb,EAAO,MAAM;AAAA,MACvB,GACAA,EAAO,UAAUm/B,GACjBn/B,EAAO,kBAAkBk/B,CAAI;AAAA,IAC/B,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,aAAa,aAAa;AAAA,IACxB,MAAAA;AAAA,IACA,IAAA7Q;AAAA,IACA,MAAAxjB,IAAO;AAAA,IACP,SAAAm8B,IAAU;AAAA,IACV,SAAAvV,IAAU,CAAC,KAAK,KAAK,KAAK,GAAG;AAAA,IAC7B,SAAAslC,IAAU;AAAA,IACV,QAAAqI,IAAS,CAAA;AAAA,EAAC,IACR,IAAI;AACN,QAAI,CAAClgC;AACH,YAAM,IAAI,MAAM,kBAAkB;AAEpC,QAAI,CAAC7Q;AACH,YAAM,IAAI,MAAM,+BAA+B;AAEjD,UAAM5uB,IAAS,MAAMq3D,GAAQ,cAAc53B,CAAI,GACzC6H,IAAS,MAAM+vB,GAAQ,SAASr3D,GAAQoL,GAAMwjB,GAAI2Y,GAAS,IAAI,WAAWvV,CAAO,GAAGslC,CAAO;AACjG,QAAI,CAACqI,KAAUA,EAAO,SAAS;AAC7B,aAAOr4B;AAET,aAASnmC,IAAI,GAAGA,IAAIw+D,EAAO,QAAQx+D;AACjC,YAAMk2D,GAAQ,UAAUsI,EAAOx+D,CAAC,GAAGmmC,CAAM;AAE3C,WAAAA,EAAO,WAAW1Y,CAAE,GACb0Y;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,MAAM,eAAe;AAAA,IACnB,QAAAvI;AAAA,IACA,IAAAnQ;AAAA,IACA,MAAAxjB,IAAO;AAAA,IACP,SAAAm8B,IAAU;AAAA,IACV,SAAAvV,IAAU,CAAC,KAAK,KAAK,KAAK,GAAG;AAAA,IAC7B,SAAAslC,IAAU;AAAA,IACV,QAAAqI,IAAS,CAAA;AAAA,EAAC,IACR,IAAI;AACN,QAAI,CAAC5gC;AACH,YAAM,IAAI,MAAM,qBAAqB;AAEvC,QAAI,CAACnQ;AACH,YAAM,IAAI,MAAM,+BAA+B;AAEjD,aAASolC,EAAoBC,GAAS;AACpC,YAAMxd,IAAgB,OAAO,KAAKwd,CAAO,GACnChuD,IAAMwwC,EAAc,QACpB14B,IAAQ,IAAI,WAAW9X,CAAG;AAChC,eAAS9E,IAAI,GAAGA,IAAI8E,GAAK9E;AACvB,QAAA4c,EAAM5c,CAAC,IAAIs1C,EAAc,WAAWt1C,CAAC;AAEvC,aAAO4c,EAAM;AAAA,IACf;AACA,UAAM/d,IAASg0D,EAAoBj1B,CAAM,GACnCuI,IAAS,MAAM+vB,GAAQ,SAASr3D,GAAQoL,GAAMwjB,GAAI2Y,GAAS,IAAI,WAAWvV,CAAO,GAAGslC,CAAO;AACjG,QAAI,CAACqI,KAAUA,EAAO,SAAS;AAC7B,aAAOr4B;AAET,aAASnmC,IAAI,GAAGA,IAAIw+D,EAAO,QAAQx+D;AACjC,YAAMk2D,GAAQ,UAAUsI,EAAOx+D,CAAC,GAAGmmC,CAAM;AAE3C,WAAAA,EAAO,WAAW1Y,CAAE,GACb0Y;AAAA,EACT;AACF,GAGIs4B,KAAgB,u8rDAGhBC,KAAyB,8r4GAGzBC,KAA0B;AAAA,EAC5B,OAAO;AAAA,IACL,MAAM;AAAA,IACN,eAAe;AAAA,IACf,MAAM;AAAA,IACN,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,SAAS;AAAA,EAAA;AAAA,EAEX,SAAS;AAAA,IACP,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,WAAW;AAAA,IACX,YAAY;AAAA,IACZ,oBAAoB;AAAA,EAAA;AAAA,EAEtB,QAAQ;AAAA,IACN,EAAE,SAAS,IAAI,SAAS,cAAA;AAAA,IACxB;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa,EAAE,MAAM,MAAM,QAAQ,KAAK,OAAO,MAAM,KAAK,KAAA;AAAA,IAAK;AAAA,IAEjE;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa,EAAE,MAAM,KAAK,QAAQ,MAAM,OAAO,MAAM,KAAK,KAAA;AAAA,IAAK;AAAA,IAEjE;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa,EAAE,MAAM,MAAM,QAAQ,KAAK,OAAO,MAAM,KAAK,KAAA;AAAA,IAAK;AAAA,IAEjE;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa,EAAE,MAAM,MAAM,QAAQ,KAAK,OAAO,MAAM,KAAK,KAAA;AAAA,IAAK;AAAA,IAEjE;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa,EAAE,MAAM,KAAK,QAAQ,MAAM,OAAO,MAAM,KAAK,KAAA;AAAA,IAAK;AAAA,IAEjE;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,IACP;AAAA,IAEF;AAAA,MACE,SAAS;AAAA,MACT,SAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,KAAK;AAAA,MAAA;AAAA,MAEP,aAAa,EAAE,MAAM,KAAK,QAAQ,KAAK,OAAO,MAAM,KAAK,KAAA;AAAA,IAAK;AAAA,EAChE;AAAA,EAEF,SAAS,CAAA;AACX,GAIIC,KAAiB;AAAA,EACnB,MAAM;AAAA,EACN,cAAc;AAAA,EACd,sBAAsB;AAAA,EACtB,cAAc;AAAA,EACd,cAAc;AAAA,EACd,WAAW;AAAA,EACX,cAAc;AAAA,EACd,sBAAsB;AAAA,EACtB,SAAS;AAAA,EACT,SAAS;AAAA,EACT,WAAW;AAAA,EACX,qBAAqB;AAAA,EACrB,YAAY;AACd,GACIC,KAAe,MAAMC,WAAsB7I,GAAQ;AAAA,EACrD,YAAYxoC,GAAI2oC,GAAY;AAC1B,UAAM,IAAI,aAAa,CAAA,CAAE,GAAG,IAAI,YAAY,CAAA,CAAE,GAAGA,EAAW,MAAM,IAAI,WAAW,EAAE,GAAG,GAAG,IAAM3oC,GAAI2oC,CAAU,GAC7GtkD,EAAc,MAAM,IAAI,GACxBA,EAAc,MAAM,cAAc,GAClC,KAAK,KAAK2b,GACV,KAAK,OAAO,cACR,KAAK,SACP,KAAK,aAAA,GAEP,KAAK,eAAe,IAAI,YAAA;AAAA,EAC1B;AAAA,EACA,OAAO,wBAAwB3iB,GAAM;AACnC,UAAMsrD,IAAa,EAAE,OAAO,CAAA,GAAI,OAAO,CAAA,GAAI,GAAGwI,GAAA;AAC9C,eAAW18C,KAAQpX;AACjB,UAAIoX,KAAQ08C,IAAgB;AAC1B,cAAMh1D,IAAMsY;AACZ,QAAAk0C,EAAWxsD,CAAG,IAAIkB,EAAKlB,CAAG;AAAA,MAC5B;AAEF,UAAMm1D,IAAQj0D,EAAK;AACnB,aAAS9K,IAAI,GAAGA,IAAI++D,EAAM,MAAM,QAAQ/+D;AACtC,MAAAo2D,EAAW,MAAM,KAAK;AAAA,QACpB,MAAM2I,EAAM,MAAM/+D,CAAC;AAAA,QACnB,GAAG++D,EAAM,EAAE/+D,CAAC;AAAA,QACZ,GAAG++D,EAAM,EAAE/+D,CAAC;AAAA,QACZ,GAAG++D,EAAM,EAAE/+D,CAAC;AAAA,QACZ,YAAY++D,EAAM,MAAM/+D,CAAC;AAAA,QACzB,WAAW++D,EAAM,KAAK/+D,CAAC;AAAA,MAAA,CACxB;AAEH,aAASA,IAAI,GAAGA,IAAI++D,EAAM,MAAM,SAAS,GAAG/+D;AAC1C,eAAS8L,IAAI9L,IAAI,GAAG8L,IAAIizD,EAAM,MAAM,QAAQjzD,KAAK;AAC/C,cAAMkzD,IAAal0D,EAAK,MAAM9K,IAAI++D,EAAM,MAAM,SAASjzD,CAAC;AACxD,QAAAsqD,EAAW,MAAM,KAAK;AAAA,UACpB,OAAOp2D;AAAA,UACP,QAAQ8L;AAAA,UACR,YAAAkzD;AAAA,QAAA,CACD;AAAA,MACH;AAEF,WAAO5I;AAAA,EACT;AAAA,EACA,OAAO,4BAA4BtrD,GAAMu7B,IAAW,QAAQ;AAC1D,QAAI44B,IAAU;AASd,QARM,eAAen0D,IAEVA,EAAK,cAAc,kBAC5Bm0D,IAAU,MAFVA,IAAU,IAIN,YAAYn0D,MAChBm0D,IAAU,KAER,CAACA;AACH,YAAM,MAAM,sCAAsC;AAEpD,UAAMF,IAAQj0D,EAAK,OAAO,IAAI,CAACuC,OAAO;AAAA,MACpC,MAAM,MAAM,QAAQA,EAAE,QAAQ,KAAKA,EAAE,SAAS,SAAS,KAAK,UAAUA,EAAE,SAAS,CAAC,IAAIA,EAAE,SAAS,CAAC,EAAE,OAAO;AAAA,MAC3G,GAAGA,EAAE,YAAY;AAAA,MACjB,GAAGA,EAAE,YAAY;AAAA,MACjB,GAAGA,EAAE,YAAY;AAAA,MACjB,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,UAAUA,EAAE;AAAA,IAAA,EACZ;AAQF,WAPmB;AAAA,MACjB,GAAGuxD;AAAA,MACH,cAAcv4B;AAAA,MACd,cAAcA;AAAA,MACd,OAAA04B;AAAA,MACA,OAAO,CAAA;AAAA,IAAC;AAAA,EAGZ;AAAA,EACA,eAAe;AACb,UAAMA,IAAQ,KAAK;AACnB,QAAIA,KAASA,EAAM,SAAS,GAAG;AAC7B,YAAMG,IAAUH,EAAM,OAAO,CAAC1+D,GAAG0B,MAAM1B,EAAE,YAAY0B,EAAE,YAAY1B,IAAI0B,CAAC,EAAE;AAC1E,UAAImE,GAAKC;AACT,UAAI,OAAO,KAAK,eAAiB,OAAe,SAAS,KAAK,YAAY;AACxE,QAAAD,IAAM,KAAK;AAAA,WACN;AACL,QAAAA,IAAM64D,EAAM,CAAC,EAAE;AACf,iBAAS/+D,IAAI,GAAGA,IAAI++D,EAAM,QAAQ/+D;AAChC,UAAI++D,EAAM/+D,CAAC,EAAE,aAAakG,MACxBA,IAAM64D,EAAM/+D,CAAC,EAAE;AAAA,MAGrB;AACA,UAAI,OAAO,KAAK,eAAiB,OAAe,SAAS,KAAK,YAAY;AACxE,QAAAmG,IAAM,KAAK;AAAA,WACN;AACL,QAAAA,IAAM44D,EAAM,CAAC,EAAE;AACf,iBAAS/+D,IAAI,GAAGA,IAAI++D,EAAM,QAAQ/+D;AAChC,UAAI++D,EAAM/+D,CAAC,EAAE,aAAamG,MACxBA,IAAM44D,EAAM/+D,CAAC,EAAE;AAAA,MAGrB;AACA,YAAM42B,IAAMgB,GAAQ,SAAS,KAAK,cAAc,KAAK,cAAc,GAC7DunC,IAASvnC,GAAQ,SAAS,KAAK,sBAAsB,KAAK,cAAc,GACxEwnC,IAAS,0BAA0B;AACzC,UAAIC,IAAsB,KAAK,sBAAsB,KAAK,sBAAsB;AAChF,MAAI,KAAK,eAAe,OACtBA,IAAsB;AAExB,eAASr/D,IAAI,GAAGA,IAAI++D,EAAM,QAAQ/+D,KAAK;AACrC,YAAIwyC,IAAQusB,EAAM/+D,CAAC,EAAE,YACjBs/D,IAAQ;AAKZ,YAJIF,KAAU5sB,IAAQ,MACpB8sB,IAAQ,IACR9sB,IAAQ,CAACA,IAEPtsC,IAAMC,GAAK;AACb,cAAIqsC,IAAQtsC,GAAK;AACf,YAAAkrB,EAAI,KAAK,4BAA4B;AACrC;AAAA,UACF;AACA,UAAAohB,KAASA,IAAQtsC,MAAQC,IAAMD;AAAA,QACjC;AACE,UAAAssC,IAAQ;AAEV,QAAAA,IAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,IAAI,KAAKA,IAAQ,GAAG,CAAC,CAAC,IAAI;AAC3D,YAAIG,IAAO,CAAC/b,EAAI4b,CAAK,GAAG5b,EAAI4b,IAAQ,CAAC,GAAG5b,EAAI4b,IAAQ,CAAC,GAAG,GAAG;AAC3D,QAAI8sB,MACF3sB,IAAO,CAACwsB,EAAO3sB,CAAK,GAAG2sB,EAAO3sB,IAAQ,CAAC,GAAG2sB,EAAO3sB,IAAQ,CAAC,GAAG,GAAG,IAElEG,IAAOA,EAAK,IAAI,CAACjuC,MAAMA,IAAI,GAAG,GAC9B0sB,EAAI,MAAM,qBAAqB2tC,EAAM/+D,CAAC,CAAC,GACvC++D,EAAM/+D,CAAC,EAAE,QAAQ,IAAIg2C;AAAA,UACnB+oB,EAAM/+D,CAAC,EAAE;AAAA,UACT;AAAA,YACE,WAAW2yC;AAAA,YACX,aAAaosB,EAAM/+D,CAAC,EAAE,YAAYk/D;AAAA,YAClC,aAAavsB;AAAA,YACb,WAAW0sB;AAAA,YACX,WAAW1sB;AAAA,YACX,WAAW;AAAA,YACX,eAAe;AAAA,YACf,gBAAgB;AAAA;AAAA,UAAA;AAAA,UAElB,CAACosB,EAAM/+D,CAAC,EAAE,GAAG++D,EAAM/+D,CAAC,EAAE,GAAG++D,EAAM/+D,CAAC,EAAE,CAAC;AAAA,QAAA,GAErCoxB,EAAI,MAAM,mBAAmB2tC,EAAM/+D,CAAC,EAAE,KAAK;AAAA,MAC7C;AAAA,IACF;AAAA,EACF;AAAA,EACA,kBAAkBmsB,GAAM;AAEtB,QADAiF,EAAI,MAAM,eAAejF,CAAI,GACzB,CAAC,KAAK;AACR,YAAM,IAAI,MAAM,mBAAmB;AAGrC,SAAK,MAAM,KAAKA,CAAI,GACpB,KAAK,aAAA,GACL,KAAK,aAAa,cAAc,IAAI,YAAY,aAAa,EAAE,QAAQ,EAAE,MAAAA,EAAA,EAAK,CAAG,CAAC;AAAA,EACpF;AAAA,EACA,qBAAqBA,GAAM;AACzB,UAAM5iB,IAAQ,KAAK,MAAM,QAAQ4iB,CAAI,GAC/BozC,IAAQ,KAAK;AACnB,IAAIA,MACF,KAAK,QAAQA,EAAM,OAAO,CAAC7xD,MAAMA,EAAE,UAAUnE,KAASmE,EAAE,WAAWnE,CAAK,IAE1E,KAAK,QAAQ,KAAK,MAAM,OAAO,CAACqG,MAAMA,MAAMuc,CAAI,GAChD,KAAK,aAAA,GACL,KAAK,iBAAiB,KAAK,EAAE,GAC7B,KAAK,aAAa,cAAc,IAAI,YAAY,eAAe,EAAE,QAAQ,EAAE,MAAAA,EAAA,EAAK,CAAG,CAAC;AAAA,EACtF;AAAA,EACA,4BAA4B5iB,GAAOi2D,GAAa;AAE9C,SAAK,MAAMj2D,CAAK,IAAIi2D,GACpB,KAAK,aAAA,GACL,KAAK,iBAAiB,KAAK,EAAE,GAC7B,KAAK,aAAa,cAAc,IAAI,YAAY,eAAe,EAAE,QAAQ,EAAE,MAAMA,EAAA,EAAY,CAAG,CAAC;AAAA,EACnG;AAAA,EACA,4BAA4BrsB,GAAOqsB,GAAa;AAC9C,UAAMT,IAAQ,KAAK;AACnB,QAAI,CAACA;AACH,YAAM,IAAI,MAAM,+BAA+B;AAEjD,UAAM5yC,IAAO4yC,EAAM,KAAK,CAACU,MAAUrjC,EAAY,eAAe,CAACqjC,EAAM,GAAGA,EAAM,GAAGA,EAAM,CAAC,GAAGtsB,CAAK,CAAC;AACjG,QAAI,CAAChnB;AACH,YAAM,IAAI,MAAM,mBAAmBgnB,CAAK,2BAA2B;AAErE,UAAM5pC,IAAQw1D,EAAM,UAAU,CAAC,MAAM,MAAM5yC,CAAI;AAC/C,SAAK,4BAA4B5iB,GAAOi2D,CAAW;AAAA,EACrD;AAAA,EACA,kBAAkB7pB,GAAOC,GAAQopB,GAAY;AAC3C,UAAMO,IAAQ,KAAK;AACnB,QAAIG,IAAOH,EAAM,KAAK,CAAC9vC,OAAOA,EAAE,UAAUkmB,KAASlmB,EAAE,WAAWkmB,MAAUlmB,EAAE,QAAQA,EAAE,WAAWkmB,IAAQC,CAAM;AAC/G,WAAI8pB,MAGJA,IAAO,EAAE,OAAA/pB,GAAO,QAAAC,GAAQ,YAAAopB,EAAA,GACxBO,EAAM,KAAKG,CAAI,GACf,KAAK,iBAAiB,KAAK,EAAE,GACtBA;AAAA,EACT;AAAA,EACA,qBAAqB/pB,GAAOC,GAAQ;AAClC,UAAM2pB,IAAQ,KAAK,OACbG,IAAOH,EAAM,KAAK,CAAC9vC,OAAOA,EAAE,UAAUkmB,KAASlmB,EAAE,UAAUmmB,MAAWnmB,EAAE,QAAQA,EAAE,WAAWkmB,IAAQC,CAAM;AACjH,QAAI8pB;AACF,WAAK,QAAQH,EAAM,OAAO,CAAC7xD,MAAMA,MAAMgyD,CAAI;AAAA;AAE3C,YAAM,IAAI,MAAM,gBAAgB/pB,CAAK,QAAQC,CAAM,YAAY;AAEjE,gBAAK,iBAAiB,KAAK,EAAE,GACtB8pB;AAAA,EACT;AAAA,EACA,0BAA0BvsB,GAAO/sC,GAAU;AACzC,UAAM24D,IAAQ,KAAK;AACnB,QAAI,CAACA,KAASA,EAAM,WAAW;AAC7B,aAAO;AAET,UAAMY,IAAaZ,EAAM,IAAI,CAACnvD,GAAG5P,OAAO;AAAA,MACtC,MAAM4P;AAAA,MACN,UAAU,KAAK,KAAK,KAAK,IAAIA,EAAE,IAAIujC,EAAM,CAAC,GAAG,CAAC,IAAI,KAAK,IAAIvjC,EAAE,IAAIujC,EAAM,CAAC,GAAG,CAAC,IAAI,KAAK,IAAIvjC,EAAE,IAAIujC,EAAM,CAAC,GAAG,CAAC,CAAC;AAAA,MAC3G,OAAOnzC;AAAA,IAAA,EACP,EAAE,OAAO,CAAC4P,MAAMA,EAAE,WAAWxJ,CAAQ,EAAE,KAAK,CAAC,GAAGrE,MAAM,EAAE,WAAWA,EAAE,QAAQ;AAC/E,WAAI49D,EAAW,SAAS,IACfA,EAAW,CAAC,EAAE,OAEd;AAAA,EAEX;AAAA,EACA,iBAAiBlyC,GAAI;AACnB,UAAM0M,IAAO,CAAA,GACPV,IAAM,CAAA,GACN5I,IAAU,CAAA;AAChB,QAAI+F,IAAMgB,GAAQ,SAAS,KAAK,cAAc,KAAK,cAAc,GAC7DunC,IAASvnC,GAAQ,SAAS,KAAK,sBAAsB,KAAK,cAAc,GACxEwnC,IAAS,0BAA0B;AACvC,IAAI,KAAK,iBAAiB,WACxB,KAAK,eAAe,MAElB,KAAK,iBAAiB,WACxB,KAAK,eAAe,MAElB,KAAK,YAAY,WACnB,KAAK,UAAU,MAEb,KAAK,YAAY,WACnB,KAAK,UAAU;AAEjB,QAAIl5D,IAAM,KAAK,cACXC,IAAM,KAAK;AACf,QAAI,CAAC,SAASD,CAAG,KAAK,CAAC,SAASA,CAAG,GAAG;AACpC,YAAM05D,IAAS,KAAK;AACpB,MAAA15D,IAAM05D,EAAO,CAAC,EAAE,YAChBz5D,IAAMy5D,EAAO,CAAC,EAAE;AAChB,eAAS5/D,IAAI,GAAGA,IAAI4/D,EAAO,QAAQ5/D;AACjC,QAAAkG,IAAM,KAAK,IAAIA,GAAK05D,EAAO5/D,CAAC,EAAE,UAAU,GACxCmG,IAAM,KAAK,IAAIA,GAAKy5D,EAAO5/D,CAAC,EAAE,UAAU;AAAA,IAE5C;AACA,UAAM++D,IAAQ,KAAK,OACbc,IAAQd,EAAM;AACpB,aAAS/+D,IAAI,GAAGA,IAAI6/D,GAAO7/D,KAAK;AAC9B,YAAM6tB,IAASkxC,EAAM/+D,CAAC,EAAE,YAAY,KAAK;AACzC,UAAI6tB,KAAU;AACZ;AAEF,UAAI2kB,IAAQusB,EAAM/+D,CAAC,EAAE,YACjBs/D,IAAQ;AAKZ,UAJIF,KAAU5sB,IAAQ,MACpB8sB,IAAQ,IACR9sB,IAAQ,CAACA,IAEPtsC,IAAMC,GAAK;AACb,YAAIqsC,IAAQtsC;AACV;AAEF,QAAAssC,KAASA,IAAQtsC,MAAQC,IAAMD;AAAA,MACjC;AACE,QAAAssC,IAAQ;AAEV,MAAAA,IAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,IAAI,KAAKA,IAAQ,GAAG,CAAC,CAAC,IAAI;AAC3D,UAAIG,IAAO,CAAC/b,EAAI4b,CAAK,GAAG5b,EAAI4b,IAAQ,CAAC,GAAG5b,EAAI4b,IAAQ,CAAC,GAAG,GAAG;AAC3D,MAAI8sB,MACF3sB,IAAO,CAACwsB,EAAO3sB,CAAK,GAAG2sB,EAAO3sB,IAAQ,CAAC,GAAG2sB,EAAO3sB,IAAQ,CAAC,GAAG,GAAG;AAElE,YAAMstB,IAAKC,EAAkBhB,EAAM/+D,CAAC,EAAE,GAAG++D,EAAM/+D,CAAC,EAAE,GAAG++D,EAAM/+D,CAAC,EAAE,CAAC;AAC/D,MAAA+wB,GAAe,kBAAkB0I,GAAKU,GAAMtJ,GAAShD,GAAQiyC,GAAIntB,CAAI;AAAA,IACvE;AACA,IAAA/b,IAAMgB,GAAQ,SAAS,KAAK,cAAc,KAAK,cAAc,GAC7DunC,IAASvnC,GAAQ,SAAS,KAAK,sBAAsB,KAAK,cAAc,GACxEwnC,IAAS,0BAA0B;AACnC,UAAMG,IAAQ,KAAK;AACnB,QAAIA,MAAU,UAAUA,EAAM,SAAS,GAAG;AAGxC,UAFAr5D,IAAM,KAAK,SACXC,IAAM,KAAK,SACP,CAAC,SAASD,CAAG,KAAK,CAAC,SAASA,CAAG,GAAG;AACpC,QAAAA,IAAMq5D,EAAM,CAAC,EAAE,YACfp5D,IAAMo5D,EAAM,CAAC,EAAE;AACf,iBAASv/D,IAAI,GAAGA,IAAIu/D,EAAM,QAAQv/D;AAChC,UAAAkG,IAAM,KAAK,IAAIA,GAAKq5D,EAAMv/D,CAAC,EAAE,UAAU,GACvCmG,IAAM,KAAK,IAAIA,GAAKo5D,EAAMv/D,CAAC,EAAE,UAAU;AAAA,MAE3C;AACA,iBAAW0/D,KAAQH,GAAO;AACxB,YAAI/sB,IAAQktB,EAAK;AACjB,cAAMJ,IAAQF,KAAU5sB,IAAQ;AAChC,QAAI8sB,MACF9sB,IAAQ,CAACA;AAEX,cAAM3kB,IAAS2kB,IAAQ,KAAK;AAC5B,YAAI3kB,KAAU;AACZ;AAEF,YAAI3nB,IAAMC,GAAK;AACb,cAAIqsC,IAAQtsC;AACV;AAEF,UAAAssC,KAASA,IAAQtsC,MAAQC,IAAMD;AAAA,QACjC;AACE,UAAAssC,IAAQ;AAEV,QAAAA,IAAQ,KAAK,MAAM,KAAK,IAAI,KAAK,IAAI,KAAKA,IAAQ,GAAG,CAAC,CAAC,IAAI;AAC3D,YAAIG,IAAO,CAAC/b,EAAI4b,CAAK,GAAG5b,EAAI4b,IAAQ,CAAC,GAAG5b,EAAI4b,IAAQ,CAAC,GAAG,GAAG;AAC3D,QAAI8sB,MACF3sB,IAAO,CAACwsB,EAAO3sB,CAAK,GAAG2sB,EAAO3sB,IAAQ,CAAC,GAAG2sB,EAAO3sB,IAAQ,CAAC,GAAG,GAAG;AAElE,cAAMkB,IAAMqsB,EAAkBhB,EAAMW,EAAK,KAAK,EAAE,GAAGX,EAAMW,EAAK,KAAK,EAAE,GAAGX,EAAMW,EAAK,KAAK,EAAE,CAAC,GACrF/rB,IAAMosB,EAAkBhB,EAAMW,EAAK,MAAM,EAAE,GAAGX,EAAMW,EAAK,MAAM,EAAE,GAAGX,EAAMW,EAAK,MAAM,EAAE,CAAC;AAC9F,QAAA3uC,GAAe,oBAAoB0I,GAAKU,GAAMtJ,GAAS6iB,GAAKC,GAAK9lB,GAAQ8kB,CAAI;AAAA,MAC/E;AAAA,IACF;AACA,UAAMqtB,IAAQ,IAAI,aAAavmC,CAAG,GAC5BwmC,IAAS,IAAI,YAAY9lC,CAAI,GAC7BpnB,IAAM8kB,GAAgB,WAAWmoC,CAAK;AAC5C,SAAK,2BAA2BjtD,EAAI,MACpC,KAAK,aAAaA,EAAI,YACtB,KAAK,aAAaA,EAAI;AACtB,UAAMypD,IAAa,KAAK,mBAAmBwD,GAAOC,GAAQ,IAAI,WAAWpvC,CAAO,CAAC;AACjF,IAAApD,EAAG,WAAWA,EAAG,sBAAsB,KAAK,WAAW,GACvDA,EAAG,WAAWA,EAAG,sBAAsB,YAAY,KAAKwyC,CAAM,GAAGxyC,EAAG,WAAW,GAC/EA,EAAG,WAAWA,EAAG,cAAc,KAAK,YAAY,GAChDA,EAAG,WAAWA,EAAG,cAAc,aAAa,KAAK+uC,CAAU,GAAG/uC,EAAG,WAAW,GAC5E,KAAK,aAAa0M,EAAK;AAAA,EACzB;AAAA,EACA,WAAW1M,GAAI;AACb,SAAK,iBAAiBA,CAAE,GACxB,KAAK,aAAA;AAAA,EACP;AAAA,EACA,OAAO;AACL,UAAM3iB,IAAO,CAAA;AACb,eAAWoX,KAAQ;AACjB,OAAIA,KAAQ08C,MAAkB18C,MAAS,WAAWA,MAAS,aACzDpX,EAAKoX,CAAI,IAAI,KAAKA,CAAI;AAG1B,WAAOpX;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa,sBAAsB2iB,GAAIxuB,GAAK;AAE1C,UAAM6L,IAAO,OADI,MAAM,MAAM7L,CAAG,GACJ,KAAA;AAC5B,WAAO,IAAI6/D,GAAcrxC,GAAI3iB,CAAI;AAAA,EACnC;AACF;AAIA,SAASo1D,GAAiBjmB,GAAS17B,GAAIkP,GAAI;AACzC,MAAI,CAACwsB,EAAQ,WAAW,CAACA,EAAQ,UAAU,CAACA,EAAQ,cAAc,CAACA,EAAQ;AACzE,UAAM,IAAI,MAAM,4FAA4F;AAE9G,QAAMgB,IAAUhB,EAAQ,SAClBkmB,IAASlmB,EAAQ,QACjBmmB,IAAanmB,EAAQ,YACrBomB,IAAI,MACJvpD,IAAI,MACJwpD,IAAI,MACJ3sD,IAAIsnC,EAAQ,CAAC,IAAI,IAAI,KACrBznC,IAAIynC,EAAQ,CAAC,IAAI,IAAI,KACrBslB,IAAItlB,EAAQ,CAAC,IAAI,IAAI,KACrBulB,IAAWvmB,EAAQ,QACnByK,IAAM8b,EAAS,KAAKvmB,GAAS,CAAComB,GAAGvpD,GAAGwpD,CAAC,GAAGH,CAAM,GAC9CM,IAAMD,EAAS,KAAKvmB,GAAS,CAAComB,GAAG7sD,GAAG8sD,CAAC,GAAGH,CAAM,GAC9CO,IAAMF,EAAS,KAAKvmB,GAAS,CAAComB,GAAGvpD,GAAGypD,CAAC,GAAGJ,CAAM,GAC9CQ,IAAMH,EAAS,KAAKvmB,GAAS,CAAComB,GAAG7sD,GAAG+sD,CAAC,GAAGJ,CAAM,GAC9CS,IAAMJ,EAAS,KAAKvmB,GAAS,CAACtmC,GAAGmD,GAAGwpD,CAAC,GAAGH,CAAM,GAC9CU,IAAML,EAAS,KAAKvmB,GAAS,CAACtmC,GAAGH,GAAG8sD,CAAC,GAAGH,CAAM,GAC9CW,IAAMN,EAAS,KAAKvmB,GAAS,CAACtmC,GAAGmD,GAAGypD,CAAC,GAAGJ,CAAM,GAC9CY,IAAMP,EAAS,KAAKvmB,GAAS,CAACtmC,GAAGH,GAAG+sD,CAAC,GAAGJ,CAAM,GAC9Ca,IAAS;AAAA;AAAA,IAEb,GAAGN;AAAA,IACC;AAAA,IAAG;AAAA,IAAG;AAAA;AAAA,IAEV,GAAGI;AAAA,IACC;AAAA,IAAG;AAAA,IAAG;AAAA;AAAA,IAEV,GAAGC;AAAA,IACC;AAAA,IAAG;AAAA,IAAG;AAAA;AAAA,IAEV,GAAGJ;AAAA,IACC;AAAA,IAAG;AAAA,IAAG;AAAA;AAAA;AAAA,IAGV,GAAGjc;AAAA,IACC;AAAA,IAAG;AAAA,IAAG;AAAA;AAAA,IAEV,GAAG+b;AAAA,IACC;AAAA,IAAG;AAAA,IAAG;AAAA;AAAA,IAEV,GAAGI;AAAA,IACC;AAAA,IAAG;AAAA,IAAG;AAAA;AAAA,IAEV,GAAGD;AAAA,IACC;AAAA,IAAG;AAAA,IAAG;AAAA;AAAA,EAAC,GAGPtzC,IAAcG,EAAG,aAAA;AACvB,MAAI,CAACH;AACH,UAAM,IAAI,MAAM,kCAAkC;AAEpD,EAAAG,EAAG,WAAWA,EAAG,sBAAsBH,CAAW;AAClD,QAAMY,IAAU;AAAA,IACd;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,EAAA;AAGF,EAAAT,EAAG,WAAWA,EAAG,sBAAsB,IAAI,YAAYS,CAAO,GAAGT,EAAG,WAAW;AAC/E,QAAMwzC,IAAexzC,EAAG,aAAA;AACxB,MAAI,CAACwzC;AACH,UAAM,IAAI,MAAM,mCAAmC;AAErD,EAAAxzC,EAAG,WAAWA,EAAG,cAAcwzC,CAAY,GAC3CxzC,EAAG,WAAWA,EAAG,cAAc,IAAI,aAAauzC,CAAM,GAAGvzC,EAAG,WAAW;AACvE,QAAMF,IAAME,EAAG,kBAAA;AACf,MAAI,CAACF;AACH,UAAM,IAAI,MAAM,yBAAyB;AAE3C,EAAAE,EAAG,gBAAgBF,CAAG,GACtBE,EAAG,WAAWA,EAAG,sBAAsBH,CAAW,GAClDG,EAAG,WAAWA,EAAG,cAAcwzC,CAAY;AAC3C,QAAMx5D,IAAS;AACf,EAAAgmB,EAAG,wBAAwB,CAAC,GAC5BA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,OAAO,IAAOhmB,GAAQ,CAAC,GACvDgmB,EAAG,wBAAwB,CAAC,GAC5BA,EAAG,oBAAoB,GAAG,GAAGA,EAAG,OAAO,IAAOhmB,GAAQ,EAAE,GACxDgmB,EAAG,gBAAgB,IAAI;AACvB,QAAMyzC,IAAQ,IAAInwC,GAAexS,GAAI0iD,GAAcxzC,EAAG,WAAWS,EAAQ,QAAQZ,GAAaC,CAAG,GAC3F4zC,IAAa,CAAC,GAAGT,GAAK,GAAGI,GAAK,GAAGC,GAAK,GAAGJ,GAAK,GAAGjc,GAAK,GAAG+b,GAAK,GAAGI,GAAK,GAAGD,CAAG,GAC5EQ,IAAUvpB,GAAWspB,CAAU;AACrC,SAAAD,EAAM,aAAaE,EAAQ,IAAI,MAAA,GAC/BF,EAAM,aAAaE,EAAQ,IAAI,MAAA,GAC/BF,EAAM,2BAA2BE,EAAQ,0BACzCF,EAAM,eAAeG,GAAaD,EAAQ,MAAM,GAChDE,GAAcJ,EAAM,cAAcA,EAAM,YAAY,GACpDA,EAAM,yBAAyB,CAACjmB,EAAQ,CAAC,IAAImlB,EAAW,CAAC,GAAGnlB,EAAQ,CAAC,IAAImlB,EAAW,CAAC,GAAGnlB,EAAQ,CAAC,IAAImlB,EAAW,CAAC,CAAC,GAC3Gc;AACT;AAGA,SAASK,GAAUrwD,GAAM;AACvB,QAAM5C,IAAK4C,EAAK;AAChB,MAAIswD,IAAK;AACT,QAAMh1D,IAAI,IAAI,WAAW8B,IAAK,KAAK,KAAK,OAAOA,CAAE,CAAC,GAC5CmzD,IAAK,IAAI,UAAUj1D,EAAE,MAAM;AACjC,MAAIk1D,IAAK;AACT,SAAOF,IAAKlzD,KAAI;AACd,QAAIlK,IAAI8M,EAAKswD,CAAE;AACf,IAAAA;AACA,QAAIG,IAAK;AACT,WAAOA,IAAK,OAAOH,IAAKlzD,KAAM4C,EAAKswD,CAAE,MAAMp9D;AACzC,MAAAo9D,KACAG;AAEF,QAAIA,IAAK,GAAG;AACV,MAAAF,EAAGC,CAAE,IAAI,CAACC,IAAK,GACfD,KACAl1D,EAAEk1D,CAAE,IAAIt9D,GACRs9D;AACA;AAAA,IACF;AACA,WAAOF,IAAKlzD,KACN,EAAAqzD,IAAK,OAGLH,IAAK,IAAIlzD,KACPlK,MAAM8M,EAAKswD,CAAE,KAAKtwD,EAAKswD,IAAK,CAAC,MAAMtwD,EAAKswD,CAAE,KAAKtwD,EAAKswD,IAAK,CAAC,MAAMtwD,EAAKswD,CAAE;AAI7E,MAAAp9D,IAAI8M,EAAKswD,CAAE,GACXA,KACAG;AAEF,IAAAn1D,EAAEk1D,CAAE,IAAIC,IAAK,GACbD;AACA,aAAS1hE,IAAI,GAAGA,IAAI2hE,GAAI3hE;AACtB,MAAAwM,EAAEk1D,CAAE,IAAIxwD,EAAKswD,IAAKG,IAAK3hE,CAAC,GACxB0hE;AAAA,EAEJ;AACA,SAAAtwC,EAAI,MAAM,cAAc9iB,IAAK,SAASozD,IAAK,cAAcpzD,IAAKozD,IAAK,GAAG,GAC/Dl1D,EAAE,MAAM,GAAGk1D,CAAE;AACtB;AACA,SAASE,GAAUC,GAAKC,GAAY;AAClC,QAAMt1D,IAAI,IAAI,WAAWq1D,EAAI,MAAM,GAC7BJ,IAAK,IAAI,UAAUj1D,EAAE,MAAM;AACjC,MAAIk1D,IAAK;AACT,QAAMt0D,IAAI,IAAI,WAAW00D,CAAU;AACnC,MAAIN,IAAK;AACT,SAAOE,IAAKl1D,EAAE,UAAQ;AACpB,UAAMkrC,IAAM+pB,EAAGC,CAAE;AAEjB,QADAA,KACIhqB,IAAM,GAAG;AACX,YAAMtzC,IAAIq9D,EAAGC,CAAE;AACf,MAAAA;AACA,eAAS1hE,IAAI,GAAGA,IAAI,IAAI03C,GAAK13C;AAC3B,QAAAoN,EAAEo0D,CAAE,IAAIp9D,GACRo9D;AAAA,IAEJ;AACE,eAASxhE,IAAI,GAAGA,IAAI03C,IAAM,GAAG13C;AAC3B,QAAAoN,EAAEo0D,CAAE,IAAIC,EAAGC,CAAE,GACbA,KACAF;AAAA,EAGN;AACA,SAAOp0D;AACT;AAGA,IAAI20D,KAAW,CAAC;AAAA,EACd,iBAAAC;AAAA,EACA,uBAAAC;AAAA,EACA,YAAAC;AACF,MAAM;AACJ,QAAMp9D,IAAMk9D,EAAgB;AAC5B,MAAIl9D,IAAM,GAAG;AACX,IAAAssB,EAAI,MAAM,yBAAyB;AACnC;AAAA,EACF;AAQA,MAPA6wC,KACIA,IAAwB,MAC1BA,IAAwBn9D,IAAM,IAE5Bm9D,KAAyBn9D,MAC3Bm9D,IAAwB,IAEtBD,EAAgBC,CAAqB,EAAE,SAAS,GAAG;AACrD,IAAA7wC,EAAI,MAAM,yBAAyB;AACnC;AAAA,EACF;AACA,SAAA8wC,IAAaN,GAAUI,EAAgBC,CAAqB,GAAGC,EAAW,MAAM,GACzE,EAAE,YAAAA,GAAY,uBAAAD,EAAA;AACvB;AAGA,SAASE,GAAmBC,GAAWF,GAAY/oB,GAAM;AACvD,QAAM,EAAE,MAAAkpB,GAAM,MAAAC,GAAM,MAAAC,EAAA,IAASppB;AAC7B,MAAIqpB;AACJ,MAAIJ,MAAc;AAChB,IAAAI,IAAWD;AAAA,WACFH,MAAc;AACvB,IAAAI,IAAWF;AAAA,WACFF,MAAc;AACvB,IAAAI,IAAWH;AAAA;AAEX,WAAO;AAET,MAAII,IAAqB,IACrBC,IAAoB;AACxB,WAASC,IAAS,GAAGA,IAASH,GAAUG,KAAU;AAChD,QAAIC,IAAU;AACd,QAAIR,MAAc,GAAe;AAC/B,YAAM16D,IAASi7D,IAASN,IAAOC;AAC/B,eAAStiE,IAAI,GAAGA,IAAIqiE,IAAOC,GAAMtiE;AAC/B,YAAIkiE,EAAWx6D,IAAS1H,CAAC,IAAI,GAAG;AAC9B,UAAA4iE,IAAU;AACV;AAAA,QACF;AAAA,IAEJ,WAAWR,MAAc;AACvB,eAAS99D,IAAI,GAAGA,IAAIi+D,GAAMj+D,KAAK;AAC7B,iBAASD,IAAI,GAAGA,IAAIg+D,GAAMh+D,KAAK;AAC7B,gBAAM6X,IAAM7X,IAAIs+D,IAASN,IAAO/9D,IAAI+9D,IAAOC;AAC3C,cAAIJ,EAAWhmD,CAAG,IAAI,GAAG;AACvB,YAAA0mD,IAAU;AACV;AAAA,UACF;AAAA,QACF;AACA,YAAIA;AACF;AAAA,MAEJ;AAAA,aACSR,MAAc;AACvB,eAAS99D,IAAI,GAAGA,IAAIi+D,GAAMj+D,KAAK;AAC7B,iBAASvE,IAAI,GAAGA,IAAIuiE,GAAMviE,KAAK;AAC7B,gBAAMmc,IAAMymD,IAAS5iE,IAAIsiE,IAAO/9D,IAAI+9D,IAAOC;AAC3C,cAAIJ,EAAWhmD,CAAG,IAAI,GAAG;AACvB,YAAA0mD,IAAU;AACV;AAAA,UACF;AAAA,QACF;AACA,YAAIA;AACF;AAAA,MAEJ;AAEF,IAAIA,MACEH,MAAuB,OACzBA,IAAqBE,IAEvBD,IAAoBC;AAAA,EAExB;AACA,SAAIF,MAAuB,MAAMC,MAAsB,KAC9C,OAEF,EAAE,OAAOD,GAAoB,MAAMC,EAAA;AAC5C;AACA,SAASG,GAAaC,GAAYV,GAAWF,GAAY/oB,GAAM;AAC7D,QAAM,EAAE,MAAAkpB,GAAM,MAAAC,GAAM,MAAAC,EAAA,IAASppB;AAC7B,MAAI4pB;AACJ,MAAIX,MAAc,GAAe;AAC/B,IAAAW,IAAY,IAAI,aAAaV,IAAOC,CAAI;AACxC,UAAM56D,IAASo7D,IAAaT,IAAOC;AACnC,aAAStiE,IAAI,GAAGA,IAAIqiE,IAAOC,GAAMtiE;AAC/B,MAAA+iE,EAAU/iE,CAAC,IAAIkiE,EAAWx6D,IAAS1H,CAAC;AAAA,EAExC,WAAWoiE,MAAc,GAAiB;AACxC,IAAAW,IAAY,IAAI,aAAaV,IAAOE,CAAI;AACxC,aAASj+D,IAAI,GAAGA,IAAIi+D,GAAMj+D;AACxB,eAASD,IAAI,GAAGA,IAAIg+D,GAAMh+D,KAAK;AAC7B,cAAM2+D,IAAS3+D,IAAIy+D,IAAaT,IAAO/9D,IAAI+9D,IAAOC,GAC5CW,IAAS5+D,IAAIC,IAAI+9D;AACvB,QAAAU,EAAUE,CAAM,IAAIf,EAAWc,CAAM;AAAA,MACvC;AAAA,EAEJ,WAAWZ,MAAc,GAAkB;AACzC,IAAAW,IAAY,IAAI,aAAaT,IAAOC,CAAI;AACxC,aAASj+D,IAAI,GAAGA,IAAIi+D,GAAMj+D;AACxB,eAASvE,IAAI,GAAGA,IAAIuiE,GAAMviE,KAAK;AAC7B,cAAMijE,IAASF,IAAa/iE,IAAIsiE,IAAO/9D,IAAI+9D,IAAOC,GAC5CW,IAASljE,IAAIuE,IAAIg+D;AACvB,QAAAS,EAAUE,CAAM,IAAIf,EAAWc,CAAM;AAAA,MACvC;AAAA,EAEJ;AACE,UAAM,IAAI,MAAM,oBAAoB;AAEtC,SAAOD;AACT;AACA,SAASG,GAAsBJ,GAAYV,GAAW7Z,GAAWpP,GAAMuE,GAAQ;AAC7E,QAAM,EAAE,MAAA2kB,GAAM,MAAAC,GAAM,MAAAC,EAAA,IAASppB;AAC7B,MAAI4pB;AACJ,MAAIX,MAAc,GAAe;AAC/B,IAAAW,IAAY,IAAI,aAAaV,IAAOC,CAAI;AACxC,UAAM56D,IAASo7D,IAAaT,IAAOC;AACnC,aAAStiE,IAAI,GAAGA,IAAIqiE,IAAOC,GAAMtiE;AAC/B,MAAA+iE,EAAU/iE,CAAC,IAAIuoD,EAAU7gD,IAAS1H,CAAC,IAAI09C;AAAA,EAE3C,WAAW0kB,MAAc,GAAiB;AACxC,IAAAW,IAAY,IAAI,aAAaV,IAAOE,CAAI;AACxC,aAASj+D,IAAI,GAAGA,IAAIi+D,GAAMj+D;AACxB,eAASD,IAAI,GAAGA,IAAIg+D,GAAMh+D,KAAK;AAC7B,cAAM2+D,IAAS3+D,IAAIy+D,IAAaT,IAAO/9D,IAAI+9D,IAAOC,GAC5CW,IAAS5+D,IAAIC,IAAI+9D;AACvB,QAAAU,EAAUE,CAAM,IAAI1a,EAAUya,CAAM,IAAItlB;AAAA,MAC1C;AAAA,EAEJ,WAAW0kB,MAAc,GAAkB;AACzC,IAAAW,IAAY,IAAI,aAAaT,IAAOC,CAAI;AACxC,aAASj+D,IAAI,GAAGA,IAAIi+D,GAAMj+D;AACxB,eAASvE,IAAI,GAAGA,IAAIuiE,GAAMviE,KAAK;AAC7B,cAAMijE,IAASF,IAAa/iE,IAAIsiE,IAAO/9D,IAAI+9D,IAAOC,GAC5CW,IAASljE,IAAIuE,IAAIg+D;AACvB,QAAAS,EAAUE,CAAM,IAAI1a,EAAUya,CAAM,IAAItlB;AAAA,MAC1C;AAAA,EAEJ;AACE,UAAM,IAAI,MAAM,oBAAoB;AAEtC,SAAOqlB;AACT;AACA,SAASI,GAAgB5Y,GAAMuY,GAAYV,GAAWF,GAAY/oB,GAAMiqB,GAAiB5wB,GAAO;AAC9F,QAAM,EAAE,MAAA6vB,GAAM,MAAAC,GAAM,MAAAC,EAAA,IAASppB;AAC7B,MAAIipB,MAAc,GAAe;AAC/B,UAAM16D,IAASo7D,IAAaT,IAAOC;AACnC,aAAStiE,IAAI,GAAGA,IAAIuqD,EAAK,QAAQvqD;AAC/B,MAAIuqD,EAAKvqD,CAAC,KAAKojE,MACblB,EAAWx6D,IAAS1H,CAAC,IAAIwyC;AAAA,EAG/B,WAAW4vB,MAAc;AACvB,aAAS99D,IAAI,GAAGA,IAAIi+D,GAAMj+D;AACxB,eAASD,IAAI,GAAGA,IAAIg+D,GAAMh+D,KAAK;AAC7B,cAAM2+D,IAAS3+D,IAAIC,IAAI+9D,GACjBY,IAAS5+D,IAAIy+D,IAAaT,IAAO/9D,IAAI+9D,IAAOC;AAClD,QAAI/X,EAAKyY,CAAM,KAAKI,MAClBlB,EAAWe,CAAM,IAAIzwB;AAAA,MAEzB;AAAA,WAEO4vB,MAAc;AACvB,aAAS99D,IAAI,GAAGA,IAAIi+D,GAAMj+D;AACxB,eAASvE,IAAI,GAAGA,IAAIuiE,GAAMviE,KAAK;AAC7B,cAAMijE,IAASjjE,IAAIuE,IAAIg+D,GACjBW,IAASH,IAAa/iE,IAAIsiE,IAAO/9D,IAAI+9D,IAAOC;AAClD,QAAI/X,EAAKyY,CAAM,KAAKI,MAClBlB,EAAWe,CAAM,IAAIzwB;AAAA,MAEzB;AAAA;AAGF,UAAM,IAAI,MAAM,oBAAoB;AAExC;AACA,SAAS6wB,GAAYV,GAAQxxB,GAAOC,GAAQ;AAC1C,MAAID,IAAQ,KAAKC,IAAS;AACxB;AAEF,QAAMkyB,IAAO,IAAI,aAAaX,EAAO,MAAM;AAC3C,WAAS5iE,IAAI,GAAGA,IAAIqxC,GAAQrxC;AAC1B,aAASsE,IAAI,GAAGA,IAAI8sC,GAAO9sC,KAAK;AAC9B,YAAM6X,IAAM7X,IAAItE,IAAIoxC;AACpB,MAAI9sC,MAAM,KAAKA,MAAM8sC,IAAQ,IAC3BmyB,EAAKpnD,CAAG,IAAIymD,EAAOzmD,CAAG,IAEtBonD,EAAKpnD,CAAG,KAAKymD,EAAOzmD,IAAM,CAAC,IAAI,IAAIymD,EAAOzmD,CAAG,IAAIymD,EAAOzmD,IAAM,CAAC,KAAK;AAAA,IAExE;AAEF,WAASnc,IAAI,GAAGA,IAAIqxC,GAAQrxC;AAC1B,aAASsE,IAAI,GAAGA,IAAI8sC,GAAO9sC,KAAK;AAC9B,YAAM6X,IAAM7X,IAAItE,IAAIoxC;AACpB,MAAIpxC,MAAM,KAAKA,MAAMqxC,IAAS,IAC5BuxB,EAAOzmD,CAAG,IAAIonD,EAAKpnD,CAAG,IAEtBymD,EAAOzmD,CAAG,KAAKonD,EAAKpnD,IAAMi1B,CAAK,IAAI,IAAImyB,EAAKpnD,CAAG,IAAIonD,EAAKpnD,IAAMi1B,CAAK,KAAK;AAAA,IAE5E;AAEJ;AACA,SAASoyB,GAAyBC,GAAYC,GAAYC,GAAiBC,GAAgB;AACzF,QAAMC,IAAQ,KAAK,IAAIF,IAAkBF,CAAU,GAC7CK,IAAQ,KAAK,IAAIH,IAAkBD,CAAU,GAC7CK,IAAU,KAAK,IAAI,CAACF,IAAQA,KAAS,IAAID,IAAiBA,EAAe,GACzEI,IAAU,KAAK,IAAI,CAACF,IAAQA,KAAS,IAAIF,IAAiBA,EAAe,GACzEK,IAAcF,IAAUC;AAC9B,SAAIC,IAAc,OACT,MAEFF,IAAUE;AACnB;AACA,SAASC,GAAyBC,GAAUC,GAAW7/D,GAAG8/D,GAAeC,GAAgBC,GAAmB;AAC1G,QAAMC,KAAYjgE,IAAI8/D,MAAkBC,IAAiBD,IACnDI,IAAU,IAAID;AACpB,WAASvkE,IAAI,GAAGA,IAAIkkE,EAAS,QAAQlkE;AACnC,IAAAskE,EAAkBtkE,CAAC,IAAIkkE,EAASlkE,CAAC,IAAIwkE,IAAUL,EAAUnkE,CAAC,IAAIukE;AAElE;AACA,SAASE,GAA+BP,GAAUC,GAAW7/D,GAAG8/D,GAAeC,GAAgBC,GAAmBxzD,GAAM4zD,GAAcC,GAAejB,GAAiB;AACpK,QAAMkB,KAAgBtgE,IAAI8/D,MAAkBC,IAAiBD,IACvDS,IAAc,IAAID;AACxB,WAAS5kE,IAAI,GAAGA,IAAIkkE,EAAS,QAAQlkE;AACnC,QAAIkkE,EAASlkE,CAAC,IAAI,KAAKmkE,EAAUnkE,CAAC,IAAI,GAAG;AACvC,YAAM8kE,IAAkBvB;AAAA,QACtBmB,EAAa1kE,CAAC;AAAA,QACd2kE,EAAc3kE,CAAC;AAAA,QACf0jE,EAAgB1jE,CAAC;AAAA,QACjB8Q,EAAK;AAAA,MAAA,GAEDwzC,IAAQxzC,EAAK,iBACbi0D,IAAoBzgB,IAAQwgB,KAAmB,IAAIxgB,KAASugB,GAC5DG,IAAqB,IAAID;AAC/B,MAAAT,EAAkBtkE,CAAC,IAAIkkE,EAASlkE,CAAC,IAAI+kE,IAAoBZ,EAAUnkE,CAAC,IAAIglE;AAAA,IAC1E;AACE,MAAAV,EAAkBtkE,CAAC,IAAIkkE,EAASlkE,CAAC,IAAI6kE,IAAcV,EAAUnkE,CAAC,IAAI4kE;AAGxE;AACA,SAASK,GAAsB/C,GAAY/oB,GAAMoP,GAAW7K,GAAQ0mB,GAAeC,GAAgBlpD,GAAS+pD,GAAwB;AAClI,QAAM,EAAE,MAAA7C,GAAM,MAAAC,GAAM,MAAAC,EAAA,IAASppB,GACvBipB,IAAYjnD,EAAQ,aAAa;AACvC,MAAIgqD,GAAYC,GAAaC;AAC7B,MAAIjD,MAAc;AAChB,IAAA+C,IAAa9C,GACb+C,IAAc9C,GACd+C,IAAgB9C,IAAO;AAAA,WACdH,MAAc;AACvB,IAAA+C,IAAa9C,GACb+C,IAAc7C,GACd8C,IAAgB/C,IAAO;AAAA,WACdF,MAAc;AACvB,IAAA+C,IAAa7C,GACb8C,IAAc7C,GACd8C,IAAgBhD,IAAO;AAAA;AAEvB,UAAM,IAAI,MAAM,yDAAyD;AAE3E,QAAMvxD,IAAO;AAAA,IACX,iBAAiBqK,EAAQ,mBAAmB;AAAA,IAC5C,iBAAiBA,EAAQ,mBAAmB;AAAA,IAC5C,gBAAgBA,EAAQ,kBAAkB;AAAA,IAC1C,wBAAwBA,EAAQ,0BAA0B;AAAA,IAC1D,oBAAoBA,EAAQ,sBAAsB;AAAA,EAAA;AAEpD,MAAIipD,MAAkB,UAAUC,MAAmB,QAAQ;AACzD,QAAID,KAAiBC;AACnB,YAAM,IAAI,MAAM,oDAAoD;AAEtE,QAAID,IAAgB,KAAKC,IAAiBgB;AACxC,YAAM,IAAI,MAAM,mCAAmCA,CAAa,GAAG;AAAA,EAEvE;AACA,QAAMC,wBAAkC,IAAA;AACxC,WAASC,IAAW,GAAGA,KAAYF,GAAeE,KAAY;AAC5D,UAAM5C,IAASE,GAAa0C,GAAUnD,GAAWF,GAAY/oB,CAAI;AACjE,aAASn5C,IAAI,GAAGA,IAAI2iE,EAAO,QAAQ3iE,KAAK;AACtC,YAAMwyC,IAAQmwB,EAAO3iE,CAAC;AACtB,UAAIwyC,IAAQ;AACV,YAAI,CAAC8yB,EAAY,IAAI9yB,CAAK;AACxB,UAAA8yB,EAAY,IAAI9yB,GAAO,EAAE,KAAK+yB,GAAU,KAAKA,GAAU;AAAA,aAClD;AACL,gBAAM3pD,IAAQ0pD,EAAY,IAAI9yB,CAAK;AACnC,UAAA52B,EAAM,MAAM,KAAK,IAAIA,EAAM,KAAK2pD,CAAQ,GACxC3pD,EAAM,MAAM,KAAK,IAAIA,EAAM,KAAK2pD,CAAQ;AAAA,QAC1C;AAAA,IAEJ;AAAA,EACF;AACA,aAAW,CAAC/yB,GAAO52B,CAAK,KAAK0pD,GAAa;AACxC,UAAME,IAAgBpB,MAAkB,SAAS,KAAK,IAAIA,GAAexoD,EAAM,GAAG,IAAIA,EAAM,KACtF6pD,IAAiBpB,MAAmB,SAAS,KAAK,IAAIA,GAAgBzoD,EAAM,GAAG,IAAIA,EAAM;AAC/F,QAAI4pD,KAAiBC,KAAkBA,IAAiBD,IAAgB;AACtE;AAEF,UAAMtB,IAAWrB,GAAa2C,GAAepD,GAAWF,GAAY/oB,CAAI,GAClEgrB,IAAYtB,GAAa4C,GAAgBrD,GAAWF,GAAY/oB,CAAI,GACpEusB,IAAe,IAAI,aAAaxB,EAAS,MAAM,GAC/CyB,IAAgB,IAAI,aAAaxB,EAAU,MAAM;AACvD,aAASnkE,IAAI,GAAGA,IAAIkkE,EAAS,QAAQlkE;AACnC,MAAA0lE,EAAa1lE,CAAC,IAAIkkE,EAASlkE,CAAC,MAAMwyC,IAAQ,IAAI,GAC9CmzB,EAAc3lE,CAAC,IAAImkE,EAAUnkE,CAAC,MAAMwyC,IAAQ,IAAI;AAElD,IAAI1hC,EAAK,2BACPuyD,GAAYqC,GAAcP,GAAYC,CAAW,GACjD/B,GAAYsC,GAAeR,GAAYC,CAAW;AAEpD,aAAS9gE,IAAIkhE,IAAgB,GAAGlhE,IAAImhE,GAAgBnhE,KAAK;AACvD,YAAMshE,IAAoB,IAAI,aAAaT,IAAaC,CAAW;AACnE,UAAIt0D,EAAK,sBAAsBy3C,GAAW;AACxC,cAAMmc,IAAexB,GAAsBsC,GAAepD,GAAW7Z,GAAWpP,GAAMuE,CAAM,GACtFinB,IAAgBzB,GAAsBuC,GAAgBrD,GAAW7Z,GAAWpP,GAAMuE,CAAM,GACxFgmB,IAAkBR,GAAsB5+D,GAAG89D,GAAW7Z,GAAWpP,GAAMuE,CAAM;AACnF,QAAA+mB;AAAA,UACEiB;AAAA,UACAC;AAAA,UACArhE;AAAA,UACAkhE;AAAA,UACAC;AAAA,UACAG;AAAA,UACA90D;AAAA,UACA4zD;AAAA,UACAC;AAAA,UACAjB;AAAA,QAAA;AAAA,MAEJ;AACE,QAAAO,GAAyByB,GAAcC,GAAerhE,GAAGkhE,GAAeC,GAAgBG,CAAiB;AAE3G,MAAAzC,GAAgByC,GAAmBthE,GAAG89D,GAAWF,GAAY/oB,GAAMroC,EAAK,iBAAiB0hC,CAAK;AAAA,IAChG;AAAA,EACF;AACA,EAAA0yB,EAAA;AACF;AAGA,IAAIW,KAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUnBC,KAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQZC,KAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA8EbD,IACDE,KAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAiFdC,KAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA+KdC,KAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAyBxBH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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]}