// NIfTI Viewer styles - Layout simile a DICOM viewer
// Left: Image viewer | Right: Metadata panel

.g-nifti-view
  margin-bottom 15px

  .g-nifti-left
    width 512px
    float left

  .g-nifti-right
    margin-left 522px
    height 512px
    overflow auto
    border 1px solid #ccc
    border-radius 4px
    padding 10px

  .g-nifti-image
    width 512px
    height 512px
    background-color #333
    border-radius 4px
    overflow hidden
    position relative

    canvas
      width 100% !important
      height 100% !important
      display block

    // Loading overlay
    .g-nifti-loading
      position absolute
      top 0
      left 0
      right 0
      bottom 0
      background-color rgba(51, 51, 51, 0.95)
      display flex
      flex-direction column
      align-items center
      justify-content center
      z-index 10

      .g-nifti-spinner
        font-size 48px
        color #337ab7
        margin-bottom 20px

      .g-nifti-loading-text
        color #fff
        font-size 16px
        margin 0 0 15px 0

        strong
          color #5bc0de
          margin-left 5px

      .g-nifti-progress
        width 80%
        height 8px
        background-color rgba(255, 255, 255, 0.2)
        border-radius 4px
        overflow hidden
        margin-bottom 8px

        .g-nifti-progress-bar
          height 100%
          background-color #5cb85c
          transition width 0.3s ease

      .g-nifti-progress-text
        color rgba(255, 255, 255, 0.7)
        font-size 12px

    // Error message styling
    .alert
      margin 20px
      text-align center

      i
        margin-right 5px

      strong
        display block
        margin-bottom 10px

      p
        color #a94442
        margin 10px 0

      button
        margin-top 10px

  .g-nifti-filename
    text-align center
    margin 8px 0
    white-space nowrap
    overflow hidden
    text-overflow ellipsis
    font-weight 500
    color #555

  .g-nifti-controls
    margin-top 8px
    
    .right
      float right

      button
        margin-right 0
        margin-left 5px

    .left
      float left

    button
      margin-right 5px

    input[type="range"]
      width 100%
      margin 5px 0

  .g-nifti-orientation
    clear both
    padding-top 10px
    text-align center

    .btn-group
      margin 0 auto

    .btn.active
      background-color #337ab7
      color white
      border-color #2e6da4

  // Panes layout
  .g-nifti-panes
    overflow hidden
    
    &:after
      content ""
      display table
      clear both

// Container and header
.g-nifti-container
  margin-bottom 15px

.g-item-info-header
  font-size 16px
  font-weight 600
  color #333
  margin-bottom 10px
  padding-bottom 8px
  border-bottom 2px solid #337ab7

  i
    margin-right 5px
    color #337ab7

// Responsive layout with flexbox
@media (max-width 1024px)
  .g-nifti-view
    .g-nifti-panes
      display flex
      flex-direction column

    .g-nifti-left
      float none
      width 100%
      max-width 100%

      .g-nifti-image
        width 100%
        height auto
        aspect-ratio 1 / 1
        max-height 512px

    .g-nifti-right
      margin-left 0
      margin-top 15px
      height auto
      max-height 400px

@media (max-width 768px)
  .g-nifti-view
    .g-nifti-left
      .g-nifti-image
        max-height 400px

      .g-nifti-controls
        .left
        .right
          float none
          text-align center
          margin-bottom 10px

          button
            margin 0 2px

    .g-nifti-right
      max-height 300px

@media (min-width 1025px)
  .g-nifti-view
    .g-nifti-panes
      display flex
      flex-wrap nowrap
      gap 10px

    .g-nifti-left
      flex 0 0 512px
      float none

    .g-nifti-right
      flex 1 1 300px
      margin-left 0
      min-width 250px
      max-width 400px
